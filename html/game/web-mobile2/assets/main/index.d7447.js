window.__require=function e(t,o,n){function i(r,l){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AgentTreeNode:[function(e,t,o){"use strict";cc._RF.push(t,"2988f9m1UVCp5LcfBmiynCz","AgentTreeNode");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.AgentTreeNode=void 0,n.AgentTreeNode=function(){},cc._RF.pop()},{}],Agent:[function(e,t,o){"use strict";cc._RF.push(t,"41c71PUfxNMRqzmAuQImLff","Agent");var n=e,i=o;Object.defineProperty(i,"__esModule",{value:!0}),i.Agent=void 0;var a=n("KeyValuePair"),r=n("Line"),l=n("RVOMath"),s=n("Simulator"),c=n("Vector2"),u=function(){function e(){this.agentNeighbors_=[],this.obstacleNeighbors_=[],this.orcaLines_=[],this.maxNeighbors_=0,this.maxSpeed_=0,this.neighborDist_=0,this.orientation_=0,this.newVelocity_=new c.Vector2(0,0),this.positionScreen_=new c.Vector2(0,0),this.prefVelocity_=new c.Vector2(0,0),this.velocity_=new c.Vector2(0,0),this.radius_=0,this.timeHorizon_=0,this.timeHorizonObst_=0,this.id_=0,this.index_=0}return e.prototype.computeNeighbors=function(){this.obstacleNeighbors_=[];var t=l.RVOMath.sqr(this.timeHorizonObst_*this.maxSpeed_+this.radius_);s.Simulator.Instance().kdTree_.computeObstacleNeighbors(this,t),this.agentNeighbors_=[],this.maxNeighbors_>0&&(e.rangeSq=l.RVOMath.sqr(this.neighborDist_),s.Simulator.Instance().kdTree_.computeAgentNeighbors(this,e.rangeSq))},e.prototype.computeNewVelocity=function(){this.orcaLines_=[];for(var e=1/this.timeHorizonObst_,t=0;t<this.obstacleNeighbors_.length;++t){for(var o=this.obstacleNeighbors_[t].Value,n=o.nextObstacle_,i=o.point_.moins(this.position_),a=n.point_.moins(this.position_),u=!1,p=0;p<this.orcaLines_.length;++p)if(c.Vector2.det(i.mul_k(e).moins(this.orcaLines_[p].point),this.orcaLines_[p].direction)-e*this.radius_>=-l.RVOMath.RVO_EPSILON&&c.Vector2.det(a.mul_k(e).moins(this.orcaLines_[p].point),this.orcaLines_[p].direction)-e*this.radius_>=-l.RVOMath.RVO_EPSILON){u=!0;break}if(!u){var h=c.Vector2.absSq(i),f=c.Vector2.absSq(a),d=l.RVOMath.sqr(this.radius_),_=n.point_.moins(o.point_),y=i.moinsSelf().mul(_)/c.Vector2.absSq(_),m=c.Vector2.absSq(i.moinsSelf().plus(_.mul_k(-y))),g=new r.Line;if(y<0&&h<=d)o.isConvex_&&(g.point=new c.Vector2(0,0),g.direction=c.Vector2.normalize(new c.Vector2(-i.y,i.x)),this.orcaLines_.push(g));else if(y>1&&f<=d)n.isConvex_&&c.Vector2.det(a,n.unitDir_)>=0&&(g.point=new c.Vector2(0,0),g.direction=c.Vector2.normalize(new c.Vector2(-a.y,a.x)),this.orcaLines_.push(g));else if(y>=0&&y<=1&&m<=d)g.point=new c.Vector2(0,0),g.direction=o.unitDir_.moinsSelf(),this.orcaLines_.push(g);else{var v,b;if(y<0&&m<=d){if(!o.isConvex_)continue;n=o;var P=Math.sqrt(h-d);v=new c.Vector2(i.x*P-i.y*this.radius_,i.x*this.radius_+i.y*P).div_k(h),b=new c.Vector2(i.x*P+i.y*this.radius_,-i.x*this.radius_+i.y*P).div_k(h)}else if(y>1&&m<=d){if(!n.isConvex_)continue;o=n;var S=Math.sqrt(f-d);v=new c.Vector2(a.x*S-a.y*this.radius_,a.x*this.radius_+a.y*S).div_k(f),b=new c.Vector2(a.x*S+a.y*this.radius_,-a.x*this.radius_+a.y*S).div_k(f)}else o.isConvex_?(P=Math.sqrt(h-d),v=new c.Vector2(i.x*P-i.y*this.radius_,i.x*this.radius_+i.y*P).div_k(h)):v=o.unitDir_.moinsSelf(),n.isConvex_?(S=Math.sqrt(f-d),b=new c.Vector2(a.x*S+a.y*this.radius_,-a.x*this.radius_+a.y*S).div_k(f)):b=o.unitDir_;var B=o.prevObstacle_,A=!1,w=!1;o.isConvex_&&c.Vector2.det(v,B.unitDir_.moinsSelf())>=0&&(v=B.unitDir_.moinsSelf(),A=!0),n.isConvex_&&c.Vector2.det(b,n.unitDir_)<=0&&(b=n.unitDir_,w=!0);var C=o.point_.moins(this.position_).mul_k(e),O=n.point_.moins(this.position_).mul_k(e),R=O.moins(C),I=o==n?.5:this.velocity_.moins(C).mul(R)/c.Vector2.absSq(R),V=this.velocity_.moins(C).mul(v),N=this.velocity_.moins(O).mul(b);if(I<0&&V<0||o==n&&V<0&&N<0){var T=c.Vector2.normalize(this.velocity_.moins(C));g.direction=new c.Vector2(T.y,-T.x),g.point=C.plus(T.mul_k(this.radius_*e)),this.orcaLines_.push(g)}else if(I>1&&N<0)T=c.Vector2.normalize(this.velocity_.moins(O)),g.direction=new c.Vector2(T.y,-T.x),g.point=O.plus(T.mul_k(this.radius_*e)),this.orcaLines_.push(g);else{var E=I<0||I>1||o==n?Number.POSITIVE_INFINITY:c.Vector2.absSq(this.velocity_.moins(C.plus(R.mul_k(I)))),x=V<0?Number.POSITIVE_INFINITY:c.Vector2.absSq(this.velocity_.moins(C.plus(v.mul_k(V)))),k=N<0?Number.POSITIVE_INFINITY:c.Vector2.absSq(this.velocity_.moins(O.plus(b.mul_k(N))));if(E<=x&&E<=k)g.direction=o.unitDir_.moinsSelf(),g.point=C.plus(new c.Vector2(-g.direction.y,g.direction.x).mul_k(this.radius_+e)),this.orcaLines_.push(g);else if(x<=k){if(A)continue;g.direction=v,g.point=C.plus(new c.Vector2(-g.direction.y,g.direction.x).mul_k(this.radius_+e)),this.orcaLines_.push(g)}else w||(g.direction=b.moinsSelf(),g.point=O.plus(new c.Vector2(-g.direction.y,g.direction.x).mul_k(this.radius_+e)),this.orcaLines_.push(g))}}}}var D=this.orcaLines_.length,M=1/this.timeHorizon_;for(t=0;t<this.agentNeighbors_.length;++t){var F=this.agentNeighbors_[t].Value,L=F.position_.moins(this.position_),j=this.velocity_.moins(F.velocity_),U=c.Vector2.absSq(L),H=this.radius_+F.radius_,G=l.RVOMath.sqr(H),K=(g=new r.Line,new c.Vector2(0,0));if(U>G){var W=j.moins(L.mul_k(M)),q=c.Vector2.absSq(W),z=W.mul(L);if(z<0&&l.RVOMath.sqr(z)>G*q){var X=Math.sqrt(q);T=W.div_k(X),g.direction=new c.Vector2(T.y,-T.x),K=T.mul_k(H*M-X)}else{var Y=Math.sqrt(U-G);c.Vector2.det(L,W)>0?g.direction=new c.Vector2(L.x*Y-L.y*H,L.x*H+L.y*Y).div_k(U):g.direction=new c.Vector2(L.x*Y+L.y*H,-L.x*H+L.y*Y).div_k(U).moinsSelf();var J=j.mul(g.direction);K=g.direction.mul_k(J).moins(j)}}else{var Q=1/s.Simulator.Instance().timeStep_;W=j.moins(L.mul_k(Q)),X=c.Vector2.abs(W),T=W.div_k(X),g.direction=new c.Vector2(T.y,-T.x),K=T.mul_k(H*Q-X)}g.point=K.mul_k(.5).plus(this.velocity_),this.orcaLines_.push(g)}var Z=this.linearProgram2(this.orcaLines_,this.maxSpeed_,this.prefVelocity_,!1,this.newVelocity_);Z<this.orcaLines_.length&&this.linearProgram3(this.orcaLines_,D,Z,this.maxSpeed_,this.newVelocity_)},e.prototype.insertAgentNeighbor=function(t){if(this!=t){var o=c.Vector2.absSq(this.position_.moins(t.position_));if(o<e.rangeSq){this.agentNeighbors_.length<this.maxNeighbors_&&this.agentNeighbors_.push(new a.KeyValuePair(o,t));for(var n=this.agentNeighbors_.length-1;0!=n&&o<this.agentNeighbors_[n-1].Key;)this.agentNeighbors_[n]=this.agentNeighbors_[n-1],--n;this.agentNeighbors_[n]=new a.KeyValuePair(o,t),this.agentNeighbors_.length==this.maxNeighbors_&&(e.rangeSq=this.agentNeighbors_[this.agentNeighbors_.length-1].Key)}}},e.prototype.update=function(){this.velocity_=this.newVelocity_,this.position_=this.position_.plus(this.velocity_.mul_k(s.Simulator._instance.timeStep_))},e.prototype.insertObstacleNeighbor=function(e,t){var o=e.nextObstacle_,n=c.Vector2.distSqPointLineSegment(e.point_,o.point_,this.position_);if(n<t){this.obstacleNeighbors_.push(new a.KeyValuePair(n,e));for(var i=this.obstacleNeighbors_.length-1;0!=i&&n<this.obstacleNeighbors_[i-1].Key;)this.obstacleNeighbors_[i]=this.obstacleNeighbors_[i-1],--i;this.obstacleNeighbors_[i]=new a.KeyValuePair(n,e)}},e.prototype.linearProgram1=function(e,t,o,n,i){var a=e[t].point.mul(e[t].direction),r=l.RVOMath.sqr(a)+l.RVOMath.sqr(o)-c.Vector2.absSq(e[t].point);if(r<0)return!1;for(var s=Math.sqrt(r),u=-a-s,p=-a+s,h=0;h<t;++h){var f=c.Vector2.det(e[t].direction,e[h].direction),d=c.Vector2.det(e[h].direction,e[t].point.moins(e[h].point));if(Math.abs(f)<=l.RVOMath.RVO_EPSILON){if(d<0)return!1}else{var _=d/f;if(f>=0?p=Math.min(p,_):u=Math.max(u,_),u>p)return!1}}if(i)n.mul(e[t].direction)>0?this.newVelocity_=e[t].point.plus(e[t].direction.mul_k(p)):this.newVelocity_=e[t].point.plus(e[t].direction.mul_k(u));else{var y=e[t].direction.mul(n.moins(e[t].point));this.newVelocity_=y<u?e[t].point.plus(e[t].direction.mul_k(u)):y>p?e[t].point.plus(e[t].direction.mul_k(p)):e[t].point.plus(e[t].direction.mul_k(y))}return!0},e.prototype.linearProgram2=function(e,t,o,n){n?this.newVelocity_=o.mul_k(t):c.Vector2.absSq(o)>l.RVOMath.sqr(t)?this.newVelocity_=c.Vector2.normalize(o).mul_k(t):this.newVelocity_=o;for(var i=0;i<e.length;++i)if(c.Vector2.det(e[i].direction,e[i].point.moins(this.newVelocity_))>0){var a=this.newVelocity_;if(!this.linearProgram1(e,i,t,o,n,this.newVelocity_))return this.newVelocity_=a,i}return e.length},e.prototype.linearProgram3=function(e,t,o,n){for(var i=0,a=o;a<e.length;++a)if(c.Vector2.det(e[a].direction,e[a].point.moins(this.velocity_))>i){for(var s=[],u=0;u<t;++u)s.push(e[u]);for(var p=t;p<a;++p){var h=new r.Line,f=c.Vector2.det(e[a].direction,e[p].direction);if(Math.abs(f)<=l.RVOMath.RVO_EPSILON){if(e[a].direction.mul(e[p].direction)>0)continue;h.point=e[a].point.plus(e[p].point).mul_k(.5)}else{var d=c.Vector2.det(e[p].direction,e[a].point.moins(e[p].point))/f,_=e[a].direction.mul_k(d);h.point=e[a].point.plus(_)}h.direction=c.Vector2.normalize(e[p].direction.moins(e[a].direction)),s.push(h)}var y=this.newVelocity_;this.linearProgram2(s,n,new c.Vector2(-e[a].direction.y,e[a].direction.x),!0,this.newVelocity_)<s.length&&(this.newVelocity_=y),i=c.Vector2.det(e[a].direction,e[a].point.moins(this.newVelocity_))}},e}();i.Agent=u,cc._RF.pop()},{}],AlchemyTips_008:[function(e,t,o){"use strict";cc._RF.push(t,"b4454DBc4NJAIalHSedJEq3","AlchemyTips_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("AudioMag"),h=i("Config_008"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pre_alchemy_tips_sprite=null,t.pre_alchemy_tips_label=null,t.spriteParentNode=null,t.labelParentNode=null,t}return r(t,e),t.prototype.onLoad=function(){this.initNodePool()},t.prototype.onDestroy=function(){this.nodePool_sprite.clear(),this.nodePool_label.clear()},t.prototype.initNodePool=function(){this.nodePool_sprite=new cc.NodePool;for(var e=0;e<20;e++)this.nodePool_sprite.put(cc.instantiate(this.pre_alchemy_tips_sprite));for(this.nodePool_label=new cc.NodePool,e=0;e<20;e++)this.nodePool_label.put(cc.instantiate(this.pre_alchemy_tips_label))},t.prototype.onShowTips=function(e){return s(this,void 0,void 0,function(){var t,o,n,i=this;return c(this,function(){if(e.length<=0)return[2];for(p.default.getInstance().playSound(h.default.SEF_AlchemyExpDrop),t=function(t){if(o.nodePool_sprite.size()<=0)return"break";var n=e[t],a=o.nodePool_sprite.get();a.setParent(o.spriteParentNode),a.setPosition(0,0);var r,l,s=u.RandomUtils.getRandomBoolean();r=u.RandomUtils.getRandomInt(-160,-100),l=s?u.RandomUtils.getRandomInt(-150,50):u.RandomUtils.getRandomInt(50,150),a.setPosition(0,0);var c=cc.v2(l/2,r+150),f=cc.v2(l/2,r+120);cc.tween(a).bezierBy(.5,c,f,cc.v2(l,r)).bezierBy(.1,c.mul(.1),f.mul(.1),cc.v2(l,0).mul(.1)).bezierBy(.05,c.mul(.05),f.mul(.05),cc.v2(l,0).mul(.05)).delay(.2+.75*Math.random()).call(function(){p.default.getInstance().playSound(h.default.SEF_PickUp),i.showLabel(a.getPosition(),n),i.nodePool_sprite.put(a)}).start()},o=this,n=0;n<e.length&&"break"!==t(n);n++);return[2]})})},t.prototype.showLabel=function(e,t){var o=this,n=this.nodePool_label.get();n.getComponent(cc.Label).string="+"+t,n.setParent(this.labelParentNode),n.setPosition(e.add(cc.v2(0,50))),cc.tween(n).by(1,{y:50}).call(function(){o.nodePool_label.put(n)}).start()},t.prototype.wait=function(e){var t=this;return new Promise(function(o){t.scheduleOnce(o,e)})},l([_(cc.Prefab)],t.prototype,"pre_alchemy_tips_sprite",void 0),l([_(cc.Prefab)],t.prototype,"pre_alchemy_tips_label",void 0),l([_(cc.Node)],t.prototype,"spriteParentNode",void 0),l([_(cc.Node)],t.prototype,"labelParentNode",void 0),l([d],t)}(cc.Component);a.default=y,cc._RF.pop()},{}],AniEffectNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"91db86+sGFEjIhQXScdL8tA","AniEffectNode_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.duration=.5,t}return a(t,e),t.prototype.onInit=function(e){this.anim.play(),this.scheduleOnce(e,this.duration)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},r([c(cc.Animation)],t.prototype,"anim",void 0),r([c(cc.Float)],t.prototype,"duration",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],Ani_FishIdle:[function(e,t,o){"use strict";cc._RF.push(t,"8ace9D7solPRI3HpOGIvwch","Ani_FishIdle");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t}return a(t,e),t.prototype.onLoad=function(){this.actNode=this.node.getChildByName("actNode")},t.prototype.onEnable=function(){cc.tween(this.actNode).repeatForever(cc.tween().to(.6,{scaleX:.9,scaleY:1.1}).to(.6,{scaleX:1,scaleY:1})).start()},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],Ani_RotateForever:[function(e,t,o){"use strict";cc._RF.push(t,"78f30P9iIdOCYGhxfy59zkZ","Ani_RotateForever");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=120,t}return a(t,e),t.prototype.onEnable=function(){cc.tween(this.node).repeatForever(cc.tween().by(1,{angle:this.speed})).start()},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},r([c(cc.Float)],t.prototype,"speed",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],Ani_ScaleForever:[function(e,t,o){"use strict";cc._RF.push(t,"0c8f4rxUkVPWZ+h5ZF/hg9y","Ani_ScaleForever");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minScale=.9,t.maxScale=1.1,t.duration=.6,t}return a(t,e),t.prototype.onLoad=function(){this.targetMinScale=this.node.scale*this.minScale,this.targetMaxScale=this.node.scale*this.maxScale},t.prototype.onEnable=function(){cc.tween(this.node).repeatForever(cc.tween().to(this.duration,{scale:this.targetMinScale}).to(.6,{scale:this.targetMaxScale})).start()},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},r([c(cc.Float)],t.prototype,"minScale",void 0),r([c(cc.Float)],t.prototype,"maxScale",void 0),r([c(cc.Float)],t.prototype,"duration",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],AudioMag:[function(e,t,o){"use strict";cc._RF.push(t,"876c49IW/JCuqvqQQhPgE7O","AudioMag");var n=o,i=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},a=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AudioType=void 0;var r=function(){function e(){this.isOpenMusic=!0,this.isOpenSound=!0,this.bundle=null,this.intervalLimitSoundMap=new Map,this.loopSoundMap=new Map}return e.getInstance=function(){return this._instance||(this._instance=new e,window.AudioMag=this._instance),this._instance},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,o=this;return a(this,function(){return t=e.bgm,cc.game.on(cc.game.EVENT_HIDE,function(){t=e.bgm,o.stopBgm()},this),cc.game.on(cc.game.EVENT_SHOW,function(){""!=t&&o.playBGM(t)},this),[2,new Promise(function(e,t){cc.assetManager.loadBundle("music",function(n,i){n&&(console.log(n,"\u52a0\u8f7d\u97f3\u6548bundle\u5931\u8d25"),t()),o.bundle=i,console.log("\u52a0\u8f7d\u97f3\u6548bundle\u5b8c\u6210"),e&&e(null)})})]})})},e.prototype.playSound=function(t,o,n){if(this.isOpenSound){var i=this;if(e._caseSoundsRes.has(t)){var a=e._caseSoundsRes.get(t);return e._caseSoundUseTimes.set(t,30),this.tryReleaseRes(t),void cc.audioEngine.play(a,o||!1,n||1)}this.bundle&&this.bundle.load(t,cc.AudioClip,function(a,r){a?cc.log(a):(e._caseSoundUseTimes.set(t,30),e._caseSoundsRes.set(t,r),i.tryReleaseRes(t),cc.audioEngine.play(r,o||!1,n||1))})}},e.prototype.playSound_intervalLimit=function(e,t){var o=!0,n=(new Date).getTime();this.intervalLimitSoundMap.has(e)&&(o=n-this.intervalLimitSoundMap.get(e)>=t),o&&(this.playSound(e),this.intervalLimitSoundMap.set(e,n))},e.prototype.playSound_loop=function(t){if(this.isOpenSound&&!this.loopSoundMap.has(t)){var o=this;if(e._caseSoundsRes.has(t)){var n=e._caseSoundsRes.get(t),i=cc.audioEngine.play(n,!0,1);this.loopSoundMap.set(t,i)}else this.bundle&&this.bundle.load(t,cc.AudioClip,function(e,n){if(e)cc.log(e);else if(!o.loopSoundMap.has(t)){var i=cc.audioEngine.play(n,!0,1);o.loopSoundMap.set(t,i)}})}},e.prototype.stopSound_loop=function(e){if(this.loopSoundMap.has(e)){var t=this.loopSoundMap.get(e);cc.audioEngine.stop(t),this.loopSoundMap.delete(e)}},e.prototype.stopSound_allLoop=function(){var e=[];this.loopSoundMap.forEach(function(t){e.push(t)});for(var t=0;t<e.length;t++)cc.audioEngine.stop(e[t]);this.loopSoundMap.clear()},e.prototype.pauseSound_loop=function(e){if(this.loopSoundMap.has(e)){var t=this.loopSoundMap.get(e);cc.audioEngine.pause(t)}},e.prototype.resumeSound_loop=function(e){if(this.loopSoundMap.has(e)){var t=this.loopSoundMap.get(e);cc.audioEngine.resume(t)}else this.playSound_loop(e)},e.prototype.playBGM=function(t){if(this.isOpenMusic&&(cc.audioEngine.setMusicVolume(1),e.bgm!=t)){if(cc.audioEngine.stopMusic(),e.bgm=t,e._caseSoundsRes.has(t)){var o=e._caseSoundsRes.get(t);return e._caseSoundUseTimes.set(t,100),void cc.audioEngine.playMusic(o,!0)}this.bundle&&this.bundle.load(t,cc.AudioClip,function(o,n){o?cc.log(o):(e._caseSoundsRes.set(t,n),e._caseSoundUseTimes.set(t,100),e.bgm==t&&cc.audioEngine.playMusic(n,!0))})}},e.prototype.stopBgm=function(){e.bgm="",cc.audioEngine.stopMusic()},e.prototype.stopAll=function(){cc.audioEngine.stopAll()},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.click=function(){this.playSound(l.ef_btn)},e.prototype.changeSoundState=function(){this.isOpenSound=!this.isOpenSound},e.prototype.changeMusicState=function(){this.isOpenMusic?(this.stopBgm(),this.isOpenMusic=!1):(this.isOpenMusic=!0,e.getInstance().playBGM(l.bgm_start))},e.prototype.tryReleaseRes=function(){var t=[];e._caseSoundUseTimes.forEach(function(o,n){o>1?e._caseSoundUseTimes.set(n,o-1):t.push(n)});for(var o=0;o<t.length;o++)e._caseSoundUseTimes.has(t[o])&&e._caseSoundUseTimes.delete(t[o]),e._caseSoundsRes.has(t[o])&&e._caseSoundsRes.delete(t[o])},e.bgm="",e._caseSoundsRes=new Map,e._caseSoundUseTimes=new Map,e}();n.default=r;var l=function(){function e(){}return e.bgm_start="bgm_start",e.bgm_game="bgm_game",e.ef_btn="ef_btn",e}();n.AudioType=l,cc._RF.pop()},{}],BaseDropItem_008:[function(e,t,o){"use strict";cc._RF.push(t,"17536V4AHFJHYU9Fp14b8k9","BaseDropItem_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("NodePoolManager"),c=i("Config_008"),u=i("DropItemMag_008"),p=i("GamingData_008"),h=cc._decorator,f=h.ccclass,d=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dropItemId=0,t.showNode=null,t.flyingSpeed=1200,t.targetNode=null,t.oppositeFlyingTime=0,t}return r(t,e),t.prototype.onInit=function(e,t){var o=this;t.setParent(this.node),t.setPosition(0,0),e>=c.DropItemType.ExpGemstone_1&&e<=c.DropItemType.ExpGemstone_3?this.scheduleOnce(function(){t.emit(c.default.e_RefreshExpstoneSF,o.dropItemId)},0):e>=c.DropItemType.Coin_1&&e<=c.DropItemType.Coin_3&&this.scheduleOnce(function(){t.emit(c.default.e_RefreshCoinSF,o.dropItemId)},0),this.showNode=t,this.dropItemId=e,this.targetNode=null},t.prototype.onEnable=function(){this.node.on(c.default.e_DropItemFlyToPlayer,this.onSetFlyTarget,this)},t.prototype.onDisable=function(){this.node.off(c.default.e_DropItemFlyToPlayer,this.onSetFlyTarget,this)},t.prototype.onSetFlyTarget=function(e,t,o,n){null===this.targetNode&&(o||!n||this.dropItemId!==c.DropItemType.NuclearBomb&&this.dropItemId!==c.DropItemType.Magnet)&&(this.targetNode=e,this.flyingSpeed=t,this.oppositeFlyingTime=n?.045:.12)},t.prototype.update=function(e){if(!p.default.isGamePause&&null!==this.targetNode){this.oppositeFlyingTime-=e;var t=this.targetNode.getPosition().sub(this.node.getPosition());this.oppositeFlyingTime>=0?this.node.setPosition(this.node.getPosition().add(t.normalize().mul(this.flyingSpeed*e*-1.5))):t.magSqr()<c.default.DropItemActionDisSqr?this.onActivation():this.node.setPosition(this.node.getPosition().add(t.normalize().mul(this.flyingSpeed*e)))}},t.prototype.lateUpdate=function(){this.node.opacity=p.default.RenderRect.contains(this.node.getPosition())?255:0},t.prototype.onActivation=function(){u.default.ins.onActivation(this.dropItemId,this.node)},t.prototype.onRecoveryShowNode=function(){this.targetNode=null,s.default.getInstance().recoveryNode(c.DropItemConfigMap.get(this.dropItemId),this.showNode),this.showNode=null},l([f],t)}(cc.Component));a.default=d,cc._RF.pop()},{}],BaseEnemyMovement_008:[function(e,t,o){"use strict";cc._RF.push(t,"ff964DivCtLCKW24eJJCZH3","BaseEnemyMovement_008");var n=e,i=o;Object.defineProperty(i,"__esModule",{value:!0});var a=n("Config_008"),r=function(){function e(){this.node=null,this.baseEnemyTs=null}return e.prototype.onInit=function(e,t){this.node=e,this.baseEnemyTs=t},e.prototype.onRemove=function(){this.node=null,this.baseEnemyTs=null},e.prototype.onUpdate=function(e,t){var o=this.baseEnemyTs.targetNode.getPosition().sub(this.node.getPosition()).normalize();t?this.node.setPosition(this.node.getPosition().add(o.mul(-a.default.KnockbackEnemySpeed*e))):this.node.setPosition(this.node.getPosition().add(o.mul(this.baseEnemyTs.moveSpeed*e)))},e}();i.default=r,cc._RF.pop()},{}],BaseEnemyWeapon_008:[function(e,t,o){"use strict";cc._RF.push(t,"500f2MMca5LDrr8qi46qPfV","BaseEnemyWeapon_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],BaseEnemy_008:[function(e,t,o){"use strict";cc._RF.push(t,"f48197F9oBDT6LL9jEo3mFR","BaseEnemy_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Vector2"),c=i("RandomUtils"),u=i("NodePoolManager"),p=i("Config_008"),h=i("DropItemMag_008"),f=i("FloatTextMag_008"),d=i("GameManager_008"),_=i("GamingData_008"),y=i("EnemyKnife_008"),m=i("HpBarNode_008"),g=cc._decorator,v=g.ccclass,b=g.property,P=new cc.Color(0,255,255),S=cc.v2(0,100),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t.ani_sprite=null,t.circleCollider=null,t.yy=null,t.agent=null,t.isSensorCollider=!1,t.moveSpeed=180,t.maxHp=1e3,t.currHp=1e3,t.damagePoint=10,t.floatTextOffsetY=180,t.targetNode=null,t.isAlive=!1,t.enemyData=null,t.preRecoveryFunc=null,t.recoveryFunc=null,t.isElite=!1,t.eliteState=0,t.bulletCount=6,t.bulletRotateSpeed=180,t.coolDownTime=3,t.hpBarNode=null,t.func_refreshHpBar=null,t.isOnKnockbackState=!1,t.isCanAttackPlayer=!1,t.attackTimer=0,t.knifeArr=[],t.knifeRecoveryTimer=0,t}return r(t,e),t.prototype.onLoad=function(){this.yy=this.actNode.getChildByName("yy"),this.initScaleX=this.ani_sprite.node.scaleX,this.initScaleY=this.ani_sprite.node.scaleY},t.prototype.onEnable=function(){this.node.on(p.default.e_OnEnemyAttacked,this.onAttacked,this),this.node.on(p.default.e_OnEnemyAttacked_NuclearBomb,this.onNuclearAttacked,this)},t.prototype.onInit=function(e,t,o,n,i,a){if(this.targetNode=e,this.ani_sprite.node.color=cc.Color.WHITE,this.ani_sprite.node.opacity=255,this.isAlive=!0,this.ani_sprite.node.angle=0,this.ani_sprite.play("ani_walk",0).speed=n.aniSpeed,this.node.scaleX=.8,this.node.scaleY=.8,this.isOnKnockbackState=!1,this.isCanAttackPlayer=!1,this.enemyData=n,this.recoveryFunc=t,this.preRecoveryFunc=o,this.maxHp=n.hp+i*n.hpRatio,this.currHp=this.maxHp,this.moveSpeed=n.moveSpeed,this.damagePoint=n.damagePoint+i*n.damagePointRatio,this.circleCollider.enabled=!1,this.isSensorCollider=n.isSensorCollider,n.isElite||this.isSensorCollider||(null!==this.agent?d.default.ins.addAgent(this.agent,this.node):(this.agent=d.default.ins.addNewAgent(this.node),this.agent.maxSpeed_=this.moveSpeed,this.agent.radius_=this.circleCollider.radius*this.node.scale)),this.isElite=n.isElite,this.isElite){this.bulletCount=n.bulletCount,this.bulletRotateSpeed=n.bulletRotateSpeed,this.coolDownTime=n.coolDownTime,p.EnemyBulletPrefabConfigMap.has(n.bulletId)?this.bulletPrePathKey=p.EnemyBulletPrefabConfigMap.get(n.bulletId):(cc.log("\u6ca1\u6709\u8fd9\u4e2a\u654c\u4eba\u5b50\u5f39id ==> "+n.bulletId),this.bulletPrePathKey=p.EnemyBulletPrefabConfigMap.get(0)),this.onInitKnife(),this.eliteState=0;var r=u.default.getInstance().getNodeNotNull(p.default.Key_HpBar);if(null!==r){this.hpBarNode=r,r.setParent(a);var l=this.ani_sprite.node.height*this.ani_sprite.node.scaleY+this.ani_sprite.node.getPosition().y+20;this.func_refreshHpBar=r.getComponent(m.default).onInitHpBar(this.node,cc.v2(0,l)),this.func_refreshHpBar(1)}}this.yy&&(this.yy.opacity=255),this.floatTextOffsetY=this.ani_sprite.node.scaleY*this.ani_sprite.node.height*.5},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.ani_sprite.node),cc.Tween.stopAllByTarget(this.node),this.node.off(p.default.e_OnEnemyAttacked,this.onAttacked,this),this.node.off(p.default.e_OnEnemyAttacked_NuclearBomb,this.onNuclearAttacked,this)},t.prototype.onPreRecovery=function(){this.isElite&&null!==this.hpBarNode&&(u.default.getInstance().recoveryNode(p.default.Key_HpBar,this.hpBarNode),this.hpBarNode=null,this.func_refreshHpBar=null),this.unscheduleAllCallbacks(),this.preRecoveryFunc()},t.prototype.onRecovery=function(){this.isElite&&(null!==this.hpBarNode&&(u.default.getInstance().recoveryNode(p.default.Key_HpBar,this.hpBarNode),this.hpBarNode=null,this.func_refreshHpBar=null),this.onRecoveryAllKnife()),this.unscheduleAllCallbacks(),this.recoveryFunc()},t.prototype.onResetPos=function(e){this.node.setPosition(e),this.isElite||this.isSensorCollider||!this.agent||(this.agent.position_.x=e.x,this.agent.position_.y=e.y)},t.prototype.playHitAni=function(){cc.Tween.stopAllByTarget(this.ani_sprite.node),this.ani_sprite.node.scaleX=this.initScaleX,this.ani_sprite.node.scaleY=this.initScaleY,this.ani_sprite.node.opacity=1,cc.tween(this.ani_sprite.node).to(.1,{opacity:255}).start(),cc.tween(this.ani_sprite.node).to(.05,{scaleX:1.2*this.initScaleX,scaleY:.8*this.initScaleY}).to(.05,{scaleX:this.initScaleX,scaleY:this.initScaleY}).start()},t.prototype.onPlayDieAni=function(){cc.Tween.stopAllByTarget(this.ani_sprite.node),this.playHitAni(),this.ani_sprite.getAnimationState("ani_walk").speed=0;var e=this.targetNode.getPosition().sub(this.node.getPosition()).normalizeSelf(),t=this.node.getPosition().sub(e.mul(p.default.EnemyDieKnockbackDis));cc.tween(this.ani_sprite.node).to(.8,{color:P}).start(),cc.tween(this.node).to(.8,{x:t.x,y:t.y}).start()},t.prototype.onDeath=function(){this.isAlive=!1,this.isElite||this.isSensorCollider||d.default.ins.removeAgent(this.agent.id_),this.yy&&(this.yy.opacity=0),this.circleCollider.enabled=!1,this.onRecoveryAllKnife(),this.onPreRecovery(),this.onPlayDieAni(),_.default.currKillEnemyCount+=1,h.default.ins.onEnemyDropLogic(this.node.getPosition(),this.enemyData.dropData,this.isElite)},t.prototype.onAttacked=function(e,t){if(void 0===t&&(t=cc.Color.WHITE),this.isAlive&&!(this.isElite&&this.knifeArr.length>0)){var o=e*c.RandomUtils.getRandomInt(80,120)/100;o=Math.ceil(o),this.currHp-=o,this.func_refreshHpBar&&this.func_refreshHpBar(this.currHp/this.maxHp),f.default.ins.onShowFloatText(o.toString(),cc.v2(this.node.getPosition().x,this.node.getPosition().y+this.floatTextOffsetY),t),this.currHp<=0?this.onDeath():this.playHitAni()}},t.prototype.onNuclearAttacked=function(e,t){void 0===t&&(t=cc.Color.WHITE),this.isAlive&&(e=Math.ceil(e),this.currHp-=e,this.func_refreshHpBar&&this.func_refreshHpBar(this.currHp/this.maxHp),f.default.ins.onShowFloatText(e.toString(),cc.v2(this.node.getPosition().x,this.node.getPosition().y+this.floatTextOffsetY),t),this.currHp<=0?this.onDeath():this.playHitAni())},t.prototype.update=function(e){if(!_.default.isGamePause&&this.isAlive){var t=this.targetNode.getPosition().sub(this.node.getPosition()),o=t.magSqr();t.normalizeSelf(),this.isElite?this.onEliteLogic(e,t,o):this.onNormalLogic(e,t,o),this.actNode.scaleX=t.x>=0?1:-1,_.default.RenderRect.contains(this.node.getPosition())?this.node.opacity=255:this.node.opacity=0,this.circleCollider.enabled=_.default.ColliderRect.contains(this.node.getPosition()),this.onMeleeLogic(e,o)}},t.prototype.onEliteLogic=function(e,t,o){0===this.eliteState?o<p.default.EliteEnemyMoveToPlayerMinDis||(this.isOnKnockbackState?this.node.setPosition(this.node.getPosition().add(t.mul(-p.default.KnockbackEnemySpeed*e))):this.node.setPosition(this.node.getPosition().add(t.mul(this.moveSpeed*e)))):(this.isOnKnockbackState?this.node.setPosition(this.node.getPosition().add(t.mul(p.default.KnockbackEnemySpeed*e))):this.node.setPosition(this.node.getPosition().add(t.mul(p.default.EliteEnemyRageMoveSpeed*e))),this.eliteState=1),this.knifeArr.length<this.bulletCount&&this.onTryRecoveryKnife(e),this.updateKnife(e)},t.prototype.onNormalLogic=function(e,t,o){o<p.default.EnemyMoveToPlayerMinDis?this.isSensorCollider||d.default.ins.setAgentPrefVelocity(this.agent.index_,new s.Vector2(0,0)):(this.isCanAttackPlayer=!1,this.isOnKnockbackState?this.isSensorCollider?this.node.setPosition(this.node.getPosition().add(t.mul(-p.default.KnockbackEnemySpeed*e))):(this.node.setPosition(this.node.getPosition().add(t.mul(-p.default.KnockbackEnemySpeed*e))),d.default.ins.setAgentPosition(this.agent.index_,this.node.getPosition())):this.isSensorCollider?this.node.setPosition(this.node.getPosition().add(t.mul(this.moveSpeed*e))):d.default.ins.setAgentPrefVelocity(this.agent.index_,new s.Vector2(t.x,t.y).mul_k(this.moveSpeed))),this.isSensorCollider||this.node.setPosition(d.default.ins.getAgentPosition(this.agent.index_))},t.prototype.onMeleeLogic=function(e,t){t<p.default.EnemyMeleeAttackDis?this.isCanAttackPlayer=!0:this.isCanAttackPlayer=!1,this.attackTimer>0&&(this.attackTimer-=e),this.isCanAttackPlayer&&this.attackTimer<=0&&(this.attackTimer=p.default.EnemyContactDamageCoolDown,this.onAttackPlayer(this.damagePoint))},t.prototype.onAttackPlayer=function(e){_.default.onAttackPlayer(e,this.enemyData.isIgnorePlayerArmor)},t.prototype.onInitKnife=function(){for(var e=0;e<this.bulletCount;e++){var t=u.default.getInstance().getNodeNotNull(this.bulletPrePathKey);t.setParent(this.node.parent),t.getComponent(y.default).onInit(this,this.bulletRotateSpeed,this.damagePoint),this.knifeArr.push(t)}this.updateKnife(0),this.onResetKnifeAngle()},t.prototype.onRecoveryAllKnife=function(){if(this.isElite){for(var e=0;e<this.knifeArr.length;e++)u.default.getInstance().recoveryNode(this.bulletPrePathKey,this.knifeArr[e]);this.knifeArr=[]}},t.prototype.onTryRecoveryKnife=function(e){2===this.eliteState&&(this.knifeRecoveryTimer+=e,this.knifeRecoveryTimer>this.coolDownTime&&(this.knifeRecoveryTimer=0,this.onRecoveryKnife()))},t.prototype.onRecoveryKnife=function(){var e=u.default.getInstance().getNodeNotNull(this.bulletPrePathKey);e.opacity=0,e.setParent(this.node.parent),e.getComponent(y.default).onInit(this,this.bulletRotateSpeed,this.damagePoint),this.knifeArr.push(e),this.onResetKnifeAngle(),this.scheduleOnce(function(){e.parent&&(e.opacity=255)}),0!==this.eliteState&&this.knifeArr.length>=this.bulletCount&&(this.eliteState=0)},t.prototype.onResetKnifeAngle=function(){var e=this.knifeArr.length;if(e>0)for(var t=this.knifeArr[0].angle,o=360/e,n=0;n<e;n++)this.knifeArr[n].angle=o*n+t},t.prototype.onRemoveBullet=function(e){var t=this.knifeArr.indexOf(e);-1!==t&&(this.knifeArr.splice(t,1),u.default.getInstance().recoveryNode(this.bulletPrePathKey,e),0===this.knifeArr.length&&(this.eliteState=1,this.ani_sprite.getAnimationState("ani_walk").speed=2))},t.prototype.updateKnife=function(){for(var e=this.node.getPosition().add(S),t=0;t<this.knifeArr.length;t++)this.knifeArr[t].setPosition(e)},t.prototype.isInvulnerable=function(){return this.isElite&&this.knifeArr.length>0},l([b(cc.Node)],t.prototype,"actNode",void 0),l([b(cc.Animation)],t.prototype,"ani_sprite",void 0),l([b(cc.CircleCollider)],t.prototype,"circleCollider",void 0),l([v],t)}(cc.Component);a.default=B,cc._RF.pop()},{}],BasePlayerWeapon_008:[function(e,t,o){"use strict";cc._RF.push(t,"c8e12XuUTtC1bzW46FRF6/v","BasePlayerWeapon_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=i("GamingData_008"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillId=0,t.player=null,t.power=0,t.fireCoolDownTime=5,t.bulletCount=1,t.bulletScale=1,t}return r(t,e),t.prototype.onInit=function(e,t){this.player=e,this.skillId=t,this.scheduleOnce(this.onInitWeapon,0)},t.prototype.onInitWeapon=function(){},t.prototype.onRecovery=function(){this.destroy()},t.prototype.onResetData=function(){var e=c.default.SkillStateMap.get(this.skillId)-1||0,t=s.SkillConfigMap.get(this.skillId);this.power=c.default.PlayerGamingInfo.damagePoint*t.powerRatio+t.powerArr[e],this.fireCoolDownTime=t.coolDownTimeArr[e]*(1-c.default.PlayerGamingInfo.coolDownTimeBonus),this.bulletCount=t.countArr[e],this.bulletScale=t.scaleArr[e]},l([p],t)}(cc.Component));a.default=h,cc._RF.pop()},{}],BaseUI:[function(e,t,o){"use strict";cc._RF.push(t,"e337124hiRPjLlHuXwjH7gm","BaseUI");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("AudioMag"),u=cc._decorator,p=u.ccclass,h=u.property;(function(e){e[e.None=-1]="None",e[e.Scale=-1]="Scale",e[e.ScaleX=-1]="ScaleX",e[e.ScaleY=-1]="ScaleY",e[e.Opacity=-1]="Opacity",e[e.UpToMid=-1]="UpToMid"})(s||(s={})),cc.Enum;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showAni=s.None,t.actNode=null,t.isCanClick=!0,t}return r(t,e),t.prototype.onLoad=function(){this.actNode=this.node.getChildByName("actNode"),this.onOnLoad()},t.prototype.onOnLoad=function(){},t.prototype.addBtnEvent=function(e){e.on(cc.Node.EventType.TOUCH_END,this.onClickBtn,this)},t.prototype.remvoeBtnEvent=function(e){e.off(cc.Node.EventType.TOUCH_END,this.onClickBtn,this)},t.prototype.onClickBtn=function(e){this.isCanClick&&(c.default.getInstance().click(),this.onOnClickBtn(e))},t.prototype.onOnClickBtn=function(){},t.prototype.onShow=function(e,t){this.isCanClick=!1,cc.Tween.stopAllByTarget(this.actNode),this.node.active=!0,this.actNode.opacity=255,this.actNode.y=0,this.actNode.scale=1,e?this.playShowAni(t):this.onShowOver(t)},t.prototype.onHide=function(e,t){this.isCanClick=!1,cc.Tween.stopAllByTarget(this.actNode),e?this.playHideAni(t):this.onHideOver(t)},t.prototype.playShowAni=function(e){var t=this;switch(this.showAni){case s.Scale:this.actNode.scale=0,cc.tween(this.actNode).to(.4,{scale:1},{easing:"backOut"}).call(function(){t.onShowOver(e)}).start();break;case s.ScaleX:this.actNode.scaleX=0,cc.tween(this.actNode).to(.2,{scaleX:1}).call(function(){t.onShowOver(e)}).start();break;case s.ScaleY:this.actNode.scaleY=0,cc.tween(this.actNode).to(.2,{scaleY:1}).call(function(){t.onShowOver(e)}).start();break;case s.Opacity:this.actNode.opacity=0,cc.tween(this.actNode).to(.4,{opacity:255},{easing:"fade"}).call(function(){t.onShowOver(e)}).start();break;case s.UpToMid:this.actNode.y=1e3,cc.tween(this.actNode).to(.4,{y:0},{easing:"backOut"}).call(function(){t.onShowOver(e)}).start();break;default:this.onShowOver(e)}},t.prototype.playHideAni=function(e){var t=this;switch(this.showAni){case s.Scale:cc.tween(this.actNode).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.onHideOver(e)}).start();break;case s.ScaleX:cc.tween(this.actNode).to(.2,{scaleX:0}).call(function(){t.onHideOver(e)}).start();break;case s.ScaleY:cc.tween(this.actNode).to(.2,{scaleY:0}).call(function(){t.onHideOver(e)}).start();break;case s.Opacity:cc.tween(this.actNode).to(.4,{opacity:0},{easing:"fade"}).call(function(){t.onHideOver(e)}).start();break;case s.UpToMid:cc.tween(this.actNode).to(.4,{y:1e3},{easing:"backIn"}).call(function(){t.onHideOver(e)}).start();break;default:this.onHideOver(e)}},t.prototype.onShowOver=function(e){this.isCanClick=!0,e&&e()},t.prototype.onHideOver=function(e){this.node.active=!1,e&&e()},l([h({type:cc.Enum(s),tooltip:"UI\u754c\u9762\u6253\u5f00\u65f6\u7684\u52a8\u753b\u7c7b\u578b"})],t.prototype,"showAni",void 0),l([p],t)}(cc.Component);a.default=f,cc._RF.pop()},{}],BoxDropItem_008:[function(e,t,o){"use strict";cc._RF.push(t,"21880lJmY1HV4Rzho0IH/HU","BoxDropItem_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("Config_008"),u=i("DropItemMag_008"),p=i("GamingData_008"),h=i("LC_008"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t.sprite=null,t.openLight=null,t.bgLight=null,t.sf_close=null,t.sf_open=null,t.boxLv=0,t.isInit=!1,t}return r(t,e),t.prototype.onEnable=function(){this.sprite.spriteFrame=this.sf_close,this.openLight.opacity=0},t.prototype.onInit=function(e){var t=this;this.boxLv=e,this.isInit=!1,this.bgLight.opacity=0,this.actNode.angle=0,cc.tween(this.actNode).to(.4,{angle:720}).call(function(){t.isInit=!0,t.bgLight.opacity=255}).start(),s.default.getInstance().playSound_intervalLimit(c.default.SEF_Drop_Box,50)},t.prototype.onOpen=function(){var e=this;p.default.isGamePause=!0,window.isCanCtrl=!1,p.default.currOpenBoxLv=this.boxLv,cc.tween(this.sprite.node).to(.2,{scale:.75}).to(.2,{scale:.9}).to(.15,{scale:.65}).to(.15,{scale:.9}).to(.1,{scale:.5}).to(.1,{scale:1}).call(function(){e.sprite.spriteFrame=e.sf_open,e.openLight.opacity=255}).delay(.2).call(function(){h.default.ins.onShowOpenBoxUI()}).delay(1).call(this.onRecovery,this).start()},t.prototype.update=function(){p.default.isGamePause||this.isInit&&p.default.PlayerNode.getPosition().sub(this.node.getPosition()).magSqr()<1e4&&this.onOpen()},t.prototype.lateUpdate=function(){this.node.opacity=p.default.RenderRect.contains(this.node.getPosition())?255:0},t.prototype.onRecovery=function(){u.default.ins.onRecoveryBox(this.node)},l([_(cc.Node)],t.prototype,"actNode",void 0),l([_(cc.Sprite)],t.prototype,"sprite",void 0),l([_(cc.Node)],t.prototype,"openLight",void 0),l([_(cc.Node)],t.prototype,"bgLight",void 0),l([_(cc.SpriteFrame)],t.prototype,"sf_close",void 0),l([_(cc.SpriteFrame)],t.prototype,"sf_open",void 0),l([d],t)}(cc.Component);a.default=y,cc._RF.pop()},{}],CoinShowNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"07b8erfeu1BfJAyvw0zicjR","CoinShowNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.sfArr=[],t}return r(t,e),t.prototype.onEnable=function(){this.node.on(s.default.e_RefreshCoinSF,this.onRefresh,this)},t.prototype.onDisable=function(){this.node.off(s.default.e_RefreshCoinSF,this.onRefresh,this)},t.prototype.onRefresh=function(e){this.sprite.spriteFrame=this.sfArr[e-s.DropItemType.Coin_1]},l([p(cc.Sprite)],t.prototype,"sprite",void 0),l([p([cc.SpriteFrame])],t.prototype,"sfArr",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],CompanyUI:[function(e,t,o){"use strict";cc._RF.push(t,"c2c4fvrVgJKZKaCjWI/5zVU","CompanyUI");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_1=null,t.btn_2=null,t.btn_3=null,t.btn_4=null,t.node_icon=null,t.m_clickState=0,t}return a(t,e),t.prototype.onLoad=function(){this.btn_1=this.node.getChildByName("btn_1"),this.btn_2=this.node.getChildByName("btn_2"),this.btn_3=this.node.getChildByName("btn_3"),this.btn_4=this.node.getChildByName("btn_4"),this.node_icon=this.node.getChildByName("node_icon")},t.prototype.start=function(){var e=this;this.btn_1.on(cc.Node.EventType.TOUCH_END,function(){e.onClickBtn(e.btn_1)},this),this.btn_2.on(cc.Node.EventType.TOUCH_END,function(){e.onClickBtn(e.btn_2)},this),this.btn_3.on(cc.Node.EventType.TOUCH_END,function(){e.onClickBtn(e.btn_3)},this),this.btn_4.on(cc.Node.EventType.TOUCH_END,function(){e.onClickBtn(e.btn_4)},this)},t.prototype.onEnable=function(){this.node_icon.opacity=0,this.btn_1.scaleX=1,this.btn_2.scaleX=1,this.btn_3.scaleX=1,this.btn_4.scaleX=1,this.m_clickState=0},t.prototype.onClickBtn=function(e){e.scaleX=0,this.m_clickState++,4==this.m_clickState&&(this.node_icon.opacity=255)},r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],Config_001:[function(e,t,o){"use strict";cc._RF.push(t,"a8a6d/umaVN6K17yuZyC5bW","Config_001");var n=o;Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.e_playerFishHitFreeFish="e_playerFishHitFreeFish",e.e_videoStart="e_videoStart",e.e_start="e_start",e.e_revive="e_revive",e.e_speedAcitve="e_speedAcitve",e.str_bgm_001_game="001/bgm_001_game",e.str_ef_001_def="001/ef_001_def",e.str_ef_001_speed="001/ef_001_speed",e.str_ef_001_died="001/ef_001_died",e.str_ef_001_eat="001/ef_001_eat",e.str_ef_001_lvUp="001/ef_001_lvUp",e.str_ef_001_lvDown="001/ef_001_lvDown",e.str_ef_001_revive="001/ef_001_revive",e}();n.default=i,cc._RF.pop()},{}],Config_008:[function(e,t,o){"use strict";cc._RF.push(t,"ba20fsc/XZMZ4EPky8rOtBK","Config_008");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerLevelInfoConfigMap=n.DropItemConfigMap=n.DropItemType=n.DropItemGroupConfigMap=n.EnemyConfigMap=n.EnemyBulletPrefabConfigMap=n.EnemyPrefabConfigMap=n.SkillConfigMap=n.GamingExpConfig_008=n.NormalExpConfig_008=n.WeaponType_008=n.CommonSkillType_008=void 0;var i,a=function(){function e(){}return e.getItemIconPath=function(e){return this.Path_SkillIcon+e},e.LOCALDATA_KEY="008_RotaingWeaponData",e.DropItemActionDisSqr=2e3,e.DropItemFlyingSpeed=1200,e.DropItemFlyingSpeed_Magnet=3200,e.MaxEnemyCount=400,e.MaxDropItemCount=800,e.MaxFloatTextCount=200,e.CameraOrthoSize=1400,e.BgTileWidth=1536,e.BgTileHeight=1536,e.KnifeSparkEffectOffset=cc.v2(300,0),e.AutoResetPotPosInterval=5,e.AudoResetPotPosDisThreshold=625e4,e.EnemyMeleeAttackDis=8100,e.EnemyMoveToPlayerMinDis=900,e.EliteEnemyMoveToPlayerMinDis=9e4,e.EliteEnemyMoveFarAwayPlayerDis=2e6,e.AutoResetEnemyPosInterval=5,e.AudoResetEnemyPosDisThreshold=625e4,e.EnemyContactDamageCoolDown=.2,e.MagnetItemDuration=2.5,e.KnockbackEnemySpeed=400,e.EnemyDieKnockbackDis=150,e.EliteEnemyRageMoveSpeed=350,e.STR_NodeGroup_Player="player",e.STR_NodeGroup_Enemy="enemy",e.STR_NodeGroup_PlayerBullet="playerBullet",e.STR_NodeGroup_EnemyBullet="enemyBullet",e.STR_NodeGroup_Pot="pot",e.e_DropItemFlyToPlayer="e_DropItemFlyToPlayer",e.e_RefreshExpstoneSF="e_RefreshExpstoneSF",e.e_RefreshCoinSF="e_RefreshCoinSF",e.e_ShowPlayerInfoChangeTips="e_ShowPlayerInfoChangeTips",e.e_OnEnemyAttacked="e_OnEnemyAttacked",e.e_OnEnemyAttacked_NuclearBomb="e_OnEnemyAttacked_NuclearBomb",e.InfoKeyIndex_MoveSpeed=0,e.InfoKeyIndex_BulletRotateSpeed=1,e.InfoKeyIndex_BulletCount=2,e.InfoKeyIndex_CoolDownTime=3,e.InfoKeyIndex_MagnetRange=4,e.InfoKeyIndex_ExpBonus=5,e.InfoKeyIndex_Lucky=6,e.InfoKeyIndex_DamagePoint=7,e.InfoKeyIndex_MaxHpBonus=8,e.InfoKeyIndex_RestoreLife=9,e.Key_DropItem="008_Key_DropItem",e.Key_Box="008_Key_Box",e.Key_FloatText="008_Key_FloatText",e.Key_HpBar="008_Key_HpBar",e.Key_EF_Spark="008_Key_EF_Spark",e.Key_EF_NuclearBomb="008_Key_EF_NuclearBomb",e.Key_EF_EnemyDie="008_Key_EF_EnemyDie",e.Key_EF_NuclearBomb_Z="008_Key_EF_NuclearBomb_Z",e.Key_FlyingKnife="008_Key_FlyingKnife",e.Key_EF_PickUpWeapon="008_Key_EF_PickUpWeapon",e.Key_Pot="008_Key_Pot",e.Path_SkillIcon="lv_008/sf/icon/",e.Path_DropItem="lv_008/dropItem_1",e.Path_Box="lv_008/dropItem/box",e.Path_FloatText="lv_008/floatText",e.Path_HpBar="lv_008/hpBar",e.Path_EF_Spark="lv_008/ef/ef_spark",e.Path_EF_NuclearBomb="lv_008/ef/ef_nuclearBomb",e.Path_EF_NuclearBomb_Z="lv_008/ef/ef_nuclearBomb_z",e.Path_EF_EnemyDie="lv_008/ef/ef_enemyDie",e.Path_FlyingKnife="lv_008/flyingBullet/flyingKnife",e.Path_EF_PickUpWeapon="lv_008/ef/ef_pickUpWeapon",e.Path_Pot="lv_008/map/pot",e.Key_Knife_1="008_Key_Knife_1",e.Path_Knife_1="lv_008/playerBullet/knife_001",e.Key_Lightning="008_Key_Lightning",e.Path_Lightning="lv_008/playerBullet/lightning",e.Key_SixPulseHolySword="008_Key_SixPulseHolySword",e.Path_SixPulseHolySword="lv_008/playerBullet/six-pulseHolySword",e.Key_SummonSword="008_Key_SummonSword",e.Path_SummonSword="lv_008/playerBullet/summon_sword_001",e.Key_Long="008_Key_Long",e.Path_Long="lv_008/playerBullet/Long",e.Key_TouchEffect="008_Key_TouchEffect",e.Path_TouchEffect="lv_008/touchEffect",e.Alchemy_AniTime=[1,1.1,1.2,1.4],e.Alchemy_PulletWeightConfig=[30,30,20,10,3,4,5],e.Alchemy_TypeToKeyConfig=["alchemy_maxHp","alchemy_damagePoint","alchemy_armor","alchemy_moveSpeed","alchemy_restoreLife","alchemy_expBonus","alchemy_lucky"],e.Alchemy_PulletQualityValueRange=[[1,3],[5,8],[10,13],[15,20]],e.Alchemy_PulletQualityWeightConfig=[50,30,15,5],e.AlchemyExpReward=[[1,2,2,3],[1,2,2,3,3,1],[1,1,2,2,3,3,4,4],[1,1,2,2,3,3,3,4,4,5,6,6]],e.BGM_Game="008/008_bgm",e.SEF_SelectSkill="008/008_selectSkill",e.SEF_LevelUp="008/008_levelUp",e.SEF_AlchemyOpen="008/008_alchemyOpen",e.SEF_BOX_OpenUI="008/008_box_openUI",e.SEF_BOX_Rotating="008/008_box_rotating",e.SEF_BOX_Select="008/008_box_select",e.SEF_WWHit="008/008_WWHit",e.SEF_WEHit="008/008_WEHit5",e.SEF_PickUp="008/008_pickUp",e.SEF_PickUp_Coin="008/008_pickUp_coin",e.SEF_Pot_Destory="008/008_pot_destory",e.SEF_PickUp_Expstone="008/008_pickUp_expStone",e.SEF_PlayerDie="008/008_playerDie",e.SEF_NuclearBomb="008/008_nuclearBomb",e.SEF_RestoreLife="008/008_restoreLife",e.SEF_AlchemyExpDrop="008/008_alchemyExpDrop",e.SEF_PlayerInjured="008/008_playerInjured",e.SEF_Pause="008/008_pause",e.SEF_Magnet="008/008_magnet",e.SEF_EnemyDie="008/008_enemyDie2",e.PlayWeaponRotatingSEFAngle=120,e.SEF_RotatingWeapon="008/008_rotatingWeapon2",e.SEF_Drop_Knife="008/008_drop_knife",e.SEF_Drop_Box="008/008_drop_box",e.SEF_KnifeFlying="008/008_knifeFlying",e.SEF_ResultView="008/008_resultView",e.SEF_Lightning="008/008_lightning",e.SEF_SixPulseHolySword="008/008_sixPulseHolySword2",e.SEF_SixPulseHolySword_Hit="008/008_sixPulseHolySword_hit",e.SEF_SummonSword_Attack_1="008/008_summonSword_attack_1",e.SEF_SummonSword_Attack_2="008/008_summonSword_attack_2",e.SEF_SummonSword_Rotate_1="008/008_summonSword_rotate_1",e.SEF_Long_Summon="008/008_Long_summon",e.SEF_Long_Hit="008/008_Long_hit",e.Color_PlayerInjured=cc.color(255,71,71),e.Str_NuclearBombPower="99999999",e.Num_NuclearBombPower=99999999,e.Color_NuclearBomb=cc.color(229,255,71),e}();n.default=a,function(e){e[e.MoveSpeedBonus=101]="MoveSpeedBonus",e[e.CoolDownTimeBonus=102]="CoolDownTimeBonus",e[e.MagnetRangeBonus=103]="MagnetRangeBonus",e[e.ExpBonus=104]="ExpBonus",e[e.Lucky=105]="Lucky",e[e.MaxHpBonus=106]="MaxHpBonus",e[e.RestoreLife=107]="RestoreLife"}(n.CommonSkillType_008||(n.CommonSkillType_008={})),function(e){e[e.RotatingKnife=201]="RotatingKnife",e[e.Lightning=202]="Lightning",e[e.SixPulseHolySword=203]="SixPulseHolySword",e[e.SummonSword=204]="SummonSword",e[e.Long=205]="Long"}(n.WeaponType_008||(n.WeaponType_008={})),n.NormalExpConfig_008=[0,24,32,48,72,104,144,192,248,312,384,464,552,648,752,864,984,1112,1248,1392,1544,1704,1872,2048,2232,2424,2624,2832,3048,3272,3504,3744,3992,4248,4512,4784,5064,5352,5648,5952,6264,6584,6912,7248,7592,7944,8304,8672,9048,9432,9824,10224,10632,11048,11472,11904,12344,12792,13248,13712,14184,14664,15152,15648,16152,16664,17184,17712,18248,18792,19344,19904,20472,21048,21632,22224,22824,23432,24048,24672,25304,25944,26592,27248,27912,28584,29264,29952,30648,31352,32064,32784,33512,34248,34992,35744,36504,37272,38048],n.GamingExpConfig_008=[0,100,240,480,720,960,1200,1440,1680,1920,2160,2400,2640,2880,3120,3360,3600,3840,4080,4320,4560,4800,5040,5280,5520,5760,6e3,6240,6480,9180],n.SkillConfigMap=new Map([[101,{skillId:101,skillName:"\u51cc\u6ce2\u5fae\u6b65",skillDescArr:["\u89d2\u8272\u79fb\u52a8\u901f\u5ea6+10%","\u89d2\u8272\u79fb\u52a8\u901f\u5ea6+20%","\u89d2\u8272\u79fb\u52a8\u901f\u5ea6+30%","\u89d2\u8272\u79fb\u52a8\u901f\u5ea6+40%","\u89d2\u8272\u79fb\u52a8\u901f\u5ea6+50%"],powerRatio:1,powerArr:[.1,.2,.3,.4,.5],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[102,{skillId:102,skillName:"\u5de6\u53f3\u5f00\u5f13",skillDescArr:["\u6b66\u5668\u51b7\u5374\u65f6\u95f4-10%","\u6b66\u5668\u51b7\u5374\u65f6\u95f4-20%","\u6b66\u5668\u51b7\u5374\u65f6\u95f4-30%","\u6b66\u5668\u51b7\u5374\u65f6\u95f4-40%","\u6b66\u5668\u51b7\u5374\u65f6\u95f4-50%"],powerRatio:1,powerArr:[.1,.2,.3,.4,.5],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[103,{skillId:103,skillName:"\u5b9d\u846b\u82a6",skillDescArr:["\u89d2\u8272\u5438\u9644\u8303\u56f4+50%","\u89d2\u8272\u5438\u9644\u8303\u56f4+100%","\u89d2\u8272\u5438\u9644\u8303\u56f4+150%","\u89d2\u8272\u5438\u9644\u8303\u56f4+200%","\u89d2\u8272\u5438\u9644\u8303\u56f4+250%"],powerRatio:1,powerArr:[.5,1,1.5,2,2.5],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[104,{skillId:104,skillName:"\u4e7e\u5764\u5927\u632a\u79fb",skillDescArr:["\u89d2\u8272\u7ecf\u9a8c\u83b7\u53d6+10%","\u89d2\u8272\u7ecf\u9a8c\u83b7\u53d6+20%","\u89d2\u8272\u7ecf\u9a8c\u83b7\u53d6+30%","\u89d2\u8272\u7ecf\u9a8c\u83b7\u53d6+40%","\u89d2\u8272\u7ecf\u9a8c\u83b7\u53d6+50%"],powerRatio:1,powerArr:[.1,.2,.3,.4,.5],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[105,{skillId:105,skillName:"\u516b\u5366\u76d8",skillDescArr:["\u589e\u52a0\u89d2\u8272\u5e78\u8fd0\u503c","\u589e\u52a0\u89d2\u8272\u5e78\u8fd0\u503c","\u589e\u52a0\u89d2\u8272\u5e78\u8fd0\u503c","\u589e\u52a0\u89d2\u8272\u5e78\u8fd0\u503c","\u589e\u52a0\u89d2\u8272\u5e78\u8fd0\u503c"],powerRatio:1,powerArr:[1,2,3,4,5],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[106,{skillId:106,skillName:"\u6613\u7b4b\u7ecf",skillDescArr:["\u89d2\u8272\u6700\u5927\u751f\u547d\u503c+40%","\u89d2\u8272\u6700\u5927\u751f\u547d\u503c+80%","\u89d2\u8272\u6700\u5927\u751f\u547d\u503c+120%","\u89d2\u8272\u6700\u5927\u751f\u547d\u503c+160%","\u89d2\u8272\u6700\u5927\u751f\u547d\u503c+200%"],powerRatio:1,powerArr:[.4,.8,1.2,1.6,2],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[107,{skillId:107,skillName:"\u5317\u51a5\u795e\u529f",skillDescArr:["\u6bcf5\u79d2\u6062\u590d1%\u751f\u547d\u503c","\u6bcf5\u79d2\u6062\u590d2%\u751f\u547d\u503c","\u6bcf5\u79d2\u6062\u590d3%\u751f\u547d\u503c","\u6bcf5\u79d2\u6062\u590d4%\u751f\u547d\u503c","\u6bcf5\u79d2\u6062\u590d5%\u751f\u547d\u503c"],powerRatio:1,powerArr:[.01,.02,.03,.04,.05],countArr:[],coolDownTimeArr:[],scaleArr:[]}],[201,{skillId:201,skillName:"\u91d1\u8f6e\u6cd5\u738b",skillDescArr:["\u53ec\u55246\u628a\u5c60\u9f99\u5200\u5728\u5468\u56f4\u65cb\u8f6c","\u5c60\u9f99\u5200\u4f24\u5bb3\u63d0\u5347","\u5c60\u9f99\u5200\u6570\u91cf+2,\u5e76\u63d0\u5347\u4f24\u5bb3","\u5c60\u9f99\u5200\u4f24\u5bb3\u63d0\u5347","\u5c60\u9f99\u5200\u6570\u91cf+2,\u5e76\u63d0\u5347\u4f24\u5bb3"],powerRatio:1,powerArr:[20,40,50,70,80],countArr:[6,6,8,8,10],coolDownTimeArr:[2,2,2,2,2],scaleArr:[1,1,1,1,1]}],[202,{skillId:202,skillName:"\u5929\u96f7\u8bc0",skillDescArr:["\u53ef\u4ee5\u53ec\u5524\u95ea\u7535\u75db\u51fb\u654c\u4eba","\u95ea\u7535\u6570\u91cf+1\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3","\u95ea\u7535\u6570\u91cf+1\uff0c\u51b7\u5374-25%","\u95ea\u7535\u6570\u91cf+1\uff0c\u5e76\u4e14\u95ea\u7535\u8303\u56f4+50%","\u95ea\u7535\u6570\u91cf+1\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3"],powerRatio:1.5,powerArr:[30,60,75,105,120],countArr:[2,3,4,5,6],coolDownTimeArr:[2,2,1.5,1.5,1.5],scaleArr:[1,1,1,1.5,1.5]}],[203,{skillId:203,skillName:"\u516d\u8109\u795e\u5251",skillDescArr:["\u53ef\u4ee5\u4f7f\u7528\u5251\u6c14\u653b\u51fb\u654c\u4eba","\u5251\u6c14\u6570\u91cf+1\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3","\u5251\u6c14\u6570\u91cf+1\uff0c\u51b7\u5374-25%","\u5251\u6c14\u6570\u91cf+1\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3","\u5251\u6c14\u6570\u91cf+1\uff0c\u51b7\u5374-25%"],powerRatio:1.2,powerArr:[24,48,60,84,96],countArr:[2,3,4,5,6],coolDownTimeArr:[3,3,2.5,2.5,2],scaleArr:[1,1,1,1,1]}],[204,{skillId:204,skillName:"\u72ec\u5b64\u4e5d\u5251",skillDescArr:["\u53ef\u4ee5\u53ec\u5524\u4e09\u628a\u5251\u4fdd\u62a4\u81ea\u5df1","\u53ec\u5524\u5251\u6570\u91cf+1\uff0c,\u5e76\u63d0\u5347\u4f24\u5bb3","\u53ec\u5524\u5251\u6570\u91cf+2","\u53ec\u5524\u5251\u6570\u91cf+1\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3","\u53ec\u5524\u5251\u6570\u91cf+2\uff0c\u5e76\u63d0\u5347\u4f24\u5bb3"],powerRatio:.5,powerArr:[10,20,25,35,50],countArr:[3,4,6,7,9],coolDownTimeArr:[2,2,2,2,2],scaleArr:[1,1,1,1,1]}],[205,{skillId:205,skillName:"\u6e38\u9f99\u620f\u753b",skillDescArr:["\u53ec\u5524\u4e00\u6761\u9f99\u4fdd\u62a4\u81ea\u5df1","\u6e38\u9f99\u6570\u91cf+1\uff0c\u6e38\u9f99\u4f24\u5bb3\u63d0\u5347","\u6e38\u9f99\u6570\u91cf+1\uff0c\u6e38\u9f99\u4f24\u5bb3\u5927\u5e45\u63d0\u5347","\u6e38\u9f99\u6570\u91cf+1\uff0c\u6e38\u9f99\u4f24\u5bb3\u63d0\u5347","\u6e38\u9f99\u6570\u91cf+1\uff0c\u6e38\u9f99\u4f24\u5bb3\u5927\u5e45\u63d0\u5347"],powerRatio:2,powerArr:[40,60,100,120,150],countArr:[1,2,3,4,5],coolDownTimeArr:[3,3,3,3,3],scaleArr:[1,1,1,1,1]}]]),n.EnemyPrefabConfigMap=new Map([[0,"lv_008/enemy/normal/enemy_001"],[1,"lv_008/enemy/normal/enemy_001"],[2,"lv_008/enemy/normal/enemy_002"],[3,"lv_008/enemy/normal/enemy_003"],[4,"lv_008/enemy/normal/enemy_004"],[5,"lv_008/enemy/normal/enemy_005"],[6,"lv_008/enemy/normal/enemy_006"],[7,"lv_008/enemy/normal/enemy_007"],[8,"lv_008/enemy/normal/enemy_008"],[9,"lv_008/enemy/normal/enemy_009"],[10,"lv_008/enemy/normal/enemy_010"],[11,"lv_008/enemy/normal/enemy_011"],[12,"lv_008/enemy/normal/enemy_012"],[13,"lv_008/enemy/normal/enemy_013"],[101,"lv_008/enemy/elite/elite_101"],[103,"lv_008/enemy/elite/elite_103"],[105,"lv_008/enemy/elite/elite_105"],[106,"lv_008/enemy/elite/elite_106"],[107,"lv_008/enemy/elite/elite_107"],[109,"lv_008/enemy/elite/elite_109"],[111,"lv_008/enemy/elite/elite_111"]]),n.EnemyBulletPrefabConfigMap=new Map([[0,"lv_008/enemyBullet/enemy_knife_000"]]),n.EnemyConfigMap=new Map([[0,{id:0,prefabId:1,moveSpeed:200,isSensorCollider:!1,hp:75,hpRatio:90,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:3500,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[1,{id:1,prefabId:2,moveSpeed:300,isSensorCollider:!1,hp:45,hpRatio:60,damagePoint:3,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:4e3,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[2,{id:2,prefabId:3,moveSpeed:100,isSensorCollider:!1,hp:1040,hpRatio:1040,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002}],isElite:!0,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[3,{id:3,prefabId:4,moveSpeed:200,isSensorCollider:!1,hp:35,hpRatio:50,damagePoint:2,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:3500,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[4,{id:4,prefabId:5,moveSpeed:100,isSensorCollider:!1,hp:2150,hpRatio:2150,damagePoint:10,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002}],isElite:!0,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[5,{id:5,prefabId:6,moveSpeed:100,isSensorCollider:!1,hp:175,hpRatio:175,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[6,{id:6,prefabId:7,moveSpeed:100,isSensorCollider:!1,hp:640,hpRatio:640,damagePoint:10,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[7,{id:7,prefabId:8,moveSpeed:250,isSensorCollider:!1,hp:15,hpRatio:20,damagePoint:1,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:4e3,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[8,{id:8,prefabId:9,moveSpeed:100,isSensorCollider:!1,hp:5e3,hpRatio:5e3,damagePoint:8,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002}],isElite:!0,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[9,{id:9,prefabId:10,moveSpeed:400,isSensorCollider:!1,hp:35,hpRatio:40,damagePoint:2,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:5e3,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[10,{id:10,prefabId:11,moveSpeed:150,isSensorCollider:!1,hp:1750,hpRatio:1750,damagePoint:10,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[11,{id:11,prefabId:12,moveSpeed:150,isSensorCollider:!1,hp:300,hpRatio:300,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:8e3,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[12,{id:12,prefabId:13,moveSpeed:400,isSensorCollider:!1,hp:55,hpRatio:65,damagePoint:2,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:5e3,i:1001}],isElite:!1,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[13,{id:13,prefabId:101,moveSpeed:200,isSensorCollider:!1,hp:90,hpRatio:90,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002},{p:3e3,i:1011}],isElite:!0,bulletId:0,bulletCount:3,bulletRotateSpeed:180,coolDownTime:3}],[14,{id:14,prefabId:106,moveSpeed:200,isSensorCollider:!1,hp:45,hpRatio:45,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002}],isElite:!0,bulletId:0,bulletCount:3,bulletRotateSpeed:180,coolDownTime:3}],[15,{id:15,prefabId:103,moveSpeed:100,isSensorCollider:!1,hp:300,hpRatio:300,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1002}],isElite:!0,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}],[16,{id:16,prefabId:105,moveSpeed:100,isSensorCollider:!1,hp:100,hpRatio:100,damagePoint:10,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1001},{p:3e3,i:1011}],isElite:!0,bulletId:0,bulletCount:6,bulletRotateSpeed:180,coolDownTime:3}],[17,{id:17,prefabId:101,moveSpeed:200,isSensorCollider:!1,hp:50,hpRatio:50,damagePoint:2,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1001},{p:3e3,i:1011}],isElite:!0,bulletId:0,bulletCount:3,bulletRotateSpeed:180,coolDownTime:3}],[18,{id:18,prefabId:1,moveSpeed:200,isSensorCollider:!1,hp:150,hpRatio:150,damagePoint:3,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1012}],isElite:!1,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}],[19,{id:19,prefabId:6,moveSpeed:100,isSensorCollider:!1,hp:300,hpRatio:300,damagePoint:3,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1012}],isElite:!1,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}],[20,{id:20,prefabId:7,moveSpeed:100,isSensorCollider:!1,hp:800,hpRatio:800,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1012}],isElite:!1,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}],[21,{id:21,prefabId:3,moveSpeed:100,isSensorCollider:!1,hp:1040,hpRatio:1040,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1012}],isElite:!1,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}],[22,{id:22,prefabId:11,moveSpeed:150,isSensorCollider:!1,hp:1750,hpRatio:1750,damagePoint:5,damagePointRatio:0,aniSpeed:1,isIgnorePlayerArmor:!0,dropData:[{p:1e4,i:1012}],isElite:!1,bulletId:0,bulletCount:4,bulletRotateSpeed:180,coolDownTime:3}]]),n.DropItemGroupConfigMap=new Map([[1001,{id:1001,itemIdAndWeightArr:[[1,50]]}],[1002,{id:1002,itemIdAndWeightArr:[[2,50]]}],[1003,{id:1003,itemIdAndWeightArr:[[3,50]]}],[1004,{id:1004,itemIdAndWeightArr:[[5,50]]}],[1005,{id:1005,itemIdAndWeightArr:[[6,50]]}],[1006,{id:1006,itemIdAndWeightArr:[[7,50]]}],[1007,{id:1007,itemIdAndWeightArr:[[1,90],[2,10]]}],[1008,{id:1008,itemIdAndWeightArr:[[1,80],[2,20]]}],[1009,{id:1009,itemIdAndWeightArr:[[1,50],[2,50]]}],[1010,{id:1010,itemIdAndWeightArr:[[2,95],[3,5]]}],[1011,{id:1011,itemIdAndWeightArr:[[5,15],[6,10],[7,75]]}],[1012,{id:1012,itemIdAndWeightArr:[[12,20],[13,60],[14,20]]}]]),function(e){e[e.ExpGemstone_1=1]="ExpGemstone_1",e[e.ExpGemstone_2=2]="ExpGemstone_2",e[e.ExpGemstone_3=3]="ExpGemstone_3",e[e.AlchemyPullet=4]="AlchemyPullet",e[e.Magnet=5]="Magnet",e[e.NuclearBomb=6]="NuclearBomb",e[e.Chichen=7]="Chichen",e[e.Weapon=8]="Weapon",e[e.Coin_1=9]="Coin_1",e[e.Coin_2=10]="Coin_2",e[e.Coin_3=11]="Coin_3",e[e.Box_1=12]="Box_1",e[e.Box_2=13]="Box_2",e[e.Box_3=14]="Box_3"}(i=n.DropItemType||(n.DropItemType={})),n.DropItemConfigMap=new Map([[i.ExpGemstone_1,"lv_008/dropItem/001_dou"],[i.ExpGemstone_2,"lv_008/dropItem/001_dou"],[i.ExpGemstone_3,"lv_008/dropItem/001_dou"],[i.AlchemyPullet,"lv_008/dropItem/004_alchemyPullet"],[i.Magnet,"lv_008/dropItem/005_magnet"],[i.NuclearBomb,"lv_008/dropItem/006_nuclearBomb"],[i.Chichen,"lv_008/dropItem/007_chichen"],[i.Weapon,"lv_008/dropItem/008_weapon"],[i.Coin_1,"lv_008/dropItem/009_coin"],[i.Coin_2,"lv_008/dropItem/009_coin"],[i.Coin_3,"lv_008/dropItem/009_coin"]]),n.PlayerLevelInfoConfigMap=new Map([[1,{lv:1,maxHp:100,damagePoint:20,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:30,pulletBaseValue_2:10,pulletBaseValue_3:2,pulletBaseValue_4:5,pulletBaseValue_5:10,pulletBaseValue_6:10,pulletBaseValue_7:20}],[2,{lv:2,maxHp:105,damagePoint:21,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:32,pulletBaseValue_2:11,pulletBaseValue_3:4,pulletBaseValue_4:7,pulletBaseValue_5:30,pulletBaseValue_6:50,pulletBaseValue_7:70}],[3,{lv:3,maxHp:115,damagePoint:23,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:35,pulletBaseValue_2:12,pulletBaseValue_3:6,pulletBaseValue_4:9,pulletBaseValue_5:50,pulletBaseValue_6:90,pulletBaseValue_7:120}],[4,{lv:4,maxHp:130,damagePoint:26,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:39,pulletBaseValue_2:13,pulletBaseValue_3:8,pulletBaseValue_4:11,pulletBaseValue_5:70,pulletBaseValue_6:130,pulletBaseValue_7:170}],[5,{lv:5,maxHp:150,damagePoint:30,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:45,pulletBaseValue_2:15,pulletBaseValue_3:10,pulletBaseValue_4:13,pulletBaseValue_5:90,pulletBaseValue_6:170,pulletBaseValue_7:220}],[6,{lv:6,maxHp:175,damagePoint:35,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:53,pulletBaseValue_2:18,pulletBaseValue_3:12,pulletBaseValue_4:15,pulletBaseValue_5:110,pulletBaseValue_6:210,pulletBaseValue_7:270}],[7,{lv:7,maxHp:205,damagePoint:41,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:62,pulletBaseValue_2:21,pulletBaseValue_3:14,pulletBaseValue_4:17,pulletBaseValue_5:130,pulletBaseValue_6:250,pulletBaseValue_7:320}],[8,{lv:8,maxHp:240,damagePoint:48,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:72,pulletBaseValue_2:24,pulletBaseValue_3:16,pulletBaseValue_4:19,pulletBaseValue_5:150,pulletBaseValue_6:290,pulletBaseValue_7:370}],[9,{lv:9,maxHp:280,damagePoint:56,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:84,pulletBaseValue_2:28,pulletBaseValue_3:18,pulletBaseValue_4:21,pulletBaseValue_5:170,pulletBaseValue_6:330,pulletBaseValue_7:420}],[10,{lv:10,maxHp:325,damagePoint:65,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:98,pulletBaseValue_2:33,pulletBaseValue_3:20,pulletBaseValue_4:23,pulletBaseValue_5:200,pulletBaseValue_6:370,pulletBaseValue_7:470}],[11,{lv:11,maxHp:375,damagePoint:75,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:113,pulletBaseValue_2:38,pulletBaseValue_3:22,pulletBaseValue_4:25,pulletBaseValue_5:230,pulletBaseValue_6:410,pulletBaseValue_7:520}],[12,{lv:12,maxHp:430,damagePoint:86,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:129,pulletBaseValue_2:43,pulletBaseValue_3:24,pulletBaseValue_4:27,pulletBaseValue_5:260,pulletBaseValue_6:450,pulletBaseValue_7:570}],[13,{lv:13,maxHp:490,damagePoint:98,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:147,pulletBaseValue_2:49,pulletBaseValue_3:26,pulletBaseValue_4:29,pulletBaseValue_5:290,pulletBaseValue_6:490,pulletBaseValue_7:620}],[14,{lv:14,maxHp:555,damagePoint:111,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:167,pulletBaseValue_2:56,pulletBaseValue_3:28,pulletBaseValue_4:31,pulletBaseValue_5:320,pulletBaseValue_6:530,pulletBaseValue_7:670}],[15,{lv:15,maxHp:625,damagePoint:125,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:188,pulletBaseValue_2:63,pulletBaseValue_3:30,pulletBaseValue_4:33,pulletBaseValue_5:350,pulletBaseValue_6:570,pulletBaseValue_7:720}],[16,{lv:16,maxHp:700,damagePoint:140,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:210,pulletBaseValue_2:70,pulletBaseValue_3:32,pulletBaseValue_4:35,pulletBaseValue_5:380,pulletBaseValue_6:610,pulletBaseValue_7:770}],[17,{lv:17,maxHp:780,damagePoint:156,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:234,pulletBaseValue_2:78,pulletBaseValue_3:34,pulletBaseValue_4:37,pulletBaseValue_5:410,pulletBaseValue_6:650,pulletBaseValue_7:820}],[18,{lv:18,maxHp:865,damagePoint:173,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:260,pulletBaseValue_2:87,pulletBaseValue_3:36,pulletBaseValue_4:39,pulletBaseValue_5:440,pulletBaseValue_6:690,pulletBaseValue_7:870}],[19,{lv:19,maxHp:955,damagePoint:191,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:287,pulletBaseValue_2:96,pulletBaseValue_3:38,pulletBaseValue_4:41,pulletBaseValue_5:470,pulletBaseValue_6:730,pulletBaseValue_7:920}],[20,{lv:20,maxHp:1050,damagePoint:210,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:315,pulletBaseValue_2:105,pulletBaseValue_3:40,pulletBaseValue_4:43,pulletBaseValue_5:500,pulletBaseValue_6:770,pulletBaseValue_7:970}],[21,{lv:21,maxHp:1150,damagePoint:230,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:345,pulletBaseValue_2:115,pulletBaseValue_3:42,pulletBaseValue_4:45,pulletBaseValue_5:530,pulletBaseValue_6:810,pulletBaseValue_7:1020}],[22,{lv:22,maxHp:1255,damagePoint:251,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:377,pulletBaseValue_2:126,pulletBaseValue_3:44,pulletBaseValue_4:47,pulletBaseValue_5:560,pulletBaseValue_6:850,pulletBaseValue_7:1070}],[23,{lv:23,maxHp:1365,damagePoint:273,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:410,pulletBaseValue_2:137,pulletBaseValue_3:46,pulletBaseValue_4:49,pulletBaseValue_5:590,pulletBaseValue_6:890,pulletBaseValue_7:1120}],[24,{lv:24,maxHp:1480,damagePoint:296,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:444,pulletBaseValue_2:148,pulletBaseValue_3:48,pulletBaseValue_4:51,pulletBaseValue_5:620,pulletBaseValue_6:930,pulletBaseValue_7:1170}],[25,{lv:25,maxHp:1600,damagePoint:320,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:480,pulletBaseValue_2:160,pulletBaseValue_3:50,pulletBaseValue_4:53,pulletBaseValue_5:650,pulletBaseValue_6:970,pulletBaseValue_7:1220}],[26,{lv:26,maxHp:1725,damagePoint:345,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:518,pulletBaseValue_2:173,pulletBaseValue_3:52,pulletBaseValue_4:55,pulletBaseValue_5:680,pulletBaseValue_6:1010,pulletBaseValue_7:1270}],[27,{lv:27,maxHp:1855,damagePoint:371,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:557,pulletBaseValue_2:186,pulletBaseValue_3:54,pulletBaseValue_4:57,pulletBaseValue_5:710,pulletBaseValue_6:1050,pulletBaseValue_7:1320}],[28,{lv:28,maxHp:1990,damagePoint:398,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:597,pulletBaseValue_2:199,pulletBaseValue_3:56,pulletBaseValue_4:59,pulletBaseValue_5:740,pulletBaseValue_6:1090,pulletBaseValue_7:1370}],[29,{lv:29,maxHp:2130,damagePoint:426,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:639,pulletBaseValue_2:213,pulletBaseValue_3:58,pulletBaseValue_4:61,pulletBaseValue_5:770,pulletBaseValue_6:1130,pulletBaseValue_7:1420}],[30,{lv:30,maxHp:2275,damagePoint:455,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:683,pulletBaseValue_2:228,pulletBaseValue_3:60,pulletBaseValue_4:63,pulletBaseValue_5:800,pulletBaseValue_6:1170,pulletBaseValue_7:1470}],[31,{lv:31,maxHp:2425,damagePoint:485,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:728,pulletBaseValue_2:243,pulletBaseValue_3:62,pulletBaseValue_4:65,pulletBaseValue_5:830,pulletBaseValue_6:1210,pulletBaseValue_7:1520}],[32,{lv:32,maxHp:2580,damagePoint:516,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:774,pulletBaseValue_2:258,pulletBaseValue_3:64,pulletBaseValue_4:67,pulletBaseValue_5:860,pulletBaseValue_6:1250,pulletBaseValue_7:1570}],[33,{lv:33,maxHp:2740,damagePoint:548,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:822,pulletBaseValue_2:274,pulletBaseValue_3:66,pulletBaseValue_4:69,pulletBaseValue_5:890,pulletBaseValue_6:1290,pulletBaseValue_7:1620}],[34,{lv:34,maxHp:2905,damagePoint:581,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:872,pulletBaseValue_2:291,pulletBaseValue_3:68,pulletBaseValue_4:71,pulletBaseValue_5:920,pulletBaseValue_6:1330,pulletBaseValue_7:1670}],[35,{lv:35,maxHp:3075,damagePoint:615,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:923,pulletBaseValue_2:308,pulletBaseValue_3:70,pulletBaseValue_4:73,pulletBaseValue_5:950,pulletBaseValue_6:1370,pulletBaseValue_7:1720}],[36,{lv:36,maxHp:3250,damagePoint:650,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:975,pulletBaseValue_2:325,pulletBaseValue_3:72,pulletBaseValue_4:75,pulletBaseValue_5:980,pulletBaseValue_6:1410,pulletBaseValue_7:1770}],[37,{lv:37,maxHp:3430,damagePoint:686,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1029,pulletBaseValue_2:343,pulletBaseValue_3:74,pulletBaseValue_4:77,pulletBaseValue_5:1010,pulletBaseValue_6:1450,pulletBaseValue_7:1820}],[38,{lv:38,maxHp:3615,damagePoint:723,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1085,pulletBaseValue_2:362,pulletBaseValue_3:76,pulletBaseValue_4:79,pulletBaseValue_5:1040,pulletBaseValue_6:1490,pulletBaseValue_7:1870}],[39,{lv:39,maxHp:3805,damagePoint:761,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1142,pulletBaseValue_2:381,pulletBaseValue_3:78,pulletBaseValue_4:81,pulletBaseValue_5:1070,pulletBaseValue_6:1530,pulletBaseValue_7:1920}],[40,{lv:40,maxHp:4e3,damagePoint:800,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1200,pulletBaseValue_2:400,pulletBaseValue_3:80,pulletBaseValue_4:83,pulletBaseValue_5:1100,pulletBaseValue_6:1570,pulletBaseValue_7:1970}],[41,{lv:41,maxHp:4200,damagePoint:840,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1260,pulletBaseValue_2:420,pulletBaseValue_3:82,pulletBaseValue_4:85,pulletBaseValue_5:1130,pulletBaseValue_6:1610,pulletBaseValue_7:2020}],[42,{lv:42,maxHp:4405,damagePoint:881,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1322,pulletBaseValue_2:441,pulletBaseValue_3:84,pulletBaseValue_4:87,pulletBaseValue_5:1160,pulletBaseValue_6:1650,pulletBaseValue_7:2070}],[43,{lv:43,maxHp:4615,damagePoint:923,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1385,pulletBaseValue_2:462,pulletBaseValue_3:86,pulletBaseValue_4:89,pulletBaseValue_5:1190,pulletBaseValue_6:1690,pulletBaseValue_7:2120}],[44,{lv:44,maxHp:4830,damagePoint:966,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1449,pulletBaseValue_2:483,pulletBaseValue_3:88,pulletBaseValue_4:91,pulletBaseValue_5:1220,pulletBaseValue_6:1730,pulletBaseValue_7:2170}],[45,{lv:45,maxHp:5050,damagePoint:1010,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1515,pulletBaseValue_2:505,pulletBaseValue_3:90,pulletBaseValue_4:93,pulletBaseValue_5:1250,pulletBaseValue_6:1770,pulletBaseValue_7:2220}],[46,{lv:46,maxHp:5275,damagePoint:1055,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1583,pulletBaseValue_2:528,pulletBaseValue_3:92,pulletBaseValue_4:95,pulletBaseValue_5:1280,pulletBaseValue_6:1810,pulletBaseValue_7:2270}],[47,{lv:47,maxHp:5505,damagePoint:1101,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1652,pulletBaseValue_2:551,pulletBaseValue_3:94,pulletBaseValue_4:97,pulletBaseValue_5:1310,pulletBaseValue_6:1850,pulletBaseValue_7:2320}],[48,{lv:48,maxHp:5740,damagePoint:1148,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1722,pulletBaseValue_2:574,pulletBaseValue_3:96,pulletBaseValue_4:99,pulletBaseValue_5:1340,pulletBaseValue_6:1890,pulletBaseValue_7:2370}],[49,{lv:49,maxHp:5980,damagePoint:1196,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1794,pulletBaseValue_2:598,pulletBaseValue_3:98,pulletBaseValue_4:101,pulletBaseValue_5:1370,pulletBaseValue_6:1930,pulletBaseValue_7:2420}],[50,{lv:50,maxHp:6225,damagePoint:1245,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1868,pulletBaseValue_2:623,pulletBaseValue_3:100,pulletBaseValue_4:103,pulletBaseValue_5:1400,pulletBaseValue_6:1970,pulletBaseValue_7:2470}],[51,{lv:51,maxHp:6475,damagePoint:1295,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:1943,pulletBaseValue_2:648,pulletBaseValue_3:102,pulletBaseValue_4:105,pulletBaseValue_5:1430,pulletBaseValue_6:2010,pulletBaseValue_7:2520}],[52,{lv:52,maxHp:6730,damagePoint:1346,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2019,pulletBaseValue_2:673,pulletBaseValue_3:104,pulletBaseValue_4:107,pulletBaseValue_5:1460,pulletBaseValue_6:2050,pulletBaseValue_7:2570}],[53,{lv:53,maxHp:6990,damagePoint:1398,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2097,pulletBaseValue_2:699,pulletBaseValue_3:106,pulletBaseValue_4:109,pulletBaseValue_5:1490,pulletBaseValue_6:2090,pulletBaseValue_7:2620}],[54,{lv:54,maxHp:7255,damagePoint:1451,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2177,pulletBaseValue_2:726,pulletBaseValue_3:108,pulletBaseValue_4:111,pulletBaseValue_5:1520,pulletBaseValue_6:2130,pulletBaseValue_7:2670}],[55,{lv:55,maxHp:7525,damagePoint:1505,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2258,pulletBaseValue_2:753,pulletBaseValue_3:110,pulletBaseValue_4:113,pulletBaseValue_5:1550,pulletBaseValue_6:2170,pulletBaseValue_7:2720}],[56,{lv:56,maxHp:7800,damagePoint:1560,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2340,pulletBaseValue_2:780,pulletBaseValue_3:112,pulletBaseValue_4:115,pulletBaseValue_5:1580,pulletBaseValue_6:2210,pulletBaseValue_7:2770}],[57,{lv:57,maxHp:8080,damagePoint:1616,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2424,pulletBaseValue_2:808,pulletBaseValue_3:114,pulletBaseValue_4:117,pulletBaseValue_5:1610,pulletBaseValue_6:2250,pulletBaseValue_7:2820}],[58,{lv:58,maxHp:8365,damagePoint:1673,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2510,pulletBaseValue_2:837,pulletBaseValue_3:116,pulletBaseValue_4:119,pulletBaseValue_5:1640,pulletBaseValue_6:2290,pulletBaseValue_7:2870}],[59,{lv:59,maxHp:8655,damagePoint:1731,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2597,pulletBaseValue_2:866,pulletBaseValue_3:118,pulletBaseValue_4:121,pulletBaseValue_5:1670,pulletBaseValue_6:2330,pulletBaseValue_7:2920}],[60,{lv:60,maxHp:8950,damagePoint:1790,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2685,pulletBaseValue_2:895,pulletBaseValue_3:120,pulletBaseValue_4:123,pulletBaseValue_5:1700,pulletBaseValue_6:2370,pulletBaseValue_7:2970}],[61,{lv:61,maxHp:9250,damagePoint:1850,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2775,pulletBaseValue_2:925,pulletBaseValue_3:122,pulletBaseValue_4:125,pulletBaseValue_5:1730,pulletBaseValue_6:2410,pulletBaseValue_7:3020}],[62,{lv:62,maxHp:9555,damagePoint:1911,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2867,pulletBaseValue_2:956,pulletBaseValue_3:124,pulletBaseValue_4:127,pulletBaseValue_5:1760,pulletBaseValue_6:2450,pulletBaseValue_7:3070}],[63,{lv:63,maxHp:9865,damagePoint:1973,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:2960,pulletBaseValue_2:987,pulletBaseValue_3:126,pulletBaseValue_4:129,pulletBaseValue_5:1790,pulletBaseValue_6:2490,pulletBaseValue_7:3120}],[64,{lv:64,maxHp:10180,damagePoint:2036,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3054,pulletBaseValue_2:1018,pulletBaseValue_3:128,pulletBaseValue_4:131,pulletBaseValue_5:1820,pulletBaseValue_6:2530,pulletBaseValue_7:3170}],[65,{lv:65,maxHp:10500,damagePoint:2100,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3150,pulletBaseValue_2:1050,pulletBaseValue_3:130,pulletBaseValue_4:133,pulletBaseValue_5:1850,pulletBaseValue_6:2570,pulletBaseValue_7:3220}],[66,{lv:66,maxHp:10825,damagePoint:2165,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3248,pulletBaseValue_2:1083,pulletBaseValue_3:132,pulletBaseValue_4:135,pulletBaseValue_5:1880,pulletBaseValue_6:2610,pulletBaseValue_7:3270}],[67,{lv:67,maxHp:11155,damagePoint:2231,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3347,pulletBaseValue_2:1116,pulletBaseValue_3:134,pulletBaseValue_4:137,pulletBaseValue_5:1910,pulletBaseValue_6:2650,pulletBaseValue_7:3320}],[68,{lv:68,maxHp:11490,damagePoint:2298,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3447,pulletBaseValue_2:1149,pulletBaseValue_3:136,pulletBaseValue_4:139,pulletBaseValue_5:1940,pulletBaseValue_6:2690,pulletBaseValue_7:3370}],[69,{lv:69,maxHp:11830,damagePoint:2366,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3549,pulletBaseValue_2:1183,pulletBaseValue_3:138,pulletBaseValue_4:141,pulletBaseValue_5:1970,pulletBaseValue_6:2730,pulletBaseValue_7:3420}],[70,{lv:70,maxHp:12175,damagePoint:2435,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3653,pulletBaseValue_2:1218,pulletBaseValue_3:140,pulletBaseValue_4:143,pulletBaseValue_5:2e3,pulletBaseValue_6:2770,pulletBaseValue_7:3470}],[71,{lv:71,maxHp:12525,damagePoint:2505,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3758,pulletBaseValue_2:1253,pulletBaseValue_3:142,pulletBaseValue_4:145,pulletBaseValue_5:2030,pulletBaseValue_6:2810,pulletBaseValue_7:3520}],[72,{lv:72,maxHp:12880,damagePoint:2576,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3864,pulletBaseValue_2:1288,pulletBaseValue_3:144,pulletBaseValue_4:147,pulletBaseValue_5:2060,pulletBaseValue_6:2850,pulletBaseValue_7:3570}],[73,{lv:73,maxHp:13240,damagePoint:2648,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:3972,pulletBaseValue_2:1324,pulletBaseValue_3:146,pulletBaseValue_4:149,pulletBaseValue_5:2090,pulletBaseValue_6:2890,pulletBaseValue_7:3620}],[74,{lv:74,maxHp:13605,damagePoint:2721,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4082,pulletBaseValue_2:1361,pulletBaseValue_3:148,pulletBaseValue_4:151,pulletBaseValue_5:2120,pulletBaseValue_6:2930,pulletBaseValue_7:3670}],[75,{lv:75,maxHp:13975,damagePoint:2795,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4193,pulletBaseValue_2:1398,pulletBaseValue_3:150,pulletBaseValue_4:153,pulletBaseValue_5:2150,pulletBaseValue_6:2970,pulletBaseValue_7:3720}],[76,{lv:76,maxHp:14350,damagePoint:2870,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4305,pulletBaseValue_2:1435,pulletBaseValue_3:152,pulletBaseValue_4:155,pulletBaseValue_5:2180,pulletBaseValue_6:3010,pulletBaseValue_7:3770}],[77,{lv:77,maxHp:14730,damagePoint:2946,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4419,pulletBaseValue_2:1473,pulletBaseValue_3:154,pulletBaseValue_4:157,pulletBaseValue_5:2210,pulletBaseValue_6:3050,pulletBaseValue_7:3820}],[78,{lv:78,maxHp:15115,damagePoint:3023,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4535,pulletBaseValue_2:1512,pulletBaseValue_3:156,pulletBaseValue_4:159,pulletBaseValue_5:2240,pulletBaseValue_6:3090,pulletBaseValue_7:3870}],[79,{lv:79,maxHp:15505,damagePoint:3101,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4652,pulletBaseValue_2:1551,pulletBaseValue_3:158,pulletBaseValue_4:161,pulletBaseValue_5:2270,pulletBaseValue_6:3130,pulletBaseValue_7:3920}],[80,{lv:80,maxHp:15900,damagePoint:3180,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4770,pulletBaseValue_2:1590,pulletBaseValue_3:160,pulletBaseValue_4:163,pulletBaseValue_5:2300,pulletBaseValue_6:3170,pulletBaseValue_7:3970}],[81,{lv:81,maxHp:16300,damagePoint:3260,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:4890,pulletBaseValue_2:1630,pulletBaseValue_3:162,pulletBaseValue_4:165,pulletBaseValue_5:2330,pulletBaseValue_6:3210,pulletBaseValue_7:4020}],[82,{lv:82,maxHp:16705,damagePoint:3341,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5012,pulletBaseValue_2:1671,pulletBaseValue_3:164,pulletBaseValue_4:167,pulletBaseValue_5:2360,pulletBaseValue_6:3250,pulletBaseValue_7:4070}],[83,{lv:83,maxHp:17115,damagePoint:3423,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5135,pulletBaseValue_2:1712,pulletBaseValue_3:166,pulletBaseValue_4:169,pulletBaseValue_5:2390,pulletBaseValue_6:3290,pulletBaseValue_7:4120}],[84,{lv:84,maxHp:17530,damagePoint:3506,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5259,pulletBaseValue_2:1753,pulletBaseValue_3:168,pulletBaseValue_4:171,pulletBaseValue_5:2420,pulletBaseValue_6:3330,pulletBaseValue_7:4170}],[85,{lv:85,maxHp:17950,damagePoint:3590,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5385,pulletBaseValue_2:1795,pulletBaseValue_3:170,pulletBaseValue_4:173,pulletBaseValue_5:2450,pulletBaseValue_6:3370,pulletBaseValue_7:4220}],[86,{lv:86,maxHp:18375,damagePoint:3675,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5513,pulletBaseValue_2:1838,pulletBaseValue_3:172,pulletBaseValue_4:175,pulletBaseValue_5:2480,pulletBaseValue_6:3410,pulletBaseValue_7:4270}],[87,{lv:87,maxHp:18805,damagePoint:3761,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5642,pulletBaseValue_2:1881,pulletBaseValue_3:174,pulletBaseValue_4:177,pulletBaseValue_5:2510,pulletBaseValue_6:3450,pulletBaseValue_7:4320}],[88,{lv:88,maxHp:19240,damagePoint:3848,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5772,pulletBaseValue_2:1924,pulletBaseValue_3:176,pulletBaseValue_4:179,pulletBaseValue_5:2540,pulletBaseValue_6:3490,pulletBaseValue_7:4370}],[89,{lv:89,maxHp:19680,damagePoint:3936,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:5904,pulletBaseValue_2:1968,pulletBaseValue_3:178,pulletBaseValue_4:181,pulletBaseValue_5:2570,pulletBaseValue_6:3530,pulletBaseValue_7:4420}],[90,{lv:90,maxHp:20125,damagePoint:4025,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6038,pulletBaseValue_2:2013,pulletBaseValue_3:180,pulletBaseValue_4:183,pulletBaseValue_5:2600,pulletBaseValue_6:3570,pulletBaseValue_7:4470}],[91,{lv:91,maxHp:20575,damagePoint:4115,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6173,pulletBaseValue_2:2058,pulletBaseValue_3:182,pulletBaseValue_4:185,pulletBaseValue_5:2630,pulletBaseValue_6:3610,pulletBaseValue_7:4520}],[92,{lv:92,maxHp:21030,damagePoint:4206,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6309,pulletBaseValue_2:2103,pulletBaseValue_3:184,pulletBaseValue_4:187,pulletBaseValue_5:2660,pulletBaseValue_6:3650,pulletBaseValue_7:4570}],[93,{lv:93,maxHp:21490,damagePoint:4298,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6447,pulletBaseValue_2:2149,pulletBaseValue_3:186,pulletBaseValue_4:189,pulletBaseValue_5:2690,pulletBaseValue_6:3690,pulletBaseValue_7:4620}],[94,{lv:94,maxHp:21955,damagePoint:4391,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6587,pulletBaseValue_2:2196,pulletBaseValue_3:188,pulletBaseValue_4:191,pulletBaseValue_5:2720,pulletBaseValue_6:3730,pulletBaseValue_7:4670}],[95,{lv:95,maxHp:22425,damagePoint:4485,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6728,pulletBaseValue_2:2243,pulletBaseValue_3:190,pulletBaseValue_4:193,pulletBaseValue_5:2750,pulletBaseValue_6:3770,pulletBaseValue_7:4720}],[96,{lv:96,maxHp:22900,damagePoint:4580,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:6870,pulletBaseValue_2:2290,pulletBaseValue_3:192,pulletBaseValue_4:195,pulletBaseValue_5:2780,pulletBaseValue_6:3810,pulletBaseValue_7:4770}],[97,{lv:97,maxHp:23380,damagePoint:4676,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:7014,pulletBaseValue_2:2338,pulletBaseValue_3:194,pulletBaseValue_4:197,pulletBaseValue_5:2810,pulletBaseValue_6:3850,pulletBaseValue_7:4820}],[98,{lv:98,maxHp:23865,damagePoint:4773,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:7160,pulletBaseValue_2:2387,pulletBaseValue_3:196,pulletBaseValue_4:199,pulletBaseValue_5:2840,pulletBaseValue_6:3890,pulletBaseValue_7:4870}],[99,{lv:99,maxHp:24355,damagePoint:4871,armor:0,moveSpeed:300,restoreLife:0,expBonus:0,lucky:0,pulletBaseValue_1:7307,pulletBaseValue_2:2436,pulletBaseValue_3:198,pulletBaseValue_4:201,pulletBaseValue_5:2870,pulletBaseValue_6:3930,pulletBaseValue_7:4920}]]),cc._RF.pop()},{}],Config_Gaming_008:[function(e,t,o){"use strict";cc._RF.push(t,"688a8kPKJRMn4gUjvYzwCYv","Config_Gaming_008");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.Config_Gaming_008=void 0;var i=function(){function e(){}return e.magnetRange=200,e.Pot_CountLimit=5,e.Pot_initCount=1,e.Pot_KillXXEnemyGenerate_KillCount=100,e.Pot_KillXXEnemyGenerate_Probability=100,e.Pot_DropMagnetOrNuclearBombMinimum=10,e.Pot_DropItemHeight=[25,15,8,15,12,5,10,5,5],e.RotatingKnife_PlayerMaxKnifeCount=20,e.RotatingKnife_base_rotateSpeed=240,e.Lightning_AttackDis=25e4,e.Lightning_FireInterval=.12,e.SixPulseHolySword_FireInterval=.15,e.SummonSword_bulletRotateSpeed=240,e.Long_MoveSpeed=1200,e.Long_MoveDisSqr=81e4,e}();n.Config_Gaming_008=i,cc._RF.pop()},{}],Config:[function(e,t){"use strict";cc._RF.push(t,"62146hKgaFJHYofrjh6u4/K","Config");var o,n=t;window.gametype=2,window.ADType={AD_DEMO:-1,AD_OPPO:0,AD_VIVO:1,AD_HW:2,AD_4399:3,AD_qq:4,AD_tt:5},window.adType=window.ADType.AD_HW,window.mainSceneName="TestadScene";var i=((o={CUR_PLATFORM_CHANNEL:3,HKT_PKG:"com.zsfz.tss.html",VIVO_PKG:"com.mxcy.qmjj.vivominigame",VIVO_PAY_APPSECRECT:"4483c3716ccc9efd0b86dc540283e453",VIVO_CANSHU:"VIVO",VIVO_AD_INSERT:"14ee12036f904d458516aeaa87835534",VIVO_AD_VIDEO:"9141ec2348cb4ac4ad3ed93b997657d4",VIVO_AD_BANNER:"e2e92a50525e4863afbe6a6ef9df7cbe",VIVO_AD_NATIVE:"17e9e1b8a2114514b2d7f583ece114f3",OPPO_CANSHU:"OPPO",OPPO_PAY_appId:"30174650",OPPO_PAY_appKey:"c7G7K2b22mO8C8ssCKg4O84C4",OPPO_PAY_privateKey:"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAI+ToVnZKrWe2N0/jbx/XUEpDDpyZGajLUNUHvb3GuBMZCB+Ye+oFc+uXO9+ycDPIC4FiWg4bBqwig3oSs5hYm7YAs7bGeZOLJqurqYHV3AgRt8gtsSex5/NaJybkHKcd4fAM+GY6u2mdQ5S//bbkIaMrgFOwCca4Akqp+dPSU0DAgMBAAECgYAEsVCOvThWI1D3OkKJrKgBnzPVHTQG3sJ19uPkMoNgXV7QaREOYjIETbCf60bw1FQ67Ndm3qE55hc9CSCYyjoLVKgf1x3tuR4rdL7QVAphLQk67Qandjs/+O5N42s2K8JiUC0GFJzwV0E9fuPSS3TvIrmM2by8IUprYrl+bmtxAQJBAObqf+rkeTtxWGK+D0pJvRzrt1Pi3vsV3TBqUcUyG5/T2tGk4tLdF78TZrK0FTpzCwAtfjlzSSnRng9fvvuojcMCQQCfLFPPQBT8RotUgzlqQ9A+ljM+LXl+FO7P35lFn+H8VYEfZlRjsPpzvdSMTLImG3/kYfeTUWyji5a2Tnkg+A/BAkEAxrRl7PA8Ll2jzBx2tdtsQ9XGxQXGEVRIKSBkSweKY+d/NcXodcFRbNg6GG8EkW5rufRr2O4OuFCr7djbVF0/1wJAMjbmvbQmqquKmv/G5io8kPILemsYL9lkuXl9vgRBY7yJvqEmsEiNymOxoQ01CmaUgzUQyI3gavvHcP3yop7/QQJALtagISjK2dzPWAlbANWWRpPrWl/cAUXSFFZPnhjORnQ7jWxIY0FzS5ja+9eLQKvdX5GBDybh4/NV8c2Co7WN+A==",OPPO_AD_APPID:"30218586"}).OPPO_PAY_appKey="c7G7K2b22mO8C8ssCKg4O84C4",o.OPPO_AD_BANNER="138783",o.OPPO_AD_INSERT="138784",o.OPPO_AD_VIDEO="138787",o.OPPO_AD_NATIVE="138786",o.HW_CANSHU="HW",o.HW_APPID="104165651",o.HW_PAYID="70086000148452986",o.HW_PUBLIC_KEY="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAh+Tsd7PxFfJzljQerhiL3zKkgyxHTTZRAHlxaZlGhb9N9O32xS0mSymz92UhS2lwMMvvuhDu9u7+B2hpfwhAQnz1qLkmMbVBSu8FFhoNKW70fX6SvaeNAG7OdwKsKVVHylits0AzGUyXFwuMfVxHeLF0gWLd93iK3WrW2jCymhAym9qlabyBwsc58CsGC+CcNKYzkScItL2JxYSjCi9fjCV6XmqiLFlGqKq8/VNpLh3D3PnK0IqFiwdoCPy5eLu8+Mqgj+5ZlDwbFtxeGLxeOZt+g4rHbNAmfIbw/pPt82kuvRno/EHOfnOv/nGj7v0h8cxVbYlA2AVxUGxGVhZvlQIDAQAB",o.HW_PRIVATE_KEY="MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCH5Ox3s/EV8nOWNB6uGIvfMqSDLEdNNlEAeXFpmUaFv0307fbFLSZLKbP3ZSFLaXAwy++6EO727v4HaGl/CEBCfPWouSYxtUFK7wUWGg0pbvR9fpK9p40Abs53AqwpVUfKWK2zQDMZTJcXC4x9XEd4sXSBYt33eIrdatbaMLKaEDKb2qVpvIHCxznwKwYL4Jw0pjORJwi0vYnFhKMKL1+MJXpeaqIsWUaoqrz9U2kuHcPc+crQioWLB2gI/Ll4u7z4yqCP7lmUPBsW3F4YvF45m36Disds0CZ8hvD+k+3zaS69Gej8Qc5+c6/+caPu/SHxzFVtiUDYBXFQbEZWFm+VAgMBAAECggEABwEjtx/NQ2ZV0t4o3qxhOUXw+NnlavNrxWx9DgZafjZYHFHPsGYdXS5vGkdaKfrrT3iTiLGqv4ueCF+3YFbaiRLLzsCMWW+QR/598p+xIfuYGofVpHTobadIeRXoLdE5fBKKEX0zpRAvkX6E5UlGXdA3wxuHeWP7NGJ3ZJOyAQLVU8+g1dDRRtJ1gkyY8K24BkmnD7lcRFCtdjmqRCjyZyYwHhrDIkSw+igqd88P4eDLT9rGbUQ2mFVj36lDps8vPeP78V2TyFS9cpPf1vJ64iJpai1JF6ttqyqqjp8VsrnySFrkkmt+ttWWzCFIPbdNhYjmuMs5LEMifFcw8/FF2QKBgQDUzLVjOZGkQRn4DpvVC1rOF2tHBDiEByFNIli+ChzBTSKwGvlKVfbdT4CRFLiKMdFqF7uIij5RYPov006e+hSgeFjWvpX7C2/05vqFBCxUOOiwPk80330lHUXAOLau7zzi3lsni3uM7q7aQ/DTgHHhkosyPMCERp6mtltJylm+0wKBgQCje2gz+5lthj5vciXom2BQdoddNqgw4pZ+gGBzo9Oso04GHGw/W1LbaltiUuPzYEhR1vhdQC+4I6/WXjbe7Cx8+D4dr0dOeZnYVRFotJhjYcGKxxMB4gMG718SDvKX2ZvtHdw9x3eBf6350r+JHmYF9F3Duaeyc6uy2GK8WKQm9wKBgQDIrN+lWgXRex8tQUGNcC7KyWT+TKmrQDoUTn6XgFvLop1Cq71Jb7Xk0HNy3bKFiCNvREAyrAPGpIhrD39GBpnrFnLY2FQBsbB7qFK5m8zeA+jTQ39YYiXXGTrM4e7NG4k0fPJDYZM6vV+hL47tNWSvj42663W1iA9XMgL2nF9zxwKBgQCQ1Ur7CsLhylXUDC/ThJvujSPdjAezz3p+tiM9L/3e64q7VUD9XF3qr64oTMFQo5NOlgHRM4VTQKKOa0d3dYrwaEk3qUqmFosaojrbJWwAV+HMnhOTznTaFwWGDSIVL5+5kYPGY8nXO5OZSYGQ7BJ84gKT3Q3ZxipuNtA6htle/wKBgQCCinGY5lHEElCME9eUHBjW5TEaCo/QEMTjkvqfrdb106FQTvOaoJJVySfR0uNRYQX1PbH+PpvCxFHc4j8pt5gSUSXoQpU5QzzXRVyV+zMCFnL59HV39vGe3A80lUXoNPd8r2IHgBxpoioGkOPHVBD0KasQN2O6I30607Yci3SCww==",o.HW_USERNAME="\u6df1\u5733\u5e02\u68a6\u60f3\u7545\u6e38\u79d1\u6280\u6709\u9650\u516c\u53f8",o.HW_AD_APPID="101047565",o.HW_AD_INSERT="f8c0niitx4",o.HW_AD_BANNER="l9vqrmzo2s",o.HW_AD_VIDEO="t22b7i56qz",o.HW_AD_NATIVE="f67r3akn1u",o.QQ_APPID="1109746474",o.QQ_APPSECRECT="je11nsgwViA3TW9h",o.PAY_ID=["042acbbf1f9b9dd7ca3c55cb1bf0a435","4ec3de260d8c2f8bedf64d37088237ed","f5be555d77b5544587524b615882a778","bdbc8608687e327328acb771e7a43dba","d210441434988db27c70ab4182d30a4b","f9c4d2e15b181ebdca9815a4a95d9610"],o.PAY_PRICE=[2,4,12,24,48,96],o.QQ_AD_BANNER="3591472637956666b590ce38c9614dae",o.QQ_AD_VIDEO="d3f388739a613900d9d6a7d7f5177c87",o.AppID="tt59c62f7bc6fc2bf2",o.TT_AD_BANNER="3pm3jqdn2oj1169c2f",o.TT_AD_INSERT="1hk23c75529hbga7g6",o.TT_AD_VIDEO="e8gp88f88l5a7ilraf",o.TT_APPID="101047565",o);n.exports=i,cc._RF.pop()},{}],CurrSkillLayer_008:[function(e,t,o){"use strict";cc._RF.push(t,"37057Lr4D9HQJgIb4yiqSoS","CurrSkillLayer_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GameMag"),c=i("Config_008"),u=i("GamingData_008"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipsNode=null,t.weaponNode=null,t.commonNode=null,t.currLayout=-1,t.currIndex=-1,t}return r(t,e),t.prototype.onLoad=function(){this.tipsNode.active=!1},t.prototype.onEnable=function(){this.tipsNode.active=!1,this.initEvent(),this.onRefreshUI()},t.prototype.onDisable=function(){this.removeEvent()},t.prototype.onRefreshUI=function(){for(var e=u.default.WeaponIdArr,t=u.default.CommonSkillIdArr,o=function(e){var o=n.commonNode.children[e];e<t.length?(u.default.SkillStateMap.get(t[e])>=5?o.getChildByName("lbl_lv").getComponent(cc.Label).string="MAX":o.getChildByName("lbl_lv").getComponent(cc.Label).string="LV."+u.default.SkillStateMap.get(t[e]),s.default.getInstance().getSpriteFrame(c.default.getItemIconPath(c.SkillConfigMap.get(t[e]).skillId)).then(function(e){o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e})):(o.getChildByName("lbl_lv").getComponent(cc.Label).string="",o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null)},n=this,i=0;i<6;i++)o(i);var a=function(t){var o=r.weaponNode.children[t];t<e.length?(u.default.SkillStateMap.get(e[t])>=5?o.getChildByName("lbl_lv").getComponent(cc.Label).string="MAX":o.getChildByName("lbl_lv").getComponent(cc.Label).string="LV."+u.default.SkillStateMap.get(e[t]),s.default.getInstance().getSpriteFrame(c.default.getItemIconPath(c.SkillConfigMap.get(e[t]).skillId)).then(function(e){o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e})):(o.getChildByName("lbl_lv").getComponent(cc.Label).string="",o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null)},r=this;for(i=0;i<6;i++)a(i)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.prototype.onTouchMove=function(e){var t=e.getLocation(),o=-1,n=-1,i=null;if(this.weaponNode.getBoundingBoxToWorld().contains(t)?(i=this.weaponNode,n=1):(i=this.commonNode,n=2),null!==i)for(var a=i.convertToNodeSpaceAR(t),r=0;r<i.childrenCount;r++)if(Math.abs(a.x-i.children[r].getPosition().x)<=50&&Math.abs(a.y-i.children[r].getPosition().y)<=50){o=r;break}-1===o||n==this.currLayout&&o==this.currIndex||this.onShowSkillDesc(i,o)},t.prototype.onShowSkillDesc=function(e,t){var o;if(e===this.weaponNode){if(this.currLayout=1,o=u.default.WeaponIdArr[t],t>=u.default.WeaponIdArr.length)return}else if(this.currLayout=2,o=u.default.CommonSkillIdArr[t],t>=u.default.CommonSkillIdArr.length)return;this.currIndex=t;var n=e.children[t];this.tipsNode.active=!0;var i=c.SkillConfigMap.get(o),a=i.skillName+": ";if(o<200){var r=u.default.SkillStateMap.get(o);a+=i.skillDescArr[r>=5?4:r]}else a+=i.skillDescArr[0];this.tipsNode.getChildByName("lbl_desc").getComponent(cc.Label).string=a;var l=n.getPosition().x;l>185&&(l=185);var s=this.tipsNode.parent.convertToNodeSpaceAR(n.convertToWorldSpaceAR(cc.v2(0,100))).y;this.tipsNode.setPosition(l,s),this.tipsNode.getChildByName("bottom").setPosition(this.tipsNode.convertToNodeSpaceAR(n.convertToWorldSpaceAR(cc.Vec2.ZERO)).x,-44.5)},t.prototype.onTouchEnd=function(){this.tipsNode.active=!1,this.currIndex=-1,this.currLayout=-1},l([f(cc.Node)],t.prototype,"tipsNode",void 0),l([f(cc.Node)],t.prototype,"weaponNode",void 0),l([f(cc.Node)],t.prototype,"commonNode",void 0),l([h],t)}(cc.Component);a.default=d,cc._RF.pop()},{}],DX_Breath:[function(e,t,o){"use strict";cc._RF.push(t,"1c078x4MzFB1KRAXOdpGGCO","DX_Breath");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.durTime=1.6,t.maxScale=1.1,t.startScale=1,t.isBeTakenOver=!1,t}return a(t,e),t.prototype.onLoad=function(){this.startScale=this.node.scale},t.prototype.onEnable=function(){this.isBeTakenOver||this.play()},t.prototype.onDisable=function(){this.stop()},t.prototype.stop=function(e){void 0===e&&(e=!1),this.isBeTakenOver=e,cc.Tween.stopAllByTarget(this.node)},t.prototype.play=function(){this.isBeTakenOver=!1,cc.tween(this.node).repeatForever(cc.tween().to(this.durTime/2,{scale:this.maxScale*this.startScale}).to(this.durTime/2,{scale:this.startScale})).start()},r([c(cc.Float)],t.prototype,"durTime",void 0),r([c(cc.Float)],t.prototype,"maxScale",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],DX_NodeShow_UpToBottom:[function(e,t,o){"use strict";cc._RF.push(t,"fdb75qqAEBP47Xo8YUf+QhG","DX_NodeShow_UpToBottom");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("DX_Breath"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tweenTime=.2,t.intervalTime=.2,t.delayTime=.1,t.nodeArr=[],t}return r(t,e),t.prototype.onEnable=function(){for(var e=0;e<this.nodeArr.length;e++)this.nodeArr[e].scale=0,this.nodeArr[e].getComponent(s.default)&&this.nodeArr[e].getComponent(s.default).stop(!0)},t.prototype.show=function(){var e=this,t=0;this.schedule(function(){var o=t;cc.tween(e.nodeArr[o]).to(e.tweenTime,{scale:1}).call(function(){e.nodeArr[o].getComponent(s.default)&&e.nodeArr[o].getComponent(s.default).play()}).start(),t++},this.intervalTime,this.nodeArr.length-1,this.delayTime)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},l([p(cc.Float)],t.prototype,"tweenTime",void 0),l([p(cc.Float)],t.prototype,"intervalTime",void 0),l([p(cc.Float)],t.prototype,"delayTime",void 0),l([p([cc.Node])],t.prototype,"nodeArr",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],DropItemMag_008:[function(e,t,o){"use strict";cc._RF.push(t,"deb93VomSNJbYgVL0rRcGtx","DropItemMag_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("AudioMag"),u=i("NodePoolManager"),p=i("Config_008"),h=i("EffectMag_008"),f=i("GamingData_008"),d=i("BaseDropItem_008"),_=i("BoxDropItem_008"),y=cc._decorator,m=y.ccclass,g=(y.property,new cc.Vec2(0,100)),v=new cc.Vec2(0,200),b=new cc.Vec2(0,-100),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currDropItemCount=0,t.dropItemArr=[],t.isOnMagnet=!1,t.magnetTimer=0,t.activationEventMap=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this,this.onInitActivationEvent()},t.prototype.onAddExpGemstoneToList=function(e){this.dropItemArr.push(e)},t.prototype.onRecoveryDropItem=function(e){e.getComponent(d.default).onRecoveryShowNode(),u.default.getInstance().recoveryNode(p.default.Key_DropItem,e),this.currDropItemCount-=1;var t=this.dropItemArr.indexOf(e);-1!==t&&this.dropItemArr.splice(t,1)},t.prototype.onRecoveryBox=function(e){u.default.getInstance().recoveryNode(p.default.Key_Box,e)},t.prototype.lateUpdate=function(e){if(!f.default.isGamePause){for(var t=f.default.PlayerNode.getPosition(),o=f.default.PlayerMagnetRange,n=this.isOnMagnet?p.default.DropItemFlyingSpeed_Magnet:p.default.DropItemFlyingSpeed,i=this.dropItemArr.length-1;i>=0;i--){var a=t.sub(this.dropItemArr[i].getPosition()).magSqr()<=o;(a||this.isOnMagnet)&&this.dropItemArr[i].emit(p.default.e_DropItemFlyToPlayer,f.default.PlayerNode,n,a,this.isOnMagnet)}this.magnetTimer>0&&(this.magnetTimer-=e,this.magnetTimer<=0&&(this.isOnMagnet=!1,this.onStopMagnet()))}},t.prototype.onEnemyDropLogic=function(e,t,o){var n=[];if(o&&f.default.isEquipRotatingKnife)for(var i=s.RandomUtils.getRandomInt(1,3),a=0;a<i;a++)n.push(p.DropItemType.Weapon);for(a=0;a<t.length;a++)if(s.RandomUtils.getRandomProbability_10000()+f.default.PlayerGamingInfo.lucky<t[a].p&&p.DropItemGroupConfigMap.has(t[a].i)){for(var r=p.DropItemGroupConfigMap.get(t[a].i),l=0,c=0;c<r.itemIdAndWeightArr.length;c++)l+=r.itemIdAndWeightArr[c][1];var u=0,h=s.RandomUtils.getRandomInt(0,l);for(c=0;c<r.itemIdAndWeightArr.length;c++)if(h<(u+=r.itemIdAndWeightArr[c][1])){n.push(r.itemIdAndWeightArr[c][0]);break}}var d=n.length;if(d>1){var _=360/d*Math.PI/180;for(a=0;a<d;a++){var y=a*_,m=e.x+120*Math.cos(y),g=e.y+120*Math.sin(y);this.onDropItem(cc.v2(m,g),n[a])}}else for(a=0;a<d;a++)this.onDropItem(e,n[a])},t.prototype.onDropItem=function(e,t){if(p.DropItemConfigMap.has(t)){if(this.currDropItemCount>=p.default.MaxDropItemCount)return;this.currDropItemCount+=1;var o=u.default.getInstance().getNodeNotNull(p.DropItemConfigMap.get(t));if(null!==o){var n=u.default.getInstance().getNodeNotNull(p.default.Key_DropItem);n.setParent(f.default.GameObjNode),n.setPosition(e.add(g)),n.zIndex=-n.getPosition().y,cc.tween(n).bezierBy(.5,v,v,b).call(this.onAddExpGemstoneToList.bind(this,n)).start(),n.getComponent(d.default).onInit(t,o)}}else if(t>=p.DropItemType.Box_1&&t<=p.DropItemType.Box_3){var i=u.default.getInstance().getNodeNotNull(p.default.Key_Box);null!==i&&(i.setParent(f.default.GameObjNode),i.setPosition(e.add(g)),i.zIndex=-i.getPosition().y,i.getComponent(_.default).onInit(t+1-p.DropItemType.Box_1))}},t.prototype.onMagnet=function(){c.default.getInstance().playSound_loop(p.default.SEF_Magnet),f.default.func_onPlayerEFStateChange_Magnet&&f.default.func_onPlayerEFStateChange_Magnet(!0),this.isOnMagnet=!0,this.magnetTimer=p.default.MagnetItemDuration},t.prototype.onStopMagnet=function(){c.default.getInstance().stopSound_loop(p.default.SEF_Magnet),this.isOnMagnet=!1,this.magnetTimer=-1,f.default.func_onPlayerEFStateChange_Magnet&&f.default.func_onPlayerEFStateChange_Magnet(!1)},t.prototype.onStopGame=function(){this.isOnMagnet=!1,this.magnetTimer=-1;for(var e=f.default.GameObjNode.childrenCount-1;e>=0;e--)f.default.GameObjNode.children[e].getComponent(d.default)?this.onRecoveryDropItem(f.default.GameObjNode.children[e]):f.default.GameObjNode.children[e].getComponent(_.default)&&this.onRecoveryBox(f.default.GameObjNode.children[e]);this.dropItemArr=[],this.currDropItemCount=0},t.prototype.onActivation=function(e,t){this.activationEventMap.has(e)&&this.activationEventMap.get(e)(),this.onRecoveryDropItem(t)},t.prototype.onInitActivationEvent=function(){var e=this;this.activationEventMap=new Map,this.activationEventMap.set(p.DropItemType.ExpGemstone_1,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Expstone,50),f.default.onIncreaseExp(10)}),this.activationEventMap.set(p.DropItemType.ExpGemstone_2,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Expstone,50),f.default.onIncreaseExp(200)}),this.activationEventMap.set(p.DropItemType.ExpGemstone_3,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Expstone,50),f.default.onIncreaseExp(1e3)}),this.activationEventMap.set(p.DropItemType.AlchemyPullet,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp,50),f.default.onPickUpAlchemyPullet()}),this.activationEventMap.set(p.DropItemType.Magnet,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp,50),e.onMagnet()}),this.activationEventMap.set(p.DropItemType.NuclearBomb,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp,50),h.default.ins.onPlayNuclearBombAni(f.default.PlayerNode.getPosition())}),this.activationEventMap.set(p.DropItemType.Chichen,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp,50),f.default.onEatChichen()}),this.activationEventMap.set(p.DropItemType.Weapon,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp,50),f.default.func_onPlayerPickUpWeapon&&f.default.func_onPlayerPickUpWeapon()}),this.activationEventMap.set(p.DropItemType.Coin_1,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Coin,50),f.default.onPickUpCoin(5)}),this.activationEventMap.set(p.DropItemType.Coin_2,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Coin,50),f.default.onPickUpCoin(20)}),this.activationEventMap.set(p.DropItemType.Coin_3,function(){c.default.getInstance().playSound_intervalLimit(p.default.SEF_PickUp_Coin,50),f.default.onPickUpCoin(50)})},t.ins=null,o=l([m],t)}(cc.Component);a.default=P,cc._RF.pop()},{}],Dx_BtnToggle:[function(e,t,o){"use strict";cc._RF.push(t,"b11d6u677pIV6qkQVUAw9Sg","Dx_BtnToggle");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sf_checked=null,t.sf_unChecked=null,t.m_sprite=null,t.isChecked=!0,t.m_onClickCB=null,t}return a(t,e),t.prototype.onLoad=function(){this.m_sprite=this.node.getComponent(cc.Sprite),this.m_sprite.spriteFrame=this.sf_checked},t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.isChecked=!e.isChecked,e.onRefresh(),e.m_onClickCB&&e.m_onClickCB(e.isChecked)},this)},t.prototype.onRefresh=function(){this.m_sprite.spriteFrame=this.isChecked?this.sf_checked:this.sf_unChecked},t.prototype.addListener=function(e){this.m_onClickCB=e},t.prototype.removeAllListener=function(){this.m_onClickCB=null},r([c(cc.SpriteFrame)],t.prototype,"sf_checked",void 0),r([c(cc.SpriteFrame)],t.prototype,"sf_unChecked",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],EF_PickUpWeapon_008:[function(e,t,o){"use strict";cc._RF.push(t,"170b2IMXxhBs7Ieamt2pIvH","EF_PickUpWeapon_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("NodePoolManager"),c=i("Config_008"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){var e=this;this.node.scale=2,this.node.setPosition(0,400),this.node.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),cc.tween(this.node).delay(1).call(function(){e.onRecovery()}).start()},t.prototype.onRecovery=function(){s.default.getInstance().recoveryNode(c.default.Key_EF_PickUpWeapon,this.node)},l([p],t)}(cc.Component));a.default=h,cc._RF.pop()},{}],EffectMag_008:[function(e,t,o){"use strict";cc._RF.push(t,"429eb+zoVpJ1L4xqTPbtuEJ","EffectMag_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("NodePoolManager"),c=i("Config_008"),u=i("AniEffectNode_008"),p=i("EffectNode_008"),h=cc._decorator,f=h.ccclass,d=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this},t.prototype.onPlaySparkAni=function(e){var t=s.default.getInstance().getNode(c.default.Key_EF_Spark);null!==t&&(t.setParent(this.node),t.setPosition(this.node.convertToNodeSpaceAR(e)),t.getComponent(p.default).onInit(this.onRecoveryNode.bind(this,c.default.Key_EF_Spark,t)))},t.prototype.onPlayNuclearBombAni=function(e){var t=s.default.getInstance().getNodeNotNull(c.default.Key_EF_NuclearBomb);null!==t&&(t.setParent(this.node),t.setPosition(e))},t.prototype.onPlayEnemyDieEffect=function(e,t,o){var n=s.default.getInstance().getNodeNotNull(c.default.Key_EF_EnemyDie);null!==n&&(n.setParent(this.node),n.setPosition(e),n.getComponent(u.default).onInit(this.onRecoveryNode.bind(this,c.default.Key_EF_EnemyDie,n)),cc.tween(n).by(o,{x:t.x,y:t.y}).start())},t.prototype.onRecoveryNode=function(e,t){s.default.getInstance().recoveryNode(e,t)},t.ins=null,o=l([f],t)}(cc.Component));a.default=d,cc._RF.pop()},{}],EffectNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"c331d44vdZGKo9c8PBWJ5vC","EffectNode_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.duration=.5,t}return a(t,e),t.prototype.onInit=function(e){this.spine.setAnimation(0,this.spine.animation,!1),this.scheduleOnce(e,this.duration)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},r([c(sp.Skeleton)],t.prototype,"spine",void 0),r([c(cc.Float)],t.prototype,"duration",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],EnemyKnife_008:[function(e,t,o){"use strict";cc._RF.push(t,"22104D3TWFDjpdvCse0AX5P","EnemyKnife_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("NodePoolManager"),u=i("Config_008"),p=i("EffectMag_008"),h=i("GamingData_008"),f=i("FlyingKnife_008"),d=cc._decorator,_=d.ccclass,y=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.indexOffset=420,t.bulletRotateSpeed=180,t.enemy=null,t.damagePoint=20,t.isAlive=!1,t}return r(t,e),t.prototype.onInit=function(e,t,o){this.enemy=e,this.isAlive=!0,this.bulletRotateSpeed=t,this.damagePoint=o},t.prototype.lateUpdate=function(e){this.node.opacity=h.default.RenderRect.contains(this.node.getPosition())?255:0,this.node.zIndex=-this.node.getPosition().y+(this.node.angle%360>180?this.indexOffset:0),h.default.isGamePause||(this.node.angle+=e*this.bulletRotateSpeed)},t.prototype.onRemoveSelf=function(){this.isAlive=!1,this.enemy.onRemoveBullet(this.node)},t.prototype.onFireFlyingKnife=function(){if(this.node.parent){var e=c.default.getInstance().getNodeNotNull(u.default.Key_FlyingKnife);null!==e&&(e.opacity=0,e.setParent(h.default.GameObjNode),e.getComponent(f.default).onInit(this.node.getChildByName("sprite"),this.damagePoint,3))}else console.log("\u8fd9\u628a\u5200\u6ca1\u6709\u7236\u8282\u70b9\u4e86")},t.prototype.onCollisionEnter=function(e){this.isAlive&&(e.node.group===u.default.STR_NodeGroup_PlayerBullet&&1===e.tag?(s.default.getInstance().playSound(u.default.SEF_WWHit),p.default.ins.onPlaySparkAni(e.node.convertToWorldSpaceAR(u.default.KnifeSparkEffectOffset)),this.onFireFlyingKnife(),this.onRemoveSelf(),h.default.func_removePlayeBullet(e.node)):e.node.group===u.default.STR_NodeGroup_Player&&h.default.onAttackPlayer(this.damagePoint,!1))},l([y(cc.Integer)],t.prototype,"indexOffset",void 0),l([_],t)}(cc.Component);a.default=m,cc._RF.pop()},{}],EnemyManager_008:[function(e,t,o){"use strict";cc._RF.push(t,"d5eefcsdzBKwZeg3234F1V8","EnemyManager_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("GameMag"),h=i("NodePoolManager"),f=i("Config_008"),d=i("GamingData_008"),_=i("BaseEnemy_008"),y=i("Entities_008"),m=cc._decorator,g=m.ccclass,v=m.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameCamera=null,t.hpBarNodeParentNode=null,t.tiemr_autoResetPos=0,t.enemyGenerateData=null,t.generatorIndex=0,t.enemyGeneratorArr=null,t.lastTime=900,t.enemyArr=[],t.currEnemyCount=0,t.isOnNuclearBomb=!1,t.nearestEnemyArr=null,t.isUpdateNearestEnemyArr=!1,t.onScreenEnemyArr=null,t.isUpdateOnScreenEnemyArr=!1,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this;var e=cc.winSize.height/1280;this.gameCamera.orthoSize=f.default.CameraOrthoSize*e,d.default.cameraHalfWidth=cc.winSize.width*this.gameCamera.orthoSize/cc.winSize.height,d.default.cameraHalfHeight=this.gameCamera.orthoSize,d.default.func_onSkillInScreenEnemy=this.onKillInScreenEnemy.bind(this),this.nearestEnemyArr=[];for(var t=0;t<10;t++)this.nearestEnemyArr.push(null)},t.prototype.onInit=function(e){var t=this;return new Promise(function(o){p.default.getInstance().getJson(e).then(function(e){if(null!==e){var n=e;t.enemyGenerateData=n.EnemyGenerateConfig,t.lastTime=0;for(var i=0;i<t.enemyGenerateData.length;i++)t.enemyGenerateData[i].time+t.enemyGenerateData[i].generateTime>t.lastTime&&(t.lastTime=t.enemyGenerateData[i].time+t.enemyGenerateData[i].generateTime)}d.default.timer=0,t.tiemr_autoResetPos=0,t.generatorIndex=0,t.enemyGeneratorArr=[],o(null)})})},t.prototype.onStopGame=function(){this.isOnNuclearBomb=!1,this.enemyGeneratorArr=[];for(var e=0;e<this.enemyArr.length;e++)this.enemyArr[e].getComponent(_.default).onRecovery();for(this.enemyArr=[],e=0;e<10;e++)this.nearestEnemyArr[e]=null;this.onScreenEnemyArr=null},t.prototype.update=function(e){if(!d.default.isGamePause){if(this.isUpdateNearestEnemyArr=!1,this.isUpdateOnScreenEnemyArr=!1,d.default.timer+=e,d.default.func_refreshTimeLabel&&d.default.func_refreshTimeLabel(d.default.timer),!this.isOnNuclearBomb){this.onTrySetGenerator();for(var t=this.enemyGeneratorArr.length-1;t>=0;t--)this.enemyGeneratorArr[t].update(e)&&this.enemyGeneratorArr.splice(t,1)}this.tiemr_autoResetPos+=e,this.tiemr_autoResetPos>f.default.AutoResetEnemyPosInterval&&(this.tiemr_autoResetPos=0,this.onAutoResetPos())}},t.prototype.onDestroy=function(){},t.prototype.onTrySetGenerator=function(){if(!(this.generatorIndex>=this.enemyGenerateData.length))for(;d.default.timer>this.enemyGenerateData[this.generatorIndex].time;){var e=this.enemyGenerateData[this.generatorIndex],t=e.generateTime/(e.generateCount-1>0?e.generateCount-1:1),o=e.generateCount-1,n=f.EnemyConfigMap.get(e.targetId);if(this.enemyGeneratorArr.push(new y.EnemyGenerator(this.onTryGenerateEnemy.bind(this,n,e.enemyLv),t,o,0)),this.generatorIndex+=1,this.generatorIndex>=this.enemyGenerateData.length)break}},t.prototype.onTryGenerateEnemy=function(e,t){return s(this,void 0,void 0,function(){var o,n,i;return c(this,function(a){switch(a.label){case 0:return this.currEnemyCount>=f.default.MaxEnemyCount?[2]:(f.EnemyPrefabConfigMap.has(e.prefabId)?o=f.EnemyPrefabConfigMap.get(e.prefabId):(cc.log("\u6ca1\u6709\u8fd9\u4e2a\u9884\u5236id ==> "+e.prefabId),o=f.EnemyPrefabConfigMap.get(0)),h.default.getInstance().isHasNodePool(o)?[3,2]:[4,h.default.getInstance().onInitNodePool({key:o,prePath:o,count:1})]);case 1:a.sent(),a.label=2;case 2:return null===(n=h.default.getInstance().getNodeNotNull(o))?[2]:(i=this.getEnemyInitPos(),n.setParent(d.default.GameObjNode),n.setPosition(i),n.getComponent(_.default).onInit(d.default.PlayerNode,this.onRecoveryEnemy.bind(this,n,o),this.onPreRecoveryEnemy.bind(this,n,o),e,t,this.hpBarNodeParentNode),this.currEnemyCount+=1,this.enemyArr.push(n),[2])}})})},t.prototype.getEnemyInitPos=function(){var e=cc.Vec2.ZERO,t=u.RandomUtils.getRandomInt(0,3),o=this.gameCamera.node.getPosition().x,n=this.gameCamera.node.getPosition().y,i=d.default.cameraHalfWidth,a=this.gameCamera.orthoSize;return 0===t?(e.y=n+a+u.RandomUtils.getRandomInt(200,500),e.x=o+u.RandomUtils.getRandomInt(-i-300,i+300)):1===t?(e.y=n-a-u.RandomUtils.getRandomInt(400,700),e.x=o+u.RandomUtils.getRandomInt(-i-300,i+300)):2===t?(e.x=o-i-u.RandomUtils.getRandomInt(200,500),e.y=n+u.RandomUtils.getRandomInt(-a-300,a+300)):3===t&&(e.x=o+i+u.RandomUtils.getRandomInt(200,500),e.y=n+u.RandomUtils.getRandomInt(-a-300,a+300)),e},t.prototype.onPreRecoveryEnemy=function(e,t){var o=this,n=this.enemyArr.indexOf(e);-1!==n&&this.enemyArr.splice(n,1),this.scheduleOnce(function(){o.currEnemyCount-=1,h.default.getInstance().recoveryNode(t,e),d.default.timer>o.lastTime&&0===o.currEnemyCount&&d.default.onGameSucc()},.8)},t.prototype.onRecoveryEnemy=function(e,t){this.currEnemyCount-=1,h.default.getInstance().recoveryNode(t,e)},t.prototype.onAutoResetPos=function(){for(var e=0;e<this.enemyArr.length;e++)this.enemyArr[e].getPosition().sub(d.default.PlayerNode.getPosition()).magSqr()>f.default.AudoResetEnemyPosDisThreshold&&this.enemyArr[e].getComponent(_.default).onResetPos(this.getEnemyInitPos())},t.prototype.onKillInScreenEnemy=function(){return s(this,void 0,void 0,function(){var e,t,o,n;return c(this,function(i){switch(i.label){case 0:if(this.isOnNuclearBomb)return[2];this.isOnNuclearBomb=!0,e=new cc.Rect,t=cc.winSize.width*this.gameCamera.orthoSize/cc.winSize.height,e.x=this.gameCamera.node.getPosition().x-t,e.y=this.gameCamera.node.getPosition().y-this.gameCamera.orthoSize-100,e.width=2*t,e.height=2*this.gameCamera.orthoSize+200,o=0,n=this.enemyArr.length-1,i.label=1;case 1:return n>=0&&this.isOnNuclearBomb?e.contains(this.enemyArr[n].getPosition())?(this.enemyArr[n].emit(f.default.e_OnEnemyAttacked_NuclearBomb,f.default.Num_NuclearBombPower,f.default.Color_NuclearBomb),(o+=1)>=25?(o=0,[4,this.wait(0)]):[3,3]):[3,3]:[3,4];case 2:i.sent(),i.label=3;case 3:return n--,[3,1];case 4:return this.isOnNuclearBomb=!1,[2]}})})},t.prototype.onCheat_jumpTime=function(e){d.default.timer+=e,d.default.func_refreshTimeLabel&&d.default.func_refreshTimeLabel(d.default.timer),this.onTrySetGenerator();for(var t=this.enemyGeneratorArr.length-1;t>=0;t--)this.enemyGeneratorArr[t].jumpTime(e)&&this.enemyGeneratorArr.splice(t,1)},t.prototype.wait=function(e){var t=this;return new Promise(function(o){t.scheduleOnce(o,e)})},t.prototype.updateNearestEnemyArr=function(){if(!this.isUpdateNearestEnemyArr)if(this.isUpdateNearestEnemyArr=!0,this.updateOnScreenEnemyArr(),this.onScreenEnemyArr.length>10)for(var e=d.default.PlayerNode.getPosition(),t=0,o=0;o<10;o++){for(var n=Number.MAX_VALUE,i=-1,a=0;a<this.onScreenEnemyArr.length;a++){var r=e.sub(this.onScreenEnemyArr[o].getPosition()).magSqr();r>t&&r<n&&(i=a,n=r)}-1!==i&&(t=n,this.nearestEnemyArr[o]=this.onScreenEnemyArr[i])}else{var l=this.onScreenEnemyArr.length;for(o=0;o<l;o++)this.nearestEnemyArr[o]=this.onScreenEnemyArr[o];for(o=l;o<10;o++)this.nearestEnemyArr[o]=null}},t.prototype.updateOnScreenEnemyArr=function(){if(!this.isUpdateOnScreenEnemyArr){this.isUpdateOnScreenEnemyArr=!0,this.onScreenEnemyArr=[];for(var e=0;e<this.enemyArr.length;e++)this.enemyArr[e].opacity<=0||this.onScreenEnemyArr.push(this.enemyArr[e])}},t.prototype.getNearestEnemyPos=function(){return this.updateNearestEnemyArr(),this.nearestEnemyArr[0]?this.nearestEnemyArr[0].getPosition():null},t.prototype.getNearestEnemy=function(){return this.updateNearestEnemyArr(),this.nearestEnemyArr[0]?this.nearestEnemyArr[0]:null},t.prototype.getRandomEnemyPos=function(){return this.updateOnScreenEnemyArr(),this.onScreenEnemyArr.length>0?this.onScreenEnemyArr[u.RandomUtils.getRandomFormArray(this.onScreenEnemyArr)].getPosition():null},t.prototype.getRandomEnemy=function(){return this.updateOnScreenEnemyArr(),this.onScreenEnemyArr.length>0?this.onScreenEnemyArr[u.RandomUtils.getRandomFormArray(this.onScreenEnemyArr)]:null},t.prototype.getRandomEnemyInRange=function(e){this.updateOnScreenEnemyArr();for(var t=[],o=e*e,n=d.default.PlayerNode.getPosition(),i=0;i<this.onScreenEnemyArr.length;i++)this.onScreenEnemyArr[i].getPosition().sub(n).magSqr()<=o&&t.push(this.onScreenEnemyArr[i]);return t.length>0?t[u.RandomUtils.getRandomFormArray(t)].getPosition():null},t.prototype.getRangeEnemy=function(e,t){for(var o=[],n=t*t,i=0;i<this.enemyArr.length;i++)this.enemyArr[i].opacity<=0||this.enemyArr[i].getPosition().sub(e).magSqr()<=n&&o.push(this.enemyArr[i]);return o},t.prototype.getNearestEnemyPoss=function(e){return this.updateNearestEnemyArr(),e>10&&(e=10),this.nearestEnemyArr.slice(0,e)},t.ins=null,l([v(cc.Camera)],t.prototype,"gameCamera",void 0),l([v(cc.Node)],t.prototype,"hpBarNodeParentNode",void 0),o=l([g],t)}(cc.Component);a.default=b,cc._RF.pop()},{}],EnemyTrail_008:[function(e,t,o){"use strict";cc._RF.push(t,"98c5cGz0klOpLNIiYiCQisw","EnemyTrail_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],Entities_008:[function(e,t,o){"use strict";cc._RF.push(t,"e7d6csnp8tFhaxDE/fR7b4Q","Entities_008");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.BoxData=n.BoxItemRewardData=n.SkillConfigData=n.PlayerData_008=n.PelletData=n.PlayerLevelInfoData=n.EnemyGenerator=n.GeneratorDataConfig=n.EnemyGenerateData=n.EnemyData=n.DropItemGroupData=n.DropData=n.PlayerGamingInfo_008=void 0,n.PlayerGamingInfo_008=function(){},n.DropData=function(){},n.DropItemGroupData=function(){},n.EnemyData=function(){},n.EnemyGenerateData=function(){},n.GeneratorDataConfig=function(){};var i=function(){function e(e,t,o,n){this.timer=0,this.lastTimer=0,this.interval=0,this.repeat=0,this.callback=null,this.delay=0,this.callback=e,this.interval=t,this.repeat=o,this.timer=n>0?-n:0,this.lastTimer=-t}return e.prototype.update=function(e){for(this.timer+=e;this.timer>this.lastTimer+this.interval&&(this.callback(),this.lastTimer+=this.interval,this.repeat-=1,!(this.repeat<0)););return this.repeat<0},e.prototype.jumpTime=function(e){if(this.interval>0){var t=Math.floor((this.timer-this.lastTimer+e)/this.interval);this.repeat-=t,this.lastTimer+=this.interval*t}else this.repeat=-1;return this.timer+=e,this.repeat<0},e}();n.EnemyGenerator=i,n.PlayerLevelInfoData=function(){},n.PelletData=function(){},n.PlayerData_008=function(){this.dataVersion=-1,this.lv=1,this.curExp=0,this.isGuideAlchemy=!1,this.numberOfAlchemy=0,this.alchemyTimer=0,this.alchemyTotalTime=0,this.bulletRotateSpeed=180,this.bulletCount=6,this.coolDownTime=5,this.magnetRange=300,this.maxHp=500,this.damagePoint=100,this.armor=0,this.moveSpeed=200,this.restoreLife=.5,this.expBonus=0,this.lucky=0,this.alchemy_maxHp=0,this.alchemy_damagePoint=0,this.alchemy_armor=0,this.alchemy_moveSpeed=0,this.alchemy_restoreLife=0,this.alchemy_expBonus=0,this.alchemy_lucky=0,this.coinCount=0},n.SkillConfigData=function(){},n.BoxItemRewardData=function(){},n.BoxData=function(){},cc._RF.pop()},{}],ExpBarNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"1c0f07+D0JPNL6doYxVv8/2","ExpBarNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GamingData_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expBar=null,t.sf_1=null,t.sf_2=null,t.ani_2=null,t}return r(t,e),t.prototype.onRefreshExpBar=function(e,t){var o=this;t?(cc.Tween.stopAllByTarget(this.expBar),this.unscheduleAllCallbacks(),cc.tween(this.expBar).to(.2,{fillRange:e}).call(function(){e>=1&&(o.expBar.spriteFrame=o.sf_2,o.ani_2.play(),o.scheduleOnce(function(){o.expBar.fillRange=0,o.expBar.spriteFrame=o.sf_1,s.default.func_refreshExpLvLabel&&s.default.func_refreshExpLvLabel(s.default.currLv+1)},.6))}).start()):this.expBar.fillRange=e},l([p(cc.Sprite)],t.prototype,"expBar",void 0),l([p(cc.SpriteFrame)],t.prototype,"sf_1",void 0),l([p(cc.SpriteFrame)],t.prototype,"sf_2",void 0),l([p(cc.Animation)],t.prototype,"ani_2",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],ExpstoneShowNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"53507QhIM5KLZCJEY/4ErR9","ExpstoneShowNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.sfArr=[],t}return r(t,e),t.prototype.onEnable=function(){this.node.on(s.default.e_RefreshExpstoneSF,this.onRefresh,this)},t.prototype.onDisable=function(){this.node.off(s.default.e_RefreshExpstoneSF,this.onRefresh,this)},t.prototype.onRefresh=function(e){this.sprite.spriteFrame=this.sfArr[e-s.DropItemType.ExpGemstone_1]},l([p(cc.Sprite)],t.prototype,"sprite",void 0),l([p([cc.SpriteFrame])],t.prototype,"sfArr",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],FloatPair:[function(e,t,o){"use strict";cc._RF.push(t,"dfbbbwxX55GSbazLjagSF6O","FloatPair");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.FloatPair=void 0;var i=function(){function e(e,t){this._a=e,this._b=t}return e.inf=function(e,t){return e._a<t._a||!(t._a<e._a)&&e._b<t._b},e.inf_equal=function(e,t){return e._a==t._a&&e._b==t._b||e<t},e.sup=function(t,o){return!e.inf_equal(t,o)},e.sup_equal=function(){return!e.inf},e}();n.FloatPair=i,cc._RF.pop()},{}],FloatTextMag_008:[function(e,t,o){"use strict";cc._RF.push(t,"c2b2fpxYUZH8ojvzBytKv21","FloatTextMag_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("NodePoolManager"),u=i("Config_008"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floatTextPre=null,t.currFloatTextCount=0,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this},t.prototype.onDestroy=function(){},t.prototype.onShowFloatText=function(e,t,o){if(void 0===o&&(o=cc.Color.WHITE),!(this.currFloatTextCount>=u.default.MaxFloatTextCount)){var n=c.default.getInstance().getNodeNotNull(u.default.Key_FloatText);n.setParent(this.node),n.setPosition(t),n.getComponent(cc.Label).string=e,n.scale=0,n.opacity=255,n.color=o,cc.tween(n).parallel(cc.tween().to(.4,{scale:.01*s.RandomUtils.getRandomInt(90,110)},{easing:"backOut"}).delay(.2).to(.25,{opacity:0,scale:0}),cc.tween().by(.25,{y:s.RandomUtils.getRandomInt(140,200),x:s.RandomUtils.getRandomInt(-80,80)})).call(this.onRecoveryFloatText.bind(this,n)).start(),this.currFloatTextCount+=1}},t.prototype.onRecoveryFloatText=function(e){this.currFloatTextCount-=1,c.default.getInstance().recoveryNode(u.default.Key_FloatText,e)},t.ins=null,l([f(cc.Prefab)],t.prototype,"floatTextPre",void 0),o=l([h],t)}(cc.Component);a.default=d,cc._RF.pop()},{}],FlyingKnife_008:[function(e,t,o){"use strict";cc._RF.push(t,"7bd3eauDm5PUYw4Fertz9+t","FlyingKnife_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("NodePoolManager"),u=i("Config_008"),p=i("GamingData_008"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxCollider=null,t.sprite=null,t.power=0,t.timer=0,t}return r(t,e),t.prototype.onInit=function(e,t,o){this.sprite.spriteFrame=e.getComponent(cc.Sprite).spriteFrame,this.sprite.node.width=e.width*e.scaleX,this.sprite.node.height=e.height*e.scaleY,this.boxCollider.size.width=this.sprite.node.width,this.boxCollider.size.height=this.sprite.node.height;var n=e.convertToWorldSpaceAR(cc.v2(this.sprite.node.width/2,0));this.node.setPosition(p.default.GameObjNode.convertToNodeSpaceAR(n)),this.node.angle=e.parent.angle,this.moveDir=e.parent.getPosition().sub(p.default.PlayerNode.getPosition()).normalize(),this.power=t,this.timer=o,s.default.getInstance().playSound(u.default.SEF_KnifeFlying)},t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.node.opacity=255},0)},t.prototype.update=function(e){this.node.zIndex=-this.node.getPosition().y,p.default.isGamePause||(this.node.angle+=1800*e,this.node.setPosition(this.node.getPosition().add(this.moveDir.mul(800*e))),this.node.opacity=p.default.RenderRect.contains(this.node.getPosition())?255:0,this.timer-=e,this.timer<=0&&this.onRecovery())},t.prototype.onCollisionEnter=function(e){e.node.group===u.default.STR_NodeGroup_Enemy&&(s.default.getInstance().playSound_intervalLimit(u.default.SEF_WEHit,80),e.node.emit(u.default.e_OnEnemyAttacked,this.power))},t.prototype.onRecovery=function(){c.default.getInstance().recoveryNode(u.default.Key_FlyingKnife,this.node)},l([d(cc.BoxCollider)],t.prototype,"boxCollider",void 0),l([d(cc.Sprite)],t.prototype,"sprite",void 0),l([f],t)}(cc.Component);a.default=_,cc._RF.pop()},{}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"261dfNDDZxFwa5uAjgj9/w7","GameConfig");var n=o;Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.ModeId=0,e.isGamePause=!0,e.playerMoveSpeedRate=1,e.isPlayerOnDefense=!1,e}();n.default=i,cc._RF.pop()},{}],GameMag:[function(e,t,o){"use strict";cc._RF.push(t,"5ce08rS1cZDT5ChX7PvVfaM","GameMag");var n=o,i=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},a=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.bundle=null}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){return i(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(t,o){cc.assetManager.loadBundle("game",function(n,i){n?(console.log(n,"\u52a0\u8f7dgame bundle\u5931\u8d25"),o()):(e.bundle=i,console.log("\u52a0\u8f7dgame bundle\u5b8c\u6210"),t&&t(null))})})]})})},e.prototype.loadLevel=function(t,o){var n=this;if(e._caseLevelPreRes.has(t))return e._caseLevelPreUseTimes.set(t,20),n.tryReleaseLevelRes(),void o(e._caseLevelPreRes.get(t));window.waitingStartFunc&&window.waitingStartFunc("\u8d44\u6e90\u52a0\u8f7d\u4e2d...",!0),this.bundle.load(t,cc.Prefab,function(e,t){window.waitingFunc&&window.waitingFunc(e/t)},function(i,a){window.waitingEndFunc&&window.waitingEndFunc(),i?cc.log(i):(e._caseLevelPreRes.set(t,a),e._caseLevelPreUseTimes.set(t,20),n.tryReleaseLevelRes(),o(a))})},e.prototype.tryReleaseLevelRes=function(){var t=[];e._caseLevelPreUseTimes.forEach(function(o,n){o>1?e._caseLevelPreUseTimes.set(n,o-1):t.push(n)});for(var o=0;o<t.length;o++)e._caseLevelPreUseTimes.has(t[o])&&e._caseLevelPreUseTimes.delete(t[o]),e._caseLevelPreRes.has(t[o])&&e._caseLevelPreRes.delete(t[o])},e.prototype.getPrefab=function(t){return i(this,void 0,Promise,function(){var o=this;return a(this,function(){return[2,new Promise(function(n){e._casePrefabRes[t]?n(e._casePrefabRes[t]):o.bundle?o.bundle.load(t,cc.Prefab,function(o,i){o&&(cc.log(o),n(null)),e._casePrefabRes[t]=i,n(i)}):n(null)})]})})},e.prototype.getSpriteFrame=function(t){return i(this,void 0,Promise,function(){var o=this;return a(this,function(){return[2,new Promise(function(n){e._caseSpriteFrameRes[t]?n(e._caseSpriteFrameRes[t]):o.bundle?o.bundle.load(t,cc.SpriteFrame,function(o,i){o&&(cc.log(o),n(null)),e._caseSpriteFrameRes[t]=i,n(i)}):n(null)})]})})},e.prototype.getJson=function(e){return i(this,void 0,Promise,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){if(t.bundle){var n=t;t.bundle.load(e,cc.JsonAsset,function(t,i){t&&(cc.log(t),o(null));var a=i.json;n.bundle.release(e,cc.JsonAsset),o(a)})}else o(null)})]})})},e._casePrefabRes={},e._caseSpriteFrameRes={},e._caseLevelPreRes=new Map,e._caseLevelPreUseTimes=new Map,e}();n.default=r,cc._RF.pop()},{}],GameManager_008:[function(e,t,o){"use strict";cc._RF.push(t,"9b728cnN05E2br5w7jfpwT+","GameManager_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Simulator"),c=i("Vector2"),u=i("GamingData_008"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameCamera=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this},t.prototype.onEnable=function(){this.onInitSimulator()},t.prototype.update=function(e){u.default.isGamePause||(u.default.ScreenRect.x=this.gameCamera.node.getPosition().x-u.default.cameraHalfWidth,u.default.ScreenRect.y=this.gameCamera.node.getPosition().y-this.gameCamera.orthoSize,u.default.ScreenRect.width=2*u.default.cameraHalfWidth,u.default.ScreenRect.height=2*this.gameCamera.orthoSize,u.default.RenderRect.x=u.default.ScreenRect.x-75,u.default.RenderRect.y=u.default.ScreenRect.y-75,u.default.RenderRect.width=u.default.ScreenRect.width+150,u.default.RenderRect.height=u.default.ScreenRect.height+150,u.default.ColliderRect.x=u.default.ScreenRect.x-200,u.default.ColliderRect.y=u.default.ScreenRect.y-200,u.default.ColliderRect.width=u.default.ScreenRect.width+400,u.default.ColliderRect.height=u.default.ScreenRect.height+400,s.Simulator.Instance().setTimeStep(e),s.Simulator.Instance().doStep())},t.prototype.onInitSimulator=function(){s.Simulator.Instance().clear(),s.Simulator.Instance().setAgentDefaults(120,6,5,0,60,100)},t.prototype.addNewAgent=function(e){var t=new c.Vector2(e.getPosition().x,e.getPosition().y);return s.Simulator.Instance().addNewAgent(t)},t.prototype.addAgent=function(e,t){var o=new c.Vector2(t.getPosition().x,t.getPosition().y);s.Simulator.Instance().addAgent(e,o)},t.prototype.removeAgent=function(e){return s.Simulator.Instance().removeAgent(e)},t.prototype.setAgentPrefVelocity=function(e,t){s.Simulator.Instance().setAgentPrefVelocity(e,t)},t.prototype.getAgentPosition=function(e){var t=s.Simulator.Instance().getAgentPosition(e);return cc.v2(t.x,t.y)},t.prototype.setAgentPosition=function(e,t){s.Simulator.Instance().setAgentPosition(e,new c.Vector2(t.x,t.y))},t.ins=null,l([f(cc.Camera)],t.prototype,"gameCamera",void 0),o=l([h],t)}(cc.Component);a.default=d,cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"0bcf3dbPYNKqISk4FhJ69ok","GameManager");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GameConfig"),c=i("LevelConfig"),u=i("GameMag"),p=cc._decorator,h=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currLevelNode=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this,u.default.getInstance().init(),this.scheduleOnce(function(){this.onStartGame()},1)},t.prototype.onStartGame=function(){var e=this;s.default.isGamePause=!0,u.default.getInstance().loadLevel(c.default.config[7].prePath,function(t){var o=cc.instantiate(t);e.node.addChild(o),e.currLevelNode=o})},t.prototype.onStopGame=function(){s.default.isGamePause=!0,null!=this.currLevelNode&&(this.currLevelNode.destroy(),this.currLevelNode=null)},t.ins=null,o=l([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{}],GameUI:[function(e,t,o){"use strict";cc._RF.push(t,"f6c3eo1J31HO5JgqSn8KfmK","GameUI");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0}),i("GameConfig");var s=i("AudioMag"),c=(i("GameManager"),i("UIMag"),i("BaseUI")),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_back=null,t}return r(t,e),t.prototype.onOnLoad=function(){this.btn_back=this.actNode.getChildByName("btn_back")},t.prototype.onEnable=function(){this.addBtnEvent(this.btn_back),s.default.getInstance().playBGM(s.AudioType.bgm_game)},t.prototype.onDisable=function(){s.default.getInstance().playBGM(s.AudioType.bgm_start),this.remvoeBtnEvent(this.btn_back)},t.prototype.onOnClickBtn=function(e){switch(s.default.getInstance().click(),e.target){case this.btn_back:this.onBack()}},t.prototype.onBack=function(){},l([p],t)}(c.default));a.default=h,cc._RF.pop()},{}],GamingData_008:[function(e,t,o){"use strict";cc._RF.push(t,"ed7e8bBPPdLGaHQW/51/a72","GamingData_008");var n=e,i=o;Object.defineProperty(i,"__esModule",{value:!0});var a=n("RandomUtils"),r=n("AudioMag"),l=n("Config_008"),s=n("Config_Gaming_008"),c=n("FloatTextMag_008"),u=n("Entities_008"),p=n("Player_008"),h=n("BasePlayerWeapon_008"),f=function(){function e(){}return Object.defineProperty(e,"PlayerCurrHp",{get:function(){return this.PlayerGamingInfo.currHp},set:function(e){e>this.PlayerGamingInfo.maxHp?this.PlayerGamingInfo.currHp=this.PlayerGamingInfo.maxHp:this.PlayerGamingInfo.currHp=e<0?0:e},enumerable:!1,configurable:!0}),e.onEatChichen=function(){this.PlayerCurrHp+=.5*this.PlayerGamingInfo.maxHp,e.func_onPlayerEFStateChange_RestoreLife&&e.func_onPlayerEFStateChange_RestoreLife(!0)},e.onPickUpAlchemyPullet=function(e){void 0===e&&(e=1),this.pickUpAlchemyPulletCount+=e,this.func_refreshPickUpAlchemyPulletLbl&&this.func_refreshPickUpAlchemyPulletLbl(this.pickUpAlchemyPulletCount)},e.onPickUpCoin=function(e){this.pickUpCoinCount+=e,this.func_refreshPickUpCoinLbl&&this.func_refreshPickUpCoinLbl(this.pickUpCoinCount)},e.onInitData=function(e){this.currLv=1,this.currExp=0,this.currUpgradeNeedExp=l.GamingExpConfig_008[this.currLv],this.isPlayerOnLevelUpState=!1,this.currKillEnemyCount=0,this.pickUpCoinCount=0,this.pickUpAlchemyPulletCount=0,this.isRevived=!1,this.playerInvulnerableTime=0,this.onInitEnableSkillArr(),this.SkillCountLimit_Common=6,this.SkillCountLimit_Weapon=6,this.CommonSkillIdArr=[],this.SkillStateMap=new Map,this.WeaponIdArr=[],this.isEquipRotatingKnife=!1,this.PlayerGamingInfo=new u.PlayerGamingInfo_008,this.PlayerGamingInfo.armor=e.armor+e.alchemy_armor,this.PlayerGamingInfo.base_maxHp=Math.ceil(e.maxHp+e.alchemy_maxHp),this.PlayerGamingInfo.base_damagePoint=Math.ceil(e.damagePoint+e.alchemy_damagePoint),this.PlayerGamingInfo.base_moveSpeed=e.moveSpeed+e.alchemy_moveSpeed+100,this.PlayerGamingInfo.base_restoreLife=.01*(e.restoreLife+e.alchemy_restoreLife),this.PlayerGamingInfo.base_expBonus=1+1e-4*(e.expBonus+e.alchemy_expBonus),this.PlayerGamingInfo.base_lucky=.1*(e.lucky+e.alchemy_lucky),this.PlayerGamingInfo.maxHp=this.PlayerGamingInfo.base_maxHp,this.PlayerGamingInfo.damagePoint=this.PlayerGamingInfo.base_damagePoint,this.PlayerGamingInfo.moveSpeed=this.PlayerGamingInfo.base_moveSpeed,this.PlayerGamingInfo.coolDownTimeBonus=0,this.PlayerGamingInfo.restoreLife=0,this.PlayerGamingInfo.expBonus=this.PlayerGamingInfo.base_expBonus,this.PlayerGamingInfo.lucky=this.PlayerGamingInfo.base_lucky,this.PlayerGamingInfo.magnetRange=s.Config_Gaming_008.magnetRange,this.PlayerGamingInfo.currHp=this.PlayerGamingInfo.maxHp,this.PlayerMagnetRange=this.PlayerGamingInfo.magnetRange*this.PlayerGamingInfo.magnetRange},e.onAttackPlayer=function(e,t){if(!(this.PlayerCurrHp<=0||this.playerInvulnerableTime>0)){r.default.getInstance().playSound_intervalLimit(l.default.SEF_PlayerInjured,150);var o=t?e:Math.ceil(e-this.PlayerGamingInfo.armor);o>1?(this.PlayerCurrHp-=o,c.default.ins.onShowFloatText(o.toString(),cc.v2(this.PlayerNode.getPosition().x,this.PlayerNode.getPosition().y+220),l.default.Color_PlayerInjured)):(this.PlayerCurrHp-=1,c.default.ins.onShowFloatText("1",cc.v2(this.PlayerNode.getPosition().x,this.PlayerNode.getPosition().y+220),l.default.Color_PlayerInjured)),this.func_onPlayerPlayHitAni&&this.func_onPlayerPlayHitAni(),this.PlayerCurrHp<=0&&this.onGameFail()}},e.onIncreaseExp=function(e){this.currExp+=e*this.PlayerGamingInfo.expBonus,this.currExp>=this.currUpgradeNeedExp&&this.onPlayerLevelUp(),this.func_refreshExpBarFillRange&&this.func_refreshExpBarFillRange(this.currExp/this.currUpgradeNeedExp)},e.onGameFail=function(){var e=this;this.isGamePause=!0,this.func_onPlayPlayerFailAni&&this.func_onPlayPlayerFailAni(),window.isCanCtrl=!1,setTimeout(function(){window.isCanCtrl=!0,e.isRevived?e.func_onShowResultView&&e.func_onShowResultView():(e.isRevived=!0,e.func_onShowReviveUI&&e.func_onShowReviveUI())},1e3)},e.onRevive=function(){this.isGamePause=!1,this.PlayerCurrHp+=this.PlayerGamingInfo.maxHp,this.func_onPlayRevive&&this.func_onPlayRevive()},e.onGameSucc=function(){this.isGamePause=!0,this.func_onShowResultView&&this.func_onShowResultView()},e.onPlayerLevelUp=function(){var e=this;this.isPlayerOnLevelUpState||(this.func_onPlayerEFStateChange_LevelUp&&this.func_onPlayerEFStateChange_LevelUp(),this.isPlayerOnLevelUpState=!0,this.isGamePause=!0,setTimeout(function(){var t=[];t.push(e.getRandomWeapon(t)),t.push(e.getRandomSkillId(t)),t.push(e.getRandomSkillId(t)),t=t.sort(function(){return Math.random()-.5}),e.func_showSelectSkillView&&e.func_showSelectSkillView(t)},1e3))},e.getRandomWeapon=function(e){var t=this.getCanSelectWeaponIdArr(e);return t.length<1?this.getRandomSkillId(e):t[a.RandomUtils.getRandomFormArray(t)]},e.getRandomSkillId=function(e){var t=this.getCanSelectWeaponIdArr(e).concat(this.getCanSelectCommonSkillIdArr(e));return t.length<1&&(e.includes(l.DropItemType.Chichen)||t.push(l.DropItemType.Chichen),e.includes(l.DropItemType.Coin_3)||t.push(l.DropItemType.Coin_3),e.includes(l.DropItemType.AlchemyPullet)||t.push(l.DropItemType.AlchemyPullet)),t[a.RandomUtils.getRandomFormArray(t)]},e.getCanSelectWeaponIdArr=function(e){var t=[];if(this.WeaponIdArr.length<this.SkillCountLimit_Weapon)for(var o=0;o<this.EnableSkillArr.length;o++)this.EnableSkillArr[o]>200&&this.EnableSkillArr[o]<300&&(this.SkillStateMap.has(this.EnableSkillArr[o])||e.includes(this.EnableSkillArr[o])||t.push(this.EnableSkillArr[o]));return this.SkillStateMap.forEach(function(o,n){n>200&&n<300&&o<5&&(e.includes(n)||t.push(n))}),t},e.getCanSelectCommonSkillIdArr=function(e){var t=[];if(this.CommonSkillIdArr.length<this.SkillCountLimit_Common)for(var o=0;o<this.EnableSkillArr.length;o++)this.EnableSkillArr[o]>100&&this.EnableSkillArr[o]<200&&(this.SkillStateMap.has(this.EnableSkillArr[o])||e.includes(this.EnableSkillArr[o])||t.push(this.EnableSkillArr[o]));return this.SkillStateMap.forEach(function(o,n){n>100&&n<200&&o<5&&(e.includes(n)||t.push(n))}),t},e.onPlayerLevelUpEnd=function(){this.isGamePause=!1,this.func_resetPlayerBulletAngle&&this.func_resetPlayerBulletAngle(),this.isPlayerOnLevelUpState=!1,this.currExp-=this.currUpgradeNeedExp,this.currLv+=1,this.func_refreshExpLvLabel&&this.func_refreshExpLvLabel(this.currLv),this.currUpgradeNeedExp=this.currLv<l.GamingExpConfig_008.length?l.GamingExpConfig_008[this.currLv]:l.GamingExpConfig_008[l.GamingExpConfig_008.length-1],this.func_refreshExpBarFillRange&&this.func_refreshExpBarFillRange(0,!1)},e.onSelectSkill=function(e,t){if(e>=100){var o=1;if(this.SkillStateMap.has(e)?(o=this.SkillStateMap.get(e)+1,this.SkillStateMap.set(e,o)):(this.SkillStateMap.set(e,1),e>200&&e<300?this.PlayerNode.getComponent(p.default).onEquipWeaponByWeaponType(e):this.CommonSkillIdArr.push(e)),e<200)switch(o-=1,e){case l.CommonSkillType_008.MoveSpeedBonus:this.PlayerGamingInfo.moveSpeed=this.PlayerGamingInfo.base_moveSpeed*(1+l.SkillConfigMap.get(l.CommonSkillType_008.MoveSpeedBonus).powerArr[o]);break;case l.CommonSkillType_008.CoolDownTimeBonus:this.PlayerGamingInfo.coolDownTimeBonus=l.SkillConfigMap.get(l.CommonSkillType_008.CoolDownTimeBonus).powerArr[o];break;case l.CommonSkillType_008.MagnetRangeBonus:this.PlayerGamingInfo.magnetRange=s.Config_Gaming_008.magnetRange*(1+l.SkillConfigMap.get(l.CommonSkillType_008.MagnetRangeBonus).powerArr[o]),this.PlayerMagnetRange=this.PlayerGamingInfo.magnetRange*this.PlayerGamingInfo.magnetRange;break;case l.CommonSkillType_008.ExpBonus:this.PlayerGamingInfo.expBonus=this.PlayerGamingInfo.base_expBonus+l.SkillConfigMap.get(l.CommonSkillType_008.ExpBonus).powerArr[o];break;case l.CommonSkillType_008.Lucky:this.PlayerGamingInfo.lucky=this.PlayerGamingInfo.base_lucky+l.SkillConfigMap.get(l.CommonSkillType_008.Lucky).powerArr[o];break;case l.CommonSkillType_008.MaxHpBonus:var n=this.PlayerGamingInfo.maxHp;this.PlayerGamingInfo.maxHp=this.PlayerGamingInfo.base_maxHp*(1+l.SkillConfigMap.get(l.CommonSkillType_008.MaxHpBonus).powerArr[o]),this.PlayerCurrHp+=this.PlayerGamingInfo.maxHp-n;break;case l.CommonSkillType_008.RestoreLife:this.PlayerGamingInfo.restoreLife=this.PlayerGamingInfo.base_restoreLife+l.SkillConfigMap.get(l.CommonSkillType_008.RestoreLife).powerArr[o];break;default:console.log("\u4e09\u9009\u4e00\u751f\u6548\u65f6\uff0c\u51fa\u73b0\u4e86\u4e00\u4e2a\u5f02\u5e38\u6570\u636e ==> "+e)}for(var i=this.PlayerNode.getComponents(h.default),r=0;r<i.length;r++)i[r].onResetData()}else switch(e){case l.DropItemType.AlchemyPullet:this.onPickUpAlchemyPullet(t||1);break;case l.DropItemType.Chichen:this.onEatChichen();break;case l.DropItemType.Coin_1:case l.DropItemType.Coin_2:case l.DropItemType.Coin_3:this.onPickUpCoin(t||a.RandomUtils.getRandomInt(50,200));break;default:console.log("\u6361\u5230\u4e00\u4e2a\u65e0\u6548\u7269\u54c1\uff1a"+e)}},e.getBoxRewardData=function(){var e=3===this.currOpenBoxLv?5:2===this.currOpenBoxLv?3:1,t=[],o=[];this.SkillStateMap.forEach(function(e,t){if(t>100&&t<200&&e<5)for(var n=e;n<5;n++)o.push(t)}),this.SkillStateMap.forEach(function(e,o){if(o>200&&o<300&&e<5)for(var n=e;n<5;n++)t.push(o)});var n=[];t.length>1&&n.push({rewardId:t.splice(a.RandomUtils.getRandomFormArray(t),1)[0],rewardCount:1}),o.length>1&&n.push({rewardId:o.splice(a.RandomUtils.getRandomFormArray(o),1)[0],rewardCount:1});var i=t.concat(o),r=7-n.length;if(i.length>r)for(var s=0;s<r;s++)n.push({rewardId:i.splice(a.RandomUtils.getRandomFormArray(i),1)[0],rewardCount:1});else for(s=0;s<i.length;s++)n.push({rewardId:i[s],rewardCount:1});for(n.push({rewardId:l.DropItemType.Coin_1,rewardCount:5}),n.push({rewardId:l.DropItemType.Coin_1,rewardCount:10}),n.push({rewardId:l.DropItemType.Coin_2,rewardCount:50}),n.push({rewardId:l.DropItemType.Coin_2,rewardCount:100}),n.push({rewardId:l.DropItemType.Coin_3,rewardCount:150}),n.push({rewardId:l.DropItemType.Coin_3,rewardCount:200}),n.push({rewardId:l.DropItemType.AlchemyPullet,rewardCount:1}),n.push({rewardId:l.DropItemType.AlchemyPullet,rewardCount:3}),n.push({rewardId:l.DropItemType.AlchemyPullet,rewardCount:5}),s=n.length;s<16;s++)n.push({rewardId:l.DropItemType.Coin_3,rewardCount:100});n=(n=(n=n.sort(function(){return Math.random()-.5})).sort(function(){return Math.random()-.5})).sort(function(){return Math.random()-.5});var c=[];for(s=0;s<e;s++){for(var u=a.RandomUtils.getRandomInt(0,15);c.includes(u);)u=a.RandomUtils.getRandomInt(0,15);c.push(u)}return{boxItemRewardDataArr:n,rewardIndexArr:c}},e.onInitEnableSkillArr=function(){this.EnableSkillArr=[],this.EnableSkillArr.push(l.CommonSkillType_008.MoveSpeedBonus),this.EnableSkillArr.push(l.CommonSkillType_008.CoolDownTimeBonus),this.EnableSkillArr.push(l.CommonSkillType_008.MagnetRangeBonus),this.EnableSkillArr.push(l.CommonSkillType_008.ExpBonus),this.EnableSkillArr.push(l.CommonSkillType_008.RestoreLife),this.EnableSkillArr.push(l.WeaponType_008.RotatingKnife),this.EnableSkillArr.push(l.WeaponType_008.Lightning),this.EnableSkillArr.push(l.WeaponType_008.SixPulseHolySword),this.EnableSkillArr.push(l.WeaponType_008.SummonSword),this.EnableSkillArr.push(l.WeaponType_008.Long)},e.isGamePause=!0,e.PlayerNode=null,e.GameObjNode=null,e.cameraHalfWidth=360,e.cameraHalfHeight=1e3,e.currLv=1,e.currExp=0,e.currUpgradeNeedExp=100,e.currKillEnemyCount=0,e.pickUpCoinCount=0,e.pickUpAlchemyPulletCount=0,e.currOpenBoxLv=3,e.isRevived=!1,e.playerInvulnerableTime=0,e.timer=0,e.EnableSkillArr=[],e.SkillCountLimit_Common=6,e.SkillCountLimit_Weapon=6,e.SkillStateMap=null,e.CommonSkillIdArr=[],e.WeaponIdArr=[],e.isEquipRotatingKnife=!1,e.PlayerGamingInfo=null,e.RenderRect=new cc.Rect,e.ScreenRect=new cc.Rect,e.ColliderRect=new cc.Rect,e.PlayerMagnetRange=9e4,e.func_refreshExpBarFillRange=null,e.func_refreshExpLvLabel=null,e.func_refreshTimeLabel=null,e.func_refreshPickUpAlchemyPulletLbl=null,e.func_refreshPickUpCoinLbl=null,e.func_showSelectSkillView=null,e.func_resetPlayerBulletAngle=null,e.func_removePlayeBullet=null,e.func_onSplash=null,e.func_onSkillInScreenEnemy=null,e.func_onPlayerEFStateChange_Magnet=null,e.func_onPlayerEFStateChange_RestoreLife=null,e.func_onPlayerEFStateChange_LevelUp=null,e.func_onPlayPlayerFailAni=null,e.func_onPlayRevive=null,e.func_onShowResultView=null,e.func_onShowReviveUI=null,e.func_onPlayerPickUpWeapon=null,e.func_onPlayerPlayHitAni=null,e.isPlayerOnLevelUpState=!1,e}();i.default=f,cc._RF.pop()},{}],GamingUI_008:[function(e,t,o){"use strict";cc._RF.push(t,"c4fbf6N74JJI6Ue7OGAY0pO","GamingUI_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("AudioMag"),u=i("GameMag"),p=i("Config_008"),h=i("DropItemMag_008"),f=i("GamingData_008"),d=i("LC_008"),_=i("SkillStarNode_008"),y=i("ExpBarNode_008"),m=cc._decorator,g=m.ccclass,v=m.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expBarNodeTs=null,t.lbl_lv=null,t.splash=null,t.lbl_time=null,t.lbl_pickUp_alchemyPullet=null,t.lbl_pickUp_coin=null,t.btn_pause=null,t.currSkillTitle=null,t.currSkillLayer=null,t.pauseView=null,t.spine_magnet=null,t.guide=null,t.sfArr_skillBtn=[],t.selectSkillView=null,t.isSelectSkill=!1,t.resultView=null,t.putongNode=null,t.doubleNode=null,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){f.default.func_refreshExpBarFillRange=this.onRefreshExpBar.bind(this),f.default.func_refreshExpLvLabel=this.onRefreshLvLabel.bind(this),f.default.func_refreshTimeLabel=this.onRefreshTimeLable.bind(this),f.default.func_refreshPickUpAlchemyPulletLbl=this.onRefreshLbl_PickUpAlchemyPullet.bind(this),f.default.func_refreshPickUpCoinLbl=this.onRefreshLbl_PickUpCoin.bind(this),f.default.func_showSelectSkillView=this.onShowSelectSkillView.bind(this),f.default.func_onSplash=this.onSplash.bind(this),f.default.func_onPlayerEFStateChange_Magnet=this.onEFStateChange_Magnet.bind(this),f.default.func_onShowResultView=this.onShowResultView.bind(this),this.btn_pause.on(cc.Node.EventType.TOUCH_END,this.onShowPauseView,this),this.pauseView.active=!1,this.resultView.active=!1,this.selectSkillView.active=!1,this.currSkillTitle.active=!1,this.currSkillLayer.active=!1,this.onRefreshExpBar(0,!1),this.onRefreshLvLabel(1),this.onRefreshTimeLable(0),this.onRefreshLbl_PickUpAlchemyPullet(0),this.onRefreshLbl_PickUpCoin(0),this.refreshCurrSkillUI(),this.onEFStateChange_Magnet(!1),this.guide.active=!0,this.node.off(cc.Node.EventType.TOUCH_START,this.onStartGame,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onStartGame,this)},t.prototype.onStartGame=function(){f.default.isGamePause=!1,this.guide.active=!1,this.node.off(cc.Node.EventType.TOUCH_START,this.onStartGame,this);for(var e=f.default.PlayerNode.getPosition(),t=[1,1,1,1,1,1,p.DropItemType.Box_2,1,1,1,1,1,1,1],o=t.length,n=0;n<o;n++){var i=s.RandomUtils.getRandomInt(400,500),a=n*(360/o)*s.RandomUtils.getRandomInt(80,120)*.01*Math.PI/180,r=cc.v2(e.x+i*Math.cos(a),e.y+i*Math.sin(a));h.default.ins.onDropItem(r,t[n])}},t.prototype.onDisable=function(){this.btn_pause.off(cc.Node.EventType.TOUCH_END,this.onShowPauseView,this)},t.prototype.onEFStateChange_Magnet=function(e){this.spine_magnet.opacity=e?255:0},t.prototype.onRefreshLbl_PickUpAlchemyPullet=function(e){console.log("onRefreshLbl_PickUpAlchemyPullet.........",e),this.lbl_pickUp_alchemyPullet.string=e.toString()},t.prototype.onRefreshLbl_PickUpCoin=function(e){this.lbl_pickUp_coin.string=e.toString()},t.prototype.onRefreshExpBar=function(e,t){void 0===t&&(t=!0),this.expBarNodeTs.onRefreshExpBar(e,t)},t.prototype.onRefreshLvLabel=function(e){this.lbl_lv.string=e.toString()},t.prototype.onSplash=function(e,t,o,n){this.splash.color=e,this.splash.opacity=0,cc.Tween.stopAllByTarget(this.splash),cc.tween(this.splash).to(o,{opacity:t}).delay(.1).to(o,{opacity:0}).start(),this.scheduleOnce(n,o)},t.prototype.onRefreshTimeLable=function(e){var t=Math.floor(e/60),o=Math.floor(e%60);this.lbl_time.string=(t>9?t:"0"+t)+":"+(o>9?o:"0"+o)},t.prototype.onShowSelectSkillView=function(e){this.selectSkillView.active=!0,this.refreshCurrSkillLayer(!1),this.currSkillLayer.active=!1,this.currSkillTitle.active=!1,this.refreshCurrSkillUI();var t=[];t.push(this.selectSkillView.getChildByName("btn_1")),t.push(this.selectSkillView.getChildByName("btn_2")),t.push(this.selectSkillView.getChildByName("btn_3"));for(var o=0;o<3;o++)this.initSkillBtn(t[o],e[o]);var n=this.selectSkillView.getChildByName("btn_videoSelectAll"),i=!0;if(f.default.SkillStateMap.size>3)for(o=0;o<3;o++)if(!(e[o]<0||f.default.SkillStateMap.has(e[o]))){i=!1;break}i?(n.active=!0,n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,this.onSelectAllSkill.bind(this,e),this)):n.active=!1,this.isSelectSkill=!1},t.prototype.refreshCurrSkillUI=function(){},t.prototype.initSkillBtn=function(e,t){var o=e.getChildByName("bgLight");o.opacity=0;var n=e.getChildByName("bg").getComponent(cc.Sprite),i=e.getChildByName("icon").getComponent(cc.Sprite),a=e.getChildByName("lbl_name").getComponent(cc.Label),r=e.getChildByName("lbl_desc").getComponent(cc.Label),l=e.getChildByName("starNode").getComponent(_.default),s=e.getChildByName("xin");if(u.default.getInstance().getSpriteFrame(p.default.getItemIconPath(t)).then(function(e){i.spriteFrame=e}),t>=100){n.spriteFrame=t<200?this.sfArr_skillBtn[0]:this.sfArr_skillBtn[1];var c=p.SkillConfigMap.get(t),h=f.default.SkillStateMap.get(t)||0;a.string=c.skillName,r.string=c.skillDescArr[h>=5?4:h],s.opacity=0===h?255:0,l.onRefresh(h+1)}else n.spriteFrame=this.sfArr_skillBtn[2],s.opacity=0,t===p.DropItemType.Chichen?(a.string="\u70e7\u9e21",r.string="\u6062\u590d50%\u751f\u547d\u503c",l.onRefresh(5,!1)):t===p.DropItemType.Coin_3?(a.string="\u94dc\u94b1",r.string="\u83b7\u5f97\u968f\u673a\u6570\u91cf\u7684\u94dc\u94b1",l.onRefresh(5,!1)):(a.string="\u4fee\u70bc\u4e39",r.string="\u83b7\u5f971\u4e2a\u4fee\u70bc\u4e39",l.onRefresh(5,!1));e.off(cc.Node.EventType.TOUCH_END),e.on(cc.Node.EventType.TOUCH_END,this.onSelectSkill.bind(this,t),this),n.node.off(cc.Node.EventType.TOUCH_START),n.node.off(cc.Node.EventType.TOUCH_CANCEL),n.node.off(cc.Node.EventType.TOUCH_MOVE),n.node.on(cc.Node.EventType.TOUCH_START,this.onTouchSelectBtnStart.bind(this,o),this),n.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchSelectBtnMove.bind(this,n.node,o),this),n.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchSelectBtnEnd.bind(this,o),this)},t.prototype.onTouchSelectBtnStart=function(e){e.opacity=255},t.prototype.onTouchSelectBtnMove=function(e,t,o){var n=o.getLocation();t.opacity=e.getBoundingBoxToWorld().contains(n)?255:0},t.prototype.onTouchSelectBtnEnd=function(e){e.opacity=0},t.prototype.onSelectSkill=function(e){this.isSelectSkill||(c.default.getInstance().playSound(p.default.SEF_SelectSkill),f.default.onSelectSkill(e),this.refreshCurrSkillUI(),this.isSelectSkill=!0,this.selectSkillView.active=!1,this.currSkillLayer.active=!1,this.currSkillTitle.active=!1,f.default.onPlayerLevelUpEnd())},t.prototype.onSelectAllSkill=function(e){var t=this;c.default.getInstance().playSound(p.default.SEF_SelectSkill);for(var o=0;o<e.length;o++)f.default.onSelectSkill(e[o]);t.refreshCurrSkillUI(),t.isSelectSkill=!0,t.selectSkillView.active=!1,t.currSkillLayer.active=!1,t.currSkillTitle.active=!1,f.default.onPlayerLevelUpEnd()},t.prototype.onShowPauseView=function(){var e=this;if(window.isCanCtrl){c.default.getInstance().playSound(p.default.SEF_Pause),f.default.isGamePause=!0,this.pauseView.active=!0,this.pauseView.opacity=0,cc.tween(this.pauseView).to(.4,{opacity:255},{easing:"fade"}).start(),this.refreshCurrSkillLayer(!1),this.currSkillLayer.active=!0,this.currSkillTitle.active=!0,this.currSkillLayer.opacity=0,this.currSkillTitle.opacity=0,cc.tween(this.currSkillLayer).to(.4,{opacity:255},{easing:"fade"}).start(),cc.tween(this.currSkillTitle).to(.4,{opacity:255},{easing:"fade"}).start();var t=this.pauseView.getChildByName("btn_continue"),o=this.pauseView.getChildByName("btn_backStart");t.off(cc.Node.EventType.TOUCH_END),o.off(cc.Node.EventType.TOUCH_END),t.on(cc.Node.EventType.TOUCH_END,function(){c.default.getInstance().click(),f.default.isGamePause=!1,e.pauseView.active=!1,e.currSkillLayer.active=!1,e.currSkillTitle.active=!1},this),o.on(cc.Node.EventType.TOUCH_END,function(){c.default.getInstance().click(),e.pauseView.active=!1,e.onShowResultView()},this)}},t.prototype.onBtnPutong=function(){this.putongNode.active=!1,this.doubleNode.active=!0},t.prototype.onBtnDouble=function(){if(Math.random()<.35){var e=d.default.ins.playerData;e.numberOfAlchemy+=2*_,e.coinCount+=2*y,d.default.ins.onSaveData(),d.default.ins.onStopGame()}else this.putongNode.active=!0,this.doubleNode.active=!1},t.prototype.onShowResultView=function(){var e=this;c.default.getInstance().stopBgm(),c.default.getInstance().playSound(p.default.SEF_ResultView),f.default.isGamePause=!0,this.resultView.active=!0,this.currSkillLayer.active=!0,this.currSkillTitle.active=!0,this.currSkillLayer.opacity=0,this.currSkillTitle.opacity=0,cc.tween(this.currSkillLayer).to(.4,{opacity:255},{easing:"fade"}).start(),cc.tween(this.currSkillTitle).to(.4,{opacity:255},{easing:"fade"}).start(),this.refreshCurrSkillLayer(!0);var t=this.resultView.getChildByName("actNode");t.scale=0,cc.tween(t).to(.4,{scale:1},{easing:"backOut"}).start();var o=t.getChildByName("title");o.y=945,o.opacity=0,cc.tween(o).delay(.4).call(function(){o.opacity=255}).to(.5,{y:445},{easing:"bounceOut"}).start();var n=t.getChildByName("lbl_lv").getComponent(cc.Label),i=t.getChildByName("lbl_time").getComponent(cc.Label),a=t.getChildByName("lbl_rewardCount").getComponent(cc.Label),r=t.getChildByName("double").getChildByName("btn_video"),l=f.default.timer,s=l>=30?2*Math.floor(l/60)+Math.floor(f.default.currKillEnemyCount/100):0;s+=f.default.pickUpAlchemyPulletCount;var u=f.default.pickUpCoinCount,h=t.getChildByName("pullet");h.scale=0,cc.tween(h).delay(.5).to(.4,{scale:1},{easing:"backOut"}).start(),n.string=this.lbl_lv.string,i.string=this.lbl_time.string,a.string="x0",a.node.scale=0,cc.tween(a.node).delay(.5).to(.4,{scale:1},{easing:"backOut"}).call(function(){e.labelValueProxy(a,1,0,s,"x")}).start(),r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(){c.default.getInstance().click();var e=d.default.ins.playerData;e.numberOfAlchemy+=2*s,e.coinCount+=2*u,d.default.ins.onSaveData(),d.default.ins.onStopGame()},this)},t.prototype.refreshCurrSkillLayer=function(e){e?(this.currSkillTitle.getComponent(cc.Widget).isAlignTop=!1,this.currSkillTitle.setPosition(0,215),this.currSkillLayer.getComponent(cc.Widget).isAlignTop=!1,this.currSkillLayer.setPosition(0,190)):(this.currSkillTitle.getComponent(cc.Widget).isAlignTop=!0,this.currSkillTitle.getComponent(cc.Widget).top=63.33,this.currSkillTitle.getComponent(cc.Widget).updateAlignment(),this.currSkillLayer.getComponent(cc.Widget).isAlignTop=!0,this.currSkillLayer.getComponent(cc.Widget).top=175,this.currSkillLayer.getComponent(cc.Widget).updateAlignment())},t.prototype.labelValueProxy=function(e,t,o,n,i,a){var r=new Proxy({value:o},{set:function(t,o,n){return t[o]=n,"value"===o&&(e.string=i||"",e.string+=Math.floor(n),a&&(e.string+=a)),!0}});cc.tween(r).to(t,{value:n}).start()},l([v(y.default)],t.prototype,"expBarNodeTs",void 0),l([v(cc.Label)],t.prototype,"lbl_lv",void 0),l([v(cc.Node)],t.prototype,"splash",void 0),l([v(cc.Label)],t.prototype,"lbl_time",void 0),l([v(cc.Label)],t.prototype,"lbl_pickUp_alchemyPullet",void 0),l([v(cc.Label)],t.prototype,"lbl_pickUp_coin",void 0),l([v(cc.Node)],t.prototype,"btn_pause",void 0),l([v(cc.Node)],t.prototype,"currSkillTitle",void 0),l([v(cc.Node)],t.prototype,"currSkillLayer",void 0),l([v(cc.Node)],t.prototype,"pauseView",void 0),l([v(cc.Node)],t.prototype,"spine_magnet",void 0),l([v(cc.Node)],t.prototype,"guide",void 0),l([v([cc.SpriteFrame])],t.prototype,"sfArr_skillBtn",void 0),l([v(cc.Node)],t.prototype,"selectSkillView",void 0),l([v(cc.Node)],t.prototype,"resultView",void 0),l([v(cc.Node)],t.prototype,"putongNode",void 0),l([v(cc.Node)],t.prototype,"doubleNode",void 0),l([g],t)}(cc.Component);a.default=b,cc._RF.pop()},{}],Guide_TouchMove:[function(e,t,o){"use strict";cc._RF.push(t,"257b2LFkSNHgq+teYEUvMXg","Guide_TouchMove");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_finger=null,t}return a(t,e),t.prototype.onEnable=function(){var e=133,t=cc.v2(0,e),o=cc.v2(200,e),n=cc.v2(0,-e),i=cc.v2(-200,-e),a=cc.v2(-200,e),r=cc.v2(200,-e);cc.tween(this.m_finger).repeatForever(cc.tween().bezierBy(1,t,o,cc.v2(200,0)).bezierBy(1,n,i,cc.v2(-200,0)).bezierBy(1,t,a,cc.v2(-200,0)).bezierBy(1,n,r,cc.v2(200,0))).start()},t.prototype.logH=function(){var e=180*Math.PI/180,t=4/3*((1-Math.cos(e/2))/Math.sin(e/2));console.log(" h ==> "+t)},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.m_finger),this.m_finger.setPosition(0,0)},r([c(cc.Node)],t.prototype,"m_finger",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],HpBarNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"c31b7ymdLpH8Ktq6WwhPFKI","HpBarNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GamingData_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fillBar=null,t.targetNode=null,t.offset=cc.Vec2.ZERO,t}return r(t,e),t.prototype.onInitHpBar=function(e,t){return this.targetNode=e,this.offset=t,this.node.opacity=0,this.node.setPosition(this.targetNode.getPosition().add(this.offset)),this.onRefreshFillBar.bind(this)},t.prototype.lateUpdate=function(){this.node.setPosition(this.targetNode.getPosition().add(this.offset)),this.node.opacity=s.default.RenderRect.contains(this.node.getPosition())?255:0},t.prototype.onRefreshFillBar=function(e){this.fillBar.fillRange=e},l([p(cc.Sprite)],t.prototype,"fillBar",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],InfiniteMap_008:[function(e,t,o){"use strict";cc._RF.push(t,"1eac2cUQ5BM8YC82mCx7uOm","InfiniteMap_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=[3,0,1,2,7,4,5,6,11,8,9,10,15,12,13,14],f=[1,2,3,0,5,6,7,4,9,10,11,8,13,14,15,12],d=[12,13,14,15,0,1,2,3,4,5,6,7,8,9,10,11],_=[4,5,6,7,8,9,10,11,12,13,14,15,0,1,2,3],y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameCameraNode=null,t.bgNode=null,t.bgNodeArr=[],t.posXArr=[0,0],t.posYArr=[0,0],t}return r(t,e),t.prototype.start=function(){for(var e=0;e<16;e++)this.bgNodeArr.push(this.bgNode.children[e]);this.refreshPosData()},t.prototype.refreshPosData=function(){this.posXArr[0]=this.bgNodeArr[1].getPosition().x,this.posXArr[1]=this.bgNodeArr[2].getPosition().x,this.posYArr[0]=this.bgNodeArr[4].getPosition().y,this.posYArr[1]=this.bgNodeArr[8].getPosition().y},t.prototype.lateUpdate=function(){var e=this.gameCameraNode.getPosition();e.x<this.posXArr[0]?this.onMoveBgNode_RightToLeft():e.x>this.posXArr[1]&&this.onMoveBgNode_LeftToRight(),e.y>this.posYArr[0]?this.onMoveBgNode_BottomToTop():e.y<this.posYArr[1]&&this.onMoveBgNode_TopToBottom()},t.prototype.onMoveBgNode_RightToLeft=function(){var e=this.bgNodeArr.slice(),t=e[0].getPosition().x-s.default.BgTileWidth;e[3].setPosition(t,e[3].getPosition().y),e[7].setPosition(t,e[7].getPosition().y),e[11].setPosition(t,e[11].getPosition().y),e[15].setPosition(t,e[15].getPosition().y);for(var o=0;o<16;o++)this.bgNodeArr[o]=e[h[o]];this.refreshPosData()},t.prototype.onMoveBgNode_LeftToRight=function(){var e=this.bgNodeArr.slice(),t=e[3].getPosition().x+s.default.BgTileWidth;e[0].setPosition(t,e[0].getPosition().y),e[4].setPosition(t,e[4].getPosition().y),e[8].setPosition(t,e[8].getPosition().y),e[12].setPosition(t,e[12].getPosition().y);for(var o=0;o<16;o++)this.bgNodeArr[o]=e[f[o]];this.refreshPosData()},t.prototype.onMoveBgNode_BottomToTop=function(){var e=this.bgNodeArr.slice(),t=e[0].getPosition().y+s.default.BgTileHeight;e[12].setPosition(e[12].getPosition().x,t),e[13].setPosition(e[13].getPosition().x,t),e[14].setPosition(e[14].getPosition().x,t),e[15].setPosition(e[15].getPosition().x,t);for(var o=0;o<16;o++)this.bgNodeArr[o]=e[d[o]];this.refreshPosData()},t.prototype.onMoveBgNode_TopToBottom=function(){var e=this.bgNodeArr.slice(),t=e[12].getPosition().y-s.default.BgTileHeight;e[0].setPosition(e[0].getPosition().x,t),e[1].setPosition(e[1].getPosition().x,t),e[2].setPosition(e[2].getPosition().x,t),e[3].setPosition(e[3].getPosition().x,t);for(var o=0;o<16;o++)this.bgNodeArr[o]=e[_[o]];this.refreshPosData()},t.prototype.onReset=function(){this.bgNodeArr=[];for(var e=0;e<16;e++)this.bgNodeArr.push(this.bgNode.children[e]);for(e=0;e<4;e++)for(var t=s.default.BgTileHeight*(1.5-e),o=0;o<4;o++){var n=4*e+o,i=s.default.BgTileWidth*(-1.5+o);this.bgNodeArr[n].setPosition(i,t)}this.refreshPosData()},l([p(cc.Node)],t.prototype,"gameCameraNode",void 0),l([p(cc.Node)],t.prototype,"bgNode",void 0),l([u],t)}(cc.Component);a.default=y,cc._RF.pop()},{}],InvokeConfig:[function(e,t,o){"use strict";cc._RF.push(t,"4fabbqJau5HLryWypbMX+Vu","InvokeConfig");var n=o,i=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(){function e(){}return e.onInit="onInit",e.getGGtype="getGGtype",e.showInsert="showInsert",e.more="more",e.yszc="yszc",e.exit="exit",e.pay="pay",e.doOrder="doOrder",e.androidToast="androidToast",e.showUI="showUI",e.onNativeAdClick="onNativeAdClick",e.hideInsertNativeAd="hideInsertNativeAd",e.toastShow="toastShow",e.startLogoSplash="startLogoSplash",i([r],e)}());n.default=l,cc._RF.pop()},{}],Joystick_06:[function(e,t,o){"use strict";cc._RF.push(t,"d7cb6uVr5hKe6BikLZMHam0","Joystick_06");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radius=50,t.bg=null,t.handle=null,t.isTouching=!1,t.startTouchPos=cc.Vec2.ZERO,t.moveDir=cc.Vec2.ZERO,t.touchEventTarget=null,t.touchMoveEvent=null,t}return a(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Widget);e.target=cc.find("Canvas"),e.updateAlignment(),this.bg=this.node.getChildByName("bg"),this.handle=this.bg.getChildByName("handle")},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onTouchJoystick_start=function(e){this.isTouching=!0,this.startTouchPos=e.getLocation(),this.bg.opacity=255,this.bg.setPosition(this.node.convertToNodeSpaceAR(this.startTouchPos)),this.handle.setPosition(0,0)},t.prototype.onTouchJoystick_move=function(e){var t=e.getLocation().sub(this.startTouchPos);this.moveDir=t.normalize(),t.mag()<this.radius?this.handle.setPosition(t):this.handle.setPosition(this.moveDir.mul(this.radius)),this.touchMoveEvent&&this.touchMoveEvent.call(this.touchEventTarget,this.moveDir)},t.prototype.onTouchJoystick_end=function(){this.isTouching&&(this.isTouching=!1,this.bg.opacity=0)},t.prototype.addEvent=function(e,t){this.touchMoveEvent=e,this.touchEventTarget=t},t.prototype.removeEvent=function(){this.touchMoveEvent=null},r([c(cc.Float)],t.prototype,"radius",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],Joystick_07:[function(e,t,o){"use strict";cc._RF.push(t,"15bbbrAUGNC/Kg6gA3cj+Hu","Joystick_07");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radius=50,t.bg=null,t.handle=null,t.isTouching=!1,t.startTouchPos=cc.Vec2.ZERO,t.moveDir=cc.Vec2.ZERO,t.touchEventTarget=null,t.touchMoveEvent=null,t}return a(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Widget);e.target=cc.find("Canvas"),e.updateAlignment(),this.bg=this.node.getChildByName("bg"),this.handle=this.bg.getChildByName("handle")},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onTouchJoystick_start=function(e){this.isTouching=!0,this.startTouchPos=e.getLocation(),this.bg.opacity=255,this.bg.setPosition(this.node.convertToNodeSpaceAR(this.startTouchPos)),this.handle.setPosition(0,0)},t.prototype.onTouchJoystick_move=function(e){var t=e.getLocation().sub(this.startTouchPos);this.moveDir=t.normalize(),t.mag()<this.radius?this.handle.setPosition(t):this.handle.setPosition(this.moveDir.mul(this.radius)),this.touchMoveEvent&&this.touchMoveEvent.call(this.touchEventTarget,this.moveDir)},t.prototype.onTouchJoystick_end=function(){this.isTouching&&(this.isTouching=!1,this.bg.opacity=0)},t.prototype.addEvent=function(e,t){this.touchMoveEvent=e,this.touchEventTarget=t},t.prototype.removeEvent=function(){this.touchMoveEvent=null},r([c(cc.Float)],t.prototype,"radius",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],Joystick_common:[function(e,t,o){"use strict";cc._RF.push(t,"6f631sjGoJDI6TM2LwE5iA5","Joystick_common");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radius=50,t.bg=null,t.handle=null,t.dir=null,t.isTouching=!1,t.startTouchPos=cc.Vec2.ZERO,t.moveDir=cc.Vec2.ZERO,t.touchEventTarget=null,t.touchMoveEvent=null,t.touchStartEvent=null,t.touchEndEvent=null,t}return a(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Widget);e.target=cc.find("Canvas"),e.updateAlignment(),this.bg=this.node.getChildByName("bg"),this.handle=this.bg.getChildByName("handle"),this.dir=this.bg.getChildByName("dir"),null!==this.dir&&(this.dir.opacity=0)},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchJoystick_start,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchJoystick_move,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchJoystick_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchJoystick_end,this)},t.prototype.onTouchJoystick_start=function(e){this.isTouching=!0,this.startTouchPos=e.getLocation(),this.bg.opacity=255,this.bg.setPosition(this.node.convertToNodeSpaceAR(this.startTouchPos)),this.handle.setPosition(0,0),this.touchStartEvent&&this.touchStartEvent()},t.prototype.onTouchJoystick_move=function(e){var t=e.getLocation().sub(this.startTouchPos);this.moveDir=t.normalize(),t.mag()<this.radius?this.handle.setPosition(t):this.handle.setPosition(this.moveDir.mul(this.radius)),null!==this.dir&&(this.dir.opacity=255,this.dir.angle=cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y,this.moveDir.x))),this.touchMoveEvent&&this.touchMoveEvent.call(this.touchEventTarget,this.moveDir)},t.prototype.onTouchJoystick_end=function(){this.isTouching&&(null!==this.dir&&(this.dir.opacity=0),this.isTouching=!1,this.bg.opacity=0,this.touchEndEvent&&this.touchEndEvent())},t.prototype.addEvent=function(e,t){this.touchMoveEvent=e,this.touchEventTarget=t},t.prototype.addEvent_StartEnd=function(e,t){this.touchStartEvent=e,this.touchEndEvent=t},t.prototype.removeEvent=function(){this.touchMoveEvent=null},r([c(cc.Float)],t.prototype,"radius",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],KdTree:[function(e,t,o){"use strict";cc._RF.push(t,"d6359USgm5JIphmmHh6hikR","KdTree");var n=e,i=o;Object.defineProperty(i,"__esModule",{value:!0}),i.KdTree=void 0;var a=n("Agent"),r=n("AgentTreeNode"),l=n("FloatPair"),s=n("Obstacle"),c=n("ObstacleTreeNode"),u=n("RVOMath"),p=n("Simulator"),h=n("Vector2"),f=function(){function e(){this.MAX_LEAF_SIZE=10,this.agents_=[],this.agentTree_=[]}return e.prototype.clear=function(){this.agents_=[],this.agentTree_=[],this.obstacleTree_=null},e.prototype.buildAgentTree=function(){for(var e=p.Simulator.Instance().getNumAgents(),t=0;t<e;++t)this.agents_[t]=p.Simulator.Instance().agents_[t];for(t=0;t<2*e;++t)this.agentTree_[t]=new r.AgentTreeNode;0!=e&&this.buildAgentTreeRecursive(0,e,0)},e.prototype.buildAgentTreeRecursive=function(e,t,o){this.agentTree_[o].begin=e,this.agentTree_[o].end=t,this.agentTree_[o].minX=this.agentTree_[o].maxX=this.agents_[e].position_.x,this.agentTree_[o].minY=this.agentTree_[o].maxY=this.agents_[e].position_.y;for(var n=e+1;n<t;++n)this.agentTree_[o].maxX=Math.max(this.agentTree_[o].maxX,this.agents_[n].position_.x),this.agentTree_[o].minX=Math.min(this.agentTree_[o].minX,this.agents_[n].position_.x),this.agentTree_[o].maxY=Math.max(this.agentTree_[o].maxY,this.agents_[n].position_.y),this.agentTree_[o].minY=Math.min(this.agentTree_[o].minY,this.agents_[n].position_.y);if(t-e>this.MAX_LEAF_SIZE){for(var i=this.agentTree_[o].maxX-this.agentTree_[o].minX>this.agentTree_[o].maxY-this.agentTree_[o].minY,a=i?.5*(this.agentTree_[o].maxX+this.agentTree_[o].minX):.5*(this.agentTree_[o].maxY+this.agentTree_[o].minY),r=e,l=t;r<l;){for(;r<l&&(i?this.agents_[r].position_.x:this.agents_[r].position_.y)<a;)++r;for(;l>r&&(i?this.agents_[l-1].position_.x:this.agents_[l-1].position_.y)>=a;)--l;if(r<l){var s=this.agents_[r];this.agents_[r]=this.agents_[l-1],this.agents_[l-1]=s,++r,--l}}r==e&&(++r,++l),this.agentTree_[o].left=o+1,this.agentTree_[o].right=o+2*(r-e),this.buildAgentTreeRecursive(e,r,this.agentTree_[o].left),this.buildAgentTreeRecursive(r,t,this.agentTree_[o].right)}},e.prototype.computeAgentNeighbors=function(e,t){this.queryAgentTreeRecursive(e,t,0)},e.prototype.queryAgentTreeRecursive=function(e,t,o){if(this.agentTree_[o].end-this.agentTree_[o].begin<=this.MAX_LEAF_SIZE)for(var n=this.agentTree_[o].begin;n<this.agentTree_[o].end;++n)e.insertAgentNeighbor(this.agents_[n],a.Agent.rangeSq);else{var i=u.RVOMath.sqr(Math.max(0,this.agentTree_[this.agentTree_[o].left].minX-e.position_.x))+u.RVOMath.sqr(Math.max(0,e.position_.x-this.agentTree_[this.agentTree_[o].left].maxX))+u.RVOMath.sqr(Math.max(0,this.agentTree_[this.agentTree_[o].left].minY-e.position_.y))+u.RVOMath.sqr(Math.max(0,e.position_.y-this.agentTree_[this.agentTree_[o].left].maxY)),r=u.RVOMath.sqr(Math.max(0,this.agentTree_[this.agentTree_[o].right].minX-e.position_.x))+u.RVOMath.sqr(Math.max(0,e.position_.x-this.agentTree_[this.agentTree_[o].right].maxX))+u.RVOMath.sqr(Math.max(0,this.agentTree_[this.agentTree_[o].right].minY-e.position_.y))+u.RVOMath.sqr(Math.max(0,e.position_.y-this.agentTree_[this.agentTree_[o].right].maxY));i<r?i<a.Agent.rangeSq&&(this.queryAgentTreeRecursive(e,a.Agent.rangeSq,this.agentTree_[o].left),r<a.Agent.rangeSq&&this.queryAgentTreeRecursive(e,a.Agent.rangeSq,this.agentTree_[o].right)):r<a.Agent.rangeSq&&(this.queryAgentTreeRecursive(e,a.Agent.rangeSq,this.agentTree_[o].right),i<a.Agent.rangeSq&&this.queryAgentTreeRecursive(e,a.Agent.rangeSq,this.agentTree_[o].left))}},e.prototype.buildObstacleTree=function(){this.obstacleTree_=new c.ObstacleTreeNode;for(var e=[],t=0;t<p.Simulator.Instance().obstacles_.length;++t)e[t]=p.Simulator.Instance().obstacles_[t];this.obstacleTree_=this.buildObstacleTreeRecursive(e)},e.prototype.buildObstacleTreeRecursive=function(e){if(0==e.length)return null;for(var t=new c.ObstacleTreeNode,o=0,n=e.length,i=e.length,a=0;a<e.length;++a){for(var r=0,f=0,d=(A=e[a]).nextObstacle_,_=0;_<e.length;++_)if(a!=_){var y=(O=e[_]).nextObstacle_,m=h.Vector2.leftOf(A.point_,d.point_,O.point_),g=h.Vector2.leftOf(A.point_,d.point_,y.point_);m>=-u.RVOMath.RVO_EPSILON&&g>=-u.RVOMath.RVO_EPSILON?++r:m<=u.RVOMath.RVO_EPSILON&&g<=u.RVOMath.RVO_EPSILON?++f:(++r,++f);var v=new l.FloatPair(Math.max(r,f),Math.min(r,f)),b=new l.FloatPair(Math.max(n,i),Math.min(n,i));if(l.FloatPair.sup_equal(v,b))break}v=new l.FloatPair(Math.max(r,f),Math.min(r,f)),b=new l.FloatPair(Math.max(n,i),Math.min(n,i)),l.FloatPair.inf(v,b)&&(n=r,i=f,o=a)}for(var P=[],S=0;S<n;++S)P[S]=null;var B=[];for(S=0;S<i;++S)B[S]=null;var A,w=0,C=0;for(d=(A=e[a=o]).nextObstacle_,_=0;_<e.length;++_){var O;if(a!=_)if(y=(O=e[_]).nextObstacle_,m=h.Vector2.leftOf(A.point_,d.point_,O.point_),g=h.Vector2.leftOf(A.point_,d.point_,y.point_),m>=-u.RVOMath.RVO_EPSILON&&g>=-u.RVOMath.RVO_EPSILON)P[w++]=e[_];else if(m<=u.RVOMath.RVO_EPSILON&&g<=u.RVOMath.RVO_EPSILON)B[C++]=e[_];else{var R=h.Vector2.det(d.point_.moins(A.point_),O.point_.moins(A.point_))/h.Vector2.det(d.point_.moins(A.point_),O.point_.moins(y.point_)),I=y.point_.moins(O.point_).mul_k(R),V=O.point_.plus(I),N=new s.Obstacle;N.point_=V,N.prevObstacle_=O,N.nextObstacle_=y,N.isConvex_=!0,N.unitDir_=O.unitDir_,N.id_=p.Simulator.Instance().obstacles_.length,p.Simulator.Instance().obstacles_.push(N),O.nextObstacle_=N,y.prevObstacle_=N,m>0?(P[w++]=O,B[C++]=N):(B[C++]=O,P[w++]=N)}}return t.obstacle=A,t.left=this.buildObstacleTreeRecursive(P),t.right=this.buildObstacleTreeRecursive(B),t},e.prototype.computeObstacleNeighbors=function(e,t){this.queryObstacleTreeRecursive(e,t,this.obstacleTree_)},e.prototype.queryObstacleTreeRecursive=function(e,t,o){if(null!=o){var n=o.obstacle,i=n.nextObstacle_,a=h.Vector2.leftOf(n.point_,i.point_,e.position_);this.queryObstacleTreeRecursive(e,t,a>=0?o.left:o.right),u.RVOMath.sqr(a)/h.Vector2.absSq(i.point_.moins(n.point_))<t&&(a<0&&e.insertObstacleNeighbor(o.obstacle,t),this.queryObstacleTreeRecursive(e,t,a>=0?o.right:o.left))}},e.prototype.queryVisibility=function(e,t,o){return this.queryVisibilityRecursive(e,t,o,this.obstacleTree_)},e.prototype.queryVisibilityRecursive=function(e,t,o,n){if(null==n)return!0;var i=n.obstacle,a=i.nextObstacle_,r=h.Vector2.leftOf(i.point_,a.point_,e),l=h.Vector2.leftOf(i.point_,a.point_,t),s=1/h.Vector2.absSq(a.point_.moins(i.point_));if(r>=0&&l>=0)return this.queryVisibilityRecursive(e,t,o,n.left)&&(u.RVOMath.sqr(r)*s>=u.RVOMath.sqr(o)&&u.RVOMath.sqr(l)*s>=u.RVOMath.sqr(o)||this.queryVisibilityRecursive(e,t,o,n.right));if(r<=0&&l<=0)return this.queryVisibilityRecursive(e,t,o,n.right)&&(u.RVOMath.sqr(r)*s>=u.RVOMath.sqr(o)&&u.RVOMath.sqr(l)*s>=u.RVOMath.sqr(o)||this.queryVisibilityRecursive(e,t,o,n.left));if(r>=0&&l<=0)return this.queryVisibilityRecursive(e,t,o,n.left)&&this.queryVisibilityRecursive(e,t,o,n.right);var c=h.Vector2.leftOf(e,t,i.point_),p=h.Vector2.leftOf(e,t,a.point_),f=1/h.Vector2.absSq(t.moins(e));return c*p>=0&&u.RVOMath.sqr(c)*f>u.RVOMath.sqr(o)&&u.RVOMath.sqr(p)*f>u.RVOMath.sqr(o)&&this.queryVisibilityRecursive(e,t,o,n.left)&&this.queryVisibilityRecursive(e,t,o,n.right)},e}();i.KdTree=f,cc._RF.pop()},{}],KeyValuePair:[function(e,t,o){"use strict";cc._RF.push(t,"5afcdlPV9xB15VP7CoWYnfm","KeyValuePair");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyValuePair=void 0,n.KeyValuePair=function(e,t){this.Key=e,this.Value=t},cc._RF.pop()},{}],LC_008:[function(e,t,o){"use strict";cc._RF.push(t,"35bd5qO75ZIo4rmKJUDR5fv","LC_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GameConfig"),c=i("AudioMag"),u=i("GameManager"),p=i("NodePoolManager"),h=i("UIMag"),f=i("Config_008"),d=i("Config_Gaming_008"),_=i("DropItemMag_008"),y=i("EnemyManager_008"),m=i("GamingData_008"),g=i("InfiniteMap_008"),v=i("PotMag_008"),b=i("Entities_008"),P=i("Player_008"),S=cc._decorator,B=S.ccclass,A=S.property;cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=1200,cc.dynamicAtlasManager.maxAtlasCount=4;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startUI=null,t.gamingUI=null,t.openBoxUI=null,t.reviveUI=null,t.gameNode=null,t.player=null,t.infiniteMapTs=null,t.gameObjNode=null,t.isPreStart=!1,t.playerData=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){var e=this;o.ins=this,this.gameNode.active=!1,cc.director.getCollisionManager().enabled=!0,window.onExitGame_008=this.onExitGame.bind(this),window.isCanCtrl=!0,m.default.isGamePause=!0,m.default.GameObjNode=this.gameObjNode,m.default.func_onShowReviveUI=this.onShowReviveUI.bind(this);var t=this.initPlayerData();this.startUI.active=!0,this.gamingUI.active=!1,this.openBoxUI.active=!1,t&&this.scheduleOnce(function(){e.onStartGame()},0)},t.prototype.start=function(){s.default.isGamePause=!1},t.prototype.onStartGame=function(){var e=this;if(!this.isPreStart){this.isPreStart=!0;var t=[];t.push({key:f.default.Key_DropItem,prePath:f.default.Path_DropItem,count:50}),t.push({key:f.default.Key_Pot,prePath:f.default.Path_Pot,count:d.Config_Gaming_008.Pot_CountLimit}),t.push({key:f.default.Key_Box,prePath:f.default.Path_Box,count:1}),f.DropItemConfigMap.forEach(function(e,o){t.push({key:e,prePath:e,count:1===o?50:1})}),t.push({key:f.default.Key_FloatText,prePath:f.default.Path_FloatText,count:20}),t.push({key:f.default.Key_HpBar,prePath:f.default.Path_HpBar,count:1}),t.push({key:f.default.Key_EF_Spark,prePath:f.default.Path_EF_Spark,count:1}),t.push({key:f.default.Key_EF_NuclearBomb,prePath:f.default.Path_EF_NuclearBomb,count:1}),t.push({key:f.default.Key_EF_NuclearBomb_Z,prePath:f.default.Path_EF_NuclearBomb_Z,count:15}),t.push({key:f.default.Key_FlyingKnife,prePath:f.default.Path_FlyingKnife,count:3}),t.push({key:f.default.Key_EF_PickUpWeapon,prePath:f.default.Path_EF_PickUpWeapon,count:9}),t.push({key:f.EnemyBulletPrefabConfigMap.get(0),prePath:f.EnemyBulletPrefabConfigMap.get(0),count:20}),window.waitingStartFunc&&window.waitingStartFunc("\u51c6\u5907\u8fdb\u5165\u6c5f\u6e56...",!0),p.default.getInstance().onInitNodePoolArr(t,window.waitingFunc).then(function(){return y.default.ins.onInit("lv_008/json/Chapter_000")}).then(function(){cc.director.emit(cc.Director.EVENT_BEFORE_SCENE_LAUNCH),window.waitingEndFunc&&window.waitingEndFunc(),!cc.sys.isNative&&cc.sys.isBrowser&&(cc.debug.setDisplayStats(!1),cc.debug.setDisplayStats(!0)),m.default.onInitData(e.playerData),e.gameNode.active=!0,e.gamingUI.active=!0,e.startUI.active=!1,e.player.onInit(),e.infiniteMapTs.onReset(),v.default.ins.onStartGame(),e.isPreStart=!1,c.default.getInstance().playBGM(f.default.BGM_Game)})}},t.prototype.onStopGame=function(){y.default.ins.onStopGame(),_.default.ins.onStopGame(),v.default.ins.onStopGame(),this.player.onStopGame(),this.gameNode.active=!1,this.startUI.active=!0,this.gamingUI.active=!1,c.default.getInstance().playBGM(c.AudioType.bgm_start),c.default.getInstance().stopSound_allLoop()},t.prototype.onExitGame=function(){cc.director.emit(cc.Director.EVENT_BEFORE_SCENE_LAUNCH),p.default.getInstance().clearAll(),u.default.ins.onStopGame(),h.default.ins.HideUI(h.UIType.GameUI,!1,function(){h.default.ins.ShowUI(h.UIType.StartUI,!0,null)})},t.prototype.onShowOpenBoxUI=function(){this.openBoxUI.active=!0},t.prototype.onShowReviveUI=function(){this.reviveUI.active=!0},t.prototype.initPlayerData=function(){var e=!1,t=localStorage.getItem(f.default.LOCALDATA_KEY);return t?(this.playerData=JSON.parse(t),e=!1):(this.playerData=new b.PlayerData_008,e=!0),this.onCheckData(),this.onSaveData(),e},t.prototype.onCheckData=function(){if(this.playerData.dataVersion<0){this.playerData.dataVersion=0,this.playerData.lv=1,this.playerData.curExp=0,this.playerData.isGuideAlchemy=!1,this.playerData.numberOfAlchemy=9,this.playerData.alchemyTimer=0,this.playerData.alchemyTotalTime=0,this.playerData.bulletRotateSpeed=240,this.playerData.bulletCount=4,this.playerData.coolDownTime=3,this.playerData.magnetRange=200;var e=f.PlayerLevelInfoConfigMap.get(this.playerData.lv);this.playerData.maxHp=e.maxHp,this.playerData.damagePoint=e.damagePoint,this.playerData.armor=e.armor,this.playerData.moveSpeed=e.moveSpeed,this.playerData.restoreLife=e.restoreLife,this.playerData.expBonus=e.expBonus,this.playerData.lucky=e.lucky,this.playerData.alchemy_maxHp=0,this.playerData.alchemy_damagePoint=0,this.playerData.alchemy_armor=0,this.playerData.alchemy_moveSpeed=0,this.playerData.alchemy_restoreLife=0,this.playerData.alchemy_expBonus=0,this.playerData.alchemy_lucky=0}this.playerData.dataVersion<1&&(this.playerData.dataVersion=1,this.playerData.coinCount=0)},t.prototype.onSaveData=function(){localStorage.setItem(f.default.LOCALDATA_KEY,JSON.stringify(this.playerData))},t.prototype.getCoinCount=function(){return this.playerData.coinCount},t.prototype.addCoin=function(e){this.playerData.coinCount+=e},t.ins=null,l([A(cc.Node)],t.prototype,"startUI",void 0),l([A(cc.Node)],t.prototype,"gamingUI",void 0),l([A(cc.Node)],t.prototype,"openBoxUI",void 0),l([A(cc.Node)],t.prototype,"reviveUI",void 0),l([A(cc.Node)],t.prototype,"gameNode",void 0),l([A(P.default)],t.prototype,"player",void 0),l([A(g.default)],t.prototype,"infiniteMapTs",void 0),l([A(cc.Node)],t.prototype,"gameObjNode",void 0),o=l([B],t)}(cc.Component);a.default=w,cc._RF.pop()},{}],LevelConfig:[function(e,t,o){"use strict";cc._RF.push(t,"c21bcFE+ohE84sagCWB9atp","LevelConfig");var n=o;Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.config=[{id:0,name:"\u9f99\u9aa8\u7248\u672c",prePath:"prefab/lv/lv_001"},{id:1,name:"\u6df1\u6d77\u9c7c\u7248\u672c",prePath:"prefab/lv/lv_002"},{id:2,name:"\u67aa\u7248\u672c",prePath:"prefab/lv/lv_003"},{id:3,name:"\u5347\u5b98\u7248\u672c",prePath:"prefab/lv/lv_004"},{id:4,name:"\u5c71\u6d77\u7ecf\u7248\u672c",prePath:"prefab/lv/lv_005"},{id:5,name:"\u661f\u7403\u7248\u672c",prePath:"prefab/lv/lv_006"},{id:6,name:"\u7ec6\u80de\u7248\u672c",prePath:"prefab/lv/lv_007"},{id:7,name:"\u8f6c\u5200\u73a9\u6cd5",prePath:"lv_008/lv_008"},{id:8,name:"\u8f6c\u5200\u5bf9\u6297",prePath:"lv_009/lv_009"}],e}();n.default=i,cc._RF.pop()},{}],Line:[function(e,t,o){"use strict";cc._RF.push(t,"69e7fSGxlJFvqYkisKpBQt+","Line");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.Line=void 0,n.Line=function(){},cc._RF.pop()},{}],MotionTrail:[function(e,t,o){"use strict";cc._RF.push(t,"e4ec67yLeVLB63ZD8IPoc5V","MotionTrail");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("GamingData_008"),c=cc.gfx,u=function(){this.x=0,this.y=0,this.dis=0,this.cos=0,this.sin=0},p=cc._decorator,h=p.ccclass,f=p.property,d=p.menu,_=p.playOnFocus,y=p.executeInEditMode,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t._spriteFrame=null,t._active=!0,t._isWorldXY=!0,t.offset=cc.v2(0,0),t._length=20,t._headWidth=100,t._tailWidth=0,t._headOpacity=255,t._tailOpacity=0,t.renderData=null,t.meshID=0,t.capacity=0,t.verticesCount=0,t.indicesCount=0,t.$flush=null,t.$xyOffset=1e8,t.$uvOffset=1e8,t.$colorOffset=1e8,t.$step=0,t.trailData=[],t.nodeOpacity=255,t.$getVData=function(){return t.renderData.vDatas[t.meshID]},t.$getUintVData=function(){return t.renderData.uintVDatas[t.meshID]},t.$getIData=function(){return t.renderData.iDatas[t.meshID]},t}return r(t,e),Object.defineProperty(t.prototype,"$spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame=e,this.$updateSpriteFrame()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e,this.enabled=e,this.$updateActive()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isWorldXY",{get:function(){return this._isWorldXY},set:function(e){this._isWorldXY=e,this.$updateXY()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){this._length=Math.max(e,0),this.updateLength(),this.updateWidth(),this.$updateUV(),this.$updateColor(),this.resetPos()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headWidth",{get:function(){return this._headWidth},set:function(e){this._headWidth=Math.max(e,0),this.updateWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tailWidth",{get:function(){return this._tailWidth},set:function(e){this._tailWidth=Math.max(e,0),this.updateWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headOpacity",{get:function(){return this._headOpacity},set:function(e){this._headOpacity=e,this.$updateColor()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tailOpacity",{get:function(){return this._tailOpacity},set:function(e){this._tailOpacity=e,this.$updateColor()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$vDataLength",{get:function(){return this.verticesCount*this.$step},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$iDataLength",{get:function(){return this.indicesCount},enumerable:!1,configurable:!0}),t.prototype._resetAssembler=function(){var e=this._assembler=new g;e.init(this),e.updateRenderData=this.$onFlushed.bind(this),this.$flush=this.setVertsDirty,(this.renderData=new cc.RenderData).init(e),this.meshID=this.renderData.meshCount},t.prototype.$updateActive=function(){this.active&&(this.node._updateWorldMatrix(),this.resetPos())},t.prototype.onEnable=function(){var t=this;e.prototype.onEnable.call(this),this.active=!1,this.scheduleOnce(function(){t.active=!0},0)},t.prototype.start=function(){this.$init(),this.$updateSpriteFrame(),cc.director.once(cc.Director.EVENT_AFTER_DRAW,this.$updateColor,this)},t.prototype.$init=function(){this.$setVFmt(),this.updateLength(),this.updateWidth(),this.resetPos(),this.node.on(cc.Node.EventType.COLOR_CHANGED,this.$updateColor,this)},t.prototype.$setVFmt=function(e){void 0===e&&(e=new c.VertexFormat([{name:c.ATTR_POSITION,type:c.ATTR_TYPE_FLOAT32,num:2},{name:c.ATTR_UV0,type:c.ATTR_TYPE_FLOAT32,num:2},{name:c.ATTR_COLOR,type:c.ATTR_TYPE_UINT8,num:4,normalize:!0}]));var t=this._assembler;cc.sys.isNative&&t.setVertexFormat(e);for(var o=e._elements,n=o.length-1;n>=0;--n)this.$step+=o[n].bytes>>2;var i=e._attr2el;this.$xyOffset=i[c.ATTR_POSITION].offset>>2,this.$uvOffset=i[c.ATTR_UV0].offset>>2,this.$colorOffset=i[c.ATTR_COLOR].offset>>2},t.prototype.$createBuffer=function(e,t,o){void 0===t&&(t=e-2),void 0===o&&(o=2),o=Math.max(o,1.5);var n=this.renderData;this.verticesCount=Math.max(e,0),this.indicesCount=Math.max(3*t,0);var i=!n.vDatas[this.meshID];if(this.verticesCount>this.capacity?(this.capacity=~~Math.max(this.capacity*o,this.verticesCount),i=!0):this.verticesCount<this.capacity/o&&(this.capacity=~~Math.max(this.capacity/o,this.verticesCount),i=!0),i){var a=new Float32Array(this.verticesCount*this.$step),r=new Uint16Array(this.indicesCount);n.updateMesh(this.meshID,a,r)}this.$updateIndice()},t.prototype.update=function(){s.default.isGamePause||(cc.sys.isNative&&this.$updateColor(),this.$flush())},t.prototype.$onFlushed=function(){if(!1!==this.active&&null!==this.$spriteFrame&&0!==this.length){this.nodeOpacity!==this.node.opacity&&(this.nodeOpacity=this.node.opacity,this.$updateColor());for(var e=this.trailData,t=this.length-1;t>0;--t)e[t].x=e[t-1].x,e[t].y=e[t-1].y,e[t].sin=e[t-1].sin,e[t].cos=e[t-1].cos;if(this.$isWorldXY){this.node._updateWorldMatrix();var o=this.node._worldMatrix.m;e[0].x=this.offset.x+o[12],e[0].y=this.offset.y+o[13]}else e[0].x=this.offset.x+this.node.x,e[0].y=this.offset.y+this.node.y;this.$updateXY()}},t.prototype.$updateXY=function(){var e=this.$getVData(),t=null,o=null,n=0,i=0,a=0,r=0,l=0,s=this.$step,c=0,u=0;this.$isWorldXY||(c=this.node.x,u=this.node.y);for(var p=this.trailData,h=0,f=this.length-1;h<f;++h){if(t=p[h],o=p[h+1],n=t.x-c,i=t.y-u,a=o.x-c,r=o.y-u,0===h){var d=Math.atan2(r-i,a-n);t.sin=Math.sin(d),t.cos=Math.cos(d)}e[l]=n+t.dis*t.sin,e[l+1]=i-t.dis*t.cos,e[l+=s]=n-t.dis*t.sin,e[l+1]=i+t.dis*t.cos,l+=s}e[l]=a+o.dis*t.sin,e[l+1]=r-o.dis*t.cos,e[l+=s]=a-o.dis*t.sin,e[l+1]=r+o.dis*t.cos,this.$fitXY()},t.prototype.$updateSpriteFrame=function(){var e=this.$spriteFrame,t=this.getMaterial(0)||cc.Material.getBuiltinMaterial("2d-sprite");t.define("USE_TEXTURE",!0),t.setProperty("texture",e?e.getTexture():null),this.$updateUV()},t.prototype.$updateIndice=function(){for(var e=this.$getIData(),t=0,o=0,n=this.$iDataLength;t<n;++o)e[t++]=o,e[t++]=o+1,e[t++]=o+2},t.prototype.$updateUV=function(){if(null!==this.$spriteFrame)for(var e=this.$getVData(),t=this.$step,o=1/(this.trailData.length-1),n=this.$spriteFrame.getTexture().width,i=this.$spriteFrame.getTexture().height,a=this.$spriteFrame.getRect(),r=this.$uvOffset,l=0,s=this.$vDataLength;r<s;r+=t,++l)e[r]=((1&l)*a.width+a.x)/n,e[r+1]=((1-o*(l>>1))*a.height+a.y)/i},t.prototype.$updateColor=function(){for(var e=this.$getUintVData(),t=this.length,o=this.headOpacity,n=(o-this.tailOpacity)/(t-1),i=this.node.opacity/255,a=this.node.color.b<<16|this.node.color.g<<8|this.node.color.r,r=0,l=this.$colorOffset,s=this.$step;r<t;++r){var c=(o-n*r)*i<<24|a;e[l]=c,e[l+=s]=c,l+=s}},t.prototype.updateLength=function(){var e=this.length;this.trailData=[];for(var t=0;t<e;++t)this.trailData[t]=new u;this.$createBuffer(e<<1)},t.prototype.updateWidth=function(){for(var e=this.trailData,t=this.length,o=this.headWidth/2,n=(o-this.tailWidth/2)/(t-1),i=0;i<t;++i)e[i].dis=o-n*i},t.prototype.resetPos=function(){var e=this.trailData,t=this.offset.x,o=this.offset.y;if(this.$isWorldXY){var n=this.node._worldMatrix.m;t+=n[12],o+=n[13]}else t+=this.node.x,o+=this.node.y;for(var i=this.length-1;i>=0;i--)e[i].x=t,e[i].y=o;for(var a=this.$getVData(),r=this.$step,l=(i=0,this.$vDataLength);i<l;i+=r)a[i]=t,a[i+1]=o;this.$fitXY()},t.prototype.$fitXY=function(){var e=this.$getVData();if(cc.sys.isNative){if(this.$isWorldXY)for(var t=this.node._matrix.m,o=cc.Mat4.invert(new cc.Mat4,this.node._worldMatrix).m,n=this.$xyOffset,i=this.$vDataLength;n<i;n+=this.$step){var a=t[0]*e[n]+t[4]*e[n+1],r=t[1]*e[n]+t[5]*e[n+1];e[n]=o[0]*a+o[4]*r+o[12],e[n+1]=o[1]*a+o[5]*r+o[13]}}else{t=this.node._matrix.m;var l=this.$isWorldXY?0:t[12],s=this.$isWorldXY?0:t[13];for(n=this.$xyOffset,i=this.$vDataLength;n<i;n+=this.$step){var c=e[n],u=e[n+1];e[n]=c*t[0]+u*t[4]+l,e[n+1]=c*t[1]+u*t[5]+s}}},t.prototype.onDestroy=function(){this.node.targetOff(this)},l([f({type:cc.SpriteAtlas,editorOnly:!0,readonly:!0,animatable:!1})],t.prototype,"atlas",void 0),l([f],t.prototype,"_spriteFrame",void 0),l([f({type:cc.SpriteFrame})],t.prototype,"$spriteFrame",null),l([f(cc.Boolean)],t.prototype,"_active",void 0),l([f({type:cc.Boolean})],t.prototype,"active",null),l([f],t.prototype,"_isWorldXY",void 0),l([f({})],t.prototype,"$isWorldXY",null),l([f({})],t.prototype,"offset",void 0),l([f],t.prototype,"_length",void 0),l([f({type:cc.Integer})],t.prototype,"length",null),l([f],t.prototype,"_headWidth",void 0),l([f({})],t.prototype,"headWidth",null),l([f],t.prototype,"_tailWidth",void 0),l([f({})],t.prototype,"tailWidth",null),l([f],t.prototype,"_headOpacity",void 0),l([f({type:cc.Integer,min:0,max:255,slide:!0})],t.prototype,"headOpacity",null),l([f],t.prototype,"_tailOpacity",void 0),l([f({type:cc.Integer,min:0,max:255,slide:!0})],t.prototype,"tailOpacity",null),l([h,d("Comp/MotionTrail"),_,y],t)}(cc.RenderComponent);a.default=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.fillBuffers=function(e){var t=e.renderData.vDatas[e.meshID],o=e.renderData.iDatas[e.meshID],n=cc.renderer._handle._meshBuffer,i=n.request(e.verticesCount,e.indicesCount),a=i.byteOffset>>2,r=n._vData;t.length+a>r.length?r.set(t.subarray(0,r.length-a),a):r.set(t,a);for(var l=n._iData,s=i.indiceOffset,c=i.vertexOffset,u=0,p=o.length;u<p;u++)l[s++]=c+o[u]},t}(cc.Assembler);cc._RF.pop()},{}],Multimap:[function(e,t,o){"use strict";cc._RF.push(t,"86461TCRYJML4Jk12IfitHo","Multimap");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.Multimap=void 0,n.Multimap=function(){this.keyValue=[]},cc._RF.pop()},{}],NodePoolManager:[function(e,t,o){"use strict";cc._RF.push(t,"ac7e3AEAC9KSI+sxCGq3VgT","NodePoolManager");var n=e,i=o,a=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},r=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var l=n("GameMag"),s=cc._decorator,c=(s.ccclass,s.property,function(){function e(){this.map_nodePool=new Map,this.map_config=new Map}return e.getInstance=function(){return null===this._instance&&(this._instance=new e),this._instance},e.prototype.clearAll=function(){this.map_nodePool.forEach(function(e){e.clear()}),this.map_nodePool.clear(),this.map_config.clear()},e.prototype.clearByKey=function(e){this.map_nodePool.has(e)&&(this.map_nodePool.get(e).clear(),this.map_nodePool.delete(e),this.map_config.delete(e))},e.prototype.onInitNodePoolArr=function(e,t){var o=this;return new Promise(function(n){return a(o,void 0,void 0,function(){var o;return r(this,function(i){switch(i.label){case 0:o=0,i.label=1;case 1:return o<e.length?[4,this.onInitNodePool(e[o])]:[3,4];case 2:i.sent(),t&&t(o/e.length),i.label=3;case 3:return o++,[3,1];case 4:return n(null),[2]}})})})},e.prototype.onInitNodePool=function(e){var t=this;return new Promise(function(o){t.map_nodePool.has(e.key)?o(null):""===e.prePath?(cc.log("\u8fd9\u4e2a\u9884\u5236\u4f53\u8def\u5f84\u672a\u8d4b\u503c ==> "+e.key),o(null)):l.default.getInstance().getPrefab(e.prePath).then(function(n){if(null!==n){t.map_config.set(e.key,n);var i=new cc.NodePool;t.map_nodePool.has(e.key)||t.map_nodePool.set(e.key,i);for(var a=0;a<e.count;a++)i.put(cc.instantiate(n))}o(null)})})},e.prototype.getNode=function(e){var t=null;return this.map_nodePool.has(e)&&this.map_nodePool.get(e).size()>0&&(t=this.map_nodePool.get(e).get()),t},e.prototype.getNodeNotNull=function(e){var t=null;return this.map_nodePool.has(e)&&(this.map_nodePool.get(e).size()>0?t=this.map_nodePool.get(e).get():null===t&&(t=cc.instantiate(this.map_config.get(e)))),t},e.prototype.recoveryNode=function(e,t){this.map_nodePool.has(e)?this.map_nodePool.get(e).put(t):t.destroy()},e.prototype.isHasNodePool=function(e){return this.map_nodePool.has(e)},e._instance=null,e}());i.default=c,cc._RF.pop()},{}],NuclearBombNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"fd964oJP0pKu6ffL0jgA1hj","NuclearBombNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("AudioMag"),u=i("NodePoolManager"),p=i("Config_008"),h=i("GamingData_008"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.g=null,t.z=null,t.zArrNode=null,t.zCount=15,t.fireInterval=.08,t.currCount=0,t.compCount=0,t.posArr=[],t}return r(t,e),t.prototype.onEnable=function(){h.default.isGamePause=!0,this.onPlayAni()},t.prototype.onPlayAni=function(){this.currCount=0,this.compCount=0,this.posArr=[];var e=Math.floor(this.zCount/3);this.zCount=3*e;for(var t=2200/(e-1),o=0;o<e;o++)for(var n=0;n<3;n++){var i=500*n-500,a=1100-o*t;this.posArr.push(cc.v2(i,a))}this.g.scale=0,this.z.scale=0,this.g.opacity=255,this.z.opacity=255,cc.tween(this.g).repeatForever(cc.tween().by(1,{angle:-120})).start(),cc.tween(this.g).to(.4,{scale:2}).delay(.2).to(.2,{scale:5}).start(),cc.tween(this.z).to(.4,{scale:2}).delay(.2).to(.2,{scale:5}).start(),this.schedule(this.onShowZ,this.fireInterval,this.zCount-1,.6)},t.prototype.onShowZ=function(){this.currCount+=1;var e=u.default.getInstance().getNodeNotNull(p.default.Key_EF_NuclearBomb_Z);if(null!==e){e.setParent(this.zArrNode);var t=s.RandomUtils.getRandomFormArray(this.posArr),o=this.posArr.splice(t,1)[0];o.add(cc.v2(s.RandomUtils.getRandomInt(-50,50),s.RandomUtils.getRandomInt(-100,100))),e.setPosition(o),e.scale=0,e.opacity=255,cc.tween(e).to(.2,{scale:2.5}).call(function(){c.default.getInstance().playSound(p.default.SEF_NuclearBomb)}).to(.4,{opacity:0}).call(this.onRecoveryZ.bind(this,e)).start()}},t.prototype.onRecoverySelf=function(){var e=this;h.default.func_onSkillInScreenEnemy&&h.default.func_onSkillInScreenEnemy(),cc.tween(this.g).to(.2,{opacity:0,scale:10}).start(),cc.tween(this.z).to(.2,{opacity:0,scale:10}).call(function(){u.default.getInstance().recoveryNode(p.default.Key_EF_NuclearBomb,e.node)}).start()},t.prototype.onRecoveryZ=function(e){u.default.getInstance().recoveryNode(p.default.Key_EF_NuclearBomb_Z,e),this.compCount+=1,this.currCount>=this.zCount&&this.compCount===this.currCount&&this.onRecoverySelf()},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.g),cc.Tween.stopAllByTarget(this.z),this.unschedule(this.onShowZ),h.default.isGamePause=!1},l([_(cc.Node)],t.prototype,"g",void 0),l([_(cc.Node)],t.prototype,"z",void 0),l([_(cc.Node)],t.prototype,"zArrNode",void 0),l([d],t)}(cc.Component);a.default=y,cc._RF.pop()},{}],ObstacleTreeNode:[function(e,t,o){"use strict";cc._RF.push(t,"ba31d44L3VLO5aLPXffXqep","ObstacleTreeNode");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.ObstacleTreeNode=void 0,n.ObstacleTreeNode=function(){},cc._RF.pop()},{}],Obstacle:[function(e,t,o){"use strict";cc._RF.push(t,"6746fHeR21HDK3DNojMxj25","Obstacle");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.Obstacle=void 0,n.Obstacle=function(){},cc._RF.pop()},{}],OpenBoxUI_008:[function(e,t,o){"use strict";cc._RF.push(t,"e9c72YoCjVMhq/POrs60aiE","OpenBoxUI_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("GameMag"),u=i("Config_008"),p=i("GamingData_008"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t.boxView=null,t.tempNode=null,t.rewardView=null,t.btn_open=null,t.lbl_skipTips=null,t.boxItemNode=null,t.boxLightNode=null,t.anim_boxSelectEf=null,t.dia=null,t.particle_1=null,t.particle_2=null,t.itemBg_normal=null,t.itemBg_select=null,t.boxItemArr=[],t.lightArr=[],t.currRewardIndex=0,t.currCompIndex=-1,t.boxData=null,t.isParticlePlaying=!1,t.lastTouchTime=0,t}return r(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.boxItemNode.childrenCount;e++)this.boxItemArr.push(this.boxItemNode.children[e]);for(e=0;e<this.boxLightNode.childrenCount;e++)this.lightArr.push(this.boxLightNode.children[e])},t.prototype.onEnable=function(){this.onInitData(),this.rewardView.active=!1,this.onPlayShowAni()},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.onInitData=function(){this.currRewardIndex=0,this.currCompIndex=-1,this.boxData=p.default.getBoxRewardData(),this.rewardIndexArr=this.boxData.rewardIndexArr;for(var e=this.boxData.boxItemRewardDataArr,t=function(t){var n=o.boxItemArr[t].getChildByName("icon").getComponent(cc.Sprite);c.default.getInstance().getSpriteFrame(u.default.getItemIconPath(e[t].rewardId)).then(function(e){n.spriteFrame=e})},o=this,n=0;n<this.boxItemArr.length;n++)t(n)},t.prototype.onPlayShowAni=function(){var e=this;this.boxView.off(cc.Node.EventType.TOUCH_END),s.default.getInstance().playSound(u.default.SEF_BOX_OpenUI);for(var t=0;t<this.boxItemArr.length;t++)this.boxItemArr[t].scale=0,cc.Tween.stopAllByTarget(this.boxItemArr[t]),this.boxItemArr[t].getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.itemBg_normal;for(t=0;t<this.lightArr.length;t++)this.lightArr[t].opacity=0;for(this.anim_boxSelectEf.node.opacity=0,cc.Tween.stopAllByTarget(this.actNode),cc.Tween.stopAllByTarget(this.btn_open),cc.Tween.stopAllByTarget(this.lbl_skipTips),this.actNode.scale=.5,this.btn_open.scale=0,this.lbl_skipTips.opacity=0,this.dia.scale=0,this.isParticlePlaying=!1,this.particle_1.active=!1,this.particle_2.active=!1,cc.Tween.stopAllByTarget(this.btn_open),cc.tween(this.actNode).to(.2,{scale:1}).start(),t=0;t<8;t++)cc.tween(this.boxItemArr[t]).delay(.05*t+.2-.05).to(.15,{scale:1}).start();for(t=8;t<16;t++)cc.tween(this.boxItemArr[t]).delay(.05*(t-8)+.2-.05).to(.15,{scale:1}).start();this.btn_open.off(cc.Node.EventType.TOUCH_END),cc.tween(this.btn_open).delay(.2).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.btn_open.once(cc.Node.EventType.TOUCH_END,e.onPlayDrawAni,e),cc.tween(e.btn_open).to(.6,{scale:1.2}).to(.6,{scale:1}).union().repeatForever().start()}).start(),cc.tween(this.dia).delay(.7).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype.onPlayDrawAni=function(){var e=this;this.onShowSkipTips(),this.boxLightNode.opacity=255,cc.Tween.stopAllByTarget(this.btn_open),cc.tween(this.btn_open).to(.12,{scale:0},{easing:"backIn"}).start();var t=16;this.lightArr[0].setPosition(this.boxItemArr[t%16].getPosition()),this.lightArr[5].setPosition(this.boxItemArr[((t-5)%16+16)%16].getPosition()),this.lightArr[6].setPosition(this.boxItemArr[((t-10)%16+16)%16].getPosition()),t++,this.lightArr[0].opacity=255,this.lightArr[5].opacity=255,this.lightArr[6].opacity=255;var o=0;this.schedule(function(){if(o+=1,e.lightArr[0].setPosition(e.boxItemArr[t%16].getPosition()),o<20)e.lightArr[5].setPosition(e.boxItemArr[((t-5)%16+16)%16].getPosition()),e.lightArr[6].setPosition(e.boxItemArr[((t-10)%16+16)%16].getPosition());else if(o<40){e.showParticle(p.default.currOpenBoxLv);for(var n=1;n<6;n++)e.lightArr[n].setPosition(e.boxItemArr[(t-n+16)%16].getPosition()),e.lightArr[n].opacity=o-20-n>=0?218*(1-.1*n):0;e.lightArr[6].setPosition(e.boxItemArr[((t-10)%16+16)%16].getPosition()),o<25&&(e.lightArr[5].setPosition(e.boxItemArr[((t-5)%16+16)%16].getPosition()),e.lightArr[5].opacity=o-25>=0?109:218*(1-.2*(o-20)))}else{for(n=1;n<7;n++)e.lightArr[n].setPosition(e.boxItemArr[(t-n)%16].getPosition()),e.lightArr[n].opacity=o-20-n>=0?218*(1-.1*n):0;o<45&&(e.lightArr[6].setPosition(e.boxItemArr[((t-10)%16+16)%16].getPosition()),e.lightArr[6].opacity=o-45>=0?87.2:218*(1-.2*(o-40)))}if(o>100+50*e.currRewardIndex)if(e.rewardIndexArr[e.currRewardIndex]===t%16){if(e.currCompIndex===e.currRewardIndex)return;e.currCompIndex=e.currRewardIndex,e.boxLightNode.opacity=0;var i=e.rewardIndexArr[e.currRewardIndex];e.anim_boxSelectEf.node.setPosition(e.boxItemArr[i].getPosition()),e.anim_boxSelectEf.node.opacity=255;var a=e.boxItemArr[i];a.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=e.itemBg_select,e.scheduleOnce(function(){s.default.getInstance().playSound(u.default.SEF_BOX_Select),a.zIndex=cc.macro.MAX_ZINDEX,e.anim_boxSelectEf.node.opacity=0,cc.tween(a).to(.1,{scale:.9}).to(.2,{scale:1.2}).to(.1,{scale:1}).to(.1,{scale:1.2}).to(.1,{scale:1}).call(function(){e.currRewardIndex+=1,e.currRewardIndex>=e.rewardIndexArr.length?(e.unscheduleAllCallbacks(),e.showReward()):e.boxLightNode.opacity=255}).start()},.5)}else s.default.getInstance().playSound(u.default.SEF_BOX_Rotating),t++;else s.default.getInstance().playSound(u.default.SEF_BOX_Rotating),t++},.04,Number.MAX_VALUE,.05)},t.prototype.showParticle=function(e){var t=this;if(!this.isParticlePlaying&&1!==e)if(this.isParticlePlaying=!0,2==e){this.particle_1.active=!0;for(var o=this.particle_1.getComponentsInChildren(cc.ParticleSystem),n=0;n<o.length;n++)o[n].resetSystem()}else if(3===e){this.particle_2.active=!0;var i=this.particle_2.getComponentsInChildren(cc.ParticleSystem),a=function(e){i[e].node.opacity=0,r.scheduleOnce(function(){i[e].resetSystem(),t.scheduleOnce(function(){i[e].node.opacity=255},0)},.04*e)},r=this;for(n=0;n<i.length;n++)a(n)}},t.prototype.showReward=function(){var e=this;this.boxView.off(cc.Node.EventType.TOUCH_END),this.lbl_skipTips.opacity=0,this.rewardView.off(cc.Node.EventType.TOUCH_END);var t=this.rewardView.getChildByName("bg"),o=this.rewardView.getChildByName("layout"),n=this.rewardView.getChildByName("lbl_tips");n.opacity=0,this.rewardIndexArr=this.rewardIndexArr.sort(function(e,t){return e-t});for(var i=0;i<o.childrenCount;i++)o.children[i].active=this.rewardIndexArr.length>i,o.children[i].opacity=0,o.children[i].scale=.25;var a=function(e){var t=o.children[e],n=t.getChildByName("icon").getComponent(cc.Sprite),i=t.getChildByName("lbl_name").getComponent(cc.Label),a=t.getChildByName("lbl_desc").getComponent(cc.Label),l=t.getChildByName("starNode").getChildByName("stars"),s=r.rewardIndexArr[e],h=r.boxData.boxItemRewardDataArr[s].rewardId,f=r.boxData.boxItemRewardDataArr[s].rewardCount;if(c.default.getInstance().getSpriteFrame(u.default.getItemIconPath(h)).then(function(e){n.spriteFrame=e}),p.default.onSelectSkill(h,f),h>100){var d=u.SkillConfigMap.get(h),_=p.default.SkillStateMap.get(h)-1;i.string=d.skillName,a.string=d.skillDescArr[_],r.refreshStar(l,_)}else switch(h){case u.DropItemType.AlchemyPullet:i.string="\u4fee\u70bc\u4e39",a.string="\u83b7\u5f97"+f+"\u4e2a\u4fee\u70bc\u4e39",r.refreshStar(l,f-1);break;case u.DropItemType.Coin_1:i.string="\u94dc\u94b1",a.string="\u83b7\u5f97"+f+"\u4e2a\u94dc\u94b1",r.refreshStar(l,0);break;case u.DropItemType.Coin_2:i.string="\u94dc\u94b1",a.string="\u83b7\u5f97"+f+"\u4e2a\u94dc\u94b1",r.refreshStar(l,2);break;case u.DropItemType.Coin_3:i.string="\u94dc\u94b1",a.string="\u83b7\u5f97"+f+"\u4e2a\u94dc\u94b1",r.refreshStar(l,4)}},r=this;for(i=0;i<this.rewardIndexArr.length;i++)a(i);t.opacity=0,cc.tween(t).to(.5,{opacity:128},{easing:"fade"}).start(),this.rewardView.active=!0;var l=0,s=function t(){var i=cc.instantiate(e.boxItemArr[e.rewardIndexArr[l]]);i.setParent(e.tempNode),i.setPosition(e.boxItemArr[e.rewardIndexArr[l]].getPosition());var a=o.children[l],r=a.getPosition().sub(i.getPosition()).mag()/1200;if(cc.tween(i).to(r,{x:a.getPosition().x,y:a.getPosition().y},{easing:"quadOut"}).start(),cc.tween(a).delay(r).call(function(){i.destroy(),a.opacity=255}).to(.25,{scale:1},{easing:"backOut"}).start(),++l<e.rewardIndexArr.length){var s=r+.1;e.scheduleOnce(function(){t()},s)}else s=r+.25,e.scheduleOnce(function(){var t=e.rewardView.getChildByName("bg");t.off(cc.Node.EventType.TOUCH_END),t.on(cc.Node.EventType.TOUCH_END,e.onClose,e),n.opacity=255},s)};this.scheduleOnce(function(){s()},.75)},t.prototype.refreshStar=function(e,t){for(var o=0;o<e.childrenCount;o++)e.children[o].opacity=o<=t?255:0},t.prototype.onClose=function(){this.node.active=!1,p.default.isGamePause=!1,window.isCanCtrl=!0},t.prototype.onShowSkipTips=function(){var e=this;cc.tween(this.lbl_skipTips).to(.5,{opacity:255}).start(),this.scheduleOnce(function(){e.boxView.on(cc.Node.EventType.TOUCH_END,e.onSkipAni,e)},0)},t.prototype.onSkipAni=function(){var e=(new Date).getTime();if(e-this.lastTouchTime<750){this.boxView.off(cc.Node.EventType.TOUCH_END),this.unscheduleAllCallbacks(),this.isParticlePlaying=!1,this.particle_1.active=!1,this.particle_2.active=!1,cc.Tween.stopAllByTarget(this.lbl_skipTips),this.lbl_skipTips.opacity=0,this.boxLightNode.opacity=0,this.anim_boxSelectEf.node.opacity=0;for(var t=0;t<this.rewardIndexArr.length;t++){var o=this.boxItemArr[this.rewardIndexArr[t]];o.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.itemBg_select,cc.Tween.stopAllByTarget(o),cc.tween(o).to(.1,{scale:.9}).to(.2,{scale:1.2}).to(.1,{scale:1}).to(.1,{scale:1.2}).to(.1,{scale:1}).start()}s.default.getInstance().playSound(u.default.SEF_BOX_Select),this.scheduleOnce(this.showReward,.75)}else this.lastTouchTime=e},l([d(cc.Node)],t.prototype,"actNode",void 0),l([d(cc.Node)],t.prototype,"boxView",void 0),l([d(cc.Node)],t.prototype,"tempNode",void 0),l([d(cc.Node)],t.prototype,"rewardView",void 0),l([d(cc.Node)],t.prototype,"btn_open",void 0),l([d(cc.Node)],t.prototype,"lbl_skipTips",void 0),l([d(cc.Node)],t.prototype,"boxItemNode",void 0),l([d(cc.Node)],t.prototype,"boxLightNode",void 0),l([d(cc.Animation)],t.prototype,"anim_boxSelectEf",void 0),l([d(cc.Node)],t.prototype,"dia",void 0),l([d(cc.Node)],t.prototype,"particle_1",void 0),l([d(cc.Node)],t.prototype,"particle_2",void 0),l([d(cc.SpriteFrame)],t.prototype,"itemBg_normal",void 0),l([d(cc.SpriteFrame)],t.prototype,"itemBg_select",void 0),l([f],t)}(cc.Component);a.default=_,cc._RF.pop()},{}],PlayerBullet_Lightning_008:[function(e,t,o){"use strict";cc._RF.push(t,"2d0459YhKZJMq1K/YKqkuxp","PlayerBullet_Lightning_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("NodePoolManager"),c=i("Config_008"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.power=0,t}return r(t,e),t.prototype.onInit=function(e){this.power=e},t.prototype.onEnable=function(){this.node.zIndex=-this.node.getPosition().y-50,this.anim.play(),this.scheduleOnce(this.onRecovery,.4)},t.prototype.onRecovery=function(){s.default.getInstance().recoveryNode(c.default.Key_Lightning,this.node)},t.prototype.onCollisionEnter=function(e){e.node.group===c.default.STR_NodeGroup_Enemy&&e.node.emit(c.default.e_OnEnemyAttacked,this.power)},l([h(cc.Animation)],t.prototype,"anim",void 0),l([p],t)}(cc.Component);a.default=f,cc._RF.pop()},{}],PlayerBullet_Long_008:[function(e,t,o){"use strict";cc._RF.push(t,"e5e419xIlNOwpUms3FacL1p","PlayerBullet_Long_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("AudioMag"),u=i("Config_008"),p=i("Config_Gaming_008"),h=i("EnemyManager_008"),f=i("GamingData_008"),d=i("BaseEnemy_008"),_=cc._decorator,y=_.ccclass,m=_.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.head=null,t.power=0,t.rotateTimer=0,t.targetEnemy=null,t.soundTimer=10,t}return r(t,e),t.prototype.onInit=function(e){this.power=e,this.targetEnemy=h.default.ins.getRandomEnemy(),this.soundTimer=s.RandomUtils.getRandomInt(8,16)},t.prototype.onCollisionEnter=function(e){e.node.group===u.default.STR_NodeGroup_Enemy&&(c.default.getInstance().playSound_intervalLimit(u.default.SEF_Long_Hit,50),e.node.emit(u.default.e_OnEnemyAttacked,this.power))},t.prototype.onEnable=function(){this.moveDir=f.default.PlayerNode.getPosition().sub(this.node.getPosition()).normalize(),this.targetDir=this.moveDir},t.prototype.update=function(e){var t;if(!f.default.isGamePause){if(this.rotateTimer-=e,this.soundTimer-=e,this.soundTimer<=0&&(this.soundTimer=s.RandomUtils.getRandomInt(8,16),c.default.getInstance().playSound_intervalLimit(u.default.SEF_Long_Summon,50)),null===this.targetEnemy||this.targetEnemy.parent||(this.targetEnemy=null),null===this.targetEnemy){if(this.rotateTimer<0){var o=0;for(this.targetEnemy=h.default.ins.getRandomEnemy();null!==this.targetEnemy&&!((o+=1)>10)&&null!==(t=this.targetEnemy.getComponent(d.default))&&void 0!==t&&t.isInvulnerable();)this.targetEnemy=h.default.ins.getRandomEnemy();null!==this.targetEnemy?this.targetDir=this.targetEnemy.getPosition().sub(this.node.getPosition()).normalize():this.targetDir=cc.v2(f.default.PlayerNode.getPosition().sub(this.node.getPosition()).normalize()).rotateSelf(cc.misc.degreesToRadians(s.RandomUtils.getRandomInt(0,3))),this.rotateTimer=.2}}else this.targetDir=this.targetEnemy.getPosition().sub(this.node.getPosition()).normalize();this.moveDir=this.moveDir.lerp(this.targetDir,.08).normalize(),this.head.angle=cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y,this.moveDir.x)),this.node.setPosition(this.node.getPosition().add(this.moveDir.mul(e*p.Config_Gaming_008.Long_MoveSpeed)))}},l([m(cc.Node)],t.prototype,"head",void 0),l([y],t)}(cc.Component);a.default=g,cc._RF.pop()},{}],PlayerBullet_RotatingKnife_008:[function(e,t,o){"use strict";cc._RF.push(t,"4f98f9yGgdEfry9YdUfkNCd","PlayerBullet_RotatingKnife_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("Config_008"),u=i("Config_Gaming_008"),p=i("GamingData_008"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.indexOffset=420,t.power=0,t}return r(t,e),t.prototype.onInit=function(e){this.power=e},t.prototype.lateUpdate=function(e){this.node.zIndex=-this.node.getPosition().y+(this.node.angle%360>-180?this.indexOffset:0),p.default.isGamePause||(this.node.angle-=e*u.Config_Gaming_008.RotatingKnife_base_rotateSpeed)},t.prototype.onCollisionEnter=function(e){e.node.group===c.default.STR_NodeGroup_Enemy&&(s.default.getInstance().playSound_intervalLimit(c.default.SEF_WEHit,80),e.node.emit(c.default.e_OnEnemyAttacked,this.power))},l([d(cc.Integer)],t.prototype,"indexOffset",void 0),l([f],t)}(cc.Component);a.default=_,cc._RF.pop()},{}],PlayerBullet_SixPulseHolySword_008:[function(e,t,o){"use strict";cc._RF.push(t,"bec8eiWkORD1q5pWwuo1i0b","PlayerBullet_SixPulseHolySword_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("NodePoolManager"),u=i("Config_008"),p=i("GamingData_008"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.sfArr=[],t.moveSpeed=2e3,t.bulletLife=5,t.timer=0,t.power=0,t}var o;return r(t,e),o=t,t.prototype.onInit=function(e,t){this.power=e,this.moveDir=t,this.node.angle=cc.misc.radiansToDegrees(Math.atan2(t.y,t.x)),this.timer=this.bulletLife,this.sprite.spriteFrame=this.sfArr[o.sfIndex++%this.sfArr.length],this.sprite.node.scaleX=0},t.prototype.update=function(e){p.default.isGamePause||(this.node.setPosition(this.node.getPosition().add(this.moveDir.mul(this.moveSpeed*e))),this.sprite.node.scaleX<2&&(this.sprite.node.scaleX+=6*e),this.timer-=e,this.timer<=0&&this.onRecovery())},t.prototype.onCollisionEnter=function(e){e.node.group===u.default.STR_NodeGroup_Enemy&&(s.default.getInstance().playSound_intervalLimit(u.default.SEF_SixPulseHolySword_Hit,100),e.node.emit(u.default.e_OnEnemyAttacked,this.power))},t.prototype.onRecovery=function(){c.default.getInstance().recoveryNode(u.default.Key_SixPulseHolySword,this.node)},t.prototype.checkRebound=function(){var e=p.default.ScreenRect,t=this.node.getPosition().x,o=this.node.getPosition().y;t<e.x?this.moveDir.x=Math.abs(this.moveDir.x):t>=e.x+e.width&&(this.moveDir.x=-Math.abs(this.moveDir.x)),o<e.y?this.moveDir.y=Math.abs(this.moveDir.y):o>=e.y+e.height&&(this.moveDir.y=-Math.abs(this.moveDir.y)),this.node.angle=cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y,this.moveDir.x))},t.sfIndex=0,l([d(cc.Sprite)],t.prototype,"sprite",void 0),l([d([cc.SpriteFrame])],t.prototype,"sfArr",void 0),o=l([f],t)}(cc.Component);a.default=_,cc._RF.pop()},{}],PlayerBullet_SummonSword_008:[function(e,t,o){"use strict";cc._RF.push(t,"8e1a5daqftGno9FI+ZwojoA","PlayerBullet_SummonSword_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHurt=!1,t.light_rotate=null,t.state=0,t.lastState=-1,t.curAttTimes=0,t.power=10,t}return r(t,e),t.prototype.onCollisionEnter=function(e){this.isHurt&&e.node.group===s.default.STR_NodeGroup_Enemy&&e.node.emit(s.default.e_OnEnemyAttacked,this.power)},l([p(cc.Boolean)],t.prototype,"isHurt",void 0),l([p(cc.Node)],t.prototype,"light_rotate",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],PlayerInfoTips_008:[function(e,t,o){"use strict";cc._RF.push(t,"390e2KQjrxFYrrCjU5aFYb7","PlayerInfoTips_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Config_008"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.up=null,t.down=null,t}return r(t,e),t.prototype.onLoad=function(){this.up=this.node.getChildByName("up"),this.down=this.node.getChildByName("down"),this.up.active=!1,this.down.active=!1},t.prototype.onEnable=function(){this.node.on(s.default.e_ShowPlayerInfoChangeTips,this.onPlayAni,this)},t.prototype.onDisable=function(){this.node.off(s.default.e_ShowPlayerInfoChangeTips,this.onPlayAni,this)},t.prototype.onPlayAni=function(e){var t=this;e&&0!==e&&(e>0?(this.up.active=!0,this.down.active=!1,cc.tween(this.up).to(.233,{y:8}).to(.1,{y:0}).union().repeat(3).call(function(){t.up.active=!1}).start()):(this.up.active=!1,this.down.active=!0,cc.tween(this.down).to(.233,{y:-8}).to(.1,{y:0}).union().repeat(3).call(function(){t.down.active=!1}).start()))},l([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{}],PlayerWeapon_Lightning_008:[function(e,t,o){"use strict";cc._RF.push(t,"3977dE7nhJOeJwokM5TekeZ","PlayerWeapon_Lightning_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("AudioMag"),h=i("NodePoolManager"),f=i("Config_008"),d=i("Config_Gaming_008"),_=i("EnemyManager_008"),y=i("GamingData_008"),m=i("PlayerBullet_Lightning_008"),g=i("BasePlayerWeapon_008"),v=cc._decorator,b=v.ccclass,P=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=0,t.timer=0,t.currFireCount=0,t}return r(t,e),t.prototype.onInitWeapon=function(){this.state=0,this.timer=0,this.currFireCount=0},t.prototype.update=function(e){y.default.isGamePause||(0===this.state?(this.timer+=e,this.timer>=this.fireCoolDownTime&&(this.state=1,this.onFire())):2===this.state&&(this.timer+=e,this.timer>=d.Config_Gaming_008.Lightning_FireInterval&&this.onFire()))},t.prototype.getBullet=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return h.default.getInstance().isHasNodePool(f.default.Key_Lightning)?[3,2]:[4,h.default.getInstance().onInitNodePool({key:f.default.Key_Lightning,prePath:f.default.Path_Lightning,count:3})];case 1:e.sent(),e.label=2;case 2:return[2,h.default.getInstance().getNodeNotNull(f.default.Key_Lightning)]}})})},t.prototype.onFire=function(){var e=this;this.state=1,this.timer=0,this.currFireCount+=1,this.getBullet().then(function(t){if(e.state=2,e.currFireCount>=e.bulletCount&&(e.state=0,e.currFireCount=0),null!==t){p.default.getInstance().playSound(f.default.SEF_Lightning);var o=_.default.ins.getRandomEnemyInRange(d.Config_Gaming_008.Lightning_AttackDis);t.setParent(y.default.GameObjNode),t.getComponent(m.default).onInit(e.power),t.scale=e.bulletScale,o?t.setPosition(o):t.setPosition(u.RandomUtils.getRandomInt(-400,400),u.RandomUtils.getRandomInt(-700,600))}})},l([b],t)}(g.default));a.default=P,cc._RF.pop()},{}],PlayerWeapon_Long_008:[function(e,t,o){"use strict";cc._RF.push(t,"a669bdgfPxF9btbJSF5ifGf","PlayerWeapon_Long_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("AudioMag"),h=i("NodePoolManager"),f=i("Config_008"),d=i("GamingData_008"),_=i("PlayerBullet_Long_008"),y=i("BasePlayerWeapon_008"),m=cc._decorator,g=m.ccclass,v=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.longArr=[],t}return r(t,e),t.prototype.onInitWeapon=function(){this.onFire()},t.prototype.onRecovery=function(){for(var t=0;t<this.longArr.length;t++)h.default.getInstance().recoveryNode(f.default.Key_Long,this.longArr[t]);this.longArr=[],e.prototype.onRecovery.call(this)},t.prototype.onResetData=function(){e.prototype.onResetData.call(this);for(var t=this.longArr.length;t<this.bulletCount;t++)this.onFire();for(t=0;t<this.longArr.length;t++)this.longArr[t].getComponent(_.default).onInit(this.power)},t.prototype.getBullet=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return h.default.getInstance().isHasNodePool(f.default.Key_Long)?[3,2]:[4,h.default.getInstance().onInitNodePool({key:f.default.Key_Long,prePath:f.default.Path_Long,count:1})];case 1:e.sent(),e.label=2;case 2:return[2,h.default.getInstance().getNodeNotNull(f.default.Key_Long)]}})})},t.prototype.onFire=function(){var e=this;this.getBullet().then(function(t){if(null!==t){if(e.longArr.length>=e.bulletCount)return void h.default.getInstance().recoveryNode(f.default.Key_Long,t);p.default.getInstance().playSound_intervalLimit(f.default.SEF_Long_Summon,50),e.longArr.push(t);var o=cc.misc.degreesToRadians(u.RandomUtils.getRandomInt(0,360)),n=d.default.PlayerNode.getPosition().add(cc.v2(1800*Math.cos(o),1800*Math.sin(o)));t.setParent(d.default.GameObjNode),t.zIndex=cc.macro.MAX_ZINDEX,t.getComponent(_.default).onInit(e.power),t.setPosition(n)}})},l([g],t)}(y.default));a.default=v,cc._RF.pop()},{}],PlayerWeapon_RotatingKnife_008:[function(e,t,o){"use strict";cc._RF.push(t,"0a2d9eHm1hCHpKrjmEfWz7f","PlayerWeapon_RotatingKnife_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("NodePoolManager"),p=i("Config_008"),h=i("Config_Gaming_008"),f=i("GamingData_008"),d=i("PlayerBullet_RotatingKnife_008"),_=i("BasePlayerWeapon_008"),y=cc._decorator,m=y.ccclass,g=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.knifeCenterNode=null,t.efNode_pickUpWeapon=null,t.weaponAngle=0,t.knifeArr=[],t.knifeRestoreTimer=0,t}return r(t,e),t.prototype.onInitWeapon=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return f.default.isEquipRotatingKnife=!0,this.knifeCenterNode=this.player.getChildByName("knifeCenterNode"),this.efNode_pickUpWeapon=this.player.getChildByName("efNode2").getChildByName("efNode_pickUpWeapon"),f.default.func_resetPlayerBulletAngle=this.onResetKnifeAngle.bind(this),f.default.func_removePlayeBullet=this.onRemoveKnife.bind(this),f.default.func_onPlayerPickUpWeapon=this.onPickUpWeapon.bind(this),u.default.getInstance().isHasNodePool(p.default.Key_Knife_1)?[3,2]:[4,u.default.getInstance().onInitNodePool({key:p.default.Key_Knife_1,prePath:p.default.Path_Knife_1,count:20})];case 1:e.sent(),e.label=2;case 2:return this.onInitKnife(),[2]}})})},t.prototype.onRecovery=function(){this.onRecoveryAllKnife(),this.knifeRestoreTimer=0,e.prototype.onRecovery.call(this)},t.prototype.update=function(e){f.default.isGamePause||(this.onUpdateWeaponAngle(e),this.knifeArr.length<this.bulletCount&&this.onTryRestoreKnife(e),this.updateKnife())},t.prototype.lateUpdate=function(){},t.prototype.onUpdateWeaponAngle=function(e){this.knifeArr.length<=0||(this.weaponAngle+=e*h.Config_Gaming_008.RotatingKnife_base_rotateSpeed,this.weaponAngle>p.default.PlayWeaponRotatingSEFAngle&&(this.weaponAngle-=p.default.PlayWeaponRotatingSEFAngle))},t.prototype.onInitKnife=function(){for(var e=0;e<this.bulletCount;e++){var t=u.default.getInstance().getNodeNotNull(p.default.Key_Knife_1);null!==t&&(t.setParent(f.default.GameObjNode),t.scale=this.bulletScale,t.getComponent(d.default).onInit(this.power),this.knifeArr.push(t))}this.updateKnife(),this.onResetKnifeAngle()},t.prototype.onRecoveryAllKnife=function(){for(var e=0;e<this.knifeArr.length;e++)u.default.getInstance().recoveryNode(p.default.Key_Knife_1,this.knifeArr[e]);this.knifeArr=[]},t.prototype.onTryRestoreKnife=function(e){this.knifeRestoreTimer+=e,this.knifeRestoreTimer>this.fireCoolDownTime&&(this.knifeRestoreTimer=0,this.onAddKnife())},t.prototype.onAddKnife=function(){var e=u.default.getInstance().getNodeNotNull(p.default.Key_Knife_1);null!==e&&(e.opacity=0,e.setParent(f.default.GameObjNode),e.scale=this.bulletScale,e.getComponent(d.default).onInit(this.power),this.knifeArr.push(e),this.onResetKnifeAngle(),this.scheduleOnce(function(){e.parent&&(e.opacity=255)}))},t.prototype.onPickUpWeapon=function(){if(!(this.knifeArr.length>=h.Config_Gaming_008.RotatingKnife_PlayerMaxKnifeCount)){var e=u.default.getInstance().getNode(p.default.Key_EF_PickUpWeapon);null!==e&&e.setParent(this.efNode_pickUpWeapon),this.onAddKnife()}},t.prototype.onResetKnifeAngle=function(){var e=this.knifeArr.length;if(e>0)for(var t=this.knifeArr[0].angle,o=360/e,n=0;n<e;n++)this.knifeArr[n].angle=-o*n+t;1===this.knifeArr.length&&(this.weaponAngle=p.default.PlayWeaponRotatingSEFAngle)},t.prototype.onRemoveKnife=function(e){var t=this.knifeArr.indexOf(e);-1!==t&&(this.knifeArr.splice(t,1),u.default.getInstance().recoveryNode(p.default.Key_Knife_1,e)),this.knifeArr.length>this.bulletCount&&this.onResetKnifeAngle()},t.prototype.updateKnife=function(){for(var e=this.node.getPosition().add(this.knifeCenterNode.getPosition()),t=0;t<this.knifeArr.length;t++)this.knifeArr[t].setPosition(e)},l([m],t)}(_.default));a.default=g,cc._RF.pop()},{}],PlayerWeapon_SixPulseHolySword_008:[function(e,t,o){"use strict";cc._RF.push(t,"41d7d6hTOFB6Z17TCWEEOE4","PlayerWeapon_SixPulseHolySword_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("AudioMag"),h=i("NodePoolManager"),f=i("Config_008"),d=i("Config_Gaming_008"),_=i("EnemyManager_008"),y=i("GamingData_008"),m=i("PlayerBullet_SixPulseHolySword_008"),g=i("BasePlayerWeapon_008"),v=cc._decorator,b=v.ccclass,P=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=0,t.timer=0,t.currFireCount=0,t.firePos_sixPulseHolySword=null,t}return r(t,e),t.prototype.onInitWeapon=function(){this.firePos_sixPulseHolySword=this.player.getChildByName("actNode").getChildByName("firePos_sixPulseHolySword"),this.state=0,this.timer=0,this.currFireCount=0},t.prototype.update=function(e){y.default.isGamePause||(0===this.state?(this.timer+=e,this.timer>=this.fireCoolDownTime&&(this.state=1,this.onFire())):2===this.state&&(this.timer+=e,this.timer>=d.Config_Gaming_008.SixPulseHolySword_FireInterval&&this.onFire()))},t.prototype.getBullet=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return h.default.getInstance().isHasNodePool(f.default.Key_SixPulseHolySword)?[3,2]:[4,h.default.getInstance().onInitNodePool({key:f.default.Key_SixPulseHolySword,prePath:f.default.Path_SixPulseHolySword,count:3})];case 1:e.sent(),e.label=2;case 2:return[2,h.default.getInstance().getNodeNotNull(f.default.Key_SixPulseHolySword)]}})})},t.prototype.onFire=function(){var e=this;this.state=1,this.timer=0,this.currFireCount+=1,this.getBullet().then(function(t){if(e.state=2,e.currFireCount>=e.bulletCount&&(e.state=0,e.currFireCount=0),null!==t){p.default.getInstance().playSound(f.default.SEF_SixPulseHolySword);var o=_.default.ins.getRandomEnemyPos();t.setParent(y.default.GameObjNode),t.scale=e.bulletScale,o||(o=cc.v2(u.RandomUtils.getRandomInt(-400,400),u.RandomUtils.getRandomInt(-700,600))),t.setPosition(y.default.GameObjNode.convertToNodeSpaceAR(e.firePos_sixPulseHolySword.convertToWorldSpaceAR(cc.Vec2.ZERO))),t.getComponent(m.default).onInit(e.power,o.sub(y.default.PlayerNode.getPosition()).normalize())}})},l([b],t)}(g.default));a.default=P,cc._RF.pop()},{}],PlayerWeapon_SummonSword_008:[function(e,t,o){"use strict";cc._RF.push(t,"3e4b5Xfor9Fr6fvxUNKDcBW","PlayerWeapon_SummonSword_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("AudioMag"),p=i("NodePoolManager"),h=i("Config_008"),f=i("Config_Gaming_008"),d=i("EnemyManager_008"),_=i("GamingData_008"),y=i("PlayerBullet_SummonSword_008"),m=i("BasePlayerWeapon_008"),g=cc._decorator,v=g.ccclass,b=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.swordArr=[],t.weaponSlotWidth=100,t.moveSpeed=500,t.curState=0,t.attackGuideNode=null,t.attackCount=3,t.attackCountTimer=0,t.stateTimer=0,t.recoveryTimer=0,t}return r(t,e),t.prototype.onInitWeapon=function(){this.attackGuideNode=new cc.Node,this.attackGuideNode.parent=this.node,this.attackGuideNode.active=!0,this.attackGuideNode.angle=0,this.attackGuideNode.setPosition(0,this.player.height/2)},t.prototype.onRecovery=function(){this.attackGuideNode.destroy(),this.attackGuideNode=null,this.onRecoveryAllSword(),e.prototype.onRecovery.call(this)},t.prototype.onResetData=function(){e.prototype.onResetData.call(this);for(var t=this.swordArr.length;t<this.bulletCount;t++)this.onAddSword();for(t=0;t<this.swordArr.length;t++)this.swordArr[t].power=this.power},t.prototype.lateUpdate=function(e){_.default.isGamePause||this.updateSword(e)},Object.defineProperty(t.prototype,"CoolDownTime",{get:function(){return 1},enumerable:!1,configurable:!0}),t.prototype.getNearestEnemyPos=function(){var e=d.default.ins.getRangeEnemy(this.node.getPosition(),800).filter(function(e){return null!==e});if(0===e.length)return null;var t=e.map(function(e){return e.getPosition().angle(cc.v2(1,0))}).sort(function(e,t){return e-t}).reduce(function(e,t){return e+t},0)/e.length;return e.sort(function(e,o){return Math.abs(e.getPosition().angle(cc.v2(1,0))-t)-Math.abs(o.getPosition().angle(cc.v2(1,0))-t)})[Math.floor(Math.random()*(e.length-1))].getPosition()},t.prototype.getSword=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return p.default.getInstance().isHasNodePool(h.default.Key_SummonSword)?[3,2]:[4,p.default.getInstance().onInitNodePool({key:h.default.Key_SummonSword,prePath:h.default.Path_SummonSword,count:1})];case 1:e.sent(),e.label=2;case 2:return[2,p.default.getInstance().getNodeNotNull(h.default.Key_SummonSword)]}})})},t.prototype.onInitSword=function(){return s(this,void 0,void 0,function(){var e,t,o=this;return c(this,function(){for(e=this.bulletCount,t=0;t<e;t++)this.getSword().then(function(e){var t=e.getComponent(y.default);t.node.setParent(o.player.getChildByName("efNode")),t.state=0,t.lastState=-1,o.swordArr.push(t)});return[2]})})},t.prototype.onRemoveSword=function(e){var t=e.getComponent(y.default);if(t){var o=this.swordArr.indexOf(t);-1!==o&&(this.swordArr.splice(o,1),t.isHurt=!1,t.state=-1,t.lastState=-1,p.default.getInstance().recoveryNode(h.default.Key_SummonSword,t.node))}},t.prototype.onResetSword=function(){this.swordArr.forEach(function(e){e.node.stopAllActions(),e.light_rotate.opacity=0,e.state=0,e.lastState=-1})},t.prototype.onAddSword=function(){var e=this;this.getSword().then(function(t){if(null!==t){if(e.swordArr.length>=e.bulletCount)return void p.default.getInstance().recoveryNode(h.default.Key_SummonSword,t);var o=t.getComponent(y.default);o.node.setParent(e.node),e.swordArr.push(o),e.onResetSword()}})},t.prototype.onRecoveryAllSword=function(){this.swordArr.forEach(function(e){e.state=0,e.lastState=-1,p.default.getInstance().recoveryNode(h.default.Key_SummonSword,e.node)}),this.swordArr=[]},t.prototype.updateSword=function(){for(var e=0;e<this.swordArr.length;e++){var t=this.swordArr[e];if(t.state!==t.lastState)switch(t.lastState=t.state,t.state){case 0:this.onIdleSword(t);break;case 1:this.onAttackSword(t);break;case 2:this.onRecoverySword(t);break;case 3:this.onRotateSword(t)}}},t.prototype.onIdleSword=function(e){var t=this,o=this.getAngleAndPosOnPlayer(e),n=o.angle,i=o.targetPos;e.isHurt=!1,e.node.parent=this.player.getChildByName("efNode"),e.node.stopAllActions(),e.light_rotate.opacity=0,cc.tween(e.node).to(.1,{position:cc.v3(i),angle:n}).to(.5,{y:i.y+20},{easing:"sineOut"}).union().repeatForever().start(),cc.tween(e.node).delay(this.CoolDownTime).call(function(){if(d.default.ins.getNearestEnemyPos()){var o=cc.Vec2.random(cc.Vec2.ONE,Math.max(100,30*t.swordArr.length));cc.tween(e.node).to(.2,{position:cc.v3(o)}).call(function(){e.curAttTimes=0,e.state=3}).start()}}).union().repeatForever().start()},t.prototype.onAttackSword=function(e){e.isHurt=!0,e.node.stopAllActions(),e.light_rotate.opacity=0,e.curAttTimes++;var t=this.getNearestEnemyPos();if(t){var o=cc.v2(this.node.convertToNodeSpaceAR(_.default.GameObjNode.convertToWorldSpaceAR(t))),n=o.mag()/(this.moveSpeed*f.Config_Gaming_008.SummonSword_bulletRotateSpeed/30),i=cc.v2(o.sub(e.node.getPosition())),a=180-cc.misc.radiansToDegrees(i.signAngle(cc.v2(0,1))),r=this.attackCount>=e.curAttTimes?3:2;e.node.angle=a,u.default.getInstance().playSound(Math.random()>.5?h.default.SEF_SummonSword_Attack_1:h.default.SEF_SummonSword_Attack_2),cc.tween(e.node).to(n,{position:cc.v3(o)},{easing:cc.easing.backInOut}).call(function(){e.state=r}).start()}else e.state=2},t.prototype.onRecoverySword=function(e){var t=this.getAngleAndPosOnPlayer(e),o=t.angle,n=t.targetPos;e.isHurt=!1,e.node.parent=this.node,e.node.stopAllActions(),e.light_rotate.opacity=0,cc.tween(e.node).to(.3,{position:cc.v3(n),angle:o}).call(function(){e.state=0}).start()},t.prototype.onRotateSword=function(e){e.isHurt=!0,e.node.parent=this.attackGuideNode,e.node.stopAllActions(),e.light_rotate.opacity=255,cc.tween(e.node).to(.2,{angle:360}).set({angle:0}).union().repeat(1).call(function(){e.state=1,e.light_rotate.opacity=0}).start()},t.prototype.getAngleAndPosOnPlayer=function(e){var t=-(90+180*(this.swordArr.indexOf(e)+1)/(this.swordArr.length+1));return{angle:t,targetPos:cc.v2(0,this.player.height/2).rotate(cc.misc.degreesToRadians(t+180)).add(cc.v2(0,this.player.height/2))}},l([v],t)}(m.default));a.default=b,cc._RF.pop()},{}],Player_008:[function(e,t,o){"use strict";cc._RF.push(t,"165ea3L5w5HGbP+S5KQf/Ax","Player_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("AudioMag"),p=i("Joystick_common"),h=i("Config_008"),f=i("GamingData_008"),d=i("HpBarNode_008"),_=i("BasePlayerWeapon_008"),y=i("PlayerWeapon_SixPulseHolySword_008"),m=i("PlayerWeapon_Lightning_008"),g=i("PlayerWeapon_RotatingKnife_008"),v=i("PlayerWeapon_SummonSword_008"),b=i("PlayerWeapon_Long_008"),P=cc._decorator,S=P.ccclass,B=P.property,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameCamera=null,t.joystick=null,t.actNode=null,t.spine=null,t.hpBar=null,t.ef_ani_restoreLife=null,t.ef_ani_levelUp=null,t.func_refreshHpBar=null,t.currDir=cc.Vec2.ZERO,t.playerAniName_Idle="idle",t.playerAniName_Walk="walk",t}return r(t,e),t.prototype.onLoad=function(){f.default.PlayerNode=this.node,f.default.func_onPlayerEFStateChange_RestoreLife=this.onEFStateChange_RestoreLife.bind(this),f.default.func_onPlayerEFStateChange_LevelUp=this.onEFStateChange_LevelUp.bind(this),f.default.func_onPlayPlayerFailAni=this.onPlayFailAni.bind(this),f.default.func_onPlayRevive=this.onRevive.bind(this),f.default.func_onPlayerPlayHitAni=this.onPlayHitAni.bind(this)},t.prototype.start=function(){this.joystick.addEvent(this.moveDirChange,this),this.joystick.addEvent_StartEnd(this.onMoveStart.bind(this),this.onMoveEnd.bind(this)),this.onMoveEnd(),this.spine.setMix(this.playerAniName_Idle,this.playerAniName_Walk,.2),this.spine.setMix(this.playerAniName_Walk,this.playerAniName_Idle,.2),this.func_refreshHpBar=this.hpBar.onInitHpBar(this.node,cc.v2(0,280*this.node.scaleY))},t.prototype.onInit=function(){return s(this,void 0,void 0,function(){return c(this,function(){return this.spine.node.opacity=255,this.spine.node.angle=0,this.spine.timeScale=1,this.node.setPosition(0,0),this.refreshCameraPos(),f.default.onSelectSkill(h.WeaponType_008.RotatingKnife),[2]})})},t.prototype.onStopGame=function(){this.onRecoveryAllWepaon()},t.prototype.onMoveStart=function(){this.spine.setAnimation(0,this.playerAniName_Walk,!0)},t.prototype.onMoveEnd=function(){this.spine.setAnimation(0,this.playerAniName_Idle,!0),this.currDir=cc.Vec2.ZERO},t.prototype.moveDirChange=function(e){this.currDir=e,this.actNode.scaleX=e.x>=0?1:-1},t.prototype.onPlayFailAni=function(){u.default.getInstance().playSound(h.default.SEF_PlayerDie),this.spine.timeScale=0,cc.tween(this.spine.node).to(.5,{angle:90}).start()},t.prototype.onPlayHitAni=function(){this.spine.node.opacity=1,cc.tween(this.spine.node).to(.4,{opacity:255}).start()},t.prototype.onRevive=function(){this.spine.timeScale=1,this.spine.node.angle=0,f.default.playerInvulnerableTime=3},t.prototype.update=function(e){if(!f.default.isGamePause){if(f.default.playerInvulnerableTime>0&&(f.default.playerInvulnerableTime-=e),!cc.Vec2.ZERO.equals(this.currDir)){var t=this.currDir.mul(f.default.PlayerGamingInfo.moveSpeed*e);this.node.setPosition(this.node.getPosition().add(t))}f.default.PlayerCurrHp+=.2*f.default.PlayerGamingInfo.restoreLife*e*f.default.PlayerGamingInfo.maxHp+f.default.PlayerGamingInfo.base_restoreLife*e}},t.prototype.lateUpdate=function(){this.refreshCameraPos(),this.func_refreshHpBar(f.default.PlayerCurrHp/f.default.PlayerGamingInfo.maxHp)},t.prototype.refreshCameraPos=function(){var e=this.node.getPosition();this.gameCamera.setPosition(e.x,e.y)},t.prototype.onEFStateChange_RestoreLife=function(){u.default.getInstance().playSound(h.default.SEF_RestoreLife),this.ef_ani_restoreLife.play()},t.prototype.onEFStateChange_LevelUp=function(){u.default.getInstance().playSound(h.default.SEF_LevelUp),this.ef_ani_levelUp.play()},t.prototype.onEquipWeaponByWeaponType=function(e){switch(e){case h.WeaponType_008.RotatingKnife:this.onEquipWeapon(g.default,e);break;case h.WeaponType_008.Lightning:this.onEquipWeapon(m.default,e);break;case h.WeaponType_008.SixPulseHolySword:this.onEquipWeapon(y.default,e);break;case h.WeaponType_008.SummonSword:this.onEquipWeapon(v.default,e);break;case h.WeaponType_008.Long:this.onEquipWeapon(b.default,e);break;default:console.log("\u6ca1\u6709\u8fd9\u4e2a\u6b66\u5668\u914d\u7f6e "+e)}},t.prototype.onEquipWeapon=function(e,t){var o=this.node.getComponent(e);o?o.onInit(this.node,t):(o=this.node.addComponent(e)).onInit(this.node,t),f.default.WeaponIdArr.push(t)},t.prototype.onRecoveryAllWepaon=function(){for(var e=this.node.getComponents(_.default),t=0;t<e.length;t++)e[t].onRecovery()},l([B(cc.Node)],t.prototype,"gameCamera",void 0),l([B(p.default)],t.prototype,"joystick",void 0),l([B(cc.Node)],t.prototype,"actNode",void 0),l([B(sp.Skeleton)],t.prototype,"spine",void 0),l([B(d.default)],t.prototype,"hpBar",void 0),l([B(cc.Animation)],t.prototype,"ef_ani_restoreLife",void 0),l([B(cc.Animation)],t.prototype,"ef_ani_levelUp",void 0),l([S],t)}(cc.Component);a.default=A,cc._RF.pop()},{}],PotMag_008:[function(e,t,o){"use strict";cc._RF.push(t,"ce8bfZM5jhH6bh8PjxSaAVH","PotMag_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("RandomUtils"),c=i("NodePoolManager"),u=i("Config_008"),p=i("Config_Gaming_008"),h=i("DropItemMag_008"),f=i("GamingData_008"),d=i("Pot_008"),_=cc._decorator,y=_.ccclass,m=_.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameCamera=null,t.isDropedMagnetBetween2And5Min=!1,t.isDropedNuclearBetween2And5Min=!1,t.unDropMagnetAndNuclearBombTimes=0,t.potArr=[],t.tiemr_autoResetPos=0,t.killEnemyCount=0,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this},t.prototype.onStartGame=function(){this.isDropedMagnetBetween2And5Min=!1,this.isDropedNuclearBetween2And5Min=!1,this.unDropMagnetAndNuclearBombTimes=0,this.tiemr_autoResetPos=0,this.killEnemyCount=0;for(var e=0;e<p.Config_Gaming_008.Pot_initCount;e++)this.onPutOnePotOnScreen()},t.prototype.onStopGame=function(){for(var e=0;e<this.potArr.length;e++)c.default.getInstance().recoveryNode(u.default.Key_Pot,this.potArr[e]);this.potArr=[]},t.prototype.update=function(e){f.default.isGamePause||(f.default.currKillEnemyCount-this.killEnemyCount>=p.Config_Gaming_008.Pot_KillXXEnemyGenerate_KillCount&&(this.killEnemyCount+=p.Config_Gaming_008.Pot_KillXXEnemyGenerate_KillCount,this.onTryPutPot(p.Config_Gaming_008.Pot_KillXXEnemyGenerate_Probability)),this.tiemr_autoResetPos+=e,this.tiemr_autoResetPos>u.default.AutoResetEnemyPosInterval&&(this.tiemr_autoResetPos=0,this.onAutoResetPos()))},t.prototype.onAutoResetPos=function(){for(var e=0;e<this.potArr.length;e++)this.potArr[e].getPosition().sub(f.default.PlayerNode.getPosition()).magSqr()>=u.default.AudoResetPotPosDisThreshold&&(this.potArr[e].setPosition(this.getPotInitPos()),this.potArr[e].zIndex=-this.potArr[e].getPosition().y)},t.prototype.onOpenOne=function(e){if(f.default.timer>=120&&f.default.timer<360){if(!this.isDropedMagnetBetween2And5Min)return this.isDropedMagnetBetween2And5Min=!0,this.unDropMagnetAndNuclearBombTimes=0,void h.default.ins.onDropItem(e,u.DropItemType.Magnet);if(!this.isDropedNuclearBetween2And5Min)return this.isDropedNuclearBetween2And5Min=!0,this.unDropMagnetAndNuclearBombTimes=0,void h.default.ins.onDropItem(e,u.DropItemType.NuclearBomb)}if(this.unDropMagnetAndNuclearBombTimes+=1,this.unDropMagnetAndNuclearBombTimes>=p.Config_Gaming_008.Pot_DropMagnetOrNuclearBombMinimum)return h.default.ins.onDropItem(e,Math.random()>.5?u.DropItemType.Magnet:u.DropItemType.NuclearBomb),void(this.unDropMagnetAndNuclearBombTimes=0);for(var t=0,o=0;o<p.Config_Gaming_008.Pot_DropItemHeight.length;o++)t+=p.Config_Gaming_008.Pot_DropItemHeight[o];var n=0,i=-1,a=s.RandomUtils.getRandomInt(0,t);for(o=0;o<p.Config_Gaming_008.Pot_DropItemHeight.length;o++)if(a<(n+=p.Config_Gaming_008.Pot_DropItemHeight[o])){i=o;break}switch(i){case 0:h.default.ins.onDropItem(e,u.DropItemType.Coin_1);break;case 1:h.default.ins.onDropItem(e,u.DropItemType.Coin_2);break;case 2:h.default.ins.onDropItem(e,u.DropItemType.Coin_3);break;case 3:h.default.ins.onDropItem(e,u.DropItemType.AlchemyPullet);break;case 4:h.default.ins.onDropItem(e,f.default.isEquipRotatingKnife?u.DropItemType.Weapon:u.DropItemType.Coin_1);break;case 5:f.default.isEquipRotatingKnife?h.default.ins.onEnemyDropLogic(e,[],!0):h.default.ins.onDropItem(e,u.DropItemType.Coin_3);break;case 6:h.default.ins.onDropItem(e,u.DropItemType.Chichen);break;case 7:h.default.ins.onDropItem(e,u.DropItemType.Magnet);break;case 8:h.default.ins.onDropItem(e,u.DropItemType.NuclearBomb)}},t.prototype.onTryPutPot=function(e){s.RandomUtils.getRandomProbability()<=e&&this.onPutOnePot()},t.prototype.onPutOnePotOnScreen=function(){var e=c.default.getInstance().getNodeNotNull(u.default.Key_Pot);if(null!==e){var t=f.default.cameraHalfWidth-100,o=s.RandomUtils.getRandomInt(-t,t),n=(Math.random()>.5?1:-1)*s.RandomUtils.getRandomInt(500,f.default.cameraHalfHeight-100);e.setParent(f.default.GameObjNode),e.zIndex=-n,e.setPosition(o,n),e.getComponent(d.default).onInit(this.onOpenOne.bind(this),this.onRecoveryOne.bind(this,e)),this.potArr.push(e)}},t.prototype.onPutOnePot=function(){if(!(this.potArr.length>=p.Config_Gaming_008.Pot_CountLimit)){var e=c.default.getInstance().getNodeNotNull(u.default.Key_Pot);if(null!==e){e.setParent(f.default.GameObjNode);var t=this.getPotInitPos();e.zIndex=-t.y,e.setPosition(t),e.getComponent(d.default).onInit(this.onOpenOne.bind(this),this.onRecoveryOne.bind(this,e)),this.potArr.push(e)}}},t.prototype.getPotInitPos=function(){var e=cc.Vec2.ZERO,t=s.RandomUtils.getRandomInt(0,3),o=this.gameCamera.getPosition().x,n=this.gameCamera.getPosition().y,i=f.default.cameraHalfWidth,a=f.default.cameraHalfHeight;return 0===t?(e.y=n+a+50,e.x=o+s.RandomUtils.getRandomInt(-i-100,i+100)):1===t?(e.y=n-a-50,e.x=o+s.RandomUtils.getRandomInt(-i-100,i+100)):2===t?(e.x=o-i-50,e.y=n+s.RandomUtils.getRandomInt(-a-50,a+50)):3===t&&(e.x=o+i+50,e.y=n+s.RandomUtils.getRandomInt(-a-50,a+50)),e},t.prototype.onRecoveryOne=function(e){var t=this.potArr.indexOf(e);-1!==t&&this.potArr.splice(t,1),c.default.getInstance().recoveryNode(u.default.Key_Pot,e)},t.ins=null,l([m(cc.Node)],t.prototype,"gameCamera",void 0),o=l([y],t)}(cc.Component);a.default=g,cc._RF.pop()},{}],Pot_008:[function(e,t,o){"use strict";cc._RF.push(t,"38c288O/cZGYoNSIrShDEmO","Pot_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("Config_008"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.isAlive=!1,t.func_open=null,t.func_recovery=null,t}return r(t,e),t.prototype.onInit=function(e,t){this.isAlive=!0,this.func_open=e,this.func_recovery=t,this.anim.play("ani_pot_init",0),this.unscheduleAllCallbacks()},t.prototype.onCollisionEnter=function(e){var t=this;this.isAlive&&e.node.group===c.default.STR_NodeGroup_PlayerBullet&&(this.isAlive=!1,s.default.getInstance().playSound(c.default.SEF_Pot_Destory),this.anim.play("ani_pot_destory",0),this.func_open&&this.func_open(this.node.getPosition()),this.node.zIndex=cc.macro.MIN_ZINDEX,this.scheduleOnce(function(){t.func_recovery&&t.func_recovery()},.4))},l([h(cc.Animation)],t.prototype,"anim",void 0),l([p],t)}(cc.Component);a.default=f,cc._RF.pop()},{}],PulletNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"fe6c8Cf9oVFM5/vAVjOzykj","PulletNode_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("GameMag"),p=cc._decorator,h=p.ccclass,f=p.property,d=[new cc.Color(141,246,64),new cc.Color(50,208,254),new cc.Color(234,124,254),new cc.Color(254,229,60)],_=["lv_008/sf/alchemy/base/dizuo1","lv_008/sf/alchemy/base/dizuo2","lv_008/sf/alchemy/base/dizuo3","lv_008/sf/alchemy/base/dizuo4"],y=["lv_008/sf/alchemy/figure/wen-01","lv_008/sf/alchemy/figure/wen-02","lv_008/sf/alchemy/figure/wen-03","lv_008/sf/alchemy/figure/wen-04","lv_008/sf/alchemy/figure/wen-05","lv_008/sf/alchemy/figure/wen-06","lv_008/sf/alchemy/figure/wen-07","lv_008/sf/alchemy/figure/wen-08","lv_008/sf/alchemy/figure/wen-09","lv_008/sf/alchemy/figure/wen-10"],m=["lv_008/sf/alchemy/pullet/dan-yangqi","lv_008/sf/alchemy/pullet/dan-juli","lv_008/sf/alchemy/pullet/dan-bingxin","lv_008/sf/alchemy/pullet/dan-zisa","lv_008/sf/alchemy/pullet/dan-huiqi","lv_008/sf/alchemy/pullet/dan-rongling","lv_008/sf/alchemy/pullet/dan-qingxin"],g=[["lv_008/sf/alchemy/fire/huo-lv-hou","lv_008/sf/alchemy/fire/huo-lv-qian"],["lv_008/sf/alchemy/fire/huo-lan-hou","lv_008/sf/alchemy/fire/huo-lan-qian"],["lv_008/sf/alchemy/fire/huo-zi-hou","lv_008/sf/alchemy/fire/huo-zi-qian"],["lv_008/sf/alchemy/fire/huo-jin-hou","lv_008/sf/alchemy/fire/huo-jin-qian"]],v=["\u517b\u6c14\u4e39","\u805a\u529b\u4e39","\u51b0\u5fc3\u4e39","\u7d2b\u98d2\u4e39","\u56de\u6c14\u4e39","\u878d\u7075\u4e39","\u6e05\u5fc3\u4e39"],b=["\u751f\u547d\u503c","\u653b\u51fb\u529b","\u9632\u5fa1\u529b","\u901f\u5ea6","\u751f\u547d\u6062\u590d","\u4fee\u4e3a\u52a0\u6210","\u63a2\u5b9d"],P=["\u4e00\u54c1","\u4e8c\u54c1","\u4e09\u54c1","\u56db\u54c1","\u4e94\u54c1","\u516d\u54c1","\u4e03\u54c1","\u516b\u54c1","\u4e5d\u54c1","\u5341\u54c1"],S=["\u52a3\u8d28\u7684","\u666e\u901a\u7684","\u9ad8\u7ea7\u7684","\u5b8c\u7f8e\u7684"],B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.quan=null,t.core=null,t.lblNode_name=null,t.spr_base=null,t.spr_pullet=null,t.spr_fire_1=null,t.spr_fire_2=null,t.spr_figure=null,t.lbl_currInfoKey=null,t}return r(t,e),t.prototype.onEnable=function(){this.onPlayAni()},t.prototype.onPlayAni=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.quan.opacity=0,this.quan.scale=0,this.spr_base.node.opacity=0,this.core.scale=.25,this.core.setPosition(0,-165),cc.tween(this.core).to(.5,{scale:1,y:-5.264},{easing:"backOut"}).start(),[4,this.wait(.15)];case 1:return e.sent(),cc.tween(this.quan).to(.4,{opacity:255,scale:1},{easing:"backOut"}).start(),[4,this.wait(.5)];case 2:return e.sent(),cc.tween(this.spr_base.node).to(.2,{opacity:255}).start(),[2]}})})},t.prototype.onRefresh=function(e,t,o){var n=this;this.lblNode_name.color=d[o],u.default.getInstance().getSpriteFrame(_[o]).then(function(e){n.spr_base.spriteFrame=e}),u.default.getInstance().getSpriteFrame(m[e]).then(function(e){n.spr_pullet.spriteFrame=e}),u.default.getInstance().getSpriteFrame(g[o][0]).then(function(e){n.spr_fire_1.spriteFrame=e}),u.default.getInstance().getSpriteFrame(g[o][1]).then(function(e){n.spr_fire_2.spriteFrame=e}),u.default.getInstance().getSpriteFrame(y[t]).then(function(e){n.spr_figure.spriteFrame=e}),this.lblNode_name.getComponent(cc.Label).string=S[o]+P[t]+v[e],this.lbl_currInfoKey.string="\u5f53\u524d"+b[e]+":"},t.prototype.wait=function(e){var t=this;return new Promise(function(o){t.scheduleOnce(o,e)})},l([f(cc.Node)],t.prototype,"quan",void 0),l([f(cc.Node)],t.prototype,"core",void 0),l([f(cc.Node)],t.prototype,"lblNode_name",void 0),l([f(cc.Sprite)],t.prototype,"spr_base",void 0),l([f(cc.Sprite)],t.prototype,"spr_pullet",void 0),l([f(cc.Sprite)],t.prototype,"spr_fire_1",void 0),l([f(cc.Sprite)],t.prototype,"spr_fire_2",void 0),l([f(cc.Sprite)],t.prototype,"spr_figure",void 0),l([f(cc.Label)],t.prototype,"lbl_currInfoKey",void 0),l([h],t)}(cc.Component);a.default=B,cc._RF.pop()},{}],RVOMath:[function(e,t,o){"use strict";cc._RF.push(t,"87798RfFqJIXprKQNtROB2d","RVOMath");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.RVOMath=void 0;var i=function(){function e(){}return e.sqr=function(e){return e*e},e.RVO_EPSILON=1e-4,e}();n.RVOMath=i,cc._RF.pop()},{}],RandomUtils:[function(e,t,o){"use strict";cc._RF.push(t,"4190a5QnZ1Hm7Uf5h93NRpU","RandomUtils");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.RandomUtils=void 0;var i=function(){function e(){}return e.getRandomInt=function(e,t){return parseInt(Math.random()*(t-e+1)+e,10)},e.getRandomFormArray=function(e){return this.getRandomInt(0,e.length-1)},e.getRandomBoolean=function(){return Math.random()>.5},e.getRandomProbability=function(){return this.getRandomInt(0,100)},e.getRandomProbability_10000=function(){return this.getRandomInt(0,1e4)},e}();n.RandomUtils=i,cc._RF.pop()},{}],ReviveUI_001:[function(e,t,o){"use strict";cc._RF.push(t,"23788kSBQVG96aH7eSruHXC","ReviveUI_001");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("GameManager"),u=i("UIMag"),p=i("Config_001"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lcNode=null,t.lbl_countDown=null,t.btn_video=null,t.btn_continue=null,t.time=10,t}return r(t,e),t.prototype.onEnable=function(){this.startCountDown(),this.time=10,this.btn_video.on(cc.Node.EventType.TOUCH_END,this.onTouchBtn_video,this),this.btn_continue.on(cc.Node.EventType.TOUCH_END,this.onTouchBtn_continue,this)},t.prototype.onDisable=function(){this.btn_video.off(cc.Node.EventType.TOUCH_END,this.onTouchBtn_video,this),this.btn_continue.off(cc.Node.EventType.TOUCH_END,this.onTouchBtn_continue,this)},t.prototype.startCountDown=function(){this.lbl_countDown.string="",this.schedule(this.onCountDown,1,9,.001)},t.prototype.onCountDown=function(){this.time-=1,this.lbl_countDown.string=this.time+"",this.time<=0&&this.scheduleOnce(this.backStartUI,1)},t.prototype.stopCountDown=function(){this.lbl_countDown.string="",this.unschedule(this.onCountDown),this.unschedule(this.backStartUI)},t.prototype.onTouchBtn_video=function(){s.default.getInstance().click(),this.stopCountDown(),this.lcNode.emit(p.default.e_revive)},t.prototype.onTouchBtn_continue=function(){s.default.getInstance().click(),this.backStartUI()},t.prototype.backStartUI=function(){this.stopCountDown(),c.default.ins.onStopGame(),u.default.ins.HideUI(u.UIType.GameUI,!0,function(){u.default.ins.ShowUI(u.UIType.StartUI,!0,null)})},l([d(cc.Node)],t.prototype,"lcNode",void 0),l([d(cc.Label)],t.prototype,"lbl_countDown",void 0),l([d(cc.Node)],t.prototype,"btn_video",void 0),l([d(cc.Node)],t.prototype,"btn_continue",void 0),l([f],t)}(cc.Component);a.default=_,cc._RF.pop()},{}],ReviveUI_002:[function(e,t,o){"use strict";cc._RF.push(t,"be6446F8bpEu6A0YGsctVHc","ReviveUI_002");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("ReviveUI_001"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t}return r(t,e),t.prototype.startCountDown=function(){e.prototype.startCountDown.call(this),this.progress.fillRange=1,cc.tween(this.progress).to(10,{fillRange:0}).start()},t.prototype.stopCountDown=function(){e.prototype.startCountDown.call(this),cc.Tween.stopAllByTarget(this.progress)},l([p(cc.Sprite)],t.prototype,"progress",void 0),l([u],t)}(s.default);a.default=h,cc._RF.pop()},{}],ReviveUI_008:[function(e,t,o){"use strict";cc._RF.push(t,"33606pW7nFI+5DnItbCK9Os","ReviveUI_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("GamingData_008"),u=i("LC_008"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t.btn_video=null,t.btn_coin=null,t.btn_continue=null,t.lbl_coinState=null,t}return r(t,e),t.prototype.onEnable=function(){this.refreshUI(),this.btn_video.on(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btn_coin.on(cc.Node.EventType.TOUCH_END,this.onCoin,this),this.btn_continue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.onShow()},t.prototype.onDisable=function(){this.btn_video.off(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btn_coin.off(cc.Node.EventType.TOUCH_END,this.onCoin,this),this.btn_continue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this)},t.prototype.refreshUI=function(){this.lbl_coinState.node.scale=1,this.lbl_coinState.node.angle=0,this.lbl_coinState.string=u.default.ins.getCoinCount()+c.default.pickUpCoinCount+"/200",u.default.ins.getCoinCount()+c.default.pickUpCoinCount>=200?this.lbl_coinState.node.color=cc.color(142,255,114):this.lbl_coinState.node.color=cc.color(255,114,114)},t.prototype.onVideo=function(){s.default.getInstance().click(),this.onRevive()},t.prototype.onCoin=function(){s.default.getInstance().click(),u.default.ins.getCoinCount()+c.default.pickUpCoinCount>=200?(c.default.pickUpCoinCount>=200?c.default.onPickUpCoin(-200):(c.default.pickUpCoinCount=0,u.default.ins.addCoin(-200+c.default.pickUpCoinCount),u.default.ins.onSaveData()),this.onRevive()):(cc.Tween.stopAllByTarget(this.lbl_coinState),cc.tween(this.lbl_coinState.node).to(.2,{scale:1.2}).to(.1,{angle:-3}).to(.2,{angle:3}).to(.2,{angle:-3}).to(.1,{angle:0}).to(.2,{scale:1}).start())},t.prototype.onContinue=function(){s.default.getInstance().click(),this.onHide(),c.default.func_onShowResultView&&c.default.func_onShowResultView()},t.prototype.onRevive=function(){c.default.onRevive(),this.onHide()},t.prototype.onShow=function(){cc.Tween.stopAllByTarget(this.actNode),this.actNode.scale=0,cc.tween(this.actNode).to(.4,{scale:1},{easing:"backOut"}).start()},t.prototype.onHide=function(){this.node.active=!1},l([f(cc.Node)],t.prototype,"actNode",void 0),l([f(cc.Node)],t.prototype,"btn_video",void 0),l([f(cc.Node)],t.prototype,"btn_coin",void 0),l([f(cc.Node)],t.prototype,"btn_continue",void 0),l([f(cc.Label)],t.prototype,"lbl_coinState",void 0),l([h],t)}(cc.Component);a.default=d,cc._RF.pop()},{}],SceneOrnament_008:[function(e,t,o){"use strict";cc._RF.push(t,"8af4bD3rsRNXo10QjF4BSrM","SceneOrnament_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetTile=null,t}return a(t,e),t.prototype.onLoad=function(){this.targetTile=this.node.parent,this.offsetPos=this.node.getPosition(),this.node.parent=this.node.parent.parent.parent.getChildByName("gameObjNode"),this.node.setPosition(this.targetTile.getPosition().add(this.offsetPos))},t.prototype.onEnable=function(){this.targetTile.on(cc.Node.EventType.POSITION_CHANGED,this.refreshPos,this)},t.prototype.onDisable=function(){this.targetTile.off(cc.Node.EventType.POSITION_CHANGED,this.refreshPos,this)},t.prototype.refreshPos=function(){this.node.setPosition(this.targetTile.getPosition().add(this.offsetPos))},t.prototype.lateUpdate=function(){this.node.zIndex=-1*this.node.getPosition().y},r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],SelectSkillViewShowAni_008:[function(e,t,o){"use strict";cc._RF.push(t,"1738chzqkBKnLbcL8Mn6OGY","SelectSkillViewShowAni_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("Ani_RotateForever"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showNodeArr=[],t.aniDuration=.5,t.interval=.25,t.delay=.4,t.compShowNodeArr=[],t}return r(t,e),t.prototype.onEnable=function(){for(var e=this,t=0;t<this.compShowNodeArr.length;t++)this.compShowNodeArr[t].opacity=0;for(t=0;t<this.showNodeArr.length;t++)cc.Tween.stopAllByTarget(this.showNodeArr[t]),this.showNodeArr[t].opacity=0;var o=this.showNodeArr.length,n=0;this.schedule(function(){var t=e.showNodeArr[n];if(null!==t){var i=t.getComponent(s.default);i&&(i.enabled=!1),t.scale=2,t.opacity=255,cc.tween(t).to(e.aniDuration,{scale:1},{easing:"backOut"}).call(function(){i&&(i.enabled=!0)}).start()}++n===o&&e.onComp()},this.interval,this.showNodeArr.length-1,this.interval)},t.prototype.onComp=function(){var e=this;this.scheduleOnce(function(){for(var t=0;t<e.compShowNodeArr.length;t++)cc.tween(e.compShowNodeArr[t]).to(.75,{opacity:255}).start()},this.delay)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},l([p([cc.Node])],t.prototype,"showNodeArr",void 0),l([p(cc.Float)],t.prototype,"aniDuration",void 0),l([p(cc.Float)],t.prototype,"interval",void 0),l([p(cc.Float)],t.prototype,"delay",void 0),l([p([cc.Node])],t.prototype,"compShowNodeArr",void 0),l([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{}],Simulator:[function(e,t,o){"use strict";cc._RF.push(t,"9dca3vHMSpEhaNfXFTElO6q","Simulator");var n=e,i=o;Object.defineProperty(i,"__esModule",{value:!0}),i.Simulator=void 0;var a=n("Agent"),r=n("KdTree"),l=n("Obstacle"),s=n("Vector2"),c=function(){function e(){this.time_=0,this.agents_=[],this.agentIdCounter=0,this.agentMap=new Map,this.obstacles_=[],this.time_=0,this.defaultAgent_=null,this.kdTree_=new r.KdTree,this.timeStep_=1,e._instance=this}return e.Instance=function(){return e._instance},e.prototype.addNewAgent=function(e){if(null==this.defaultAgent_)return null;var t=new a.Agent;return t.position_=e,t.maxNeighbors_=this.defaultAgent_.maxNeighbors_,t.maxSpeed_=this.defaultAgent_.maxSpeed_,t.neighborDist_=this.defaultAgent_.neighborDist_,t.radius_=this.defaultAgent_.radius_,t.timeHorizon_=this.defaultAgent_.timeHorizon_,t.timeHorizonObst_=this.defaultAgent_.timeHorizonObst_,t.velocity_=this.defaultAgent_.velocity_,t.id_=this.agentIdCounter++,this.agents_.push(t),t.index_=this.agents_.length,this.agentMap.set(t.id_,t),t},e.prototype.addAgent=function(e,t){e.position_=t,e.id_=this.agentIdCounter++,this.agentMap.set(e.id_,e)},e.prototype.removeAgent=function(e){return this.agentMap.delete(e)},e.prototype.addObstacle=function(e){if(e.length<2)return-1;for(var t=this.obstacles_.length,o=0;o<e.length;++o){var n=new l.Obstacle;n.point_=e[o],0!=o&&(n.prevObstacle_=this.obstacles_[this.obstacles_.length-1],n.prevObstacle_.nextObstacle_=n),o==e.length-1&&(n.nextObstacle_=this.obstacles_[t],n.nextObstacle_.prevObstacle_=n),n.unitDir_=s.Vector2.normalize(e[o==e.length-1?0:o+1].moins(e[o])),2==e.length?n.isConvex_=!0:n.isConvex_=s.Vector2.leftOf(e[0==o?e.length-1:o-1],e[o],e[o==e.length-1?0:o+1])>=0,n.id_=this.obstacles_.length,this.obstacles_.push(n)}return t},e.prototype.doStep=function(){var e=this,t=0;this.agentMap.forEach(function(o){e.agents_[t]=o,o.index_=t,t++}),this.kdTree_.buildAgentTree();for(var o=0;o<this.getNumAgents();++o)this.agents_[o].computeNeighbors(),this.agents_[o].computeNewVelocity();for(o=0;o<this.getNumAgents();++o)this.agents_[o].update();this.time_+=this.timeStep_},e.prototype.getAgentAgentNeighbor=function(e,t){return this.agents_[e].agentNeighbors_[t].Value.id_},e.prototype.getAgentMaxNeighbors=function(e){return this.agents_[e].maxNeighbors_},e.prototype.getAgentMaxSpeed=function(e){return this.agents_[e].maxSpeed_},e.prototype.getAgentNeighborDist=function(e){return this.agents_[e].neighborDist_},e.prototype.getAgentNumAgentNeighbors=function(e){return this.agents_[e].agentNeighbors_.length},e.prototype.getAgentNumObstacleNeighbors=function(e){return this.agents_[e].obstacleNeighbors_.length},e.prototype.getAgentNumORCALines=function(e){return this.agents_[e].orcaLines_.length},e.prototype.getAgentObstacleNeighbor=function(e,t){return this.agents_[e].obstacleNeighbors_[t].Value.id_},e.prototype.getAgentPosition=function(e){return this.agents_[e].position_},e.prototype.getAgentPrefVelocity=function(e){return this.agents_[e].prefVelocity_},e.prototype.getAgentRadius=function(e){return this.agents_[e].radius_},e.prototype.getAgentTimeHorizon=function(e){return this.agents_[e].timeHorizon_},e.prototype.getAgentTimeHorizonObst=function(e){return this.agents_[e].timeHorizonObst_},e.prototype.getAgentVelocity=function(e){return this.agents_[e].velocity_},e.prototype.getGlobalTime=function(){return this.time_},e.prototype.getNumAgents=function(){return this.agentMap.size},e.prototype.setAgentMaxNeighbors=function(e,t){this.agents_[e].maxNeighbors_=t},e.prototype.setAgentMaxSpeed=function(e,t){this.agents_[e].maxSpeed_=t},e.prototype.setAgentNeighborDist=function(e,t){this.agents_[e].neighborDist_=t},e.prototype.setAgentPosition=function(e,t){this.agents_[e].position_=t},e.prototype.setAgentPrefVelocity=function(e,t){this.agents_[e].prefVelocity_=t},e.prototype.setAgentRadius=function(e,t){this.agents_[e].radius_=t},e.prototype.setAgentTimeHorizon=function(e,t){this.agents_[e].timeHorizon_=t},e.prototype.setAgentTimeHorizonObst=function(e,t){this.agents_[e].timeHorizonObst_=t},e.prototype.setAgentVelocity=function(e,t){this.agents_[e].velocity_=t},e.prototype.clear=function(){this.agents_=[],this.agentMap.clear(),this.agentIdCounter=0,this.obstacles_=[],this.time_=0,this.kdTree_.clear(),this.timeStep_=1},e.prototype.processObstacles=function(){this.kdTree_.buildObstacleTree()},e.prototype.queryVisibility=function(e,t,o){return this.kdTree_.queryVisibility(e,t,o)},e.prototype.setAgentDefaults=function(e,t,o,n,i,r,l){void 0===l&&(l=new s.Vector2(0,0)),null==this.defaultAgent_&&(this.defaultAgent_=new a.Agent),this.defaultAgent_.maxNeighbors_=t,this.defaultAgent_.maxSpeed_=r,this.defaultAgent_.neighborDist_=e,this.defaultAgent_.radius_=i,this.defaultAgent_.timeHorizon_=o,this.defaultAgent_.timeHorizonObst_=n,this.defaultAgent_.velocity_=l},e.prototype.setTimeStep=function(e){this.timeStep_=e},e.prototype.getAgentOrientation=function(e){return this.agents_[e].orientation_},e.prototype.getOrca=function(e){return this.agents_[e].orcaLines_},e.prototype.getAgentPositionScreen=function(e){return this.agents_[e].positionScreen_},e}();i.Simulator=c,new c,cc._RF.pop()},{}],SkillStarNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"dcd12syeqFEH55kTqBTQGCG","SkillStarNode_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sf_full=null,t.sf_half=null,t.lastStar=null,t}return a(t,e),t.prototype.onRefresh_old=function(e,t){void 0===t&&(t=!0),null!==this.lastStar&&(cc.Tween.stopAllByTarget(this.lastStar),this.lastStar.opacity=255);for(var o=this.node.getChildByName("curr"),n=Math.floor(.5*e),i=0;i<n;i++)o.children[i].getComponent(cc.Sprite).spriteFrame=this.sf_full,this.lastStar=o.children[i];for(e%2==1&&(o.children[n].getComponent(cc.Sprite).spriteFrame=this.sf_half,this.lastStar=o.children[n]),i=n+e%2;i<5;i++)o.children[i].getComponent(cc.Sprite).spriteFrame=null;t&&null!==this.lastStar&&cc.tween(this.lastStar).to(.8,{opacity:0}).to(.8,{opacity:255}).union().repeatForever().start()},t.prototype.onRefresh=function(e,t){void 0===t&&(t=!0),e>5&&(e=5),null!==this.lastStar&&(cc.Tween.stopAllByTarget(this.lastStar),this.lastStar.opacity=255);for(var o=this.node.getChildByName("curr"),n=0;n<e;n++)o.children[n].getComponent(cc.Sprite).spriteFrame=this.sf_full,this.lastStar=o.children[n];for(n=e;n<5;n++)o.children[n].getComponent(cc.Sprite).spriteFrame=null;t&&null!==this.lastStar&&cc.tween(this.lastStar).to(.8,{opacity:0}).to(.8,{opacity:255}).union().repeatForever().start()},r([c(cc.SpriteFrame)],t.prototype,"sf_full",void 0),r([c(cc.SpriteFrame)],t.prototype,"sf_half",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],StartUI_008:[function(e,t,o){"use strict";cc._RF.push(t,"822e5wroGlOu4AdjGhoi9sw","StartUI_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},s=function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,l)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=i("RandomUtils"),p=i("AudioMag"),h=i("Config_008"),f=i("LC_008"),d=i("PulletNode_008"),_=i("AlchemyTips_008"),y=cc._decorator,m=y.ccclass,g=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_exit=null,t.btn_startGame=null,t.expBar=null,t.lbl_lv=null,t.infoValue_hp=null,t.infoValue_damagePoint=null,t.infoValue_armor=null,t.infoValue_moveSpeed=null,t.infoValue_restoreLife=null,t.infoValue_expBonus=null,t.infoValue_lucky=null,t.lbl_coinCount=null,t.btn_alchemy=null,t.spine_alchemy=null,t.aniNode_danlu_di=null,t.aniNode_danlu_working_1=null,t.aniNode_danlu_working_2=null,t.lbl_alchemyCount=null,t.lblNode_tips=null,t.alchemyResultView=null,t.pulletNodeTs=null,t.alchemyTipsTs=null,t.guide_alchemy=null,t.guideTimer=0,t.isCanCtrl=!0,t.ani_playerLevelUp=null,t}return r(t,e),t.prototype.onLoad=function(){this.aniNode_danlu_working_1.opacity=0,this.aniNode_danlu_working_2.opacity=0,this.isCanCtrl=!0},t.prototype.onEnable=function(){this.btn_exit.on(cc.Node.EventType.TOUCH_END,this.onExitLevel,this),this.btn_startGame.on(cc.Node.EventType.TOUCH_END,this.onStartGame,this),this.btn_alchemy.node.on(cc.Node.EventType.TOUCH_END,this.onAlchemy,this),cc.Tween.stopAllByTarget(this.lblNode_tips),this.lblNode_tips.opacity=0,this.refreshUI(),this.refreshExpBar();var e=f.default.ins.playerData;this.onRefresh_coinCountLbl(e.coinCount),!e.isGuideAlchemy&&e.numberOfAlchemy>0?(e.isGuideAlchemy=!0,this.guide_alchemy.active=!0):this.guide_alchemy.active=!1},t.prototype.start=function(){},t.prototype.update=function(e){f.default.ins.playerData.numberOfAlchemy>0&&!this.guide_alchemy.active&&!this.alchemyResultView.active&&(this.guideTimer+=e,this.guideTimer>8&&(this.guideTimer=0,this.onShowGuide_Alchemy()))},t.prototype.onDisable=function(){this.btn_exit.off(cc.Node.EventType.TOUCH_END,this.onExitLevel,this),this.btn_startGame.off(cc.Node.EventType.TOUCH_END,this.onStartGame,this),this.btn_alchemy.node.off(cc.Node.EventType.TOUCH_END,this.onAlchemy,this)},t.prototype.onShowGuide_Alchemy=function(){f.default.ins.playerData.numberOfAlchemy>0&&(this.guide_alchemy.active=!0)},t.prototype.onRefresh_coinCountLbl=function(e){this.lbl_coinCount.string=e.toString()},t.prototype.refreshUI=function(){var e=f.default.ins.playerData;this.infoValue_hp.getChildByName("lbl_base").getComponent(cc.Label).string=this.getInfoValueStr(0,e.maxHp),this.infoValue_hp.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_maxHp<=0?"":"+"+this.getInfoValueStr(0,e.alchemy_maxHp),this.infoValue_damagePoint.getChildByName("lbl_base").getComponent(cc.Label).string=this.getInfoValueStr(1,e.damagePoint),this.infoValue_damagePoint.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_damagePoint<=0?"":"+"+this.getInfoValueStr(1,e.alchemy_damagePoint),this.infoValue_armor.getChildByName("lbl_base").active=!(0===e.armor&&0!==e.alchemy_armor),this.infoValue_armor.getChildByName("lbl_base").getComponent(cc.Label).string=this.getInfoValueStr(2,e.armor),this.infoValue_armor.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_armor<=0?"":"+"+this.getInfoValueStr(2,e.alchemy_armor),this.infoValue_moveSpeed.getChildByName("lbl_base").getComponent(cc.Label).string=this.getInfoValueStr(3,e.moveSpeed),this.infoValue_moveSpeed.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_moveSpeed<=0?"":"+"+this.getInfoValueStr(3,e.alchemy_moveSpeed),this.infoValue_restoreLife.getChildByName("lbl_base").active=!(0===e.restoreLife&&0!==e.alchemy_restoreLife),this.infoValue_restoreLife.getChildByName("lbl_base").getComponent(cc.Label).string=0===e.restoreLife&&0!==e.alchemy_restoreLife?"":this.getInfoValueStr(4,e.restoreLife),this.infoValue_restoreLife.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_restoreLife<=0?"":"+"+this.getInfoValueStr(4,e.alchemy_restoreLife),this.infoValue_expBonus.getChildByName("lbl_base").active=!(0===e.expBonus&&0!==e.alchemy_expBonus),this.infoValue_expBonus.getChildByName("lbl_base").getComponent(cc.Label).string=0===e.expBonus&&0!==e.alchemy_expBonus?"":this.getInfoValueStr(5,e.expBonus),this.infoValue_expBonus.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_expBonus<=0?"":"+"+this.getInfoValueStr(5,e.alchemy_expBonus),this.infoValue_lucky.getChildByName("lbl_base").active=!(0===e.lucky&&0!==e.alchemy_lucky),this.infoValue_lucky.getChildByName("lbl_base").getComponent(cc.Label).string=0===e.lucky&&0!==e.alchemy_lucky?"":this.getInfoValueStr(6,e.lucky),this.infoValue_lucky.getChildByName("lbl_alchemy").getComponent(cc.Label).string=e.alchemy_lucky<=0?"":"+"+this.getInfoValueStr(6,e.alchemy_lucky),this.lbl_alchemyCount.string=e.numberOfAlchemy.toString(),this.aniNode_danlu_working_1.opacity=e.numberOfAlchemy>0?255:0,this.aniNode_danlu_working_2.opacity=e.numberOfAlchemy>0?255:0,this.isCanCtrl&&this.spine_alchemy.setAnimation(0,"idle",!0)},t.prototype.refreshInfoWithAni=function(){var e=f.default.ins.playerData,t=0,o=this.infoValue_hp.getChildByName("lbl_base").getComponent(cc.Label),n=this.infoValue_hp.getChildByName("lbl_alchemy").getComponent(cc.Label),i=parseInt(o.string),a=this.getNumberFromAlchemyLbl(n.string);i!==Math.floor(e.maxHp)&&(this.labelValueProxy(o,1,i,Math.floor(e.maxHp),!1),t=Math.floor(e.maxHp)-i),e.alchemy_maxHp<=0?n.string="":a!==Math.floor(e.alchemy_maxHp)&&(this.labelValueProxy(n,1,a,Math.floor(e.alchemy_maxHp),!0),t=Math.floor(e.alchemy_maxHp)-a),this.infoValue_hp.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var r=this.infoValue_damagePoint.getChildByName("lbl_base").getComponent(cc.Label),l=this.infoValue_damagePoint.getChildByName("lbl_alchemy").getComponent(cc.Label),s=parseInt(r.string),c=this.getNumberFromAlchemyLbl(l.string);s!==Math.floor(e.damagePoint)&&(this.labelValueProxy(r,1,s,Math.floor(e.damagePoint),!1),t=Math.floor(e.damagePoint)-s),e.alchemy_damagePoint<=0?l.string="":c!==Math.floor(e.alchemy_damagePoint)&&(this.labelValueProxy(l,1,c,Math.floor(e.alchemy_damagePoint),!0),t=Math.floor(e.alchemy_damagePoint)-c),this.infoValue_damagePoint.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var u=this.infoValue_armor.getChildByName("lbl_base").getComponent(cc.Label),p=this.infoValue_armor.getChildByName("lbl_alchemy").getComponent(cc.Label),d=parseInt(u.string),_=this.getNumberFromAlchemyLbl(p.string);u.node.active=!(0===e.armor&&0!==e.alchemy_armor),d!==Math.floor(e.armor)&&(this.labelValueProxy(u,1,d,Math.floor(e.armor),!1),t=Math.floor(e.armor)-d),e.alchemy_armor<=0?p.string="":_!==Math.floor(e.alchemy_armor)&&(this.labelValueProxy(p,1,_,Math.floor(e.alchemy_armor),!0),t=Math.floor(e.alchemy_armor)-_),this.infoValue_armor.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var y=this.infoValue_moveSpeed.getChildByName("lbl_base").getComponent(cc.Label),m=this.infoValue_moveSpeed.getChildByName("lbl_alchemy").getComponent(cc.Label),g=parseInt(y.string),v=this.getNumberFromAlchemyLbl(m.string);g!==Math.floor(e.moveSpeed)&&(this.labelValueProxy(y,1,g,Math.floor(e.moveSpeed),!1),t=Math.floor(e.moveSpeed)-g),e.alchemy_moveSpeed<=0?m.string="":v!==Math.floor(e.alchemy_moveSpeed)&&(this.labelValueProxy(m,1,v,Math.floor(e.alchemy_moveSpeed),!0),t=Math.floor(e.alchemy_moveSpeed)-v),this.infoValue_moveSpeed.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var b=this.infoValue_restoreLife.getChildByName("lbl_base").getComponent(cc.Label),P=this.infoValue_restoreLife.getChildByName("lbl_alchemy").getComponent(cc.Label),S=parseInt(b.string),B=this.getNumberFromAlchemyLbl(P.string);b.node.active=!(0===e.restoreLife&&0!==e.alchemy_restoreLife),S!==Math.floor(e.restoreLife)&&(this.labelValueProxy(b,1,S,Math.floor(e.restoreLife),!1),t=Math.floor(e.restoreLife)-S),e.alchemy_restoreLife<=0?P.string="":B!==Math.floor(e.alchemy_restoreLife)&&(this.labelValueProxy(P,1,B,Math.floor(e.alchemy_restoreLife),!0),t=Math.floor(e.alchemy_restoreLife)-B),this.infoValue_restoreLife.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var A=this.infoValue_expBonus.getChildByName("lbl_base").getComponent(cc.Label),w=this.infoValue_expBonus.getChildByName("lbl_alchemy").getComponent(cc.Label),C=parseInt(A.string),O=this.getNumberFromAlchemyLbl(w.string);A.node.active=!(0===e.expBonus&&0!==e.alchemy_expBonus),C!==Math.floor(e.expBonus)&&(this.labelValueProxy(A,1,C,Math.floor(e.expBonus),!1),t=Math.floor(e.expBonus)-C),e.alchemy_expBonus<=0?w.string="":O!==Math.floor(e.alchemy_expBonus)&&(this.labelValueProxy(w,1,O,Math.floor(e.alchemy_expBonus),!0),t=Math.floor(e.alchemy_expBonus)-O),this.infoValue_expBonus.emit(h.default.e_ShowPlayerInfoChangeTips,t),t=0;var R=this.infoValue_lucky.getChildByName("lbl_base").getComponent(cc.Label),I=this.infoValue_lucky.getChildByName("lbl_alchemy").getComponent(cc.Label),V=parseInt(R.string),N=this.getNumberFromAlchemyLbl(I.string);R.node.active=!(0===e.lucky&&0!==e.alchemy_lucky),V!==Math.floor(e.lucky)&&(this.labelValueProxy(R,1,V,Math.floor(e.lucky),!1),t=Math.floor(e.lucky)-V),e.alchemy_lucky<=0?I.string="":N!==Math.floor(e.alchemy_lucky)&&(this.labelValueProxy(I,1,N,Math.floor(e.alchemy_lucky),!0),t=Math.floor(e.alchemy_lucky)-N),this.infoValue_lucky.emit(h.default.e_ShowPlayerInfoChangeTips,t)},t.prototype.getNumberFromAlchemyLbl=function(e){return"+"===e[0]?(e=e.slice(1),parseInt(e)):0},t.prototype.onExitLevel=function(){this.isCanCtrl&&(p.default.getInstance().click(),f.default.ins.onExitGame())},t.prototype.onStartGame=function(){this.isCanCtrl&&(p.default.getInstance().click(),f.default.ins.onStartGame())},t.prototype.onAlchemy=function(){return s(this,void 0,void 0,function(){var e,t,o,n;return c(this,function(){return this.isCanCtrl?(this.guide_alchemy.active=!1,this.guideTimer=0,f.default.ins.playerData.numberOfAlchemy>0?(e=this.getAlchemyPulletType(),t=this.getAlchemyLv(),o=this.getAlchemyQuality(),this.pulletNodeTs.onRefresh(e,t,o),this.isCanCtrl=!1,cc.tween(this.aniNode_danlu_working_1).to(1,{opacity:0}).start(),cc.tween(this.aniNode_danlu_working_2).to(1,{opacity:0}).start(),p.default.getInstance().playSound(h.default.SEF_AlchemyOpen),this.spine_alchemy.setAnimation(0,(o+1).toString(),!1),n=this.onAlchemySpineEvent.bind(this,e,t,o),this.spine_alchemy.setEventListener(n)):(p.default.getInstance().click(),cc.Tween.stopAllByTarget(this.lblNode_tips),cc.tween(this.lblNode_tips).to(.5,{opacity:255}).delay(1.5).to(.5,{opacity:0}).start()),[2]):[2]})})},t.prototype.onAlchemySpineEvent=function(e,t,o){return s(this,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return n=f.default.ins.playerData,[4,this.onShowAlchemyResult(e,t,o)];case 1:return i.sent(),this.lbl_alchemyCount.string=n.numberOfAlchemy.toString(),this.aniNode_danlu_working_1.opacity=n.numberOfAlchemy>0?255:0,this.aniNode_danlu_working_2.opacity=n.numberOfAlchemy>0?255:0,this.spine_alchemy.setAnimation(0,"idle",!0),this.isCanCtrl=!0,[2]}})})},t.prototype.getAlchemyPulletType=function(){for(var e=0,t=h.default.Alchemy_PulletWeightConfig.reduce(function(e,t){return e+t}),o=u.RandomUtils.getRandomInt(0,t-1),n=0,i=0;i<h.default.Alchemy_PulletWeightConfig.length;i++)if(o<(n+=h.default.Alchemy_PulletWeightConfig[i])){e=i;break}return e},t.prototype.getAlchemyQuality=function(){for(var e=0,t=h.default.Alchemy_PulletQualityWeightConfig.reduce(function(e,t){return e+t}),o=u.RandomUtils.getRandomInt(0,t-1),n=0,i=0;i<h.default.Alchemy_PulletQualityWeightConfig.length;i++)if(o<(n+=h.default.Alchemy_PulletQualityWeightConfig[i])){e=i;break}var a=f.default.ins.playerData;return a.alchemyTimer+=1,a.alchemyTotalTime+=1,a.numberOfAlchemy-=1,3===e?a.alchemyTimer<=10&&(e=2):a.alchemyTimer>=30&&(e=3),3===e&&(a.alchemyTimer=0),e},t.prototype.getAlchemyLv=function(){var e=f.default.ins.playerData;return Math.floor(e.lv/10)},t.prototype.onShowAlchemyResult=function(e,t,o){var n=this;return new Promise(function(i){return s(n,void 0,void 0,function(){var n,a,r,l,u,d,_,y,m,g,v,b,P,S=this;return c(this,function(){return n=f.default.ins.playerData,a=this.alchemyResultView.getChildByName("actNode"),r=a.getChildByName("lbl_currValue").getComponent(cc.Label),l=a.getChildByName("lbl_newValue").getComponent(cc.Label),u=l.node.getChildByName("up"),d=l.node.getChildByName("down"),cc.Tween.stopAllByTarget(u),cc.Tween.stopAllByTarget(d),_=this.getPulletInfoValue(e,t,o),y=n[h.default.Alchemy_TypeToKeyConfig[e]],r.string=this.getInfoValueStr(e,y),l.string=this.getInfoValueStr(e,_),_===y?(l.node.color=cc.Color.WHITE,u.opacity=0,d.opacity=0):_>y?(l.node.color=new cc.Color(21,163,107),u.opacity=255,d.opacity=0,cc.tween(u).to(.25,{y:10}).to(.25,{y:0}).union().repeatForever().start()):(l.node.color=new cc.Color(233,55,17),u.opacity=0,d.opacity=255,cc.tween(d).to(.25,{y:-10}).to(.25,{y:0}).union().repeatForever().start()),this.alchemyResultView.active=!0,a.scale=1,m=a.getChildByName("btn_discard"),g=a.getChildByName("btn_use"),v=function(){m.off(cc.Node.EventType.TOUCH_END),g.off(cc.Node.EventType.TOUCH_END)},b=function(){return s(S,void 0,void 0,function(){var e,t=this;return c(this,function(n){switch(n.label){case 0:return v(),f.default.ins.onSaveData(),cc.tween(a).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.alchemyResultView.active=!1}).start(),e=h.default.AlchemyExpReward[o],this.alchemyTipsTs.onShowTips(e),i(null),[4,this.wait(1)];case 1:return n.sent(),this.onAddExp(e),[2]}})})},P=function(){p.default.getInstance().click(),v(),n[h.default.Alchemy_TypeToKeyConfig[e]]=_,f.default.ins.onSaveData(),S.refreshInfoWithAni(),cc.tween(a).to(.4,{scale:0},{easing:"backIn"}).call(function(){S.alchemyResultView.active=!1}).start(),i(null)},m.on(cc.Node.EventType.TOUCH_END,b,this),g.on(cc.Node.EventType.TOUCH_END,P,this),[2]})})})},t.prototype.getPulletInfoValue=function(e,t,o){var n=f.default.ins.playerData,i=h.default.Alchemy_PulletQualityValueRange[o],a=[n.lv];n.lv-1>0&&a.push(n.lv-1),n.lv+1<=99&&a.push(n.lv+1);var r=a[u.RandomUtils.getRandomFormArray(a)],l=h.PlayerLevelInfoConfigMap.get(r)["pulletBaseValue_"+(e+1)]*(1+u.RandomUtils.getRandomInt(100*i[0],100*i[1])/1e4);return Math.floor(l)},t.prototype.getInfoValueStr=function(e,t){return(t=Math.floor(t)).toString()},t.prototype.refreshExpBar=function(e){void 0===e&&(e=!1);var t,o=f.default.ins.playerData;this.lbl_lv.string=o.lv.toString(),t=o.lv<99?o.curExp/h.NormalExpConfig_008[o.lv]:1,e?cc.tween(this.expBar).to(.2,{fillRange:t}).start():this.expBar.fillRange=t},t.prototype.onAddExp=function(e){return s(this,void 0,void 0,function(){var t,o,n,i,a;return c(this,function(r){switch(r.label){case 0:for(t=0,o=0;o<e.length;o++)t+=e[o];return n=f.default.ins.playerData,i=!1,n.lv<99&&(n.curExp+=t,n.curExp/h.NormalExpConfig_008[n.lv]>=1&&(i=!0)),this.refreshExpBar(!0),i?[4,this.wait(.2)]:[3,3];case 1:return r.sent(),n.curExp-=h.NormalExpConfig_008[n.lv],n.lv+=1,a=h.PlayerLevelInfoConfigMap.get(n.lv),n.maxHp=a.maxHp,n.damagePoint=a.damagePoint,n.armor=a.armor,n.moveSpeed=a.moveSpeed,n.restoreLife=a.restoreLife,n.expBonus=a.expBonus,n.lucky=a.lucky,p.default.getInstance().playSound(h.default.SEF_LevelUp),this.ani_playerLevelUp.play(),this.refreshInfoWithAni(),[4,this.wait(.5)];case 2:r.sent(),this.expBar.fillRange=0,this.onAddExp([]),r.label=3;case 3:return[2]}})})},t.prototype.labelValueProxy=function(e,t,o,n,i){e.string="";var a=new Proxy({value:o},{set:function(t,o,n){return t[o]=n,"value"===o&&(e.string=(i?"+":"")+Math.floor(n)),!0}});cc.tween(a).to(t,{value:n}).start()},t.prototype.wait=function(e){var t=this;return new Promise(function(o){t.scheduleOnce(o,e)})},l([g(cc.Node)],t.prototype,"btn_exit",void 0),l([g(cc.Node)],t.prototype,"btn_startGame",void 0),l([g(cc.Sprite)],t.prototype,"expBar",void 0),l([g(cc.Label)],t.prototype,"lbl_lv",void 0),l([g(cc.Node)],t.prototype,"infoValue_hp",void 0),l([g(cc.Node)],t.prototype,"infoValue_damagePoint",void 0),l([g(cc.Node)],t.prototype,"infoValue_armor",void 0),l([g(cc.Node)],t.prototype,"infoValue_moveSpeed",void 0),l([g(cc.Node)],t.prototype,"infoValue_restoreLife",void 0),l([g(cc.Node)],t.prototype,"infoValue_expBonus",void 0),l([g(cc.Node)],t.prototype,"infoValue_lucky",void 0),l([g(cc.Label)],t.prototype,"lbl_coinCount",void 0),l([g(cc.Button)],t.prototype,"btn_alchemy",void 0),l([g(sp.Skeleton)],t.prototype,"spine_alchemy",void 0),l([g(cc.Node)],t.prototype,"aniNode_danlu_di",void 0),l([g(cc.Node)],t.prototype,"aniNode_danlu_working_1",void 0),l([g(cc.Node)],t.prototype,"aniNode_danlu_working_2",void 0),l([g(cc.Label)],t.prototype,"lbl_alchemyCount",void 0),l([g(cc.Node)],t.prototype,"lblNode_tips",void 0),l([g(cc.Node)],t.prototype,"alchemyResultView",void 0),l([g(d.default)],t.prototype,"pulletNodeTs",void 0),l([g(_.default)],t.prototype,"alchemyTipsTs",void 0),l([g(cc.Node)],t.prototype,"guide_alchemy",void 0),l([g(cc.Animation)],t.prototype,"ani_playerLevelUp",void 0),l([m],t)}(cc.Component);a.default=v,cc._RF.pop()},{}],StartUI:[function(e,t,o){"use strict";cc._RF.push(t,"66b65725VhAfo0xB613vMnZ","StartUI");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("BaseUI"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){null!==e&&e.apply(this,arguments)}return r(t,e),t.prototype.onOnLoad=function(){s.default.getInstance().playBGM(s.AudioType.bgm_start)},l([p],t)}(c.default));a.default=h,cc._RF.pop()},{}],TouchEffectNode_008:[function(e,t,o){"use strict";cc._RF.push(t,"9870fgYGm1GmrDT0iActoYZ","TouchEffectNode_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.effPre=null,t.nodePool=null,t}return a(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node._touchListener.swallowTouches=!1,this.initNodePool()},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.nodePool.clear()},t.prototype.initNodePool=function(){this.nodePool=new cc.NodePool;for(var e=0;e<5;e++)this.nodePool.put(cc.instantiate(this.effPre))},t.prototype.onTouch=function(e){if(this.nodePool.size()>0){var t=this.nodePool.get();t.setParent(this.node),t.setPosition(this.node.convertToNodeSpaceAR(e.getLocation())),this.scheduleOnce(this.onRecovery.bind(this,t),.9)}},t.prototype.onRecovery=function(e){this.nodePool.put(e)},r([c(cc.Prefab)],t.prototype,"effPre",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],TouchEffect_008:[function(e,t,o){"use strict";cc._RF.push(t,"6eb88E7pXdM9ZTDXmBmJHRe","TouchEffect_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.quan=null,t.ye1=null,t.ye2=null,t}return a(t,e),t.prototype.onEnable=function(){this.quan.opacity=255,cc.tween(this.quan).to(.5,{opacity:0}).start(),this.ye1.resetSystem(),this.ye2.resetSystem()},r([c(cc.Node)],t.prototype,"quan",void 0),r([c(cc.ParticleSystem)],t.prototype,"ye1",void 0),r([c(cc.ParticleSystem)],t.prototype,"ye2",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],UIMag:[function(e,t,o){"use strict";cc._RF.push(t,"cc3bdjm1ItE4aMlkGjUnJEH","UIMag");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.UIType=void 0;var s=i("BaseUI"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ui=new Map,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.ins=this,window.UIMag=o.ins},t.prototype.start=function(){for(var e=0;e<this.node.childrenCount;e++)this.node.children[e].getComponent(s.default)&&this.m_ui.set(this.node.children[e].name,this.node.children[e].getComponent(s.default))},t.prototype.ShowUI=function(e,t,o){void 0===t&&(t=!0),this.m_ui.has(e)?(this.m_ui.get(e).onShow(t,o),this.m_ui.get(e).node.setSiblingIndex(999)):console.log("\u6ca1\u6709\u8fd9\u4e2aUI ==> "+e)},t.prototype.HideUI=function(e,t,o){void 0===t&&(t=!0),this.m_ui.has(e)?this.m_ui.get(e).onHide(t,o):console.log("\u6ca1\u6709\u8fd9\u4e2aUI ==> "+e)},t.prototype.HideAllUI=function(){this.m_ui.forEach(function(e){e.node.active=!1})},t.ins=null,o=l([u],t)}(cc.Component));a.default=p;var h=function(){function e(){}return e.StartUI="StartUI",e.GameUI="GameUI",e.FailUI="FailUI",e}();a.UIType=h,cc._RF.pop()},{}],Vector2:[function(e,t,o){"use strict";cc._RF.push(t,"90ad7azfn9C65cNxlB898Mp","Vector2");var n=o;Object.defineProperty(n,"__esModule",{value:!0}),n.Vector2=void 0;var i=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.moins=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.moinsSelf=function(){return new e(-this.x,-this.y)},e.prototype.plus=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.mul=function(e){return this.x*e.x+this.y*e.y},e.prototype.mul_k=function(t){return new e(this.x*t,this.y*t)},e.prototype.div_k=function(t){var o=1/t;return new e(this.x*o,this.y*o)},e.absSq=function(e){return e.mul(e)},e.abs=function(e){return Math.sqrt(e.mul(e))},e.det=function(e,t){return e.x*t.y-e.y*t.x},e.normalize=function(t){return t.div_k(e.abs(t))},e.leftOf=function(t,o,n){return e.det(t.moins(n),o.moins(t))},e.distSqPointLineSegment=function(t,o,n){var i=n.moins(t).mul(o.moins(t))/e.absSq(o.moins(t));return i<0?e.absSq(n.moins(t)):i>1?e.absSq(n.moins(o)):e.absSq(n.moins(t.plus(o.moins(t).mul_k(i))))},e}();n.Vector2=i,cc._RF.pop()},{}],WeaponDropItem_008:[function(e,t,o){"use strict";cc._RF.push(t,"41babH/p2dFnaFvmWPb+07Z","WeaponDropItem_008");var n,i=e,a=o,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(a,"__esModule",{value:!0});var s=i("AudioMag"),c=i("Config_008"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actNode=null,t.ani_sprite_cx=null,t.ani_sprite_xh=null,t.ani_cx="ani_cx",t.ani_xh="ani_xh",t}return r(t,e),t.prototype.onEnable=function(){this.ani_sprite_cx.node.opacity=0,this.ani_sprite_cx.node.getComponent(cc.Sprite).spriteFrame=null,this.ani_sprite_xh.node.opacity=0,this.ani_sprite_xh.node.getComponent(cc.Sprite).spriteFrame=null,this.actNode.angle=0,cc.tween(this.actNode).to(.4,{angle:720}).call(this.onShowSpineAni,this).start(),s.default.getInstance().playSound_intervalLimit(c.default.SEF_Drop_Knife,50)},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.actNode),this.unschedule(this.onChangeSpineAni)},t.prototype.onShowSpineAni=function(){this.ani_sprite_cx.play(this.ani_cx),this.scheduleOnce(this.onChangeSpineAni,.3),this.ani_sprite_cx.node.opacity=255},t.prototype.onChangeSpineAni=function(){this.ani_sprite_cx.node.opacity=0,this.ani_sprite_cx.node.getComponent(cc.Sprite).spriteFrame=null,this.ani_sprite_xh.node.opacity=255,this.ani_sprite_xh.play(this.ani_xh)},l([h(cc.Node)],t.prototype,"actNode",void 0),l([h(cc.Animation)],t.prototype,"ani_sprite_cx",void 0),l([h(cc.Animation)],t.prototype,"ani_sprite_xh",void 0),l([p],t)}(cc.Component);a.default=f,cc._RF.pop()},{}],WidgetToCanvas:[function(e,t,o){"use strict";cc._RF.push(t,"220c7tM+jZEHa7lZGHLQAIV","WidgetToCanvas");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Widget);e.target=cc.find("Canvas"),e.isAlignTop=!0,e.top=0,e.isAlignBottom=!0,e.bottom=0,e.isAlignLeft=!0,e.left=0,e.isAlignRight=!0,e.right=0,e.updateAlignment()},r([s],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],ZIndex_008:[function(e,t,o){"use strict";cc._RF.push(t,"8f9bdJ8sRtEraio4kp3+dsM","ZIndex_008");var n,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(i,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=0,t}return a(t,e),t.prototype.lateUpdate=function(){this.node.zIndex=-1*this.node.getPosition().y+this.offset},r([c(cc.Integer)],t.prototype,"offset",void 0),r([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{}]},{},["Agent","AgentTreeNode","AlchemyTips_008","AniEffectNode_008","Ani_FishIdle","Ani_RotateForever","Ani_ScaleForever","AudioMag","BaseDropItem_008","BaseEnemyMovement_008","BaseEnemyWeapon_008","BaseEnemy_008","BasePlayerWeapon_008","BaseUI","BoxDropItem_008","CoinShowNode_008","CompanyUI","Config","Config_001","Config_008","Config_Gaming_008","CurrSkillLayer_008","DX_Breath","DX_NodeShow_UpToBottom","DropItemMag_008","Dx_BtnToggle","EF_PickUpWeapon_008","EffectMag_008","EffectNode_008","EnemyKnife_008","EnemyManager_008","EnemyTrail_008","Entities_008","ExpBarNode_008","ExpstoneShowNode_008","FloatPair","FloatTextMag_008","FlyingKnife_008","GameConfig","GameMag","GameManager","GameManager_008","GameUI","GamingData_008","GamingUI_008","Guide_TouchMove","HpBarNode_008","InfiniteMap_008","InvokeConfig","Joystick_06","Joystick_07","Joystick_common","KdTree","KeyValuePair","LC_008","LevelConfig","Line","MotionTrail","Multimap","NodePoolManager","NuclearBombNode_008","Obstacle","ObstacleTreeNode","OpenBoxUI_008","PlayerBullet_Lightning_008","PlayerBullet_Long_008","PlayerBullet_RotatingKnife_008","PlayerBullet_SixPulseHolySword_008","PlayerBullet_SummonSword_008","PlayerInfoTips_008","PlayerWeapon_Lightning_008","PlayerWeapon_Long_008","PlayerWeapon_RotatingKnife_008","PlayerWeapon_SixPulseHolySword_008","PlayerWeapon_SummonSword_008","Player_008","PotMag_008","Pot_008","PulletNode_008","RVOMath","RandomUtils","ReviveUI_001","ReviveUI_002","ReviveUI_008","SceneOrnament_008","SelectSkillViewShowAni_008","Simulator","SkillStarNode_008","StartUI","StartUI_008","TouchEffectNode_008","TouchEffect_008","UIMag","Vector2","WeaponDropItem_008","WidgetToCanvas","ZIndex_008"]);