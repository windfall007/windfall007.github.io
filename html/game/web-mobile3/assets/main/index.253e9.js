window.__require=function e(t,i,o){function n(a,r){if(!i[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return n(t[a][1][e]||e)},u,u.exports,e,t,i,o)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AdAgent4399:[function(e,t,i){"use strict";cc._RF.push(t,"50d79CJWalF0YaAKvtP+yLq","AdAgent4399");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./PlatUtils"),c=e("./Utils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._videoCallback=null,t._isVideoLoaded=!1,t._videoAd=null,t._4399=window.h5api,t._canPlayAd=!0,t._remain=0,t}return n(t,e),t.prototype.Init=function(){this.checkPlayAd()},t.prototype.checkPlayAd=function(){this._canPlayAd=!0},t.prototype.ShowBanner=function(){c.utils.showLog("4399\u5e73\u53f0\u6682\u65e0banner\u5e7f\u544a")},t.prototype.ShowInterstitial=function(){c.utils.showLog("4399\u5e73\u53f0\u6682\u65f6\u65e0\u63d2\u5c4f\u5e7f\u544a")},t.prototype.ShowVideo=function(e){var t=this;r.default.Is4399&&(this._videoCallback=e,this._canPlayAd?this._4399.playAd(function(e){c.utils.showLog("\u4ee3\u7801:"+e.code+",\u6d88\u606f:"+e.message),1e4===e.code?c.utils.showLog("\u89c6\u9891\u5f00\u59cb\u64ad\u653e"):10001===e.code?(c.utils.showLog("\u89c6\u9891\u64ad\u653e\u7ed3\u675f"),t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null),t.checkPlayAd()):(t._videoCallback&&(t._videoCallback(!1,"\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!"),t._videoCallback=null),t.checkPlayAd(),c.utils.showLog("\u89c6\u9891\u5e7f\u544a\u5f02\u5e38"))}):(c.utils.showLog("4399\u83b7\u53d6\u5230\u4e0d\u80fd\u64ad\u653e\u5e7f\u544a! #this._canPlayAd=",this._canPlayAd,"\u5269\u4f59\u6b21\u6570",this._remain),this._videoCallback&&(this._videoCallback(!1,"\u4eca\u65e5\u6b21\u6570\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765!"),this._videoCallback=null),this.checkPlayAd()))},s([u],t)}(a.default));i.default=h,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils"}],AdAgentBaidu:[function(e,t,i){"use strict";cc._RF.push(t,"4db21W0NW9ALaQL6EjOywaw","AdAgentBaidu");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._baiduVersion="",t._recorder=null,t._bannerAd=null,t._videoAd=null,t._videoCallback=null,t._isVideoShow=!1,t._isVideoLoaded=!1,t.swan=window.swan,t._bannerSizePercent=.1,t._bannerBottom=0,t}return n(t,e),t.prototype.Init=function(){var e=this;c.default.IsBaidu&&(this._sysData=this.swan.getSystemInfoSync(),l.utils.registerServerInitEvent(function(){e._initVideoAd()},this))},t.prototype.ShowBanner=function(e,t){var i=this;if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsBaidu){if(l.utils.isShowRecommondGamesBanner()&&l.utils.isSupportnavigateToMiniGame())return l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5c55\u793a\u81ea\u5b9a\u4e49banner");l.utils.showLog("\u663e\u793abanner\u5e7f\u544a...");var o=t;if(o&&o.width&&(cc.winSize.height/cc.winSize.width<1?this._bannerSizePercent=o.width:this._bannerSizePercent=o.width<=.8?.8:o.width,this._bannerSizePercent=o.width>1?1:this._bannerSizePercent),o&&o.bottom&&(this._bannerBottom=o.bottom/this._sysData.pixelRatio,this._bannerBottom=this._bannerBottom<0?0:this._bannerBottom,this._bannerBottom=this._bannerBottom>this._sysData.screenHeight?this._sysData.screenHeight:this._bannerBottom),l.utils.config.baiduconfig&&l.utils.config.baiduconfig.bannerId&&l.utils.config.baiduconfig.appSID){var n=(this._sysData.screenWidth-this._sysData.screenWidth*this._bannerSizePercent)/2,s=this._sysData.screenWidth*this._bannerSizePercent,a={adUnitId:l.utils.config.baiduconfig.bannerId,appSid:l.utils.config.baiduconfig.appSID,style:{top:0,left:n,width:s}},u=null,h=this._bannerAd,d=function(){u&&u.show().then(function(){i._bannerAd=u,h&&(h.destroy(),h.offLoad(d),h.offError(p)),l.utils.showLog("Banner\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("Banner\u663e\u793a\u51fa\u9519!")})},p=function(e){e&&l.utils.showLog("Banner \u5e7f\u544a\u51fa\u9519 : ",e.errCode,e.errMsg)};(u=this.swan.createBannerAd(a))&&(u.onLoad(d),u.onError(p),u.onResize(function(e){u.style.width=s,u.style.top=i._sysData.screenHeight-e.height-i._bannerBottom}),u.style.width=s+1,c.default.IsIOS&&(u.style.top=this._sysData.screenHeight))}else cc.warn("\u767e\u5ea6\u5e7f\u544a\u914d\u7f6e\u6587\u4ef6\u51fa\u9519!")}},t.prototype.showStatementAds=function(){var e,t={type:0,node:null};return l.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8"),this.ShowInterstitial(),e=l.utils.showCrossWidget6(),t.type=1,t.node=e,t},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsBaidu&&this._bannerAd&&this._bannerAd.hide()},t.prototype.ShowInterstitial=function(e){void 0===e&&(e=r.BannerLocation.Home),console.warn("\u767e\u5ea6\u6ca1\u6709\u63d2\u5c4f")},t.prototype.ShowVideo=function(e){var t=this;if(c.default.IsBaidu){if(this._videoCallback)return;this._videoCallback=e,this._isVideoShow=!0,this._videoAd?this._isVideoLoaded?this._videoAd.show().then(function(){l.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f!"),t._isVideoLoaded=!1}).catch(function(){}):this._videoAd.load().catch(function(){}):this._initVideoAd()}},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd){if(!(l.utils.config.baiduconfig&&l.utils.config.baiduconfig.appSID&&l.utils.config.baiduconfig.videoId))return l.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));var t={adUnitId:l.utils.config.baiduconfig.videoId,appSid:l.utils.config.baiduconfig.appSID};l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u53c2\u6570:",JSON.stringify(t)),this._videoAd=this.swan.createRewardedVideoAd(t),this._videoAd&&(this._videoAd.onLoad(function(){l.utils.showLog("\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),e._isVideoLoaded=!0,e._isVideoShow&&e._videoAd.show().then(function(){e._isVideoLoaded=!1}).catch(function(){l.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01")})}),this._videoAd.onClose(function(t){e._isVideoShow=!1,t&&t.isEnded?(l.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!",t.errCode),e._isVideoLoaded=!1,e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)}))}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentBili:[function(e,t,i){"use strict";cc._RF.push(t,"ecaa7MzB4FNUoaCpwLpxt+Y","AdAgentBili");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._videoCallback=null,t._isVideoLoaded=!1,t._videoAd=null,t._bannerAd=null,t.bl=window.bl,t._curBannerAd=null,t._bannerSizePercent=.1,t._bannerBottom=0,t}return n(t,e),t.prototype.Init=function(){},t.prototype.ShowBanner=function(e,t){void 0===t&&(t=null);var i=t;i&&i.width&&(this._bannerSizePercent=i.width<0?0:i.width,this._bannerSizePercent=i.width>1?1:i.width),i&&i.bottom&&(this._bannerBottom=i.bottom<0?0:i.bottom,this._bannerBottom=i.bottom>cc.winSize.height?cc.winSize.height:i.bottom),console.log("\u663e\u793aBanner\u5e7f\u544a");var o=bl.createBannerAd({left:0,width:300,top:0});if(o){o.onError(function(e){l.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(e)),o&&o.destroy()});var n=this;o.onLoad(function(){o.show().then(function(){n._curBannerAd&&n._curBannerAd.destroy(),n._curBannerAd=o,l.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!")}).catch(function(e){l.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519",JSON.stringify(e)),o&&o.destroy()})}),o.onResize(function(e){o.style.width=l.utils.Tool_Bili.SysInfo.screenWidth*n._bannerSizePercent,o.style.left=.5*(l.utils.Tool_Bili.SysInfo.screenWidth-e.width),n._bannerBottom==cc.winSize.height?o.style.top=0:o.style.top=l.utils.Tool_Bili.SysInfo.screenHeight-e.height-n._bannerBottom})}else l.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!")},t.prototype.ShowInterstitial=function(){l.utils.showLog("\u54d4\u54e9\u5e73\u53f0\u6682\u65f6\u65e0\u63d2\u5c4f\u5e7f\u544a")},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsBili&&this._bannerAd&&this._bannerAd.hide()},t.prototype.ShowVideo=function(e){if(c.default.IsBili){this._videoCallback=e;var t=this;this.showRewardedVideoAd({onSuccess:function(){l.utils.showLog("bili\u89c6\u9891\u5c55\u793a\u6210\u529f\uff01")},onFail:function(){l.utils.showLog("bili\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff01"),l.utils.Tool_Bili.share(function(e){e?(t._videoCallback&&t._videoCallback(!0,""),t._videoCallback=null):(t._videoCallback&&t._videoCallback(!1,"\u5206\u4eab\u6210\u529f\u624d\u53ef\u4ee5\u83b7\u53d6\u5956\u52b1\u54e6!"),t._videoCallback=null)})},onClose:function(e){e.isEnded?(l.utils.showLog("bili\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u5b8c\u6bd5\uff0c\u53d1\u9001\u5956\u52b1"),t._videoCallback&&t._videoCallback(!0,"")):(t._videoCallback&&t._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),t._videoCallback=null)}})}},t.prototype.showRewardedVideoAd=function(e){var t=e.onSuccess,i=e.onFail,o=e.onClose,n=this.bl.createRewardedVideoAd();function s(){n.offLoad(s),n.show().catch(function(e){return"function"==typeof i&&i(e),Promise.reject(e)}).then(function(e){"function"==typeof t&&t(e)})}function a(e){"function"==typeof i&&i(e),n.offLoad(s),n.offClose(r),n.offError(a),n.destroy()}function r(e){"function"==typeof o&&o(e),n.offLoad(s),n.offClose(r),n.offError(a),n.destroy()}return n.offLoad(s),n.onLoad(s),n.offError(a),n.onError(a),n.offClose(r),n.onClose(r),n.load(),n},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentBroser:[function(e,t,i){"use strict";cc._RF.push(t,"a4909rppFFL/JkiPVVbCFkk","AdAgentBroser");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=e("./AdAgent"),a=e("./YZ_NativeBanner"),r=e("./YZ_NativeInsert"),c=e("./YZ_Constant"),l=e("./CommonConfig"),u=e("./Utils"),h=e("./YZ_NativeAdObject"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nativeBannerInfo=null,t._curLocation=c.BannerLocation.None,t.signleNativeAd=null,t._curNativeItem=null,t}return n(t,e),t.prototype.getNativeBannerInfo=function(){return new l.NativeBannerInfo},t.prototype.ShowBanner=function(e){if(void 0===e&&(e=null),this._curLocation!=e&&this.HideBanner(e),this._curLocation=e,-1==this.getNativeBannerInfo().is_show_banner)return u.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!"),void this.HideBanner(e);this._nativeBannerNode||(this._nativeBannerNode=cc.instantiate(u.utils.config.otherconfig.nativeBanner),cc.director.getScene().addChild(this._nativeBannerNode,1e3)),this._nativeBannerNode.active=!0;var t=this._nativeBannerNode.getComponent(a.default);if(t){var i={title:"\u4eca\u65e5\u5934\u6761",desc:"\u770b\u65b0\u95fb\u7528\u4eca\u65e5\u5934\u6761",imgUrlList:[u.utils.cur_tool.img_url],icon:u.utils.cur_tool.img_url};t.init(null,i,this.getNativeBannerInfo())}},t.prototype.ShowInterstitial=function(){this._nativeInsertNode||(this._nativeInsertNode=cc.instantiate(u.utils.config.otherconfig.nativeInsert),cc.director.getScene().addChild(this._nativeInsertNode,9999)),this._nativeInsertNode.active=!0;var e=this._nativeInsertNode.getComponent(r.default);if(e){var t={title:"\u4eca\u65e5\u5934\u6761",desc:"\u770b\u65b0\u95fb\u7528\u4eca\u65e5\u5934\u6761",imgUrlList:[u.utils.cur_tool.img_url],icon:u.utils.cur_tool.img_url};e.init(null,t)}},t.prototype.showStatementAds=function(){u.utils.adManager.ShowInterstitial()},t.prototype.HideBanner=function(e){void 0===e&&(e=null),this._nativeBannerNode&&(this._nativeBannerNode.active=!1),u.utils.hideRecommendGamesBanner()},t.prototype.ShowVideo=function(e){e(!0,"\u89c6\u9891\u64ad\u653e\u6210\u529f!")},t.prototype.showBeforGameOverAd=function(e,t,i,o,n){switch(cc.log("\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff1a  #Level= ",e," #LevelStatys=",t," #rewardValue = ",i),u.utils.currentLevel=e,u.utils.isSuccess=t==c.LevelStatus.GameWin,u.utils.rewardCallFunc=n,u.utils.rewardCloseFunc=o,u.utils.rewardValue=i,u.utils.adManager.checkShowBeforGameOverAd(e,t==c.LevelStatus.GameWin)){case c.BeForGameOverAdId.SharePanel:u.utils.recordEnd(),u.utils.showShareRecordPanel();break;case c.BeForGameOverAdId.GoldBox:u.utils.adManager.showRewardBoxPanel();break;case c.BeForGameOverAdId.Turntable:u.utils.adManager.showrewardTurnTablePanel();break;default:o&&o()}},t.prototype.ShowSingleNativeAd=function(e){if(u.utils.config.otherconfig.singleNativeAd){this.signleNativeAd&&cc.isValid(this.signleNativeAd)&&this.signleNativeAd.destroy(),this.signleNativeAd=cc.instantiate(u.utils.config.otherconfig.singleNativeAd);var t=this.signleNativeAd.getComponent("YZ_NativeItem");t.showType=2,t.params=e,this._curNativeItem=t,e&&e.parent&&e.parent.addChild(this.signleNativeAd,cc.macro.MAX_ZINDEX);var i=new h.default,o={imgUrlList:[u.utils.cur_tool.img_url],icon:u.utils.cur_tool.img_url,title:"\u7231\u5947\u827a\u89c6\u9891",desc:"\u4e0b\u8f7d\u7231\u5947\u827a\uff0c\u5373\u9001VIP\uff01"};return i.data=o,t._nativeAd=i,this._curNativeItem.init(i),u.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01"),this.signleNativeAd}return u.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null},t}(s.default);i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./CommonConfig":"CommonConfig","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_NativeAdObject":"YZ_NativeAdObject","./YZ_NativeBanner":"YZ_NativeBanner","./YZ_NativeInsert":"YZ_NativeInsert"}],AdAgentCocosplay:[function(e,t,i){"use strict";cc._RF.push(t,"8d81d8tTk9JCplPi0EAy2/+","AdAgentCocosplay");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./Utils"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banner=null,t.interstitialAd={},t.videoAd={},t.bannerLoaded=!1,t.interstitialAdLoaded=!1,t.videoAdLoaded=!1,t._videoCallback=null,t._isVideoLoaded=!1,t._videoAd=null,t._bannerAd=null,t.uc=window.uc,t._insertShowCount=0,t._insertLastShowTime=0,t}return n(t,e),t.prototype.Init=function(){var e=this;r.utils.registerServerInitEvent(function(){e.initBanner(),e.createInsertAd(),e.createVideoAd()},this)},t.prototype.initBanner=function(){var e=this;e.bannerLoaded=!1,e.banner=AdSDK.createBannerAd("1",r.utils.config.cocosConfig.bannerId,2),e.banner.onLoad(function(){e.bannerLoaded=!0,console.log("banner \u521b\u5efabanner\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a")}),e.banner.onError(function(t){e.destroyBannerAd(),console.log("banner \u521b\u5efabanner\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ",t.errorCode)}),console.log("banner \u6e38\u620f\u521b\u5efabanner\u5e7f\u544a")},t.prototype.ShowBanner=function(){this.bannerLoaded?(this.banner.show().then(function(){console.log("banner \u5e7f\u544a\u663e\u793a\u6210\u529f")},function(){console.log("banner \u5e7f\u544a\u663e\u793a\u5931\u8d25")}),console.log("banner \u5c55\u793abanner\u5e7f\u544a")):console.log("banner \u672a\u52a0\u8f7d\u6210\u529f")},t.prototype.HideBanner=function(){this.banner.hide(),console.log("banner \u9690\u85cfbanner\u5e7f\u544a")},t.prototype.destroyBannerAd=function(){this.bannerLoaded=!1,this.banner.destroy(),this.banner=null,console.log("banner \u9500\u6bc1banner\u5e7f\u544a")},Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return r.utils._tool_Cocosplay.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.checkInsertAdShow=function(){this.ServerConfig.intersititial_max_show_count;var e=this.ServerConfig.intersititial_interval_time,t=((new Date).getTime()-this._insertLastShowTime)/1e3;return r.utils.showLog("cocos\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a0,\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+e+"\u79d2\uff01"),r.utils.showLog("cocos\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u663e\u793a\u6b21\u6570\uff1a"+this._insertShowCount+"\u6b21\uff0c\u95f4\u9694\u65f6\u95f4\uff1a"+t+"\u79d2\uff01"),!(e>0&&t<e&&(r.utils.showLog("cocos\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+e+"\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),1))},t.prototype.ShowInterstitial=function(){var e=this;e.checkInsertAdShow()&&e.interstitialAdLoaded&&(e.interstitialAd.show().then(function(){e._insertLastShowTime=(new Date).getTime(),e.destroyInterstitialAd(),e.createInsertAd()},function(){console.log("interstitialAd \u5e7f\u544a\u663e\u793a\u5931\u8d25")}),console.log("interstitialAd \u6e38\u620f\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a"))},t.prototype.createInsertAd=function(){var e=this;r.utils.showLog("\u63d2\u5c4fid\u4e3a\uff1a"+r.utils.config.cocosConfig.insertId),this.interstitialAd=AdSDK.createInterstitialAd("1",r.utils.config.cocosConfig.insertId,2),this.interstitialAd.onLoad(function(){e.interstitialAdLoaded=!0,console.log("interstitialAd \u521b\u5efa\u63d2\u5c4f\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a")}),e.interstitialAd.onError(function(t){console.log("interstitialAd \u521b\u5efa\u63d2\u5c4f\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ",t.errorCode),e.destroyInterstitialAd()})},t.prototype.hideInterstitialAd=function(){this.interstitialAd.hide(),console.log("interstitialAd \u6e38\u620f\u9690\u85cf\u63d2\u5c4f\u5e7f\u544a")},t.prototype.destroyInterstitialAd=function(){this.interstitialAdLoaded=!1,this.interstitialAd.destroy(),console.log("interstitialAd \u6e38\u620f\u9500\u6bc1\u63d2\u5c4f\u5e7f\u544a")},t.prototype.ShowVideo=function(e){var t=this;t._videoCallback=e,t.videoAdLoaded?t.videoAd.show().then(function(){t._videoCallback&&(t._videoCallback(!0,"\u89c6\u9891\u64ad\u653e\u6210\u529f"),t._videoCallback=null)},function(){t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a"),t._videoCallback=null)}):(t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a"),t._videoCallback=null),t.createVideoAd())},t.prototype.createVideoAd=function(){var e=this;console.log("\u89c6\u9891id\u4e3a\uff1a"+r.utils.config.cocosConfig.videoId),e.videoAd=AdSDK.createRewardedVideoAd("1",r.utils.config.cocosConfig.videoId,2),e.videoAd.onLoad(function(){e.videoAdLoaded=!0,console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a")}),e.videoAd.onError(function(t){console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ",t.errorCode),e.destroyRewardedVideoAd(),e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a"),e._videoCallback=null)}),e.videoAd.onClose(function(){e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null),e.destroyRewardedVideoAd(),e.createVideoAd()})},t.prototype.destroyRewardedVideoAd=function(){this.videoAdLoaded=!1,this.videoAd.destroy(),console.log("rewardedvideoAd \u6e38\u620f\u9500\u6bc1\u89c6\u9891\u5e7f\u544a")},s([l],t)}(a.default));i.default=u,cc._RF.pop()},{"./AdAgent":"AdAgent","./Utils":"Utils"}],AdAgentDouyin:[function(e,t,i){"use strict";cc._RF.push(t,"f7a85nWSd5Kc429BwYsMfw+","AdAgentDouyin");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bannerAd=null,t._videoAd=null,t._sysData=null,t._bannerAds=[],t._isBannerShow=!1,t.tt=window.tt,t._bannerBottom=0,t._lastShowInterstitialTime=0,t.interstitialAd=null,t._videoCallback=null,t._isVideoLoaded=!1,t._isVideoShow=!1,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_Douyin.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.Init=function(){c.default.IsDouyin&&(this._sysData=l.utils.Tool_Douyin._sysInfo)},t.prototype.ShowBanner=function(e,t){var i=this;if(void 0===t&&(t=null),c.default.IsDouyin){if(l.utils.isShowRecommondGamesBanner()&&l.utils.Tool_Douyin.isShowMoreGamesModal())return l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5c55\u793a\u81ea\u5b9a\u4e49banner");if(l.utils.Tool_Douyin.isNewsArticleLite)return void l.utils.showLog("\u5934\u6761\u6781\u901f\u7248\u4e0d\u663e\u793aBanner\u5e7f\u544a");if(this._isConfigValid()){var o=t,n=1;o&&o.width&&(n=o.width<0?.1:o.width,n=o.width>1?1:n),o&&o.bottom&&(this._bannerBottom=o.bottom/this._sysData.pixelRatio,this._bannerBottom=this._bannerBottom<0?0:this._bannerBottom,this._bannerBottom=this._bannerBottom>this._sysData.screenHeight?this._sysData.screenHeight:this._bannerBottom);var s=.5*(this._sysData.screenWidth-60),a=this._sysData.screenHeight-(33.75-this._bannerBottom),r=l.utils.config.douyinconfig.bannerId;l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: bannerId="+r+" #targetBannerAdWidth=",60);try{var u=this.tt.createBannerAd({adUnitId:r,style:{width:60,left:s,top:a}});if(u){var h=this;u.onLoad(function(){u.show().then(function(){l.utils.showLog("\u5e7f\u544a\u663e\u793a\u6210\u529f");for(var e=0;e<h._bannerAds.length;e++)h._bannerAds[e]!=u&&null!=h._bannerAds[e]&&h._bannerAds[e].destroy();h._bannerAds.length=0,h._bannerAds.push(u)}).catch(function(e){l.utils.showLog("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898  "+(e.errCode,e.errMsg))})}),u.onError(function(e){e&&l.utils.showLog("Banner \u5e7f\u544a\u51fa\u9519: errCode:  "+e.errCode+" errMsg:"+e.errMsg)}),u.onResize(function(e){u.style.top=i._sysData.screenHeight-e.height-i._bannerBottom,e.width>0?u.style.left=.5*(i._sysData.screenWidth-e.width):u.style.left=(i._sysData.screenWidth-60)/2}),this._bannerAds.push(u)}}catch(d){}}else l.utils.showLog("\u6296\u97f3\u5c0f\u6e38\u620f\u914d\u7f6e\u6587\u4ef6\u51fa\u9519!")}},t.prototype.HideBanner=function(){if(c.default.IsDouyin){for(var e=0;e<this._bannerAds.length;e++)null!=this._bannerAds[e]&&this._bannerAds[e].destroy();this._bannerAds.length=0}},t.prototype.checkCanShowInterstitial=function(){return!!this.tt.createInterstitialAd},t.prototype.ShowInterstitial=function(){if(c.default.IsDouyin)if(this.checkCanShowInterstitial()){var e=(new Date).getTime();if((e-this._lastShowInterstitialTime)/1e3<30)return void l.utils.showLog("\u8ddd\u79bb\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db330\u79d2");this._lastShowInterstitialTime=e,l.utils.delayCall(this._createMiniGameInsertAd.bind(this),this.ServerConfig.intersititia_delay_show_time||0)}else l.utils.showLog("\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\uff01")},t.prototype._createMiniGameInsertAd=function(){var e=this;try{if(!l.utils.config.douyinconfig.insertId)return void l.utils.showLog("\u63d2\u5c4fID\u914d\u7f6e\u6709\u8bef");this.interstitialAd&&(this.interstitialAd.destroy(),this.interstitialAd=null),this.interstitialAd=this.tt.createInterstitialAd({adUnitId:l.utils.config.douyinconfig.insertId}),this.interstitialAd.load().then(function(){e.interstitialAd.show()}).catch(function(e){switch(l.utils.showLog(e),l.utils.showLog("err.errCode:"+e.errCode),e.errCode){case 2001:l.utils.showLog("\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e00\u5b9a\u65f6\u95f4\u5185\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2002:l.utils.showLog("\u8ddd\u79bb\u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db3\uff0c\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2003:l.utils.showLog("\u5f53\u524d\u6b63\u5728\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6216\u8005\u63d2\u5c4f\u5e7f\u544a\uff0c\u4e0d\u5141\u8bb8\u518d\u6b21\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2004:l.utils.showLog("\u8be5\u9879\u9519\u8bef\u4e0d\u662f\u5f00\u53d1\u8005\u7684\u5f02\u5e38\u60c5\u51b5\uff0c\u6216\u56e0\u5c0f\u7a0b\u5e8f\u9875\u9762\u5207\u6362\u5bfc\u81f4\u5e7f\u544a\u6e32\u67d3\u5931\u8d25");break;case 2005:l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5b9e\u4f8b\u4e0d\u5141\u8bb8\u8de8\u9875\u9762\u8c03\u7528");break;default:l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25")}})}catch(t){l.utils.showLog(t)}},t.prototype.ShowVideo=function(e){var t=this;if(c.default.IsDouyin){if(this._videoCallback=e,this._isVideoShow=!0,l.utils.Tool_Douyin.ServerConfig){var i=l.utils.config.douyinconfig.videoId.trim();l.utils.showLog("video\u5e7f\u544aID:"+i),this._videoAd||(this._videoAd=tt.createRewardedVideoAd({adUnitId:i}),this._videoAd?(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.onError(function(e){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: "+(e.code,e.msg)),t._isVideoLoaded=!1,t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),t._videoCallback=null)}),this._videoAd.onClose(function(e){t._isVideoShow=!1,t._isVideoLoaded=!1,e.isEnded?(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),t._videoCallback&&(t._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),t._videoCallback=null))})):(l.utils.showLog("videoAd \u5bf9\u8c61\u521b\u5efa\u5931\u8d25\uff0c\u64ad\u653e\u5931\u8d25!"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null))),this._videoAd.load().then(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),t._videoAd.show().then(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f!"),t._lastShowInterstitialTime=(new Date).getTime()}).catch(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25!"),t._videoCallback&&(t._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!"),t._videoCallback=null)})}).catch(function(){l.utils.showLog("\u518d\u6b21\u64ad\u653e\u89c6\u9891\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25!"),t._videoCallback&&(t._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!"),t._videoCallback=null)})}}else l.utils.showLog("\u83b7\u53d6\u914d\u7f6e\u5931\u8d25\uff0c\u89c6\u9891\u65e0\u6cd5\u64ad\u653e!"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null)},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd)if(l.utils.Tool_Douyin.ServerConfig){var t=l.utils.config.douyinconfig.videoId.trim();l.utils.showLog("video\u5e7f\u544aID:"+t),this._videoAd=tt.createRewardedVideoAd({adUnitId:t}),this._videoAd?(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f",e._isVideoShow),e._isVideoLoaded=!0,e._isVideoShow&&(e._videoAd.show().then(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f!")}).catch(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25!"),e._videoCallback&&(e._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!"),e._videoCallback=null)}),e._isVideoShow=!1)}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: "+(t.code,t.msg),t),e._isVideoLoaded=!1,e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)}),this._videoAd.onClose(function(t){e._isVideoShow=!1,e._isVideoLoaded=!1,t.isEnded?(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null)),e._videoAd.load().then(function(){l.utils.showLog("\u5173\u95ed\u89c6\u9891\u540e\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u8d44\u6e90\u6210\u529f\uff01"),e._isVideoShow=!1,e._isVideoLoaded=!0})})):(l.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null))}else l.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null)},t.prototype._isConfigValid=function(){return!!c.default.IsDouyin&&l.utils.config.douyinconfig&&l.utils.config.douyinconfig.appID&&l.utils.config.douyinconfig.bannerId&&l.utils.config.douyinconfig.videoId},t.prototype.ShowCloseBtnBanner=function(e,t){void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");var i=0,o=t.closeBtn;cc.winSize.height,o.opacity=0,this.ServerConfig&&(this.ServerConfig.show_close_btn_delay&&(i=this.ServerConfig.show_close_btn_delay),setTimeout(function(){o.runAction(cc.fadeIn(.3))},1e3*i))},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentFaceBook:[function(e,t,i){"use strict";cc._RF.push(t,"a545elsu55MprEh4ZOD19/a","AdAgentFaceBook");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./FaceBookSdk/FBAdManager"),h=cc._decorator,d=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._curBannerAd=null,t._videoAd=null,t._insertAd=null,t._oldAd=null,t._appBox=null,t._videoCallback=null,t._isVideoLoaded=!1,t._isVideoShow=!1,t.qq=window.qq,t._bannerShow=!1,t._bannerSizePercent=.5,t._bannerBottom=0,t._oldBannerLocation=r.BannerLocation.None,t._curBannerHeight=240,t._moveBtn=null,t._cur_level=null,t._showBannerTimerId=0,t._isShow=!1,t}return n(t,e),t.prototype.Init=function(){var e=this;c.default.IsFaceBook&&l.utils.registerServerInitEvent(function(){e._initAd()},this)},Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_Facebook.ServerConfig},enumerable:!1,configurable:!0}),t.prototype._initAd=function(){l.utils.showLog("facebook init ad>>>>>>>>"),u.default.addInterstitial(l.utils.config.faceBookConfig.insertId,3),u.default.addRewardedVideo(l.utils.config.faceBookConfig.videoId,3),u.default.addBanner(l.utils.config.faceBookConfig.bannerId),setTimeout(function(){u.default.loadAll()},3e3)},t.prototype._createBanner=function(e,t){void 0===t&&(t=null),c.default.IsFaceBook&&u.default.showBannerAsync().then(function(){l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: \u6210\u529f")}).catch(function(e){l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: "+e.message)})},t.prototype._showBannerTimer=function(e,t){var i=e,o=t;l.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:"+i+"; \u95f4\u9694\u65f6\u95f4:"+l.utils.Tool_Facebook.ServerConfig.refresh_ad_time+":\u4f18\u5148\u7ea7\uff1a"+this.ServerConfig.banner_first_ad),this._createBanner(i,o)},t.prototype.ShowBanner=function(e,t){if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsFaceBook)if(l.utils.ServerConfig){var i=e,o=t;this._moveBtn=t?t.moveBtn:null,this._cur_level=t?t.cur_level:null,this._showBannerTimer(i,o)}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsFaceBook&&(l.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761"),this._bannerShow=!1,clearInterval(this._showBannerTimerId),u.default.hideBannerAsync().then(function(){l.utils.showLog("\u9690\u85cfBanner\u5e7f\u544a: \u6210\u529f")}).catch(function(e){l.utils.showLog("\u9690\u85cfBanner\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: "+e.message)}))},t.prototype.ShowVideo=function(e){var t=this;c.default.IsFaceBook&&(this._videoCallback=e,u.default.isRewardedVideoReady()?u.default.showRewardedVideo().then(function(){l.utils.showLog("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a: \u6210\u529f"),t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null)}).catch(function(e){l.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff1a"+e.message),t._videoCallback&&(t._videoCallback(!1,"Ad playback failed!"),t._videoCallback=null)}):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\uff01"),this._videoCallback&&(this._videoCallback(!1,"Video ad not loaded successfully\uff01"),this._videoCallback=null)))},t.prototype.ShowInterstitial=function(e){void 0===e&&(e=null),c.default.IsFaceBook&&(this.ServerConfig?l.utils.delayCall(this._createInsterstitial.bind(this),this.ServerConfig.intersititia_delay_show_time||0):this._createInsterstitial.bind(this))},t.prototype._createInsterstitial=function(){u.default.isInterstitialAdReady()?u.default.showInterstitialAd().then(function(){l.utils.showLog("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a: \u6210\u529f")}).catch(function(e){l.utils.showLog("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: "+e.message)}):l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u6ca1\u6709\u52a0\u8f7d\u6210\u529f\uff01")},s([d],t)}(a.default));i.default=p,cc._RF.pop()},{"./AdAgent":"AdAgent","./FaceBookSdk/FBAdManager":"FBAdManager","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentGoogleWeb:[function(e,t,i){"use strict";cc._RF.push(t,"01821QDZ8NO/JWvZyloYKY9","AdAgentGoogleWeb");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.googleAd=null,t._videoIsPlay=!1,t}return n(t,e),t.prototype.Init=function(){console.log("[init googleWebAd]"),this.googleAd=window.googleApi},t.prototype.ShowBanner=function(e){void 0===e&&(e=null),console.log("[YouzhiAd ShowBanner] :"+e),this.googleAd&&this.googleAd.showBanner()},t.prototype.ShowInterstitial=function(){console.log("[YouzhiAd ShowInterstitial]"),this.googleAd&&this.googleAd.ShowInterstitial()},t.prototype.HideBanner=function(e){void 0===e&&(e=null),console.log("[YouzhiAd HideBanner]"),this.googleAd&&this.googleAd.hideBanner()},t.prototype.ShowVideo=function(e){var t=this;console.log("[YouzhiAd ShowVideo]"),this._videoIsPlay?console.warn("[YouzhiAd Video Ad is Loading]"):(this._videoIsPlay=!0,this.googleAd&&this.googleAd.showVideo(function(){t._videoIsPlay=!1,e(!0,"\u89c6\u9891\u64ad\u653e\u6210\u529f!")},function(i){t._videoIsPlay=!1,e(!1,i||"\u89c6\u9891\u64ad\u653e\u5931\u8d25!")}))},t}(e("./AdAgent").default);i.default=s,cc._RF.pop()},{"./AdAgent":"AdAgent"}],AdAgentHago:[function(e,t,i){"use strict";cc._RF.push(t,"737dcSdaTZIJYemPKqAzajR","AdAgentHago");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._bannerAd=null,t._videoAd=null,t._videoCallback=null,t._isVideoShow=!1,t._isVideoLoaded=!1,t.hg=window.hg,t.canShowVideo=!1,t}return n(t,e),t.prototype.Init=function(){c.default.IsHago&&(this.initVideoAd(),l.utils.showLog("hago \u5e73\u53f0\u5e7f\u544a\u521d\u59cb\u5316\u6210\u529f\uff01"))},t.prototype.ShowBanner=function(e,t){void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),l.utils.showLog("Hago\u5e73\u53f0\u6ca1\u6709banner\u5e7f\u544a\uff01")},t.prototype.showStatementAds=function(){var e,t={type:0,node:null};return l.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8"),this.ShowInterstitial(),e=l.utils.showCrossWidget6(),t.type=1,t.node=e,t},t.prototype.initVideoAd=function(){var e=this;this._videoAd=this.hg.createRewardedVideoAd({adUnitId:parseInt(l.utils.config.hagoConfig.videoId)}),this._videoAd.onClose=function(t){t.isEnded?(e._videoCallback(!0),e._videoCallback=null):e._videoCallback&&(e._videoCallback(!1,i18n.t("ad.video_not_played_complete")),e._videoCallback=null)},this._videoAd.onError=function(){e._videoCallback&&(e._videoCallback(!1,i18n.t("ad.video_load_fail")),e._videoCallback=null)}},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home)},t.prototype.ShowInterstitial=function(e){void 0===e&&(e=r.BannerLocation.Home),console.warn("Hago\u6ca1\u6709\u63d2\u5c4f")},t.prototype.ShowVideo=function(e){if(c.default.IsHago){if(this._videoCallback)return;this._videoCallback=e,this._videoAd||this.initVideoAd(),this._videoAd.show().then(function(){l.utils.showLog("video show success")})}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentHuaWei:[function(e,t,i){"use strict";cc._RF.push(t,"290c4sJ+4FFVqbdVokQ98+D","AdAgentHuaWei");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./YZ_NativeAdObject"),h=e("./NativeTryGamesWidget"),d=e("./CompatibleTool"),p=cc._decorator,_=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.huawei=window.qg,t._bannerAd=null,t._insertAd=null,t._videoAd=null,t._nativeBannerAd=[],t._nativeInsertAd=[],t._nativeSingleAd=[],t._nativeAd=null,t._isAdInit=!1,t._isBannerShow=!1,t._isInsertShow=!1,t._curPosIdIndexNativeBanner=0,t._curPosIdIndexNativeInser=0,t._curPosIdIndexSingleNative=0,t._nativeData=null,t._nativeInsertData=null,t._nativeBannerNode=null,t._nativeInsertNode=null,t._videoCallback=null,t._videoLoaded=null,t._miniBannerHeight=0,t._showBannerCallBack=null,t._nativeAdObject=null,t._insertShowCount=0,t._insertLastShowTime=0,t._curNativeItem=null,t._isNativeBannerShow=!1,t.lastLastShowVideoTime=0,t._bannerHideCount=0,t.canShowNativeBanner=!0,t._nativeBannerInfo=null,t.bannerType=1,t.banner_style_mod=[1,2],t.intersititialType=1,t.intersititial_style_mod=[1,2,3],t.bannerTimes=0,t.intersititialTimes=0,t._nativeIsClose=!1,t._showBannerTimerId=0,t._delayShowBannerId=0,t._curLocation=r.BannerLocation.None,t._startBannerTimerTask=0,t.tryGameAdArr=[],t._nativeTryGameNode=null,t._isDataInit=!1,t._nativeSplashNode=null,t.insertTimeID=0,t._nativeInsertAdShowCount=0,t.miniInserAdIsCreate=!1,t._isInsertLoad=!1,t._canInsertShow=!1,t._curNativeBannerInfo={},t._rewardInsertNode=null,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_Huawei&&l.utils.Tool_Huawei.ServerConfig?l.utils.Tool_Huawei.ServerConfig:{}},enumerable:!1,configurable:!0}),t.prototype.getNativeBannerInfo=function(){return this._nativeBannerInfo&&this._nativeBannerInfo.location==this._curLocation?this._nativeBannerInfo:l.utils.config.huaweiConfig.getNativeBannerInfo(this._curLocation)},t.prototype.Init=function(){var e=this;c.default.IsHuaWei&&(cc.director.on("IsDataInit",function(){e._isDataInit=!0,cc.director.off("IsDataInit")},this),l.utils.registerServerInitEvent(function(){l.utils.showLog("HuaWei \u5e7f\u544a\u4ee3\u7406\u7ec4\u4ef6\u521d\u59cb\u5316!"),e._initVideoAd()},this))},t.prototype._initLocalDate=function(){this.ServerConfig.banner_style_mod||(this.ServerConfig.banner_style_mod=[1,2]),this.ServerConfig.intersititial_style_mod||(this.ServerConfig.intersititial_style_mod=[1,2,3]),this.ServerConfig.icon_jump_native||(this.ServerConfig.icon_jump_native=1),this.ServerConfig.banner_style_level||(this.ServerConfig.banner_style_level=2),this.ServerConfig.intersititial_style_level||(this.ServerConfig.intersititial_style_level=2),this.ServerConfig.intersititia_delay_show_time=0,console.log("\u63d2\u5c4f\u5ef6\u65f6\u5c55\u793a\uff0c\u5ef6\u65f6\u65f6\u95f4\uff1a"+this.ServerConfig.intersititia_delay_show_time),console.log("banner && inter",this.ServerConfig.banner_style_mod,this.ServerConfig.intersititial_style_mod)},t.prototype.ShowBanner=function(e,t,i){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=!1),c.default.IsHuaWei){if(!this.ServerConfig)return void l.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");var n=this._curLocation;this._curLocation=e,n!=e&&this.HideBanner(e);var s=((new Date).getTime()-this._startBannerTimerTask)/1e3,a=this.ServerConfig.refresh_ad_time;if(t&&t.isRefresh?i=!0:a&&a>0&&s>a&&(i=!0),-1==this.getNativeBannerInfo().is_show_banner)return l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!"),void this.HideBanner(e);if(!i&&this.ServerConfig.nbclr&&"true"==this.ServerConfig.nbclr&&this._curNativeBannerInfo.nativeBannerAd)return l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e "),this._showNativeBanner(this._curNativeBannerInfo.nativeBannerAd,this._curNativeBannerInfo.data),l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+(a-s)),clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),void(this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*(a-s)));if(this.canShowNativeBanner=!0,this._nativeIsClose=!1,clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),l.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668"),this.ServerConfig)if(l.utils.showLog("banner \u4f18\u5148\u5c55\u793a >>>>"+this.ServerConfig.banner_first_ad),a&&a>0&&(l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+a),this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*a)),this.ServerConfig.banner_style_level)this.ServerConfig.banner_style_mod?1==this.ServerConfig.banner_style_mod[this.bannerType-1]?(l.utils.showLog("banner_style_mod \u4e3a 1\uff0c\u5c55\u793a\u539f\u751fbanner"),this._createNativeBannerAd(this._showNativeBanner)):2==this.ServerConfig.banner_style_mod[this.bannerType-1]?(l.utils.showLog("banner_style_mod \u4e3a 2\uff0c\u5c55\u793a\u9ed8\u8ba4banner"),this._createMiniGameBannerAd(e)):l.utils.showLog("banner_style_mod \u914d\u7f6e\u51fa\u9519\uff01"):(l.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e banner_style_mod \u5b57\u6bb5\uff01\uff01"),this.ServerConfig.banner_style_level=0,this.ShowBanner(e)),this.bannerTimes++,this.bannerTimes%this.ServerConfig.banner_style_level==0&&(this.bannerType++,this.bannerType=this.bannerType>2?1:this.bannerType);else if(this.ServerConfig.banner_first_ad)if(this.ServerConfig.banner_first_ad.indexOf("native")>-1)if(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!"),"native"==this.ServerConfig.intersititial_first_ad){var r=0;this.ServerConfig.native_banner_delay_time&&(r=this.ServerConfig.native_banner_delay_time),l.utils.showLog("\u56e0\u4e3a\u63d2\u5c4f\u4e5f\u662f\u4f18\u5148\u5c55\u793a\u539f\u751f\uff0c\u6240\u4ee5banner\u5ef6\u8fdf\u663e\u793a"+r+"\u79d2"),this._delayShowBannerId=setTimeout(function(){o._createNativeBannerAd(o._showNativeBanner)},1e3*r)}else this._createNativeBannerAd(this._showNativeBanner);else l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!"),this._createMiniGameBannerAd(e);else this._createNativeBannerAd(this._showNativeBanner);else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.HideBanner=function(e){void 0===e&&(e=null),c.default.IsHuaWei&&(clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._bannerAd&&(l.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner"),this._bannerAd.hide()),this._nativeBannerNode&&(l.utils.showLog("\u9690\u85cf\u539f\u751fBanner"),this._nativeBannerNode.active=!1))},t.prototype.showNativeTryGameWidget=function(){var e=this;if(c.default.IsHuaWei){if(l.utils.showLog("\u663e\u793a\u539f\u751ficon nativeNeedChange=",l.utils.nativeNeedChange,"  utils.tryGameDate",l.utils.tryGameDate,"utils.config.huaweiConfig.nativeTryGameIds",l.utils.config.huaweiConfig.nativeTryGameIds),(l.utils.nativeNeedChange||!l.utils.tryGameDate)&&l.utils.config.huaweiConfig.nativeTryGameIds){var t=l.utils.config.huaweiConfig.nativeTryGameIds.length;l.utils.showLog("len:"+t);for(var i=function(t){if(o.tryGameAdArr[t])o.tryGameAdArr[t].load();else{var i=l.utils.config.huaweiConfig.nativeTryGameIds[t];l.utils.showLog("\u521b\u5efa\u539f\u751ficon\u3002 posId:"+i);var n=qg.createNativeAd({adUnitId:i,success:function(){console.log("loadNativeAd loadNativeAd : success")},fail:function(e,t){console.log("loadNativeAd loadNativeAd fail: "+e+","+t)},complete:function(){console.log("loadNativeAd loadNativeAd : complete")}});n&&(n.onLoad(function(t){if(l.utils.nativeNeedChange=!1,console.log("\u539f\u751ficon\u52a0\u8f7d\u6210\u529f"),t&&t.adList&&t.adList.length>0){var i=(t=JSON.parse(JSON.stringify(t))).adList[0].adId;l.utils.showLog("adId:"+i);var o=!0;l.utils.tryGameDate.forEach(function(e){i==e.date[0].adId&&(o=!1)}),o&&(l.utils.tryGameDate.push({tryGameAd:n,date:t.adList}),l.utils._nativeTryGameNode?l.utils._nativeTryGameNode.getComponent(h.default).init():e.createNativeTryGameWidget()),l.utils.showLog("\u539f\u751ficon\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff0c\u662f\u5426\u53ef\u4ee5\u6dfb\u52a0\u5e7f\u544a"+o),l.utils.showLog(JSON.stringify(t))}}),n.onError(function(t){l.utils.showLog("\u539f\u751ficon\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(t)),l.utils.nativeNeedChange=!0,e.ServerConfig.intersititial_style_level&&3==e.ServerConfig.intersititial_style_mod[e.intersititialType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01"),l.utils.delayCall(e.nativeInserAdDelayCall.bind(e),e.ServerConfig.intersititia_delay_show_time||0)),n.destroy()}),n.load(),o.tryGameAdArr[t]=n)}},o=this,n=0;n<t;n++)i(n)}this.createNativeTryGameWidget()}},t.prototype.createNativeTryGameWidget=function(e){void 0===e&&(e=null),this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy();var t=cc.instantiate(l.utils.config.otherconfig.nativeTryGameWidget);t&&(this._nativeTryGameNode=t,this._nativeTryGameNode.zIndex=9999);var i=(t=this._nativeTryGameNode).getComponent(cc.Widget);e?(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(i.isAlignTop=!0,i.isAlignBottom=!1,i.top=e.top):null!=e.bottom&&(i.isAlignTop=!1,i.isAlignBottom=!0,i.bottom=e.bottom),null!=e.left?(i.isAlignLeft=!0,i.isAlignRight=!1,i.left=e.left):null!=e.right&&(i.isAlignLeft=!1,i.isAlignRight=!0,i.right=e.right),null!=e.parent&&(t.parent=e.parent),i.updateAlignment()):(t.parent=cc.director.getScene(),l.utils.otherConfig&&l.utils.otherConfig.group&&(t.group=l.utils.otherConfig.group),i.enabled=!1,t.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2))),t.active=!0,this._nativeTryGameNode&&this._nativeTryGameNode.getComponent(h.default).init()},t.prototype.hideNativeTryGameWidget=function(){this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy()},t.prototype._canShowNativeSplashView=function(e){var t=this;if(!this._isDataInit){l.utils.showLog("\u5e7f\u544a\u6570\u636e\u672a\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u8bbe\u7f6e\u56de\u8c03>>>>>"),cc.director.off("IsDataInit");var i=e;return cc.director.on("IsDataInit",function(){l.utils.showLog("\u56de\u8c03\u6210\u529f,\u5c55\u793a\u5f00\u5c4f\u5e7f\u544a>>>>>"),t._isDataInit=!0,t.showNativeSplashView(i),cc.director.off("IsDataInit")},this),!1}return!0},t.prototype.showNativeSplashView=function(e){var t=this;if(void 0===e&&(e=null),this._canShowNativeSplashView(e)&&c.default.IsHuaWei)if(l.utils.showLog("\u663e\u793a\u5f00\u5c4f\u5e7f\u544a,\u5e7f\u544aID ",l.utils.config.huaweiConfig.nativeSplashId),l.utils.config.huaweiConfig.nativeSplashId){var i=l.utils.config.huaweiConfig.nativeSplashId;l.utils.showLog("\u521b\u5efa\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u3002 posId:"+i);var o=qg.createNativeAd({adUnitId:i,success:function(){console.log("loadNativeAd loadNativeAd : success")},fail:function(e,t){console.log("loadNativeAd loadNativeAd fail: "+e+","+t)},complete:function(){console.log("loadNativeAd loadNativeAd : complete")}});o?(o.onLoad(function(i){if(i&&i.adList&&i.adList.length>0){var n=(i=JSON.parse(JSON.stringify(i))).adList[0].adId;l.utils.showLog("adId:"+n),l.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f:"+JSON.stringify(i));var s=i.adList[0];t._creatNativeSplashView(o,s),e&&cc.director.on("SplashViewOff",function(){e(),cc.director.off("SplashViewOff")},t)}}),o.onError(function(t){e&&e(),l.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(t)),o.destroy()}),o.load()):(e&&e(),l.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25!"))}else e&&e(),l.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544aID\u914d\u7f6e\u6709\u8bef\uff01\uff01")},t.prototype._creatNativeSplashView=function(e,t){if(c.default.IsHuaWei&&t)if(!cc.isValid(this._nativeSplashNode)&&l.utils.config.otherconfig.nativeSplashView&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d"),this._nativeSplashNode=cc.instantiate(l.utils.config.otherconfig.nativeSplashView),this._nativeSplashNode.position=d.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._nativeSplashNode,999999)),this._nativeSplashNode){var i=this._nativeSplashNode.getComponent("YZ_NativeSplashView");i?i.init(e,t):(cc.director.emit("SplashViewOff"),l.utils.showLog("NativeSplashView\u7ec4\u4ef6\u4e0d\u5b58\u5728!"))}else cc.director.emit("SplashViewOff"),l.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01")},t.prototype.ShowInterstitial=function(e){var t=this;if(void 0===e&&(e=null),c.default.IsHuaWei)if(this.ServerConfig){if(!this.checkInsertAdShow())return;e&&e==r.BannerLocation.Pause?"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01"),l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this.nativeInserAdDelayCall()):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()):this.ServerConfig.intersititial_style_level?(this.ServerConfig.intersititial_style_mod?1==this.ServerConfig.intersititial_style_mod[this.intersititialType-1]?(l.utils.showLog("intersititial_style_mod \u4e3a 1\uff0c\u5c55\u793a\u539f\u751f\u63d2\u5c4f"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):2==this.ServerConfig.intersititial_style_mod[this.intersititialType-1]?(l.utils.showLog("intersititial_style_mod \u4e3a 2\uff0c\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f"),this._createMiniGameInsertAd()):3==this.ServerConfig.intersititial_style_mod[this.intersititialType-1]?(l.utils.showLog("intersititial_style_mod \u4e3a 2\uff0c\u5c55\u793a\u539f\u751ficon"),this.showNativeTryGameWidget()):l.utils.showLog("banner_style_mod \u914d\u7f6e\u51fa\u9519\uff01"):(l.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e banner_style_mod \u5b57\u6bb5\uff01\uff01"),this.ServerConfig.intersititial_style_level=0,this.ShowInterstitial(e)),setTimeout(function(){t.intersititialTimes++,t.intersititialTimes%t.ServerConfig.intersititial_style_level==0&&(t.intersititialType++,t.intersititialType=t.intersititialType>3?1:t.intersititialType)},3e3)):"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd())}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.nativeInserAdDelayCall=function(){this._createNativeInsertAd(this._showNativeInsert)},t.prototype.ShowVideo=function(e){if(c.default.IsHuaWei){if(this._videoCallback=e,((new Date).getTime()-this.lastLastShowVideoTime)/1e3<4)return l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e4\u79d2,\u76f4\u63a5\u8fd4\u56defalse"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));if(this.ServerConfig&&(this._videoAd||this._initVideoAd(),this._videoAd&&this._videoLoaded))return void this._videoAd.show();l.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoAd.load(),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null)}},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd)if(l.utils.config.huaweiConfig.videoId){l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u521d\u59cb\u5316\uff1aID="+l.utils.config.huaweiConfig.videoId),this._videoAd=this.huawei.createRewardedVideoAd({adUnitId:l.utils.config.huaweiConfig.videoId,success:function(){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success")},fail:function(e,t){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: "+e+","+t)},complete:function(){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete")}});var t=this;this._videoAd&&(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),t._videoLoaded=!0}),this._videoAd.onError(function(e){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: "+e.code+e.msg),t._videoLoaded=!1,t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),t._videoCallback=null)}),this._videoAd.onClose(function(i){setTimeout(function(){t._videoAd.load(),l.utils.showLog("\u5ef6\u8fdf3\u79d2\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a")},3e3),i.isEnded?(e.lastLastShowVideoTime=(new Date).getTime(),l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),t._videoCallback&&(t._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),t._videoCallback=null))}),this._videoAd.load())}else l.utils.showLog("\u89c6\u9891\u5e7f\u544aId\u914d\u7f6e\u9519\u8bef!")},t.prototype.checkInsertAdShow=function(){var e=this.ServerConfig.intersititial_max_show_count,t=this.ServerConfig.intersititial_interval_time,i=((new Date).getTime()-this._insertLastShowTime)/1e3;return l.utils.showLog("Huawei\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a"+e+",\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+t+"\u79d2\uff01"),!(t>0&&i<t&&(l.utils.showLog("Huawei\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+t+"\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),1))},t.prototype._initInsertAd=function(){var e=this;this._insertAd||(l.utils.config.huaweiConfig&&l.utils.config.huaweiConfig.insertId?(this._insertAd=qg.createInterstitialAd({adUnitId:l.utils.config.huaweiConfig.insertId}),l.utils.showLog("\u5c0f\u6e38\u620f\u63d2\u5c4fID\uff1a",l.utils.config.huaweiConfig.insertId),this._insertAd&&(l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01"),this._insertAd.onError(function(t){l.utils.showLog("\u534e\u4e3a \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:"+JSON.stringify(t)),e._canInsertShow&&(e.ServerConfig.intersititial_style_level?2==e.ServerConfig.intersititial_style_mod[e.intersititialType-1]?(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01"),l.utils.delayCall(e.nativeInserAdDelayCall.bind(e),e.ServerConfig.intersititia_delay_show_time||0)):1==e.ServerConfig.intersititial_style_mod[e.intersititialType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01"),e.showNativeTryGameWidget()):"default"==e.ServerConfig.intersititial_first_ad?(e._isInsertShow=!1,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),e._curPosIdIndexNativeInser=0,l.utils.delayCall(e.nativeInserAdDelayCall.bind(e),e.ServerConfig.intersititia_delay_show_time||0)):(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01"),e.showNativeTryGameWidget()),e._canInsertShow=!1),e._insertAd.destroy(),e._insertAd=null}.bind(this)),this._insertAd.onLoad(function(){if(l.utils.showLog("Huawei \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f! #_canInsertShow="+e._canInsertShow),e._isInsertLoad=!0,e._canInsertShow){e._insertLastShowTime=(new Date).getTime();var t=e.ServerConfig.intersititial_open_close_banner;t&&t>0&&(l.utils.showLog("Huawei \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==t?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),e.HideBanner()),e._insertAd.show()}}.bind(this)),this._insertAd.onClose(function(){l.utils.showLog("huawei \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed"),e._isInsertLoad=!1,e._canInsertShow=!1,e.ShowBanner()}.bind(this))),this._insertAd||(l.utils.showLog("Huawei\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"),this._canInsertShow&&(this.ServerConfig.intersititial_style_level?2==this.ServerConfig.intersititial_style_mod[this.intersititialType-1]?(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):1==this.ServerConfig.intersititial_style_mod[this.intersititialType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01"),this.showNativeTryGameWidget()):"default"==this.ServerConfig.intersititial_first_ad?(this._isInsertShow=!1,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this._curPosIdIndexNativeInser=0,l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01"),this.showNativeTryGameWidget()),this._canInsertShow=!1))):l.utils.showLog("Huawei \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"))},t.prototype._createMiniGameInsertAd=function(){c.default.IsHuaWei&&(l.utils.showLog("[\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a]"),this.ServerConfig&&(this._canInsertShow=!0,this._insertAd||this._initInsertAd(),this._insertAd))&&this._insertAd.load()},t.prototype._createMiniGameBannerAd=function(e){var t=this;if(void 0===e&&(e=null),this._isBannerShow=!0,l.utils.config.huaweiConfig.bannerId){if(!this._bannerAd){var i=l.utils.Tool_Huawei.SysInfo.safeArea.height-57;l.utils.showLog("banner  =====#top="+l.utils.Tool_Huawei.SysInfo.safeArea.height+" #top="+i),this._bannerAd=this.huawei.createBannerAd({adUnitId:l.utils.config.huaweiConfig.bannerId,style:{top:i,left:0,height:57,width:360}}),l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!"+this._bannerAd+" id="+l.utils.config.huaweiConfig.bannerId),this._bannerAd&&(this._bannerAd.onError(function(e){l.utils.showLog("huawei\u5c0f\u6e38\u620fBanner\uff0c\u663e\u793a\u5f02\u5e38\uff1a"+JSON.stringify(e)),t.ServerConfig.banner_style_level&&2==t.ServerConfig.banner_style_mod[t.bannerType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner"),t._createNativeBannerAd(t._showNativeBanner))}),this._bannerAd.onLoad(function(){l.utils.showLog("huawei\u5c0f\u6e38\u620fBanner\uff0c\u52a0\u8f7d\u6210\u529f"),t._nativeBannerNode&&(t._nativeBannerNode.active=!1)}))}this._bannerAd?this._bannerAd.show():(l.utils.showLog("huawei \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!"),this.ServerConfig.banner_style_level&&2==this.ServerConfig.banner_style_mod[this.bannerType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner"),this._createNativeBannerAd(this._showNativeBanner)))}else l.utils.showLog("BannerID \u672a\u6b63\u786e\u914d\u7f6e\uff01")},t.prototype._createNativeBannerAd=function(e){var t=this;if(c.default.IsHuaWei){var i=e;l.utils.showLog("curPosIdIndexNativeBanner:"+this._curPosIdIndexNativeBanner+" #id="+l.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);var o=this._nativeBannerAd[this._curPosIdIndexNativeBanner];if(o||l.utils.config.huaweiConfig.nativeBannerIds&&l.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:"+l.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]),(o=this.huawei.createNativeAd({adUnitId:l.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner],success:function(){console.log("loadNativeAd loadNativeAd : success")},fail:function(e,t){console.log("loadNativeAd loadNativeAd fail: "+e+","+t)},complete:function(){console.log("loadNativeAd loadNativeAd : complete")}}))&&(this._nativeBannerAd.push(o),o.onLoad(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(e&&e.adList&&e.adList.length>0){t._startBannerTimerTask=(new Date).getTime(),l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeDataValid(n)||"true"==t.getNativeBannerInfo().show_st_banner)return l.utils.showLog("\u5f53\u524d\u539f\u751fBanner\u6570\u636e\uff1a"+n),void(t.canShowNativeBanner?(t._curPosIdIndexNativeBanner=0,t._showNativeBanner(o,n),t._curNativeBannerInfo.nativeBannerAd=o,t._curNativeBannerInfo.data=n):cc.warn("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a"))}if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.huaweiConfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(t.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}}),o.onError(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(e)),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.huaweiConfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(t.ServerConfig.banner_style_level)1==t.ServerConfig.banner_style_mod[t.bannerType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner"),t._createMiniGameBannerAd());else if(t.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}))),o)l.utils.showLog("nativeBannerAd reLoad>>"),o.load();else if(this._curPosIdIndexNativeBanner++,l.utils.config.huaweiConfig.nativeBannerIds&&this._curPosIdIndexNativeBanner<l.utils.config.huaweiConfig.nativeBannerIds.length)this._createNativeBannerAd(i);else{if(this._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(this.ServerConfig.banner_style_level)1==this.ServerConfig.banner_style_mod[this.bannerType-1]&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner"),this._createMiniGameBannerAd());else if(this.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),this._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}},t.prototype._createNativeInsertAd=function(e){var t=this;if(c.default.IsHuaWei){var i=e;l.utils.showLog("curPosIdIndexNativeInsert:"+this._curPosIdIndexNativeInser);var o=this._nativeInsertAd[this._curPosIdIndexNativeInser];o||l.utils.config.huaweiConfig.nativeInsertIds&&l.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:"+l.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]),(o=qg.createNativeAd({adUnitId:l.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]}))&&(this._nativeInsertAd.push(o),o.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeInsertDataValid(n))return t._curPosIdIndexNativeInser=0,void t._showNativeInsert(o,n);l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.huaweiConfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))}),o.onError(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.huaweiConfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),t.ServerConfig.intersititial_style_level?2!=t.ServerConfig.intersititial_style_mod[t.intersititialType-1]?(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f\uff01"),t._createMiniGameInsertAd()):t.showNativeTryGameWidget():"native"==t.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()):t.showNativeTryGameWidget())}))),o?o.load():(this._curPosIdIndexNativeInser++,l.utils.config.huaweiConfig.nativeInsertIds&&this._curPosIdIndexNativeInser<l.utils.config.huaweiConfig.nativeInsertIds.length?this._createNativeInsertAd(i):(this._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd())))}},t.prototype.getNativeAdData=function(){return this._nativeAdObject||(this._nativeAdObject=new u.default),this._nativeAdObject._nativeObj=this._nativeAd,this._nativeAdObject.data=this._nativeData,this._nativeData&&this._nativeAd?(this._nativeData=null,this._nativeAdObject):null},t.prototype._showNativeBanner=function(e,t){if(c.default.IsHuaWei&&t)if(l.utils.showLog("\u663e\u793a\u539f\u751fbanner"),this._bannerAd&&this._bannerAd.hide(),(!cc.isValid(this._nativeBannerNode)||!this._nativeBannerNode&&l.utils.config.otherconfig.nativeBanner)&&(this._nativeBannerNode=cc.instantiate(l.utils.config.otherconfig.nativeBanner),this._nativeBannerNode.position=d.default.position(cc.winSize.width/2,this._nativeBannerNode.height*this._nativeBannerNode.scaleY/2),cc.director.getScene().addChild(this._nativeBannerNode,1e3)),this._nativeBannerNode){this._nativeBannerNode.active=!0;var i=this._nativeBannerNode.getComponent("YZ_NativeBanner");i?i.init(e,t,this.getNativeBannerInfo()):l.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!"),this._showBannerCallBack&&this._showBannerCallBack(),this._showBannerCallBack=null}else l.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype._showNativeInsert=function(e,t){if(c.default.IsHuaWei&&t)if((!cc.isValid(this._nativeInsertNode)||!this._nativeInsertNode&&l.utils.config.otherconfig.nativeInsert)&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d"),this._nativeInsertNode=cc.instantiate(l.utils.config.otherconfig.nativeInsert),this._nativeInsertNode.position=d.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._nativeInsertNode,999999)),this._nativeInsertNode){var i=this._nativeInsertNode.getComponent("YZ_NativeInsert");if(i){this._nativeInsertAdShowCount=0,i.init(e,t),this._insertLastShowTime=(new Date).getTime();var o=this.ServerConfig.intersititial_open_close_banner;o&&o>0&&(l.utils.showLog("Huawei \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==o?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),this.HideBanner())}else l.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.ShowCloseBtnBanner=function(e,t){var i=this;void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");var o=0,n=0,s=t.closeBtn,a=cc.winSize.height;s.opacity=0,this.ServerConfig&&(this.ServerConfig.is_move_btn&&(o=this.ServerConfig.is_move_btn),this.ServerConfig.close_btn_fade_in_time&&(n=this.ServerConfig.close_btn_fade_in_time),l.utils.showLog(0==o?"\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762":"\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14"+o+"\u6beb\u79d2\u540e\u79fb\u52a8"),setTimeout(function(){l.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>"),i.ShowBanner(e,t),l.utils.showLog("utils - adY:240"),s&&(s.y=-(a/2-240)+s.height,l.utils.showLog("btnClose.y"+s.y))},o),setTimeout(function(){s.runAction(cc.fadeIn(.3))},1e3*n))},t.prototype._checkNativeInsertDataValid=function(e){return!!e&&e.title&&(e.iconUrlList&&e.iconUrlList.length>0||e.imgUrlList&&e.imgUrlList.length>0)},t.prototype._checkNativeDataValid=function(e){return l.utils.showLog("checkNativeDataValid"),!!(e&&(e.imgUrlList&&e.imgUrlList.length>0||e.title&&e.desc&&e.clickBtnTxt&&e.iconUrlList&&e.iconUrlList.length>0))},t.prototype.checkRewardInsertIsShow=function(){},t.prototype.showRewardInsert=function(){l.utils.showLog("show reward")},t.prototype.hideRewardInsert=function(){if(this._rewardInsertNode){var e=this._rewardInsertNode.getComponent("RewardInsert");e?(e.hide(),l.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01")):l.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.checkIsShowStatementAd=function(){return!(!l.utils.isSupportnavigateToMiniGame()||!this.ServerConfig)||(l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1)},t.prototype.ShowStatementRecomment=function(e){if(void 0===e&&(e=!0),this.checkIsShowStatementAd()){if(e)return l.utils.config.otherconfig.statementRecomment?((t=cc.instantiate(l.utils.config.otherconfig.statementRecomment)).getComponent("YZ_StatementRecommentAd").showNativeAd=e,l.utils.showLog("\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u548c\u539f\u751f\u5e7f\u544a"),t):(l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 StatementRecomment, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null);if(l.utils.config.otherconfig.crossWidget6){var t=cc.instantiate(l.utils.config.otherconfig.crossWidget6);return l.utils.showLog("\u53ea\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u5e7f\u544a"),t}return l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 crossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null}return null},t.prototype._showNativeAd=function(){this._curNativeItem&&this._curNativeItem.init(this.getNativeAdData())},t.prototype.ShowSingleNativeAd=function(){if(l.utils.config.otherconfig.singleNativeAd){var e=cc.instantiate(l.utils.config.otherconfig.singleNativeAd),t=e.getComponent("YZ_NativeItem");return t.showType=2,this._curNativeItem=t,this.createNativeAd(),l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01"),e}return l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null},t.prototype.showStatementAds=function(){},t.prototype.showFullScreenVideo=function(){},t.prototype.GameExit=function(){},t.prototype.Share=function(){},s([_],t)}(a.default));i.default=f,cc._RF.pop()},{"./AdAgent":"AdAgent","./CompatibleTool":"CompatibleTool","./NativeTryGamesWidget":"NativeTryGamesWidget","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_NativeAdObject":"YZ_NativeAdObject"}],AdAgentIOS:[function(e,t,i){"use strict";cc._RF.push(t,"a8ee4bE81ZIGIvCtS1+v2nz","AdAgentIOS");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.NativeIosCallBack=void 0;var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._className="JNIHelper",t._videoCallback=null,t._showBannerTimerId=0,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_IOS.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var e=this;c.default.IsNativeIOS&&cc.game.on("JNIMessage",function(t){"VideoCallback"==t.type&&e._videoCallback&&(t.ret?e._videoCallback(t.ret):e._videoCallback(t.ret,t.message?t.message:"\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01"))})},t.prototype.ShowBanner=function(e,t){void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsNativeIOS&&(l.utils.showLog("AdAgentNative ShowBanner"),jsb.reflection.callStaticMethod(this._className,"showBanner:",r.BannerLocationToString(e)))},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),clearInterval(this._showBannerTimerId),jsb.reflection.callStaticMethod(this._className,"hideBanner:",r.BannerLocationToString(e))},t.prototype.ShowInterstitial=function(){var e=this;if(c.default.IsNativeIOS)try{var t=1;this.ServerConfig&&this.ServerConfig.intersititia_delay_show_time&&(t=this.ServerConfig.intersititia_delay_show_time),l.utils.showLog("AdAgentNative ShowInterstitial \u5ef6\u8fdf",t,"\u79d2\u8c03\u7528\uff01"),l.utils.delayCall(function(){jsb.reflection.callStaticMethod(e._className,"showInterstitial")},t)}catch(i){l.utils.showLog(i)}},t.prototype.ShowVideo=function(e){if(c.default.IsNativeIOS){l.utils.showLog("AdAgentNative ShowVideo"),this._videoCallback=e;try{jsb.reflection.callStaticMethod(this._className,"showVideo")}catch(t){l.utils.showLog(t),e&&e(!1)}}},t.prototype.showFullScreenVideo=function(e){if(c.default.IsNativeIOS){l.utils.showLog("AdAgentNative ShowVideo"),this._videoCallback=e;try{jsb.reflection.callStaticMethod(this._className,"showFullScreenVideo")}catch(t){l.utils.showLog(t),e&&e(!1)}}},s([h],t)}(a.default));i.default=d;var p=function(){function e(){}return e.videoCallBack=function(e,t){l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u56de\u8c03\u51fd\u6570 ------\x3e#result="+e+" #msg="+t?t:""),"1"==e?cc.game.emit("JNIMessage",{type:"VideoCallback",ret:!0}):cc.game.emit("JNIMessage",{type:"VideoCallback",ret:!1,message:t})},e}();i.NativeIosCallBack=p,window.NativeIosCallBack=p,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentKwai:[function(e,t,i){"use strict";cc._RF.push(t,"767edHy/iZCu5cXzuKSiUzS","AdAgentKwai");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._bannerAd=null,t._videoAd=null,t._videoCallback=null,t._isVideoShow=!1,t._isVideoLoaded=!1,t.kwaigame=window.kwaigame,t.canShowVideo=!1,t._interstitialAd=null,t}return n(t,e),t.prototype.Init=function(){var e=this;c.default.IsKwai&&l.utils.registerServerInitEvent(function(){e._initVideoAd()},this)},t.prototype.ShowBanner=function(e,t){void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),l.utils.showLog("\u5feb\u624b\u5e73\u53f0\u6ca1\u6709banner\u5e7f\u544a\uff01")},t.prototype.showStatementAds=function(){var e,t={type:0,node:null};return l.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8"),this.ShowInterstitial(),e=l.utils.showCrossWidget6(),t.type=1,t.node=e,t},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home)},t.prototype.ShowInterstitial=function(e){void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("\u663e\u793a\u5feb\u624b\u63d2\u5c4f"),l.utils.config.kwaiConfig.insertId?(this._interstitialAd||(this._interstitialAd=this.kwaigame.createInterstitialAd({adUnitId:l.utils.config.kwaiConfig.insertId}),this._interstitialAd.onError(function(e){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5f02\u5e38\uff1a"+JSON.stringify(e))}),this._interstitialAd.onClose(function(){l.utils.showLog("\u7528\u6237\u70b9\u51fb\u4e86\u3010\u5173\u95ed\u5e7f\u544a\u3011\u6309\u94ae")})),this._interstitialAd&&this._interstitialAd.show().then(function(){return l.utils.showLog("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u6210\u529f\uff01")}).catch(function(e){l.utils.showLog("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u5931\u8d25 >>"+JSON.stringify(e))})):l.utils.showLog("\u672a\u914d\u7f6e\u63d2\u5c4f\u5e7f\u544aID")},t.prototype.ShowVideo=function(e){var t=this;if(c.default.IsKwai){if(this._videoCallback)return;this._videoCallback=e,this._isVideoShow=!0,this._videoAd?this._videoAd.show({success:function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f")},fail:function(e){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: "+JSON.stringify(e)),t._videoCallback&&(t._videoCallback(!1,"\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!"),t._videoCallback=null)}}):(this._initVideoAd(),this._videoCallback&&(this._videoCallback(!1,"\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!"),this._videoCallback=null))}},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd){var t={};t.adUnitId=l.utils.config.kwaiConfig.videoId,this._videoAd=this.kwaigame.createRewardedVideoAd(t),this._videoAd?(l.utils.showLog("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u6210\u529f!"),this._videoAd.onClose(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed\u56de\u8c03: "+JSON.stringify(t)),e._videoCallback&&(e._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!"),e._videoCallback=null)}),this._videoAd.onReward(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5956\u52b1\u56de\u8c03: "+JSON.stringify(t)),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)})):l.utils.showLog("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u5931\u8d25")}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentNative:[function(e,t,i){"use strict";cc._RF.push(t,"85bc0uVF6ZG2rnWXIVvQWwZ","AdAgentNative");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.NativeCallBack=void 0;var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._videoCallback=null,t._showBannerTimerId=0,t._showNativeIconTimerId=0,t}return n(t,e),Object.defineProperty(t.prototype,"_className",{get:function(){return l.utils.Tool_Native.jniClassName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_Native.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var e=this;c.default.IsNativeAndroid&&cc.game.on("JNIMessage",function(t){"VideoCallback"==t.type&&e._videoCallback&&(1==t.ret?e._videoCallback&&e._videoCallback(!0):e._videoCallback&&e._videoCallback(!1,t.msg),e._videoCallback=null)})},t.prototype.ShowBanner=function(e,t,i){if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),void 0===i&&(i=!1),c.default.IsNativeAndroid){l.utils.showLog("AdAgentNative ShowBanner");var o=60;this.ServerConfig&&this.ServerConfig.refresh_ad_time&&(o=this.ServerConfig.refresh_ad_time);var n={};n.location=e,n.isTimeRefresh=i?"true":"false";try{l.utils.showLog("\u8c03\u7528banner Json >>>"+JSON.stringify(n)),jsb.reflection.callStaticMethod(this._className,"showBanner","(Ljava/lang/String;)V",JSON.stringify(n))}catch(s){l.utils.showLog(s)}clearInterval(this._showBannerTimerId),this._showBannerTimerId=setInterval(function(){l.utils.showLog("\u5b9a\u65f6\u5237\u65b0\u663e\u793aBanner\u5e7f\u544a\uff01location:"+e+"; args:"+JSON.stringify(t)+"; \u95f4\u9694\u65f6\u95f4:"+o),this.ShowBanner(e,t,!0)}.bind(this),1e3*o)}},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("AdAgentNative HideBanner"),clearInterval(this._showBannerTimerId),jsb.reflection.callStaticMethod(this._className,"hideBanner","(Ljava/lang/String;)V",e)},t.prototype.ShowInterstitial=function(){var e=this;if(c.default.IsNativeAndroid)try{var t=.5;this.ServerConfig&&this.ServerConfig.intersititia_delay_show_time&&(t=this.ServerConfig.intersititia_delay_show_time),l.utils.showLog("AdAgentNative ShowInterstitial \u5ef6\u8fdf",t,"\u79d2\u8c03\u7528\uff01"),l.utils.delayCall(function(){jsb.reflection.callStaticMethod(e._className,"showInterstitial","()V")},t)}catch(i){l.utils.showLog(i)}},t.prototype.showNativeTryGameWidget=function(e){if(void 0===e&&(e=null),c.default.IsNativeAndroid){l.utils.showLog("AdAgentNative showNativeTryGameWidget="+this.ServerConfig.show_native_icon_method);try{var t=15;if(this.ServerConfig&&this.ServerConfig.icon_jump_native){var i=parseInt(this.ServerConfig.icon_jump_native);i>3?t=i:l.utils.showLog("\u60ac\u6d6eICON\u5fc5\u987b\u5927\u4e8e3\u79d2\uff0c\u5f53\u524d\u9ed8\u8ba4\u4e3a15\u79d2\u5237\u65b0")}if(this.ServerConfig.show_native_icon_method){var o={};"left"in e&&(o.left=e.left),"right"in e&&(o.right=e.right),"top"in e&&(o.top=e.top),"bottom"in e&&(o.bottom=e.bottom),"location"in e&&(o.location=e.location),o.winSizeWidth=cc.winSize.width,o.winSizeHeight=cc.winSize.height,jsb.reflection.callStaticMethod(l.utils.Tool_Native.jniClassName,this.ServerConfig.show_native_icon_method,"(Ljava/lang/String;)V",JSON.stringify(o))}else{var n=10,s=250;e&&(null!=e.top?s=e.top:null!=e.bottom&&(s=cc.winSize.height-e.bottom),null!=e.left?n=e.left:null!=e.right&&(n=cc.winSize.width-e.right)),jsb.reflection.callStaticMethod(l.utils.Tool_Native.jniClassName,"showFloatIcon","(II)V",n,s)}clearInterval(this._showNativeIconTimerId),this._showNativeIconTimerId=setInterval(function(){l.utils.showLog("\u5b9a\u65f6\u5237\u65b0\u663e\u793a\u539f\u751f\u60ac\u6d6eICON\u5e7f\u544a\uff01 args:"+e+"; \u95f4\u9694\u65f6\u95f4:"+t),this.showNativeTryGameWidget(e)}.bind(this),1e3*t)}catch(a){l.utils.showLog(a)}}},t.prototype.ShowVideo=function(e){if(c.default.IsNativeAndroid){l.utils.showLog("AdAgentNative ShowVideo"),this._videoCallback=e;try{jsb.reflection.callStaticMethod(this._className,"showVideo","()V")}catch(t){l.utils.showLog(t),e&&e(!1)}}},t.prototype.showFullScreenVideo=function(e){if(c.default.IsNativeAndroid){l.utils.showLog("AdAgentNative showFullScreenVideo"),this._videoCallback=e;try{jsb.reflection.callStaticMethod(this._className,"showFullScreenVideo","()V")}catch(t){l.utils.showLog(t),e&&e(!1)}}},t.prototype.hideNativeTryGameWidget=function(){if(c.default.IsNativeAndroid)return clearInterval(this._showNativeIconTimerId),void jsb.reflection.callStaticMethod(this._className,"hideFloatIcon","()V")},s([h],t)}(a.default));i.default=d;var p=function(){function e(){}return e.videoCallBack=function(e,t){console.log("\u89c6\u9891\u5e7f\u544a\u56de\u8c03\u51fd\u6570 ------\x3eresult=",e," msg=",t),1==e?cc.game.emit("JNIMessage",{type:"VideoCallback",ret:!0}):cc.game.emit("JNIMessage",{type:"VideoCallback",ret:!1,msg:t||"\u6682\u65e0\u89c6\u9891\uff01"})},e.sendEvent=function(e){l.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5\uff1a"+e),l.utils.SendEvent(e)},e.sendEventNew=function(e,t,i){l.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5\uff1a"+e),l.utils.Tool_Native&&l.utils.Tool_Native.sendEventNew(e,t,i)},e.reportInsertClick=function(){if(l.utils.showLog("\u4e0a\u62a5\u63d2\u5c4f\u70b9\u51fb\u65f6\u95f4\uff1a"+l.utils.overPageInsertAdIsTouch),!l.utils.overPageInsertAdIsTouch){l.utils.overPageInsertAdIsTouch=!0;var e=((new Date).getTime()-l.utils.overPageShowTime)/1e3,t={};t.data=e,l.utils.SendEventNew("\u7ed3\u7b97\u9875\u9762-\u63d2\u5c4f\u70b9\u51fb\u65f6\u95f4","overPageInsertAdTouch",JSON.stringify(t))}},e.realNameAuth=function(e,t){l.utils.showLog("realNameAuth>>>> #idCard="+e+" #realName="+t),l.utils.Tool_Native.realNameAuth(e,t,function(e,t){if(l.utils.showLog("realNameAuth>>>>  #res="+e+" #result="+t),e)if(t){var i=JSON.parse(t);switch(i.code){case 1:l.utils.showMsg(i.msg),l.utils.Tool_Native.realNameAuthResult(t);break;case 0:"0"==i.nonage?l.utils.setRealNameAuthLocalData("2"):l.utils.setRealNameAuthLocalData("1"),l.utils._isRealNameAuth=!0,i.msg&&l.utils.showMsg(i.msg),l.utils.Tool_Native.realNameAuthResult(t),l.utils.scheduleOnce(function(){l.utils.emitRealNameAuthCloseEvent()},.5);break;case 2:l.utils.setRealNameAuthLocalData("2"),l.utils.Tool_Native.realNameAuthResult(t)}}else{l.utils.Tool_Native.realNameAuthResult(JSON.stringify({code:"-1",msg:"\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01"})),l.utils.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01")}else{l.utils.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01");l.utils.Tool_Native.realNameAuthResult(JSON.stringify({code:"-1",msg:"\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01"}))}})},e}();i.NativeCallBack=p,cc.NativeCallBack=p,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentOPPO:[function(e,t,i){"use strict";cc._RF.push(t,"61483n9NuBPRaedYYim5L7f","AdAgentOPPO");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./YZ_NativeAdObject"),h=e("./NativeTryGamesWidget"),d=e("./CompatibleTool"),p=e("./YouWanSDK/YouWanAnalytics"),_=e("./YouWanSDK/EventAdInfo"),f=cc._decorator,g=f.ccclass,v=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bannerAd=null,t._insertAd=null,t._videoAd=null,t._nativeBannerAd=[],t._nativeInsertAd=[],t._nativeSingleAd=[],t._nativeAd=null,t._isAdInit=!1,t._isBannerShow=!1,t._isInsertShow=!1,t._curPosIdIndexNativeBanner=0,t._curPosIdIndexNativeInser=0,t._curPosIdIndexSingleNative=0,t._nativeData=null,t._nativeInsertData=null,t._nativeBannerNode=null,t._nativeInsertNode=null,t._videoCallback=null,t._videoLoaded=null,t._miniBannerHeight=0,t._showBannerCallBack=null,t._nativeAdObject=null,t._insertShowCount=0,t._insertLastShowTime=0,t._curNativeItem=null,t._isNativeBannerShow=!1,t.lastLastShowVideoTime=0,t._bannerHideCount=0,t.canShowNativeBanner=!0,t._nativeBannerInfo=null,t.show_ad_by_config=!0,t._nativeIsClose=!1,t._showBannerTimerId=0,t._delayShowBannerId=0,t._curLocation=r.BannerLocation.None,t._isTimeRefresh=!1,t._startBannerTimerTask=0,t._showBannerCount=0,t.tryGameAdArr=[],t._nativeInsertAdShowCount=0,t.miniInserAdIsCreate=!1,t._curNativeBannerInfo={},t._singleAdCreateTime=0,t._rewardInsertNode=null,t.signleNativeAd=null,t._nativeTryGameNode=null,t.nativeTemplateBannerAd=null,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.oppoTool&&l.utils.oppoTool.ServerConfig?l.utils.oppoTool.ServerConfig:{}},enumerable:!1,configurable:!0}),t.prototype.getNativeBannerInfo=function(){return this._nativeBannerInfo&&this._nativeBannerInfo.location==this._curLocation?this._nativeBannerInfo:l.utils.config.oppoconfig.getNativeBannerInfo(this._curLocation)},t.prototype.Init=function(){var e=this;c.default.IsOPPO&&l.utils.oppoTool&&l.utils.oppoTool.isOverMiniVersion("1031")&&l.utils.registerServerInitEvent(function(){l.utils.showLog("OPPO \u5e7f\u544a\u4ee3\u7406\u7ec4\u4ef6\u521d\u59cb\u5316!");var t=e;qg.initAdService({appId:l.utils.config.oppoconfig.appID,isDebug:!0,success:function(){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e7f\u544a\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f!"),t._isAdInit=!0,t._initVideoAd()},fail:function(e){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e7f\u544a\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25 :"+e.code+e.msg)},complete:function(){}})},this)},t.prototype.ShowBanner=function(e,t,i){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=!1),c.default.IsOPPO){if(!this.ServerConfig)return void l.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");this._showBannerCount++;var n=this._curLocation;this._curLocation=e,this._isTimeRefresh=i,n!=e&&this.HideBanner(e);var s=((new Date).getTime()-this._startBannerTimerTask)/1e3,a=this.ServerConfig.refresh_ad_time;if(t&&t.isRefresh?i=!0:a&&a>0&&s>a&&(i=!0),p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST),-1==this.getNativeBannerInfo().is_show_banner)return l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!"),void this.HideBanner(e);if(this.getNativeBannerInfo().is_show_rec>-1){if(this.HideBanner(e),l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u663e\u793a\u4e92\u63a8banner"),l.utils.oppoTool.canShowRecommend())return void l.utils.oppoTool.showOppoRecBanner();l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u4e92\u63a8banner")}else if(!i&&!this.show_ad_by_config&&this.ServerConfig.nbclr&&"true"==this.ServerConfig.nbclr&&this._curNativeBannerInfo.nativeBannerAd)return l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e "),l.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a"+this.getNativeBannerInfo().delay_show_time+"\u79d2"),clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._delayShowBannerId=setTimeout(function(){o._showNativeBanner(o._curNativeBannerInfo.nativeBannerAd,o._curNativeBannerInfo.data)},1e3*this.getNativeBannerInfo().delay_show_time),l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+(a-s)),void(this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*(a-s)));if(this.canShowNativeBanner=!0,this._nativeIsClose=!1,clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),l.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668"),this.ServerConfig){if(a&&a>0&&(l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+a),this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*a)),this.show_ad_by_config)return void this.ShowBannerByConfigs(0);this.ServerConfig.banner_first_ad?this.ServerConfig.banner_first_ad.indexOf("native")>-1?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!"+i+" <<<<"),this._isTimeRefresh?this._createNativeBannerAd(this._showNativeBanner):(l.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a"+this.getNativeBannerInfo().delay_show_time+"\u79d2"),this._delayShowBannerId=setTimeout(function(){o._createNativeBannerAd(o._showNativeBanner)},1e3*this.getNativeBannerInfo().delay_show_time))):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!"),this._createMiniGameBannerAd(e)):l.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!")}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.hideMiniGameBanner=function(){this._bannerAd&&(l.utils.oppoTool.isOverMiniVersion("1050")?(l.utils.showLog("\u9500\u6bc1\u5c0f\u6e38\u620fBanner"),this._bannerAd.destroy(),this._bannerAd=null):(l.utils.showLog("\u5f53\u524d\u5c0f\u6e38\u620f\u5e73\u53f0\u5c0f\u4e8e1051\uff0c\u53ea\u80fd\u9690\u85cf\u5c0f\u6e38\u620fBanner"),this._bannerAd.hide()))},t.prototype.hideNativeBanner=function(){this._nativeBannerNode&&(l.utils.showLog("\u9690\u85cf\u539f\u751fBanner"),this._nativeBannerNode.active=!1)},t.prototype.hideBanner=function(e){switch(e){case"default":this.hideNativeBanner(),l.utils.hideRecommendGamesBanner(),this.hideNativeTemplateBannerAd(),l.utils.oppoTool&&l.utils.oppoTool._rec_is_banner&&l.utils.oppoTool.hideOppoRecBanner();break;case"native":this.hideMiniGameBanner(),l.utils.hideRecommendGamesBanner(),this.hideNativeTemplateBannerAd(),l.utils.oppoTool&&l.utils.oppoTool._rec_is_banner&&l.utils.oppoTool.hideOppoRecBanner();break;case"template":this.hideMiniGameBanner(),this.hideNativeBanner(),l.utils.hideRecommendGamesBanner(),l.utils.oppoTool&&l.utils.oppoTool._rec_is_banner&&l.utils.oppoTool.hideOppoRecBanner();break;case"rec":this.hideMiniGameBanner(),this.hideNativeBanner(),l.utils.hideRecommendGamesBanner(),this.hideNativeTemplateBannerAd();break;default:this.hideMiniGameBanner(),this.hideNativeBanner(),l.utils.hideRecommendGamesBanner(),this.hideNativeTemplateBannerAd(),l.utils.oppoTool&&l.utils.oppoTool._rec_is_banner&&l.utils.oppoTool.hideOppoRecBanner()}},t.prototype.HideBanner=function(e){void 0===e&&(e=null),c.default.IsOPPO&&(clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._isBannerShow=!1,this._nativeIsClose=!0,this.canShowNativeBanner=!1,this.hideBanner(""))},t.prototype.hideKyxBanner=function(){this.hideBanner("rec")},t.prototype.showNativeTryGameWidget=function(e){if(void 0===e&&(e=null),c.default.IsOPPO){if(l.utils.showLog("\u663e\u793a\u539f\u751f\u6296\u52a8\u8bd5\u73a9 nativeNeedChange=",l.utils.nativeNeedChange,"  utils.tryGameDate",l.utils.tryGameDate,"utils.config.oppoconfig.nativeTryGameIds",l.utils.config.oppoconfig.nativeTryGameIds),(l.utils.nativeNeedChange||!l.utils.tryGameDate)&&l.utils.config.oppoconfig.nativeTryGameIds){var t=l.utils.config.oppoconfig.nativeTryGameIds.length;l.utils.showLog("len:"+t);for(var i=function(e){if(o.tryGameAdArr[e])o.tryGameAdArr[e].load();else{var t=l.utils.config.oppoconfig.nativeTryGameIds[e];l.utils.showLog("\u521b\u5efa\u539f\u751f\u6296\u52a8\u8bd5\u73a9\u5e7f\u544a\uff0c posId:"+t);var i=qg.createNativeAd({posId:t});i&&(i.onLoad(function(e){if(l.utils.nativeNeedChange=!1,e&&e.adList&&e.adList.length>0){var t=(e=JSON.parse(JSON.stringify(e))).adList[0].adId;l.utils.showLog("adId:"+t);var o=!0;l.utils.tryGameDate.forEach(function(e){t==e.date[0].adId&&(o=!1)}),o&&(l.utils.tryGameDate.push({tryGameAd:i,date:e.adList}),l.utils._nativeTryGameNode&&l.utils._nativeTryGameNode.getComponent(h.default).init()),l.utils.showLog("\u539f\u751f\u6296\u52a8\u8bd5\u5b8c\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff0c\u662f\u5426\u53ef\u4ee5\u6dfb\u52a0\u5e7f\u544a"+o),l.utils.showLog(JSON.stringify(e))}}),i.onError(function(e){l.utils.showLog("\u539f\u751f\u6296\u52a8\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),l.utils.nativeNeedChange=!0}),i.load(),o.tryGameAdArr[e]=i)}},o=this,n=0;n<t;n++)i(n)}this.createNativeTryGameWidget(e)}},t.prototype.ShowInterstitialByConfigs=function(e){if(l.utils.showLog("ShowInterstitialByConfigs  index="+e+" #configsLength="+l.utils.config.oppoconfig.intersitialAdConfigs.length),e<l.utils.config.oppoconfig.intersitialAdConfigs.length){var t=l.utils.config.oppoconfig.intersitialAdConfigs[e];switch(l.utils.showLog("ShowInterstitialByConfigs adInfo:"+JSON.stringify(t)),t.type){case"default":this._createMiniGameInsertAdByConfig(e);break;case"native":this._createNativeInsertAdByConfig(e);break;case"template":this._createNativeTemplateIntersitialAd(e)}}else p.default.EventAd(_.YwAdType.INTERSITITIAL,_.YwAdStatus.AD_ID_REQUEST_FAIL),l.utils.showLog("\u63d2\u5c4f\u5c55\u793a\u5931\u8d25\uff0c\u6240\u6709\u5e7f\u544a\u7c7b\u578b\u90fd\u672a\u8bf7\u6c42\u5230\u5e7f\u544a\uff01")},t.prototype.ShowBannerByConfigs=function(e){if(l.utils.showLog("ShowBannerByConfigs  index="+e+" #configsLength="+l.utils.config.oppoconfig.bannerAdConfigs.length),e<l.utils.config.oppoconfig.bannerAdConfigs.length){var t=l.utils.config.oppoconfig.bannerAdConfigs[e];switch(l.utils.showLog("ShowBannerByConfigs adInfo:"+JSON.stringify(t)),t.type){case"default":this._createMiniGameBannerAdByConfigs(e);break;case"native":this._createNativeBannerAdByConfigs(e);break;case"template":this._createNativeTemplateBannerAd(e)}}else p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL),l.utils.showLog("Banner\u5c55\u793a\u5931\u8d25\uff0c\u6240\u6709\u5e7f\u544a\u7c7b\u578b\u90fd\u672a\u8bf7\u6c42\u5230\u5e7f\u544a\uff01")},t.prototype.ShowInterstitial=function(e){if(void 0===e&&(e=null),c.default.IsOPPO)if(this.ServerConfig){if(!this.checkInsertAdShow())return;if(p.default.EventAd(_.YwAdType.INTERSITITIAL,_.YwAdStatus.AD_ID_REQUEST),this.show_ad_by_config)return void this.ShowInterstitialByConfigs(0);e&&e==r.BannerLocation.Pause?"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01"),l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this.nativeInserAdDelayCall()):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()):"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd())}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.nativeInserAdDelayCall=function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570="+l.utils.oppoTool.NativeInsertAdClickTimes+"; \u70b9\u51fb\u6b21\u6570\u9650\u5236="+this.ServerConfig.intersititia_click_count+"; \u5c55\u793a\u6b21\u6570\u95f4\u9694="+this.ServerConfig.intersititia_show_interval+"; \u5c55\u793a\u7d2f\u8ba1="+this._nativeInsertAdShowCount),l.utils.oppoTool.NativeInsertAdClickTimes>=(this.ServerConfig.intersititia_click_count||0)?this._nativeInsertAdShowCount>=(this.ServerConfig.intersititia_show_interval||0)?this._createNativeInsertAd(this._showNativeInsert):this._nativeInsertAdShowCount++:this._createNativeInsertAd(this._showNativeInsert)},t.prototype.ShowVideo=function(e){if(c.default.IsOPPO){if(this._videoCallback=e,((new Date).getTime()-this.lastLastShowVideoTime)/1e3<4)return l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e4\u79d2,\u76f4\u63a5\u8fd4\u56defalse"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));if(this.ServerConfig){if(this.checkRewardInsertIsShow()&&l.utils.oppoTool&&l.utils.oppoTool.ServerConfig&&l.utils.oppoTool.ServerConfig.reward_first_ad&&"video"!=l.utils.oppoTool.ServerConfig.reward_first_ad)return l.utils.showLog("<<<\u670d\u52a1\u5668\u9ed8\u8ba4\u4f18\u5148\u5c55\u793a\u6fc0\u52b1\u63d2\u5c4f>>>"),void this.showRewardInsert();if(l.utils.oppoTool.isOverMiniVersion("1040")&&(this._videoAd||this._initVideoAd(),this._videoAd&&this._videoLoaded))return this._videoAd.show(),void p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.videoId))}l.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback&&(this._videoAd.load(),p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null)}},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd)if(l.utils.config.oppoconfig.videoId){this._videoAd=qg.createRewardedVideoAd({posId:l.utils.config.oppoconfig.videoId});var t=this;this._videoAd&&(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.load(),p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),this._videoAd.onLoad(function(){p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),t._videoLoaded=!0}),this._videoAd.onError(function(e){p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: "+e.code+e.msg),t._videoLoaded=!1,t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),t._videoCallback=null)}),this._videoAd.onClose(function(i){setTimeout(function(){t._videoAd.load(),p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),l.utils.showLog("\u5ef6\u8fdf3\u79d2\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a")},3e3),i.isEnded?(e.lastLastShowVideoTime=(new Date).getTime(),l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null),p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REWARD_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.videoId))):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),p.default.EventAdWithObj(_.YwAdType.REWARD_VIDEO,_.YwAdStatus.REWARD_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.videoId)),t._videoCallback&&(t._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),t._videoCallback=null))}))}else l.utils.showLog("\u89c6\u9891\u5e7f\u544aId\u914d\u7f6e\u9519\u8bef!")},t.prototype.checkInsertAdShow=function(){var e=this.ServerConfig.intersititial_max_show_count,t=this.ServerConfig.intersititial_interval_time,i=((new Date).getTime()-this._insertLastShowTime)/1e3;return l.utils.showLog("OPPO\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a"+e+",\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+t+"\u79d2\uff01"),l.utils.showLog("OPPO\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u663e\u793a\u6b21\u6570\uff1a"+l.utils.oppoTool.insertAdShowCounts+"\u6b21\uff0c\u95f4\u9694\u65f6\u95f4\uff1a"+i+"\u79d2\uff01"),e>0&&l.utils.oppoTool.insertAdShowCounts>=e?(l.utils.showLog("OPPO\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u6b21\u6570\u8fbe\u5230"+e+"\u6b21\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),!1):!(t>0&&i<t&&(l.utils.showLog("OPPO\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+t+"\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),1))},t.prototype._createMiniGameInsertAd=function(e){var t=this;if(void 0===e&&(e=!1),c.default.IsOPPO)if(this._isInsertShow=!0,this._isAdInit&&l.utils.config.oppoconfig&&l.utils.config.oppoconfig.insertId){var i=qg.createInsertAd({adUnitId:l.utils.config.oppoconfig.insertId});if(i){l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");var o=function(){i.offShow(),i.offError(),i.offLoad()};i.onError(function(n){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:"+n.code+n.msg),t._isInsertShow&&!e&&"default"==t.ServerConfig.intersititial_first_ad&&(t._isInsertShow=!1,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),t._curPosIdIndexNativeInser=0,l.utils.delayCall(t.nativeInserAdDelayCall.bind(t),t.ServerConfig.intersititia_delay_show_time||0)),i.offError(),o()}.bind(this)),i.onLoad(function(){if(l.utils.showLog("OPPO \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f!"),t._isInsertShow){t._isInsertShow=!1,i.show(),t._isInsertShow=!1,l.utils.oppoTool.countInserShowCount(),t._insertLastShowTime=(new Date).getTime();var e=t.ServerConfig.intersititial_open_close_banner;e&&e>0&&(l.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==e?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),t.HideBanner())}}.bind(this)),i.onShow(function(){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01  "),o()}.bind(this)),this.miniInserAdIsCreate?i.load():this.miniInserAdIsCreate=!0}i||(l.utils.showLog("OPPO\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"),"default"!=this.ServerConfig.intersititial_first_ad||e||(l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this._curPosIdIndexNativeInser=0,l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)))}else l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),"default"!=this.ServerConfig.intersititial_first_ad||e||(l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this._curPosIdIndexNativeInser=0,l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0))},t.prototype._createMiniGameInsertAdByConfig=function(e){var t=this;if(c.default.IsOPPO)if(this._isInsertShow=!0,l.utils.showLog("_createMiniGameInsertAdByIndex: index="+e),this._isAdInit&&l.utils.config.oppoconfig&&e<l.utils.config.oppoconfig.intersitialAdConfigs.length){var i=qg.createInsertAd({adUnitId:l.utils.config.oppoconfig.intersitialAdConfigs[e].id});if(p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),i){l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");var o=function(){i.offShow(),i.offError(),i.offLoad()};i.onError(function(n){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:"+n.code+n.msg),t._isInsertShow&&t.ShowInterstitialByConfigs(e+1),p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id,n.code,n.msg)),i.offError(),o()}.bind(this)),i.onLoad(function(){if(l.utils.showLog("OPPO \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f!"),p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),t._isInsertShow){t._isInsertShow=!1,i.show(),t._isInsertShow=!1,l.utils.oppoTool.countInserShowCount(),t._insertLastShowTime=(new Date).getTime();var o=t.ServerConfig.intersititial_open_close_banner;o&&o>0&&(l.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==o?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),t.HideBanner())}}.bind(this)),i.onShow(function(){l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01  "),p.default.EventAd(_.YwAdType.INTERSITITIAL,_.YwAdStatus.AD_ID_REQUEST_SUCCESS),p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),o()}.bind(this)),this.miniInserAdIsCreate?i.load():this.miniInserAdIsCreate=!0}i||(p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),l.utils.showLog("OPPO\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"),this.ShowInterstitialByConfigs(e+1))}else l.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!")},t.prototype._createMiniGameBannerAd=function(e){var t=this;if(void 0===e&&(e=null),c.default.IsOPPO)if(this._isBannerShow=!0,this._isAdInit&&l.utils.config.oppoconfig&&l.utils.config.oppoconfig.bannerId){var i={top:0};if("top"===this.getNativeBannerInfo()._alignType?i.top=0:i=null,this._bannerAd,this._bannerAd=qg.createBannerAd({posId:l.utils.config.oppoconfig.bannerId,style:i}),this._bannerAd)l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!"),this._bannerAd.onError(function(e){if(l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u51fa\u9519: "+e.code+e.msg),-1!=t.getNativeBannerInfo().st_banner_show_back_up){if(t._isBannerShow)if(t._isBannerShow=!1,t.ServerConfig.banner_first_ad.indexOf("default")>-1)t._curPosIdIndexNativeBanner=0,t._createNativeBannerAd(t._showNativeBanner.bind(t));else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a")}.bind(this)),this._bannerAd.onShow(function(){l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01"),t._nativeBannerNode&&(t._nativeBannerNode.active=!1),l.utils.hideRecommendGamesBanner(),t._showBannerCallBack&&t._showBannerCallBack(),t._showBannerCallBack=null}.bind(this)),this._bannerAd.onHide(function(){this._isNativeBannerShow?(this._isNativeBannerShow=!1,l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.oppoTool.bannerAdCloseCounts)):(l.utils.oppoTool.countBannerCloseCount(),l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.oppoTool.bannerAdCloseCounts))});else if(this.ServerConfig.banner_first_ad.indexOf("default")>-1)this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this));else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");if(this._bannerAd)"top"!==this.getNativeBannerInfo()._alignType&&(this._bannerAd.style.top=l.utils.oppoTool.SysInfo.screenHeight),this._bannerAd.show();else if(l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!"),this.ServerConfig.indexOf("default")>-1)this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this));else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}else{if(l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");if(this.ServerConfig.banner_first_ad.indexOf("default")>-1)this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this));else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}},t.prototype._createMiniGameBannerAdByConfigs=function(e){var t=this;if(l.utils.showLog("_createMiniGameBannerAdByConfigs: #index="+e),c.default.IsOPPO)if(this._isBannerShow=!0,p.default.EventAdWithObj(_.YwAdType.BANNER,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),this._isAdInit&&l.utils.config.oppoconfig&&e<l.utils.config.oppoconfig.bannerAdConfigs.length){var i={top:0};"top"===this.getNativeBannerInfo()._alignType?i.top=0:i=null,this._bannerAd=qg.createBannerAd({posId:l.utils.config.oppoconfig.bannerAdConfigs[e].id,style:i}),this._bannerAd?(l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!"),this._bannerAd.onError(function(i){if(t._bannerAd.offError(),p.default.EventAdWithObj(_.YwAdType.BANNER,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),l.utils.showLog("OPPO \u5c0f\u6e38\u620f Configs Banner\u5e7f\u544a\u51fa\u9519: "+i.code+i.msg),-1==t.getNativeBannerInfo().st_banner_show_back_up)return l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a"),void p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL);t._isBannerShow&&(t._isBannerShow=!1,t.ShowBannerByConfigs(e+1))}),this._bannerAd.onHide(function(){t._bannerAd.offHide(),t._isNativeBannerShow?(t._isNativeBannerShow=!1,l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.oppoTool.bannerAdCloseCounts)):(l.utils.oppoTool.countBannerCloseCount(),l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.oppoTool.bannerAdCloseCounts))}),"top"!==this.getNativeBannerInfo()._alignType&&(this._bannerAd.style.top=l.utils.oppoTool.SysInfo.screenHeight),this._bannerAd.show().then(function(){t._bannerAd.offShow(),l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01"),p.default.EventAdWithObj(_.YwAdType.BANNER,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_SUCCESS),t.hideBanner("default"),t._showBannerCallBack&&t._showBannerCallBack(),t._showBannerCallBack=null})):(this.ShowBannerByConfigs(e+1),p.default.EventAdWithObj(_.YwAdType.BANNER,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL))}else{if(l.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL),void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");this.ShowBannerByConfigs(e+1)}},t.prototype._createNativeBannerAdByConfigs=function(e){var t=this;if(c.default.IsOPPO&&(p.default.EventAdWithObj(_.YwAdType.NATIVE_BANNER,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),l.utils.showLog("_createNativeBannerAdByConfigs: #index="+e),this._isAdInit&&l.utils.config.oppoconfig&&e<l.utils.config.oppoconfig.bannerAdConfigs.length)){var i=l.utils.config.oppoconfig.bannerAdConfigs[e].nativeBannerAd;if(i||(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:"+l.utils.config.oppoconfig.bannerAdConfigs[e].id),(i=qg.createNativeAd({posId:l.utils.config.oppoconfig.bannerAdConfigs[e].id}))&&(l.utils.config.oppoconfig.bannerAdConfigs[e].nativeBannerAd=i,i.onLoad(function(o){if(p.default.EventAdWithObj(_.YwAdType.NATIVE_BANNER,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(o&&o.adList&&o.adList.length>0){t._startBannerTimerTask=(new Date).getTime(),l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(o));var n=(o=JSON.parse(JSON.stringify(o))).adList[0];if(t._checkNativeDataValid(n)||"true"==t.getNativeBannerInfo().show_st_banner)return void(t.canShowNativeBanner?(t._curPosIdIndexNativeBanner=0,t._showNativeBanner(i,n),t._curNativeBannerInfo.nativeBannerAd=i,t._curNativeBannerInfo.data=n,t.hideBanner("native"),p.default.EventAdWithObj(_.YwAdType.NATIVE_BANNER,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_SUCCESS)):l.utils.showLog("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a"))}if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01"),p.default.EventAdWithObj(_.YwAdType.NATIVE_BANNER,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),void p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL);t.ShowBannerByConfigs(e+1)}}),i.onError(function(i){if(p.default.EventAdWithObj(_.YwAdType.NATIVE_BANNER,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+i.code+i.msg),-1==t.getNativeBannerInfo().st_banner_show_back_up)return l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01"),void p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL);t.ShowBannerByConfigs(e+1)}}))),i)l.utils.showLog("nativeBannerAd reLoad>>"),i.load();else{if(-1==this.getNativeBannerInfo().st_banner_show_back_up)return l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01"),void p.default.EventAd(_.YwAdType.BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL);this.ShowBannerByConfigs(e+1)}}},t.prototype._createNativeBannerAd=function(e){var t=this;if(c.default.IsOPPO){var i=e;l.utils.showLog("curPosIdIndexNativeBanner:"+this._curPosIdIndexNativeBanner);var o=this._nativeBannerAd[this._curPosIdIndexNativeBanner];if(o||l.utils.config.oppoconfig.nativeBannerIds&&l.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:"+l.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]),(o=qg.createNativeAd({posId:l.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]}))&&(this._nativeBannerAd.push(o),o.onLoad(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(e&&e.adList&&e.adList.length>0){t._startBannerTimerTask=(new Date).getTime(),l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeDataValid(n)||"true"==t.getNativeBannerInfo().show_st_banner)return void(t.canShowNativeBanner?(t._curPosIdIndexNativeBanner=0,t._showNativeBanner(o,n),t._curNativeBannerInfo.nativeBannerAd=o,t._curNativeBannerInfo.data=n,t._bannerAd&&(t._isNativeBannerShow=!0,l.utils.oppoTool.isOverMiniVersion("1050")?(l.utils.showLog("\u9500\u6bc1\u5c0f\u6e38\u620fBanner"),t._bannerAd.destroy(),t._bannerAd=null):(l.utils.showLog("\u5f53\u524d\u5c0f\u6e38\u620f\u5e73\u53f0\u5c0f\u4e8e1051\uff0c\u53ea\u80fd\u9690\u85cf\u5c0f\u6e38\u620fBanner"),t._bannerAd.hide())),l.utils.hideRecommendGamesBanner()):cc.warn("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a"))}if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.oppoconfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(t.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}}),o.onError(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.oppoconfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(t.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}))),o)l.utils.showLog("nativeBannerAd reLoad>>"),o.load();else if(this._curPosIdIndexNativeBanner++,l.utils.config.oppoconfig.nativeBannerIds&&this._curPosIdIndexNativeBanner<l.utils.config.oppoconfig.nativeBannerIds.length)this._createNativeBannerAd(i);else{if(this._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(this.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),this._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}},t.prototype._createNativeInsertAd=function(e){var t=this;if(c.default.IsOPPO){var i=e;l.utils.showLog("curPosIdIndexNativeInsert:"+this._curPosIdIndexNativeInser);var o=this._nativeInsertAd[this._curPosIdIndexNativeInser];o||l.utils.config.oppoconfig.nativeInsertIds&&l.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:"+l.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]),(o=qg.createNativeAd({posId:l.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]}))&&(this._nativeInsertAd.push(o),o.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeInsertDataValid(n))return t._curPosIdIndexNativeInser=0,void t._showNativeInsert(o,n);l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.oppoconfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))}),o.onError(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.oppoconfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))}))),o?o.load():(this._curPosIdIndexNativeInser++,l.utils.config.oppoconfig.nativeInsertIds&&this._curPosIdIndexNativeInser<l.utils.config.oppoconfig.nativeInsertIds.length?this._createNativeInsertAd(i):(this._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd())))}},t.prototype._createNativeInsertAdByConfig=function(e){var t=this;if(c.default.IsOPPO&&(l.utils.showLog("_createNativeInsertAdByConfig: #index="+e),this._isAdInit&&l.utils.config.oppoconfig&&e<l.utils.config.oppoconfig.intersitialAdConfigs.length)){var i=l.utils.config.oppoconfig.intersitialAdConfigs[e].nativeInsertAd;p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),i||l.utils.config.oppoconfig.intersitialAdConfigs[e].id&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:"+l.utils.config.oppoconfig.intersitialAdConfigs[e].id),(i=qg.createNativeAd({posId:l.utils.config.oppoconfig.intersitialAdConfigs[e].id}))&&(l.utils.config.oppoconfig.intersitialAdConfigs[e].nativeInsertAd=i,i.onLoad(function(o){if(p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),o&&o.adList&&o.adList.length>0){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(o));var n=(o=JSON.parse(JSON.stringify(o))).adList[0];if(t._checkNativeInsertDataValid(n))return p.default.EventAd(_.YwAdType.INTERSITITIAL,_.YwAdStatus.AD_ID_REQUEST_SUCCESS),p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),void t._showNativeInsert(i,n);l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01"),p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id))}l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t.ShowInterstitialByConfigs(e+1)}),i.onError(function(i){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+i.code+i.msg),p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id,i.code,i.msg)),t.ShowInterstitialByConfigs(e+1)}))),i?i.load():(p.default.EventAdWithObj(_.YwAdType.NATIVE_INTERSITITIAL,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5931\u8d25\uff1a#index="+e),this.ShowInterstitialByConfigs(e+1))}},t.prototype.getNativeAdData=function(){return this._nativeAdObject||(this._nativeAdObject=new u.default),this._nativeAdObject._nativeObj=this._nativeAd,this._nativeAdObject.data&&this._nativeAdObject.data.adId!=this._nativeData.adId&&(this._nativeAdObject.is_reportClick=!1,this._nativeAdObject.is_reportShow=!1),this._nativeAdObject.data=this._nativeData,this._nativeData&&this._nativeAd?(l.utils.showLog("\u83b7\u53d6\u539f\u751f\u6570\u636e >>>",this._nativeData,"...",this._nativeAdObject),this._nativeAdObject):null},t.prototype.createNativeAd=function(e,t){var i=this;if(void 0===e&&(e=null),l.utils.showLog("_createNativeAd >>>>>"),c.default.IsOPPO){t&&(this._curNativeItem=t);var o=this.ServerConfig.st_native_ad_refresh_time?this.ServerConfig.st_native_ad_refresh_time:0;if(this._nativeAdObject&&this._nativeAdObject.data&&!this._nativeAdObject.is_reportClick&&((new Date).getTime()-this._singleAdCreateTime)/1e3<o)return l.utils.showLog("\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7684\u5c55\u793a\u65f6\u95f4"+((new Date).getTime()-this._singleAdCreateTime)/1e3+"\u79d2\uff0c\u672a\u8fbe\u5237\u65b0\u65f6\u95f4"+o+"\u79d2\u9650\u5236\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0a\u4e00\u6b21\u6570\u636e\uff01"),void this._showNativeAd();l.utils.showLog("_curPosIdIndexSingleNative:"+this._curPosIdIndexSingleNative+"  #this._nativeSingleAd.length"+this._nativeSingleAd.length);var n=this._nativeSingleAd[this._curPosIdIndexSingleNative];n||l.utils.config.oppoconfig.nativeSingleAdIds&&l.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544a\u3002 posId:"+l.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]),(n=qg.createNativeAd({posId:l.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]}))&&(this._nativeSingleAd.push(n),n.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var t=(e=JSON.parse(JSON.stringify(e))).adList[0];if(i._checkNativeDataValid(t))return i._singleAdCreateTime=(new Date).getTime(),i._curPosIdIndexSingleNative=0,i._nativeData=t,i._nativeAd=n,void i._showNativeAd();l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),i._curPosIdIndexSingleNative++,i._curPosIdIndexSingleNative<l.utils.config.oppoconfig.nativeSingleAdIds.length?i.createNativeAd():(i._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"))}),n.onError(function(e){l.utils.showLog("\u539f\u751f\u5355\u4e2a\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),i._curPosIdIndexSingleNative++,i._curPosIdIndexSingleNative<l.utils.config.oppoconfig.nativeSingleAdIds.length?i.createNativeAd():(i._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"))}))),n?(l.utils.showLog("nativeSingleAd reload"),n.load()):(this._curPosIdIndexSingleNative++,l.utils.config.oppoconfig.nativeSingleAdIds&&this._curPosIdIndexSingleNative<l.utils.config.oppoconfig.nativeSingleAdIds.length?this.createNativeAd():(this._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID \u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01")))}},t.prototype._showNativeBanner=function(e,t){if(c.default.IsOPPO&&t)if(cc.isValid(this._nativeBannerNode)&&this._nativeBannerNode&&this._nativeBannerNode.destroy(),this._nativeBannerNode=cc.instantiate(l.utils.config.otherconfig.nativeBanner),this._nativeBannerNode.position=d.default.position(cc.winSize.width/2,this._nativeBannerNode.height*this._nativeBannerNode.scaleY/2),cc.director.getScene().addChild(this._nativeBannerNode,1e3),this._nativeBannerNode){this._nativeBannerNode.active=!0;var i=this._nativeBannerNode.getComponent("YZ_NativeBanner");i?i.init(e,t,this.getNativeBannerInfo()):l.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!"),this._showBannerCallBack&&this._showBannerCallBack(),this._showBannerCallBack=null}else l.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype._showNativeInsert=function(e,t){if(c.default.IsOPPO&&t)if((!cc.isValid(this._nativeInsertNode)||!this._nativeInsertNode&&l.utils.config.otherconfig.nativeInsert)&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d"),this._nativeInsertNode=cc.instantiate(l.utils.config.otherconfig.nativeInsert),this._nativeInsertNode.position=d.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._nativeInsertNode,999999)),this._nativeInsertNode){var i=this._nativeInsertNode.getComponent("YZ_NativeInsert");if(i){this._nativeInsertAdShowCount=0,i.init(e,t),this._insertLastShowTime=(new Date).getTime(),l.utils.oppoTool.countInserShowCount(),l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u663e\u793a\u6210\u529f\uff0c\u5f53\u524d\u663e\u793a\u6b21\u6570="+l.utils.oppoTool.insertAdShowCounts);var o=this.ServerConfig.intersititial_open_close_banner;o&&o>0&&(l.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==o?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),this.HideBanner())}else l.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.HideSingleNativeAd=function(){this.signleNativeAd&&cc.isValid(this.signleNativeAd)&&this.signleNativeAd.destroy()},t.prototype.ShowCloseBtnBanner=function(e,t){var i=this;void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");var o=0,n=0,s=t.closeBtn,a=cc.winSize.height;s.opacity=0,this.ServerConfig&&(this.ServerConfig.is_move_btn&&(o=this.ServerConfig.is_move_btn),this.ServerConfig.close_btn_fade_in_time&&(n=this.ServerConfig.close_btn_fade_in_time),l.utils.showLog(0==o?"\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762":"\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14"+o+"\u6beb\u79d2\u540e\u79fb\u52a8"),setTimeout(function(){l.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>"),i.ShowBanner(e,t),l.utils.showLog("utils - adY:240"),s&&(s.y=-(a/2-240)+s.height,l.utils.showLog("btnClose.y"+s.y))},o),setTimeout(function(){s.runAction(cc.fadeIn(.3))},1e3*n))},t.prototype._checkNativeInsertDataValid=function(e){return!!e&&e.title&&(e.iconUrlList&&e.iconUrlList.length>0||e.imgUrlList&&e.imgUrlList.length>0)},t.prototype._checkNativeDataValid=function(e){return!!e&&e.imgUrlList&&e.imgUrlList.length},t.prototype.checkRewardInsertIsShow=function(){var e=l.utils.getRecommondGameList();return l.utils.isSupportnavigateToMiniGame()?l.utils.oppoTool&&l.utils.oppoTool.ServerConfig&&l.utils.oppoTool.ServerConfig.is_reward_intersititia?"true"==l.utils.oppoTool.ServerConfig.is_reward_intersititia&&e&&e.length>0?(l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u663e\u793a\u73af\u5883\u9a8c\u8bc1\u901a\u8fc7\uff01"),!0):(l.utils.showLog("is_reward_intersititia \u53c2\u6570\u4e3afalse\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1):(l.utils.showLog("\u914d\u7f6e\u4e2d\u6ca1\u6709is_reward_intersititia\u53c2\u6570\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1):(l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\uff01"),!1)},t.prototype.showRewardInsert=function(){if(l.utils.showLog("show reward"),!this.checkRewardInsertIsShow())return this._videoCallback&&this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a\uff01"),void(l.utils.adManager.videoCallBack=null);if(cc.isValid(this._rewardInsertNode)&&this._rewardInsertNode||!l.utils.config.otherconfig.rewardInsert||(l.utils.showLog("\u521b\u5efa\u6fc0\u52b1\u63d2\u5c4f\u5e7f\u544a"),this._rewardInsertNode=cc.instantiate(l.utils.config.otherconfig.rewardInsert),this._rewardInsertNode.position=d.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._rewardInsertNode,9999)),this._rewardInsertNode){var e=this._rewardInsertNode.getComponent("RewardInsert");e?(e.isShow=!1,l.utils.showLog("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01")):l.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.hideRewardInsert=function(){if(this._rewardInsertNode){var e=this._rewardInsertNode.getComponent("RewardInsert");e?(e.hide(),l.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01")):l.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.checkIsShowStatementAd=function(){return!(!l.utils.isSupportnavigateToMiniGame()||!this.ServerConfig)||(l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1)},t.prototype.ShowStatementRecomment=function(e){if(void 0===e&&(e=!0),this.checkIsShowStatementAd()){if(e)return l.utils.config.otherconfig.statementRecomment?((t=cc.instantiate(l.utils.config.otherconfig.statementRecomment)).getComponent("YZ_StatementRecommentAd").showNativeAd=e,l.utils.showLog("\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u548c\u539f\u751f\u5e7f\u544a"),t):(l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 StatementRecomment, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null);if(l.utils.config.otherconfig.crossWidget6){var t=cc.instantiate(l.utils.config.otherconfig.crossWidget6);return l.utils.showLog("\u53ea\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u5e7f\u544a"),t}return l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 crossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null}return null},t.prototype._showNativeAd=function(){this._curNativeItem&&cc.isValid(this._curNativeItem.node)&&this._curNativeItem.init(this.getNativeAdData())},t.prototype.ShowSingleNativeAd=function(e){if(l.utils.config.otherconfig.singleNativeAd){this.signleNativeAd&&cc.isValid(this.signleNativeAd)&&this.signleNativeAd.destroy(),this.signleNativeAd=cc.instantiate(l.utils.config.otherconfig.singleNativeAd);var t=this.signleNativeAd.getComponent("YZ_NativeItem");return t.showType=2,t.params=e,this._curNativeItem=t,e&&e.parent&&e.parent.addChild(this.signleNativeAd,cc.macro.MAX_ZINDEX),this.createNativeAd(),l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01"),this.signleNativeAd}return l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null},t.prototype.showStatementAds=function(){var e={type:0,node:null};return this.ServerConfig&&this.ServerConfig.statement_type?(4===this.ServerConfig.statement_type?(e.type=2,e.node=this.ShowSingleNativeAd(),l.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u5355\u4e2a\u539f\u751f\u5e7f\u544a>>"+e.node.name)):this.ShowInterstitial(),e):(l.utils.showLog("\u6ca1\u6709\u914d\u7f6e\u7ed3\u7b97\u5e7f\u544a\uff01"),e)},t.prototype.createNativeTryGameWidget=function(e){void 0===e&&(e=null),this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy();var t=cc.instantiate(l.utils.config.otherconfig.nativeTryGameWidget);t&&(this._nativeTryGameNode=t,this._nativeTryGameNode.zIndex=9999);var i=(t=this._nativeTryGameNode).getComponent(cc.Widget);e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(i.isAlignTop=!0,i.isAlignBottom=!1,i.top=e.top):null!=e.bottom&&(i.isAlignTop=!1,i.isAlignBottom=!0,i.bottom=e.bottom),null!=e.left?(i.isAlignLeft=!0,i.isAlignRight=!1,i.left=e.left):null!=e.right&&(i.isAlignLeft=!1,i.isAlignRight=!0,i.right=e.right),null!=e.parent&&(t.parent=e.parent)),i.updateAlignment(),t.active=!0,this._nativeTryGameNode&&this._nativeTryGameNode.getComponent(h.default).init()},t.prototype.hideNativeTryGameWidget=function(){this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy()},t.prototype.canShowNativeTemplateAd=function(){return qg.createCustomAd},t.prototype.getNativeTemplateAdStyle=function(e){var t={},i=l.utils.oppoTool.SysInfo;switch(e){case 1:t.width="",t.top="",t.left="";break;case 2:t.width="",t.top=(i.screenHeight-400)/2,t.left=""}return t},t.prototype._createNativeTemplateBannerAd=function(e){var t=this;l.utils.showLog("_createNativeTemplateBannerAd : #index="+e),p.default.EventAdWithObj(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.REQUEST,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),this.canShowNativeTemplateAd()?e<l.utils.config.oppoconfig.bannerAdConfigs.length&&(this.nativeTemplateBannerAd=qg.createCustomAd({adUnitId:l.utils.config.oppoconfig.bannerAdConfigs[e].id,style:this.getNativeTemplateAdStyle(1)}),this.nativeTemplateBannerAd.onLoad(function(){t.nativeTemplateBannerAd.offLoad(),l.utils.showLog("NativeTemplateBannerAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),p.default.EventAdWithObj(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id))}),this.nativeTemplateBannerAd.onError(function(i){return t.nativeTemplateBannerAd.offError(),p.default.EventAdWithObj(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.REQUEST_FAIL,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),l.utils.showLog("NativeTemplateBannerAd \u5e7f\u544a\u5f02\u5e38\uff1a#erro="+JSON.stringify(i)),t._nativeIsClose?(l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01"),void p.default.EventAd(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL)):-1==t.getNativeBannerInfo().st_banner_show_back_up?(p.default.EventAd(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.AD_ID_REQUEST_FAIL),void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01")):void t.ShowBannerByConfigs(e+1)}),this.nativeTemplateBannerAd.show().then(function(){p.default.EventAdWithObj(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.bannerAdConfigs[e].id)),p.default.EventAd(_.YwAdType.NATIVE_TEMPLATE_BANNER,_.YwAdStatus.AD_ID_REQUEST_SUCCESS),t.nativeTemplateBannerAd.offShow(),l.utils.showLog("NativeTemplateBannerAd show success"),t.hideBanner("template")}).catch(function(e){l.utils.showLog("NativeTemplateBannerAd show fail with:"+e.errCode+","+e.errMsg)})):l.utils.showLog("\u5f53\u524d\u5feb\u5e94\u7528\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01")},t.prototype.hideNativeTemplateBannerAd=function(){l.utils.showLog("hideNativeTemplateBannerAd "),this.nativeTemplateBannerAd&&this.nativeTemplateBannerAd.destroy(),this.nativeTemplateBannerAd=null},t.prototype._createNativeTemplateIntersitialAd=function(e){var t=this;if(l.utils.showLog("_createNativeTemplateIntersitialAd : #index="+e),this.canShowNativeTemplateAd()){if(e<l.utils.config.oppoconfig.intersitialAdConfigs.length){l.utils.showLog("nativetemplate style="+this.getNativeTemplateAdStyle(2));var i=qg.createCustomAd({adUnitId:l.utils.config.oppoconfig.intersitialAdConfigs[e].id,style:this.getNativeTemplateAdStyle(2)});i.onLoad(function(){p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.REQUEST_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id)),l.utils.showLog("NativeTemplateIntersitialAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),i.onError(function(i){l.utils.showLog("NativeTemplateIntersitialAd \u5e7f\u544a\u5f02\u5e38\uff1a"+ +JSON.stringify(i)),t.ShowInterstitialByConfigs(e+1)}),i.show().then(function(){l.utils.showLog("NativeTemplateIntersitialAd show success"),t._insertLastShowTime=(new Date).getTime();var i=t.ServerConfig.intersititial_open_close_banner;i&&i>0&&(l.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e"+(1==i?"\u9500\u6bc1":"\u9690\u85cf")+"banner!"),t.HideBanner()),p.default.EventAd(_.YwAdType.INTERSITITIAL,_.YwAdStatus.AD_ID_REQUEST_SUCCESS),p.default.EventAdWithObj(_.YwAdType.INTERSITITIAL,_.YwAdStatus.SHOW_SUCCESS,new _.AdEventParameter(l.utils.config.oppoconfig.intersitialAdConfigs[e].id))}).catch(function(e){l.utils.showLog("NativeTemplateIntersitialAd show fail with:"+e.errCode+","+e.errMsg)})}}else l.utils.showLog("\u5f53\u524d\u5feb\u5e94\u7528\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01")},t.prototype.GameExit=function(){},t.prototype.Share=function(){},s([g],t)}(a.default));i.default=v,cc._RF.pop()},{"./AdAgent":"AdAgent","./CompatibleTool":"CompatibleTool","./NativeTryGamesWidget":"NativeTryGamesWidget","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_NativeAdObject":"YZ_NativeAdObject","./YouWanSDK/EventAdInfo":"EventAdInfo","./YouWanSDK/YouWanAnalytics":"YouWanAnalytics"}],AdAgentQQ:[function(e,t,i){"use strict";cc._RF.push(t,"6cb5aEWJx5EW7q8x7AowbbW","AdAgentQQ");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._curBannerAd=null,t._videoAd=null,t._insertAd=null,t._oldAd=null,t._appBox=null,t._videoCallback=null,t._isVideoLoaded=!1,t._isVideoShow=!1,t.qq=window.qq,t._bannerShow=!1,t._bannerSizePercent=.5,t._bannerBottom=0,t._oldBannerLocation=r.BannerLocation.None,t._curBannerHeight=240,t._moveBtn=null,t._cur_level=null,t._showBannerTimerId=0,t._isShow=!1,t._blockAd=null,t}return n(t,e),t.prototype.Init=function(){var e=this;c.default.IsQQ&&l.utils.registerServerInitEvent(function(){e._sysData=l.utils.Tool_QQ.getSystemInfo(),e._initVideoAd()},this)},Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.Tool_QQ.ServerConfig},enumerable:!1,configurable:!0}),t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd){if(l.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!"),!l.utils.config.qqconfig.videoId)return l.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u9519\u8bef!"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));l.utils.showLog("\u89c6\u9891\u5e7f\u544aID:",l.utils.config.qqconfig.videoId.trim()),this._videoAd=this.qq.createRewardedVideoAd({adUnitId:l.utils.config.qqconfig.videoId}),this._videoAd?(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),e._isVideoLoaded=!0,e._isVideoShow&&e._videoAd.show().then(function(){}).catch(function(){l.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01"),e._videoCallback&&(e._videoCallback("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)})}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!",t.code,t.msg),e._isVideoLoaded=!1,e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)}),this._videoAd.onClose(function(t){e._isVideoShow=!1,t&&t.isEnded||void 0===t?(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))})):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u521d\u59cb\u5316\u5931\u8d25!"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null))}},t.prototype._createBanner=function(e,t){var i=this;if(void 0===t&&(t=null),c.default.IsQQ){if(!l.utils.config.qqconfig.bannerId)return void l.utils.showLog("banner\u5e7f\u544aID\u4e0d\u5b58\u5728");var o=t;this._bannerShow=!1,o&&o.width&&(this._bannerSizePercent=o.width<0?0:o.width,this._bannerSizePercent=o.width>1?1:this._bannerSizePercent),o&&o.bottom&&(this._bannerBottom=o.bottom/this._sysData.pixelRatio,this._bannerBottom=this._bannerBottom<0?0:this._bannerBottom,this._bannerBottom=this._bannerBottom>this._sysData.screenHeight?this._sysData.screenHeight:this._bannerBottom);var n=(this._sysData.screenWidth-300)/2,s=this._sysData.screenHeight-72-this._bannerBottom,a={adUnitId:l.utils.config.qqconfig.bannerId,style:{left:n,width:300,top:s,height:72}},r=null,u=this._curBannerAd;r=this.qq.createBannerAd(a),l.utils.showLog("bannerAd ",r),r&&(r.onError(function(e){l.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(e)),i._bannerShow=!1}),r.onLoad(function(){if(!i._bannerShow){i._bannerShow=!0;try{r.show().then(function(){l.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!"),i.ServerConfig.banner_move_btn_interval&&i._cur_level&&i._cur_level%i.ServerConfig.banner_move_btn_interval==0&&i.moveBtnToBannerTop(),u&&u.destroy(),i._curBannerAd=r}).catch(function(e){l.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519",JSON.stringify(e)),i._bannerShow=!1})}catch(e){i.ServerConfig.banner_move_btn_interval&&i._cur_level&&i._cur_level%i.ServerConfig.banner_move_btn_interval==0&&i.moveBtnToBannerTop(),l.utils.showLog("Banner ad Show erro",e)}}}),r.onResize(function(e){e&&(i._curBannerHeight=e.height*i._sysData.pixelRatio)}))}},t.prototype._showBannerTimer=function(e,t){var i=this,o=e,n=t;l.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:"+o+"; \u95f4\u9694\u65f6\u95f4:"+l.utils.Tool_QQ.ServerConfig.refresh_ad_time+":\u4f18\u5148\u7ea7\uff1a"+this.ServerConfig.banner_first_ad);var s=this.ServerConfig.banner_delay_time?this.ServerConfig.banner_delay_time:0;l.utils.showLog("\u5ef6\u8fdf"+s+"\u79d2\u663e\u793abanner"),this.ServerConfig.banner_move_btn_interval&&this._cur_level&&this._cur_level%this.ServerConfig.banner_move_btn_interval==0||(l.utils.showLog("\u5f53\u524d\u5173\u5361\u4e0d\u505a\u5ef6\u8fdf\u79fb\u52a8\uff01"),this.moveBtnToBannerTop()),this._showBannerTimerId=setTimeout(function(){i._createBanner(o,n)},1e3*s)},t.prototype.ShowBanner=function(e,t){if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsQQ)if(l.utils.Tool_QQ.ServerConfig){var i=e,o=t;this._moveBtn=t?t.moveBtn:null,this._cur_level=t?t.cur_level:null,this._showBannerTimer(i,o)}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsQQ&&(l.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761"),this._bannerShow=!1,clearInterval(this._showBannerTimerId),this._curBannerAd&&this._curBannerAd.hide())},t.prototype.ShowVideo=function(e){var t=this;c.default.IsQQ&&(this._videoCallback=e,this._isVideoShow=!0,this._videoAd?this._videoAd.show().then(function(){l.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("\u89c6\u9891\u672a\u52a0\u8f7d\uff01"),t._videoAd.load()}):this._initVideoAd())},t.prototype.ShowInterstitial=function(e){if(void 0===e&&(e=null),c.default.IsQQ){if(!l.utils.Tool_QQ.isOverMinVersion("1.12.0"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c"+l.utils.Tool_QQ._sysInfo.SDKVersion+"\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a\u548c\u76d2\u5b50\u5e7f\u544a!");if(this.ServerConfig)if(this.ServerConfig.intersititial_first_ad)switch(l.utils.showLog("\u670d\u52a1\u5668\u63d2\u5c4f\u4f18\u5148\u7ea7>>>"+this.ServerConfig.intersititial_first_ad),this.ServerConfig.intersititial_first_ad){case"default":l.utils.delayCall(this._createInsterstitial.bind(this),this.ServerConfig.intersititia_delay_show_time||0);break;case"box":if(!l.utils.Tool_QQ.isOverMinVersion("1.7.1"))return l.utils.showLog("\u5f53\u524d\u7248\u672c"+l.utils.Tool_QQ._sysInfo.SDKVersion+"\u4e0d\u652f\u6301\u76d2\u5b50\u5e7f\u544a,\u663e\u793a\u63d2\u5c4f"),void l.utils.delayCall(this._createInsterstitial.bind(this),this.ServerConfig.intersititia_delay_show_time||0);l.utils.delayCall(this.ShowAppBox.bind(this),this.ServerConfig.intersititia_delay_show_time||0);break;case"onlydefault":l.utils.delayCall(this._createInsterstitial.bind(this),this.ServerConfig.intersititia_delay_show_time||0)}else l.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u4f18\u5148\u7ea7\uff0c\u663e\u793a\u9ed8\u8ba4\u63d2\u5c4f"),l.utils.delayCall(this._createInsterstitial.bind(this),this.ServerConfig.intersititia_delay_show_time||0)}},t.prototype._createInsterstitial=function(){var e=this;l.utils.showLog("_createInsterstitial >>> 222"),this._insertAd||(this._insertAd=this.qq.createInterstitialAd({adUnitId:l.utils.config.qqconfig.insertId}),this._insertAd.onError(function(t){switch(t.errCode){case 2001:l.utils.showLog("\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e00\u5b9a\u65f6\u95f4\u5185\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2002:l.utils.showLog("\u8ddd\u79bb\u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db3\uff0c\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2003:l.utils.showLog("\u5f53\u524d\u6b63\u5728\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6216\u8005\u63d2\u5c4f\u5e7f\u544a\uff0c\u4e0d\u5141\u8bb8\u518d\u6b21\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2004:l.utils.showLog("\u8be5\u9879\u9519\u8bef\u4e0d\u662f\u5f00\u53d1\u8005\u7684\u5f02\u5e38\u60c5\u51b5\uff0c\u6216\u56e0\u5c0f\u7a0b\u5e8f\u9875\u9762\u5207\u6362\u5bfc\u81f4\u5e7f\u544a\u6e32\u67d3\u5931\u8d25");break;case 2005:l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5b9e\u4f8b\u4e0d\u5141\u8bb8\u8de8\u9875\u9762\u8c03\u7528");break;default:l.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(t))}if(e.ServerConfig.intersititial_first_ad&&"default"==e.ServerConfig.intersititial_first_ad){l.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u63d2\u5c4f\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u76d2\u5b50\u5e7f\u544a\uff01");var i=e.ServerConfig.insert_show_appBox_level?e.ServerConfig.insert_show_appBox_level:0;l.utils.currentLevel>i?e.ShowAppBox():l.utils.showLog("\u5907\u7528\u663e\u793a\u76d2\u5b50\u5e7f\u544a\u672a\u8fbe\u5230\u5173\u5361\u9650\u5236\u8981\u6c42")}}),this._insertAd.onClose(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed\u6210\u529f\uff01")})),this._insertAd&&(this._insertAd.load().then(function(){l.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f! "),e._insertAd.show().then(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f!")}).catch(function(e){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519",JSON.stringify(e))})}).catch(function(){l.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25! ")}),this._isShow||(this._insertAd.show().then(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f!")}).catch(function(e){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519",JSON.stringify(e))}),this._isShow=!0))},t.prototype.ShowAppBox=function(e){var t=this;if(c.default.IsQQ){if(!l.utils.Tool_QQ.isOverMinVersion("1.7.1"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c"+l.utils.Tool_QQ._sysInfo.SDKVersion+"\u4e0d\u652f\u6301\u6e38\u620f\u76d2\u5b50!");l.utils.showLog(">>>>>ShowAppBox"),this._appBox?this._appBox.destroy().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50id\u4e3a:",l.utils.config.qqconfig.boxId),t._appBox=t.qq.createAppBox({adUnitId:l.utils.config.qqconfig.boxId}),t._appBox.load().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u6210\u529f\uff01"),t._appBox.show().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u663e\u793a\u6210\u529f\uff01")}).catch(function(e){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u672a\u52a0\u8f7d\uff01#err=",JSON.stringify(e))})}).catch(function(i){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u5931\u8d25\uff01 #err=",JSON.stringify(i)),!e&&t.ServerConfig.intersititial_first_ad&&"box"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u76d2\u5b50\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u63d2\u5c4f"),t._createInsterstitial())})}).catch(function(e){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u5931\u8d25\uff01 #err=",JSON.stringify(e))}):(l.utils.showLog("\u6e38\u620f\u76d2\u5b50id\u4e3a:",l.utils.config.qqconfig.boxId),this._appBox=this.qq.createAppBox({adUnitId:l.utils.config.qqconfig.boxId}),this._appBox.load().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u6210\u529f\uff01"),t._appBox.show().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u663e\u793a\u6210\u529f\uff01")}).catch(function(e){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u672a\u52a0\u8f7d\uff01#err=",JSON.stringify(e))})}).catch(function(i){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u5931\u8d25\uff01 #err=",JSON.stringify(i)),!e&&t.ServerConfig.intersititial_first_ad&&"box"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u76d2\u5b50\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u63d2\u5c4f"),t._createInsterstitial())}))}},t.prototype.HideAppbox=function(){c.default.IsQQ&&this._appBox&&this._appBox.destroy().then(function(){l.utils.showLog("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u6210\u529f\uff01")}).catch(function(){cc.warn("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u5931\u8d25!")})},t.prototype.showBlockAd=function(e){var t=this;if(this.ServerConfig)if(l.utils.config.qqconfig.bannerBoxId)if("false"!=this.ServerConfig.is_banner_box){if(this._blockAd&&(this._blockAd.offLoad(),this._blockAd.offResize(),this._blockAd.offError(),this._blockAd.destroy()),c.default.IsIOS&&this._sysData.screenHeight<736){var i,o=16,n=65;i=e.top?e.top/cc.winSize.height*this._sysData.screenHeight:this._sysData.screenHeight-65.5-e.bottom/cc.winSize.height*this._sysData.screenHeight,this._blockAd=this.qq.createBlockAd({adUnitId:l.utils.config.qqconfig.bannerBoxId,style:{left:o,top:i},size:e.showNum?e.showNum:5,orientation:"landscape"}),this._blockAd.onResize(function(i){t._blockAd.offResize(),l.utils.showLog("this._sysData",JSON.stringify(t._sysData)),l.utils.showLog("onresize >>",JSON.stringify(i)),t._blockAd.show().then(function(){l.utils.showLog("\u663e\u793a\u6210\u529f\uff01")}).catch(function(e){l.utils.showLog("\u663e\u793a\u5f02\u5e38",JSON.stringify(e))}),n=1==e.showNum?0:i.width,o=e.left?e.left/cc.winSize.width*t._sysData.screenWidth:e.right?t._sysData.screenWidth-i.width-e.right/cc.winSize.width*t._sysData.screenWidth:(t._sysData.screenWidth-n)/2,t._blockAd.style.left=o,l.utils.showLog("onresize end>>",t._blockAd.style.top,"<<",t._blockAd.style.left,"<<")})}else this._blockAd=this.qq.createBlockAd({adUnitId:l.utils.config.qqconfig.bannerBoxId,style:{left:16,top:16},size:e.showNum?e.showNum:5,orientation:"landscape"}),this._blockAd.onResize(function(i){t._blockAd.offResize(),l.utils.showLog("this._sysData",JSON.stringify(t._sysData)),l.utils.showLog("onresize >>",JSON.stringify(i)),e?(l.utils.showLog("parme:"+JSON.stringify(e)),e.top?(l.utils.showLog("\u79ef\u6728\u5e7f\u544aTOP\u4f4d\u7f6e\uff1a",e.top),t._blockAd.style.top=e.top/cc.winSize.height*t._sysData.screenHeight):e.bottom&&(t._blockAd.style.top=t._sysData.screenHeight-i.height-e.bottom/cc.winSize.height*t._sysData.screenHeight),e.left?t._blockAd.style.left=e.left/cc.winSize.width*t._sysData.screenWidth:e.right?t._blockAd.style.left=t._sysData.screenWidth-i.width-e.right/cc.winSize.width*t._sysData.screenWidth:t._blockAd.style.left=(t._sysData.screenWidth-i.width)/2):(t._blockAd.style.top=t._sysData.screenHeight-i.height,t._blockAd.style.left=(t._sysData.screenWidth-i.width)/2),t._blockAd.show().then(function(){l.utils.showLog("\u663e\u793a\u6210\u529f\uff01")}).catch(function(e){l.utils.showLog("\u663e\u793a\u5f02\u5e38",JSON.stringify(e))}),l.utils.showLog("onresize end>>",t._blockAd.style.top,"<<",t._blockAd.style.left,"<<")});this._blockAd.onLoad(function(){l.utils.showLog("\u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01")}),this._blockAd.onError(function(e){l.utils.showLog("\u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01",e.errMsg,">>",e.errCode)})}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u79ef\u6728\u5e7f\u544a\u4e0d\u5c55\u793a\uff01");else l.utils.showLog("\u79ef\u6728\u5e7f\u544aID\u4e0d\u5b58\u5728");else l.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01")},t.prototype.hideBlockAd=function(){l.utils.showLog("\u9690\u85cf\u79ef\u6728\u5e7f\u544a"),this._blockAd&&this._blockAd.hide()},t.prototype.moveBtnToBannerTop=function(){var e=this;if(l.utils.showLog("moveBtnToBannerTop >>>>>>>>>."),this.ServerConfig&&this._moveBtn&&cc.isValid(this._moveBtn)){var t=0,i=this._moveBtn;this.ServerConfig.banner_move_btn_interval&&this._cur_level&&this._cur_level%this.ServerConfig.banner_move_btn_interval==0&&this.ServerConfig.banner_move_btn_time&&(t=this.ServerConfig.banner_move_btn_time),l.utils.showLog(0==t?"\u6309\u94ae\u76f4\u63a5\u663e\u793a\u5728banner\u4e0a\u9762":"\u6309\u94ae\u5c45\u5e95\u90e8\u4e14"+t+"\u79d2\u540e\u79fb\u52a8"),setTimeout(function(){i&&cc.isValid(i)&&(e._sysData.screenHeight<600?i.getComponent(cc.Widget).bottom=250:i.getComponent(cc.Widget).bottom=220,i.getComponent(cc.Widget).updateAlignment())},1e3*t)}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentQTT:[function(e,t,i){"use strict";cc._RF.push(t,"520fef1u0xCZbOYX8XB2Yli","AdAgentQTT");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bannerAd=null,t._videoAd=null,t._isInsertAdShow=!1,t._isInsertAdLoaded=!1,t._videoCallback=null,t._isVideoLoaded=!1,t._isVideoShow=!1,t.qttGame=window.qttGame,t.options=null,t._insertLastShowTime=0,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils._tool_QTT&&l.utils._tool_QTT.ServerConfig?l.utils._tool_QTT.ServerConfig:{}},enumerable:!1,configurable:!0}),t.prototype.Init=function(){c.default.IsQTT&&(l.utils.config.qttconfig.showAd||cc.warn("\u5e7f\u544a\u5f00\u5173\u5173\u95ed\u72b6\u6001\uff0c\u6240\u6709\u5e7f\u544a\u4e0d\u663e\u793a\uff01\u8981\u663e\u793a\u5e7f\u544a\uff0c\u8bf7\u6253\u5f00 CommonUtils \u7ec4\u4ef6\u4e0aVIVIO \u914d\u7f6e\u4e0b\u7684\u5e7f\u544a\u5f00\u5173\uff01"))},t.prototype.createOption=function(){var e=this,t={};return t.gametype=Math.floor(3*Math.random()+1),t.rewardtype=1,t.data={},t.data.title="\u83b7\u5f97\u5956\u52b1",t.data.url="//newidea4-gamecenter-frontend.1sapp.com/game/prod/fkxxl_img/1.png",t.callback=function(t){l.utils.showLog("\u64ad\u653e\u4e92\u52a8\u5e7f\u544a>> #res=",t),1==t?e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null):e._videoCallback&&(e._videoCallback(!1,"\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!"),e._videoCallback=null)},t},t.prototype.ShowBanner=function(){if(c.default.IsQTT){if(!l.utils.config.qttconfig.showAd)return;var e={};e.index=location,cc.winSize.height<cc.winSize.width&&(e.x=1,e.y=1,e.w=cc.winSize.width,e.stage_width=cc.winSize.width,e.stage_height=cc.winSize.height),this.qttGame.showBanner(e)}},t.prototype.HideBanner=function(){if(c.default.IsQTT){if(!l.utils.config.qttconfig.showAd)return;this.qttGame.hideBanner()}},t.prototype.ShowInterstitial=function(e){void 0===e&&(e=r.BannerLocation.Home)},t.prototype.showInteractiveAd=function(){if(c.default.IsQTT){if(!this.checkInsertAdShow())return;l.utils.showLog("\u4e92\u52a8\u76f4\u5f39\u65f6\u95f4\u95f4\u9694\u5f00\u59cb"),this._insertLastShowTime=(new Date).getTime(),this.qttGame.showHDReward({rewardtype:1})}},t.prototype.checkInsertAdShow=function(){var e=this.ServerConfig.intersititial_interval_time?this.ServerConfig.intersititial_interval_time:30,t=((new Date).getTime()-this._insertLastShowTime)/1e3;return l.utils.showLog("qtt\u670d\u52a1\u5668\u63d2\u5c4f\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+e+"\u79d2\uff01"),l.utils.showLog("qtt\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a"+t+"\u79d2\uff01"),!(e>0&&t<e&&(l.utils.showLog("qtt\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+e+"\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),1))},t.prototype.ShowVideo=function(e){var t=this;if(c.default.IsQTT){if(this._videoCallback=e,!l.utils.config.qttconfig.showAd)return void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));this._isVideoShow=!0;var i=this.createOption();this.qttGame.showVideo(function(e){l.utils.showLog("\u64ad\u653e\u89c6\u9891\u5e7f\u544a>> #res=",e),1==e?t._videoCallback&&(t._videoCallback(!0,""),t._videoCallback=null):t._videoCallback&&(0==e?t._videoCallback(!1,"\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!"):2==e&&t._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!"),t._videoCallback=null)},i)}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentUC:[function(e,t,i){"use strict";cc._RF.push(t,"55980AsZiBGCooaYvCVOMVB","AdAgentUC");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./PlatUtils"),c=e("./Utils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._videoCallback=null,t._isVideoLoaded=!1,t._videoAd=null,t._bannerAd=null,t.uc=window.uc,t._sysInfo={},t}return n(t,e),t.prototype.Init=function(){if(c.utils.showLog("UC \u5e7f\u544a\u521d\u59cb\u5316"),this.initVideo(),!this._sysInfo&&(this._sysInfo=this.uc.getSystemInfoSync(),"string"==typeof this._sysInfo))try{this._sysInfo=JSON.parse(this._sysInfo)}catch(e){}},t.prototype.ShowBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null),c.utils.showLog("uc banner width>>",this._sysInfo.screenWidth," #height>>",194*this._sysInfo.screenWidth/345),this._bannerAd=this.uc.createBannerAd({style:{gravity:7,bottom:0,width:cc.winSize.height<cc.winSize.width?250:this._sysInfo.screenWidth,height:this._sysInfo.screenWidth/4}}),this._bannerAd&&(this._bannerAd.show(),this._bannerAd.onError(function(e){c.utils.showLog("UC\u5e73\u53f0banner\u51fa\u9519"+e)}))},t.prototype.ShowInterstitial=function(){c.utils.showLog("\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");var e=this.uc.createInterstitialAd();e.load().then().catch(function(e){return c.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5f02\u5e38\uff1a"+e)}),e.onLoad(function(){e.offLoad(),e.show().then().catch(function(e){return c.utils.showLog("\u63d2\u5c4f\u5c55\u793a\u5f02\u5e38\uff1a"+e)}),c.utils.showLog("UC\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(e){c.utils.showLog(e)})},t.prototype.initVideo=function(){var e=this;this._videoAd=this.uc.createRewardVideoAd(),this._videoAd.onLoad(function(){c.utils.showLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._videoAd.onError(function(t){c.utils.showLog("\u51fa\u9519\u4e86\uff1a"+t),e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a"),e._videoCallback=null)}),this._videoAd.onClose(function(t){c.utils.showLog("\u7528\u6237\u5173\u95ed\u89c6\u9891"+t),t&&t.isEnded?e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null):e._videoCallback&&(e._videoCallback(!1,"\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!"),e._videoCallback=null)})},t.prototype.ShowVideo=function(e){r.default.ISUC&&(this._videoCallback=e,this._videoAd?this._videoAd.show():this.initVideo())},s([u],t)}(a.default));i.default=h,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils"}],AdAgentVIVO:[function(e,t,i){"use strict";cc._RF.push(t,"403ectDoOdB058Z+/79HsK6","AdAgentVIVO");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./NativeTryGamesWidget"),h=e("./CompatibleTool"),d=e("./YZ_NativeAdObject"),p=cc._decorator,_=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bannerAd=null,t._insertAd=null,t._videoAd=null,t._nativeBannerAd=[],t._nativeInsertAd=[],t._nativeSingleAd=[],t._isBannerShow=!1,t._isInsertShow=!1,t._curPosIdIndexNativeBanner=0,t._curPosIdIndexNativeInser=0,t._curPosIdIndexSingleNative=0,t._nativeData=null,t._nativeInsertData=null,t._nativeBannerNode=null,t._nativeInsertNode=null,t._videoCallback=null,t._videoLoaded=null,t._isInsertAdShow=!1,t._isInsertAdLoaded=!1,t._isVideoLoaded=!1,t._isVideoShow=!1,t.lastLastShowVideoTime=0,t.showNum=0,t.showInsertNum=0,t._curNativeItem=null,t._nativeAdObject=null,t._nativeAd=null,t._nativeBannerInfo=null,t._curLocation=r.BannerLocation.None,t._lastShowTime=0,t._bannerTimeoutShow=0,t._nativeIsClose=!1,t._showBannerTimerId=0,t._delayShowBannerId=0,t._startBannerTimerTask=0,t._tryIndex=0,t._nativeInsertAdShowCount=0,t._curNativeBannerInfo={},t._nativeTryGameNode=null,t.signleNativeAd=null,t._singleAdCreateTime=0,t._customAd=null,t._refreshCustomAdTimerTask=null,t._isHide=!1,t._lastLocation="",t}return n(t,e),Object.defineProperty(t.prototype,"SysInfo",{get:function(){return l.utils.Tool_Vivo.SysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return c.default.IsVIVO?l.utils.Tool_Vivo.ServerConfig:null},enumerable:!1,configurable:!0}),t.prototype.getNativeBannerInfo=function(){return this._nativeBannerInfo&&this._nativeBannerInfo.location==this._curLocation?this._nativeBannerInfo:l.utils.config.vivoconfig.getNativeBannerInfo(this._curLocation)},t.prototype.Init=function(){var e=this;c.default.IsVIVO&&(l.utils.Tool_Vivo.isOverMiniVersion("1084")&&(qg.isSupportNativeAd=!0),l.utils.registerServerInitEvent(function(){l.utils.config.vivoconfig.showAd?e._initVideoAd():l.utils.showLog("\u5e7f\u544a\u5f00\u5173\u5173\u95ed\u72b6\u6001\uff0c\u6240\u6709\u5e7f\u544a\u4e0d\u663e\u793a\uff01\u8981\u663e\u793a\u5e7f\u544a\uff0c\u8bf7\u6253\u5f00 CommonUtils \u7ec4\u4ef6\u4e0aVIVIO \u914d\u7f6e\u4e0b\u7684\u5e7f\u544a\u5f00\u5173\uff01")},this))},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd){if(!l.utils.Tool_Vivo.isOverMiniVersion("1041"))return l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));if(!l.utils.config.vivoconfig.videoId)return l.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));var t=l.utils.config.vivoconfig.videoId.trim();l.utils.showLog("video\u5e7f\u544aID:"+t),this._videoAd=qg.createRewardedVideoAd({posId:t}),this._videoAd&&(this._videoAd.onLoad(function(){if(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f!"),e._isVideoLoaded=!0,e._isVideoShow){var t=e._videoAd.show();t&&t.then(function(){e._isVideoLoaded=!1}).catch(function(){e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null),l.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01")})}}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!"+t.errCode),e._isVideoLoaded=!1,e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)}),this._videoAd.onClose(function(t){e._videoAd.load(),e._isVideoShow=!1,t&&t.isEnded?(l.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))}))}},t.prototype.ShowBanner=function(e,t,i){var o=this;if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),void 0===i&&(i=!1),this.ServerConfig){var n=this._curLocation;this._curLocation=e,n!=e&&this.HideBanner(e);var s=((new Date).getTime()-this._startBannerTimerTask)/1e3,a=this.ServerConfig.refresh_ad_time;if(t&&t.isRefresh?i=!0:a&&a>0&&s>a&&(i=!0),-1==this.getNativeBannerInfo().is_show_banner)return l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!"),void this.HideBanner(e);if(this.getNativeBannerInfo().is_show_rec>-1){if(l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u663e\u793a\u4e92\u63a8banner"),l.utils.Tool_Vivo.canShowRecommend())return this.HideBanner(e),void l.utils.Tool_Vivo.showRecBanner();l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u4e92\u63a8banner")}else if(!i&&this.ServerConfig.nbclr&&"true"==this.ServerConfig.nbclr&&this._curNativeBannerInfo.nativeBannerAd)return l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e "),this._showNativeBanner(this._curNativeBannerInfo.nativeBannerAd,this._curNativeBannerInfo.data),l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+(a-s)),clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),void(this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowOldBanner(o._curLocation,{})},1e3*(a-s)));l.utils._tool_Vivo.isOverMiniVersion("1059")?this.showNewBanner(e,t):this.ShowOldBanner(e,t)}else l.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01")},t.prototype.showNewBanner=function(e,t){var i=this;void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null);var o=(new Date).getTime(),n=this.ServerConfig?this.ServerConfig.cap_show_banner_time:void 0;n=n||15,(o-this._lastShowTime)/1e3>n?(this._lastShowTime=o,this.ShowOldBanner(e,t)):(this._lastShowTime=o,clearTimeout(this._bannerTimeoutShow),this._bannerTimeoutShow=setTimeout(function(){l.utils.showLog("\u8fbe\u5230"+n+"\u95f4\u9694\uff0c\u663e\u793abanner"),i.ShowOldBanner(i._curLocation,t)},1e3*n),l.utils.showLog("1059\u4ee5\u4e0a\u5c55\u793abanner\u5fc5\u987b\u95f4\u9694"+n+"\u79d2"))},t.prototype.ShowOldBanner=function(e,t){var i=this;if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsVIVO){if(!l.utils.config.vivoconfig.showAd)return;if(clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._nativeIsClose=!1,this.ServerConfig){var o=this.ServerConfig.refresh_ad_time;if(this.getNativeBannerInfo(),o&&o>0&&(this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+o+"\u79d2\u8c03\u7528showbanner"),i.ShowBanner(e,{},!0)},1e3*o)),this.ServerConfig&&this.ServerConfig.isTest&&"true"==this.ServerConfig.isTest)return this.showNum++,void(this.showNum%2!=0&&qg.isSupportNativeAd?(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a\uff01"),this._createNativeBannerAd(this._showNativeBanner)):(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>>"+(qg.isSupportNativeAd?"":"\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a>>\u987a\u5e8f\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a\uff01")),this._createMiniGameBannerAd(e)));if(this.ServerConfig.banner_first_ad)if("native"==this.ServerConfig.banner_first_ad&&qg.isSupportNativeAd)if(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!"),"native"==this.ServerConfig.intersititial_first_ad){var n=1;this.ServerConfig.native_banner_delay_time&&(n=this.ServerConfig.native_banner_delay_time),l.utils.showLog("\u56e0\u4e3a\u63d2\u5c4f\u4e5f\u662f\u4f18\u5148\u5c55\u793a\u539f\u751f\uff0c\u6240\u4ee5banner\u5ef6\u8fdf\u663e\u793a"+n+"\u79d2"),this._delayShowBannerId=setTimeout(function(){i._createNativeBannerAd(i._showNativeBanner)},1e3*n)}else this._createNativeBannerAd(this._showNativeBanner);else l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a\uff0c\u5f15\u64ce"+(qg.isSupportNativeAd?"\u652f\u6301":"\u4e0d\u652f\u6301")+"\u539f\u751f\u5e7f\u544a"),this._createMiniGameBannerAd(e);else l.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!")}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.HideBanner=function(e){var t=this;if(void 0===e&&(e=r.BannerLocation.Home),c.default.IsVIVO){if(clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),clearTimeout(this._bannerTimeoutShow),this._nativeIsClose=!0,this._bannerAd){var i=this._bannerAd.hide();i&&i.then(function(){console.log("banner\u5e7f\u544a\u9690\u85cf\u6210\u529f")}).catch(function(e){console.log("banner\u5e7f\u544a\u9690\u85cf\u5931\u8d25",JSON.stringify(e));var i=t._bannerAd.destroy();i&&i.then(function(){console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f")}).catch(function(e){console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25",JSON.stringify(e))})})}this._nativeBannerNode&&(l.utils.showLog("\u9690\u85cf\u539f\u751fBanner"),this._nativeBannerNode.active=!1),l.utils.Tool_Vivo&&l.utils.Tool_Vivo.hideRecBanner()}},t.prototype.showNativeTryGameWidget=function(e){var t=this;if(void 0===e&&(e=null),c.default.IsVIVO){if(l.utils.showLog("\u521b\u5efa\u539f\u751f\u6296\u52a8\u5e7f\u544a\u3002 posId:"+l.utils.config.vivoconfig.nativeTryGameIds[0],"  utils.tryGameDate",l.utils.tryGameDate,"needchange",l.utils.nativeNeedChange),l.utils.nativeNeedChange||!l.utils.tryGameDate)if(l.utils.config.vivoconfig.nativeTryGameIds){var i=qg.createNativeAd({posId:l.utils.config.vivoconfig.nativeTryGameIds[0]});l.utils.showLog("tryGameAd\uff1a"+i),i&&(i.onLoad(function(e){if(l.utils.showLog("res",e),l.utils.nativeNeedChange=!1,t.tryGameInfo=e.adList,e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u6296\u52a8\u8bd5\u5b8c\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var o=(e=JSON.parse(JSON.stringify(e))).adList[0].adId;l.utils.showLog("adId:"+o);var n=!0;l.utils.tryGameDate.forEach(function(e){o==e.date[0].adId&&(n=!1)}),n&&(l.utils.tryGameDate.push({tryGameAd:i,date:t.tryGameInfo}),l.utils._nativeTryGameNode&&l.utils._nativeTryGameNode.getComponent(u.default).init())}}),i.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38",JSON.stringify(e))}),i.load())}else l.utils.showLog("\u539f\u751f\u6296\u52a8id\u4e0d\u5b58\u5728");this.createNativeTryGameWidget(e)}},t.prototype.ShowInterstitial=function(e){if(void 0===e&&(e=null),c.default.IsVIVO){if(!l.utils.config.vivoconfig.showAd)return;if(this.ServerConfig&&this.ServerConfig.isTest&&"true"==this.ServerConfig.isTest)return this.showInsertNum++,void(this.showInsertNum%2==0&&qg.isSupportNativeAd?(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01"),this.nativeInserAdDelayCall()):(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>>"+(qg.isSupportNativeAd?"":"\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a>>")+"\u987a\u5e8f\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\uff01"),this._createMiniGameInsertAd()));this.ServerConfig?e&&e==r.BannerLocation.Pause?"native"==this.ServerConfig.intersititial_first_ad&&qg.isSupportNativeAd?(l.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01"),l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this.nativeInserAdDelayCall()):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()):"native"==this.ServerConfig.intersititial_first_ad&&qg.isSupportNativeAd?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()):l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.nativeInserAdDelayCall=function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570="+l.utils.Tool_Vivo.NativeInsertAdClickTimes+"; \u70b9\u51fb\u6b21\u6570\u9650\u5236="+this.ServerConfig.intersititia_click_count+"; \u5c55\u793a\u6b21\u6570\u95f4\u9694="+this.ServerConfig.intersititial_interval_time+"; \u5c55\u793a\u7d2f\u8ba1="+this._nativeInsertAdShowCount),l.utils.Tool_Vivo.NativeInsertAdClickTimes>=(this.ServerConfig.intersititia_click_count||0)?this._nativeInsertAdShowCount>=(this.ServerConfig.intersititia_show_interval||0)?this._createNativeInsertAd(this._showNativeInsert):this._nativeInsertAdShowCount++:this._createNativeInsertAd(this._showNativeInsert)},t.prototype.ShowVideo=function(e){var t=this;if(c.default.IsVIVO){if(this._videoCallback=e,!l.utils.config.vivoconfig.showAd)return void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));this._isVideoShow=!0;var i=((new Date).getTime()-this.lastLastShowVideoTime)/1e3,o=0;if(l.utils.ServerConfig&&l.utils.ServerConfig.video_interval_time&&(o=l.utils.ServerConfig.video_interval_time),i>o)if(this.lastLastShowVideoTime=(new Date).getTime(),this._videoAd){if(!this._isVideoLoaded)return this._isVideoShow=!1,this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null),void this._videoAd.load();var n=this._videoAd.show();n&&n.then(function(){l.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f!"),t._isVideoLoaded=!1}).catch(function(e){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25"+JSON.stringify(e)),t._videoCallback&&(t._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),t._videoCallback=null)})}else this._initVideoAd();else l.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e60\u79d2,\u76f4\u63a5\u8fd4\u56defalse"),this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null)}},t.prototype._createMiniGameInsertAd=function(){var e=this;if(c.default.IsVIVO)if(this._isInsertShow=!0,l.utils.config.vivoconfig&&l.utils.config.vivoconfig.insertId){if(this._insertAd=qg.createInterstitialAd({posId:l.utils.config.vivoconfig.insertId}),this._insertAd&&(l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01"),this._insertAd.onError(function(t){l.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:"+t.errCode+t.errMsg),e._isInsertShow&&"default"==e.ServerConfig.intersititial_first_ad&&(e._isInsertShow=!1,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),e._curPosIdIndexNativeInser=0,l.utils.delayCall(e.nativeInserAdDelayCall.bind(e),e.ServerConfig.intersititia_delay_show_time||0))}.bind(this)),this._isInsertShow)){var t=this._insertAd.show();t&&t.then(function(){l.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01"),e._isInsertShow=!1}).catch(function(e){switch(e.code){case 30003:l.utils.showLog("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149\u63d2\u5c4f\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:l.utils.showLog("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:l.utils.showLog("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25")}})}this._insertAd||(l.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"),"default"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this._curPosIdIndexNativeInser=0,l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0)))}else l.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),"default"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this._curPosIdIndexNativeInser=0,l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),this.ServerConfig.intersititia_delay_show_time||0))},t.prototype._createMiniGameBannerAd=function(e){var t=this;if(void 0===e&&(e=null),c.default.IsVIVO)if(this._isBannerShow=!0,l.utils.config.vivoconfig&&l.utils.config.vivoconfig.bannerId){var i=this._bannerAd;if(i){var o=i.destroy();o&&o.then(function(){console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f")}).catch(function(e){console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25",JSON.stringify(e))})}if(this._bannerAd=qg.createBannerAd({posId:l.utils.config.vivoconfig.bannerId,style:{}}),this._bannerAd?(l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!"),this._bannerAd.onError(function(e){l.utils.showLog("VIVO \u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! code : "+e.errCode+"; msg : "+e.errMsg),-1!=t.getNativeBannerInfo().st_banner_show_back_up?t._isBannerShow&&(t._isBannerShow=!1,"default"==t.ServerConfig.banner_first_ad&&(t._curPosIdIndexNativeBanner=0,t._createNativeBannerAd(t._showNativeBanner.bind(t)))):l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a")}.bind(this))):"default"==this.ServerConfig.banner_first_ad&&(this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this))),this._bannerAd){var n=this._bannerAd.show();n&&n.then(function(){l.utils.showLog("vivo\u5c0f\u6e38\u620fbanner\u5e7f\u544a\u5c55\u793a\u6210\u529f"),t._nativeBannerNode&&(t._nativeBannerNode.active=!1)}).catch(function(e){switch(e.code){case 30003:l.utils.showLog("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:l.utils.showLog("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:l.utils.showLog("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:l.utils.showLog("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25")}})}else l.utils.showLog("vivo \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!"),"default"==this.ServerConfig.banner_first_ad&&(this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this)))}else{if(l.utils.showLog("vivo \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");"default"==this.ServerConfig.banner_first_ad&&(this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this)))}},t.prototype._createNativeBannerAd=function(e){var t=this;if(c.default.IsVIVO){if(!qg.isSupportNativeAd)return void l.utils.showLog("\u5f53\u524d\u5f15\u64ce\u4e0d\u652f\u6301\u539f\u751fBanner\u5e7f\u544a\uff01");var i=e;if(l.utils.showLog("curPosIdIndexNativeBanner:"+this._curPosIdIndexNativeBanner),l.utils.config.vivoconfig.nativeBannerIds&&l.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]){l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:"+l.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);var o=qg.createNativeAd({posId:l.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]});if(o){o.onLoad(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(e&&e.adList&&e.adList.length>0){t._startBannerTimerTask=(new Date).getTime(),l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeDataValid(n)||"true"==t.getNativeBannerInfo().show_st_banner){if(t._curPosIdIndexNativeBanner=0,t._showNativeBanner(o,n),t._curNativeBannerInfo.nativeBannerAd=o,t._curNativeBannerInfo.data=n,t._bannerAd){var s=t._bannerAd.hide();s&&s.then(function(){console.log("banner\u5e7f\u544a\u9690\u85cf\u6210\u529f")}).catch(function(e){console.log("banner\u5e7f\u544a\u9690\u85cf\u5931\u8d25",JSON.stringify(e));var i=t._bannerAd.destroy();i&&i.then(function(){console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f")}).catch(function(e){console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25",JSON.stringify(e))})})}return}}if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.vivoconfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");"native"==t.ServerConfig.banner_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd())}}});var n=o.load();n&&n.then(function(e){console.log("res",JSON.stringify(e))}).catch(function(e){if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(e)),t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else if(t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.vivoconfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");"native"==t.ServerConfig.banner_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd())}})}else if(this._curPosIdIndexNativeBanner++,l.utils.config.vivoconfig.nativeBannerIds&&this._curPosIdIndexNativeBanner<l.utils.config.vivoconfig.nativeBannerIds.length)this._createNativeBannerAd(i);else{if(this._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");"native"==this.ServerConfig.banner_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),this._createMiniGameBannerAd())}}}},t.prototype._createNativeInsertAd=function(e){var t=this;if(c.default.IsVIVO){if(!qg.isSupportNativeAd)return void l.utils.showLog("\u5f53\u524d\u5f15\u64ce\u4e0d\u652f\u6301\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01");var i=e;if(l.utils.showLog("curPosIdIndexNativeInsert:"+this._curPosIdIndexNativeInser),l.utils.config.vivoconfig.nativeInsertIds&&l.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]){l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:"+l.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]);var o=qg.createNativeAd({posId:l.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]});if(o){o.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeInsertDataValid(n))return t._curPosIdIndexNativeInser=0,void t._showNativeInsert(o,n);l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.vivoconfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))}),o.onError(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"+JSON.stringify(e))});var n=o.load();n&&n.then(function(e){console.log("res",JSON.stringify(e))}).catch(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(e)),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.vivoconfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))})}else this._curPosIdIndexNativeInser++,l.utils.config.vivoconfig.nativeInsertIds&&this._curPosIdIndexNativeInser<l.utils.config.vivoconfig.nativeInsertIds.length?this._createNativeInsertAd(i):(this._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()))}}},t.prototype._showNativeBanner=function(e,t){if(c.default.IsVIVO&&t)if(l.utils.showLog("\u663e\u793a\u539f\u751fbanner"),cc.isValid(this._nativeBannerNode)&&this._nativeBannerNode&&this._nativeBannerNode.destroy(),l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544abanner\u4f4d"),this._nativeBannerNode=cc.instantiate(l.utils.config.otherconfig.nativeBanner),this._nativeBannerNode.position=h.default.position(cc.winSize.width/2,this._nativeBannerNode.height*this._nativeBannerNode.scaleY/2),cc.director.getScene().addChild(this._nativeBannerNode,1e3),this._nativeBannerNode){this._nativeBannerNode.active=!0;var i=this._nativeBannerNode.getComponent("YZ_NativeBanner");i?i.init(e,t,this.getNativeBannerInfo()):l.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype._showNativeInsert=function(e,t){if(c.default.IsVIVO&&t){if(l.utils.showLog("\u663e\u793a\u539f\u751f\u63d2\u5c4f"),(!cc.isValid(this._nativeInsertNode)||!this._nativeInsertNode&&l.utils.config.otherconfig.nativeInsert)&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d"),this._nativeInsertNode=cc.instantiate(l.utils.config.otherconfig.nativeInsert),this._nativeInsertNode.position=h.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._nativeInsertNode,9999)),this._nativeInsertNode){var i=this._nativeInsertNode.getComponent("YZ_NativeInsert");i?(this._nativeInsertAdShowCount=0,i.init(e,t)):l.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");this.ServerConfig.show_insert_hide_banner&&"false"==this.ServerConfig.show_insert_hide_banner||(l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u5c55\u793a\u540e\u9690\u85cfBanner\uff01"),this.HideBanner())}},t.prototype.ShowCloseBtnBanner=function(e,t){var i=this;void 0===e&&(e=r.BannerLocation.Home),l.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");var o=0,n=t.closeBtn,s=cc.winSize.height;this.ServerConfig&&(this.ServerConfig.is_move_btn&&(o=this.ServerConfig.is_move_btn),l.utils.showLog(0==o?"\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762":"\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14"+o+"\u6beb\u79d2\u540e\u79fb\u52a8"),setTimeout(function(){l.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>"),i.ShowBanner(e,t),l.utils.showLog("utils - adY:240"),n&&(n.y=-(s/2-240)+n.height,l.utils.showLog("btnClose.y"+n.y))},o))},t.prototype._checkNativeDataValid=function(e){return!!e&&(e.icon||e.imgUrlList&&e.imgUrlList.length>0)},t.prototype._checkNativeInsertDataValid=function(e){return!!e&&(e.icon||e.imgUrlList&&e.imgUrlList.length>0)},t.prototype._checkNativeSignDataValid=function(e){return!!e&&e.imgUrlList&&e.imgUrlList.length>0},t.prototype.createNativeTryGameWidget=function(e){void 0===e&&(e=null),this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy();var t=cc.instantiate(l.utils.config.otherconfig.nativeTryGameWidget);t&&(this._nativeTryGameNode=t,this._nativeTryGameNode.zIndex=9999);var i=(t=this._nativeTryGameNode).getComponent(cc.Widget);e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(i.isAlignTop=!0,i.isAlignBottom=!1,i.top=e.top):null!=e.bottom&&(i.isAlignTop=!1,i.isAlignBottom=!0,i.bottom=e.bottom),null!=e.left?(i.isAlignLeft=!0,i.isAlignRight=!1,i.left=e.left):null!=e.right&&(i.isAlignLeft=!1,i.isAlignRight=!0,i.right=e.right),null!=e.parent&&(t.parent=e.parent)),i.updateAlignment(),t.active=!0,this._nativeTryGameNode&&this._nativeTryGameNode.getComponent(u.default).init()},t.prototype.hideNativeTryGameWidget=function(){this._nativeTryGameNode&&cc.isValid(this._nativeTryGameNode)&&this._nativeTryGameNode.destroy()},t.prototype.ShowSingleNativeAd=function(e){if(l.utils.config.otherconfig.singleNativeAd){this.signleNativeAd&&cc.isValid(this.signleNativeAd)&&this.signleNativeAd.destroy(),this.signleNativeAd=cc.instantiate(l.utils.config.otherconfig.singleNativeAd);var t=this.signleNativeAd.getComponent("YZ_NativeItem");return t.showType=2,t.params=e,this._curNativeItem=t,e&&e.parent&&e.parent.addChild(this.signleNativeAd,cc.macro.MAX_ZINDEX),this.createNativeAd(),l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01"),this.signleNativeAd}return l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null},t.prototype.createNativeAd=function(e,t){var i=this;if(void 0===e&&(e=null),l.utils.showLog("_createNativeAd >>>>>"),c.default.IsVIVO){t&&(this._curNativeItem=t);var o=this.ServerConfig.st_native_ad_refresh_time?this.ServerConfig.st_native_ad_refresh_time:0;if(this._nativeAdObject&&this._nativeAdObject.data&&!this._nativeAdObject.is_reportClick&&((new Date).getTime()-this._singleAdCreateTime)/1e3<o)return l.utils.showLog("\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7684\u5c55\u793a\u65f6\u95f4"+((new Date).getTime()-this._singleAdCreateTime)/1e3+"\u79d2\uff0c\u672a\u8fbe\u5237\u65b0\u65f6\u95f4"+o+"\u79d2\u9650\u5236\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0a\u4e00\u6b21\u6570\u636e\uff01"),void this._showNativeAd();l.utils.showLog("_curPosIdIndexSingleNative:"+this._curPosIdIndexSingleNative+"  #this._nativeSingleAd.length"+this._nativeSingleAd.length);var n=this._nativeSingleAd[this._curPosIdIndexSingleNative];n||l.utils.config.vivoconfig.nativeSingleAdIds&&l.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544a\u3002 posId:"+l.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]),(n=qg.createNativeAd({posId:l.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]}))&&(this._nativeSingleAd.push(n),n.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var t=(e=JSON.parse(JSON.stringify(e))).adList[0];if(i._checkNativeSignDataValid(t))return i._singleAdCreateTime=(new Date).getTime(),i._curPosIdIndexSingleNative=0,i._nativeData=t,i._nativeAd=n,void i._showNativeAd();l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),i._curPosIdIndexSingleNative++,i._curPosIdIndexSingleNative<l.utils.config.vivoconfig.nativeSingleAdIds.length?i.createNativeAd():(i._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"))}),n.onError(function(e){l.utils.showLog("\u539f\u751f\u5355\u4e2a\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),i._curPosIdIndexSingleNative++,i._curPosIdIndexSingleNative<l.utils.config.vivoconfig.nativeSingleAdIds.length?i.createNativeAd():(i._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"))}))),n?(l.utils.showLog("nativeSingleAd reload"),n.load()):(this._curPosIdIndexSingleNative++,l.utils.config.vivoconfig.nativeSingleAdIds&&this._curPosIdIndexSingleNative<l.utils.config.vivoconfig.nativeSingleAdIds.length?this.createNativeAd():(this._curPosIdIndexSingleNative=0,l.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID \u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01")))}},t.prototype._showNativeAd=function(){this._curNativeItem&&cc.isValid(this._curNativeItem.node)&&this._curNativeItem.init(this.getNativeAdData())},t.prototype.getNativeAdData=function(){return this._nativeAdObject||(this._nativeAdObject=new d.default),this._nativeAdObject._nativeObj=this._nativeAd,this._nativeAdObject.data&&this._nativeAdObject.data.adId!=this._nativeData.adId&&(this._nativeAdObject.is_reportClick=!1,this._nativeAdObject.is_reportShow=!1),this._nativeAdObject.data=this._nativeData,this._nativeData&&this._nativeAd?(l.utils.showLog("\u83b7\u53d6\u539f\u751f\u6570\u636e >>>",this._nativeData,"...",this._nativeAdObject),this._nativeAdObject):null},t.prototype.showCustomAd=function(e){var t=this;if(l.utils.config.vivoconfig.customAdInfos.length<=0)l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01");else if(qg.createCustomAd){clearTimeout(this._refreshCustomAdTimerTask);var i=l.utils.config.vivoconfig.getCustomAdInfoInfo(e.location);if(l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e obj >>>",i.customAdObj),"true"!=i.is_show_ad)return void l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u4e0d\u663e\u793a\u6a21\u7248\u5e7f\u544a\uff01");if(this._lastLocation!=e.location&&this.hideCustomAd(),null!=i.customAdObj)return this._customAd=i.customAdObj,i.customAdObj.isShow()?l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u6a21\u7248\u6b63\u5728\u663e\u793a\u4e2d\uff0c\u4e0d\u6267\u884c\u52a0\u8f7d\uff01"):(l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u4e0a\u6b21\u5c55\u793a\u8fc7\u539f\u751f\u6a21\u7248\uff0c\u5f53\u524d\u91cd\u65b0\u663e\u793a\u51fa\u6765\uff01"),i.customAdObj.show().then(function(){"true"==i.hide_banner&&t.HideBanner(),l.utils.showLog("\u91cd\u65b0\u5c55\u793a\u6210\u529f\uff01")}).catch(function(o){i.customAdObj.destroy(),i.customAdObj=null,l.utils.showLog("\u91cd\u65b0\u5c55\u793a\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5931\u8d25",JSON.stringify(o)),t.showCustomAd(e)})),void(i.refresh_time>0&&(this._refreshCustomAdTimerTask=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+i.refresh_time+"\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248"),t.showCustomAd(e)},1e3*i.refresh_time)));this._lastLocation=e.location,this._isHide=!1;var o={};i.top>0?o.top=i.top/cc.winSize.height*this.SysInfo.screenHeight:i.bottom>0&&(o.top=this.SysInfo.screenHeight-i.height-i.bottom/cc.winSize.height*this.SysInfo.screenHeight),i.left>0?o.left=i.left/cc.winSize.width*this.SysInfo.screenWidth:i.right>0&&(o.left=this.SysInfo.screenWidth-i.width-i.right/cc.winSize.width*this.SysInfo.screenWidth),l.utils.showLog("custom ad style>>"+JSON.stringify(o));var n=qg.createCustomAd({posId:i.id,style:o});n.onError(function(e){try{l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))}catch(t){console.log("\u6a21\u7248\u5f02\u5e38\uff1a#errMsg="+t)}}),n.onClose(function(){l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a onClose"),n.destroy(),n=null,i.customAdObj=null}),n.onLoad(function(){n.offLoad(),l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),t._customAd=n,i.customAdObj&&i.customAdObj.destroy(),i.customAdObj=n,t._isHide?l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u8c03\u7528\u4e86\u9690\u85cf\uff0c\u5f53\u524d\u5e7f\u544a\u4e0d\u663e\u793a\uff01"):n.show().then(function(){"true"==i.hide_banner&&t.HideBanner(),l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210\uff01")}).catch(function(e){l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(e))})}),i.refresh_time>0&&(this._refreshCustomAdTimerTask=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+i.refresh_time+"\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248"),t.showCustomAd(e)},1e3*i.refresh_time))}else l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01")},t.prototype.showCustomAdV2=function(e){var t=this;if(l.utils.config.vivoconfig.customAdInfos.length<=0)l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01");else if(qg.createCustomAd){clearTimeout(this._refreshCustomAdTimerTask);var i=l.utils.config.vivoconfig.getCustomAdInfoInfo(e.location);if(l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u5e7f\u544a\u5bf9\u8c61 >>>",i.customAdObj),"true"!=i.is_show_ad)return void l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u4e0d\u663e\u793a\u6a21\u7248\u5e7f\u544a\uff01");var o=!0;this._lastLocation!=e.location?this.hideCustomAd():null!=i.customAdObj&&(i.customAdObj.isShow()?l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u6a21\u7248\u6b63\u5728\u663e\u793a\u4e2d\uff0c\u4e0d\u6267\u884c\u52a0\u8f7d\uff01"):(l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u4e0a\u6b21\u5c55\u793a\u8fc7\u539f\u751f\u6a21\u7248\uff0c\u5f53\u524d\u91cd\u65b0\u663e\u793a\u51fa\u6765\uff01"),o=!1,i.customAdObj.show().then(function(){"true"==i.hide_banner&&t.HideBanner(),l.utils.showLog("\u91cd\u65b0\u5c55\u793a\u6210\u529f\uff01")}).catch(function(e){o=!0,i.customAdObj.destroy(),i.customAdObj=null,l.utils.showLog("\u91cd\u65b0\u5c55\u793a\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5931\u8d25",JSON.stringify(e))}))),this._lastLocation=e.location,this._isHide=!1;var n={};i.top>0?n.top=i.top/cc.winSize.height*this.SysInfo.screenHeight:i.bottom>0&&(n.top=this.SysInfo.screenHeight-i.height-i.bottom/cc.winSize.height*this.SysInfo.screenHeight),i.left>0?n.left=i.left/cc.winSize.width*this.SysInfo.screenWidth:i.right>0&&(n.left=this.SysInfo.screenWidth-i.width-i.right/cc.winSize.width*this.SysInfo.screenWidth),l.utils.showLog("custom ad style>>"+JSON.stringify(n));var s=qg.createCustomAd({posId:i.id,style:n});s.onError(function(e){try{l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))}catch(t){console.log("\u6a21\u7248\u5f02\u5e38\uff1a#errMsg="+t)}}),s.onClose(function(){l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a onClose"),s.destroy(),s=null,i.customAdObj=null}),s.onLoad(function(){l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),t._customAd=s,i.customAdObj&&i.customAdObj.destroy(),i.customAdObj=s,!t._isHide&&o?s.show().then(function(){"true"==i.hide_banner&&t.HideBanner(),l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210\uff01")}).catch(function(e){l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(e))}):l.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u8c03\u7528\u4e86\u9690\u85cf\u6216\u8005\u5f53\u524d\u4e0d\u5237\u65b0\u5e7f\u544a\uff0c\u5f53\u524d\u5e7f\u544a\u4e0d\u663e\u793a\uff01")}),i.refresh_time>0&&(this._refreshCustomAdTimerTask=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+i.refresh_time+"\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248"),t.showCustomAd(e)},1e3*i.refresh_time))}else l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01")},t.prototype.hideCustomAd=function(){this._isHide=!0,clearTimeout(this._refreshCustomAdTimerTask),this._customAd&&this._customAd.hide()},s([_],t)}(a.default));i.default=f,cc._RF.pop()},{"./AdAgent":"AdAgent","./CompatibleTool":"CompatibleTool","./NativeTryGamesWidget":"NativeTryGamesWidget","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_NativeAdObject":"YZ_NativeAdObject"}],AdAgentWechat:[function(e,t,i){"use strict";cc._RF.push(t,"4e11aZbbXVLHacOspfN2ARf","AdAgentWechat");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./CompatibleTool"),h=cc._decorator,d=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._curBannerAd=null,t._videoAd=null,t._videoCallback=null,t._insertAd=null,t._rewardInsertNode=null,t._sysInfo=null,t._bannerSizePercent=.1,t._bannerBottom=0,t._oldBannerLocation=r.BannerLocation.None,t._showBannerTimerId=0,t.isFirstShowInsertAd=!0,t._customAdObjs=[],t._nativeCustomAdObjs=[],t.nativeBannerAd=null,t.nativeIntersititialAd=null,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.wechatTool.ServerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sysInfo",{get:function(){return this._sysInfo?this._sysInfo:(this._sysInfo=l.utils.wechatTool.getSystemInfo(),this._sysInfo)},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var e=this;c.default.IsWechat&&l.utils.registerServerInitEvent(function(){e._initVideoAd(),e._initInsertAd(),l.utils.getConfigByKey("game_time_report")&&l.utils.scheduleOnce(function(){l.utils.wechatTool.reportAttributedEvent(r.AttributedType.GameAddiction,r.AttributedKey.GameAddiction,r.AttributedValue.GameTimeAction)},l.utils.getConfigByKey("game_time_report"))},this)},t.prototype._initVideoAd=function(){if(c.default.IsWechat){if(!l.utils.wechatTool.isOverMinVersion("2.0.4"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!");if(!this._videoAd){if(l.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!"),!l.utils.config.wechatconfig.videoId)return void l.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u9519\u8bef!");l.utils.showLog("\u89c6\u9891\u5e7f\u544aID:",l.utils.config.wechatconfig.videoId.trim()),this._videoAd=wx.createRewardedVideoAd({adUnitId:l.utils.config.wechatconfig.videoId});var e=this;this._videoAd?(l.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!"),this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f")}.bind(this)),this._videoAd.onError(function(e){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!",e.code,e.msg)}.bind(this)),this._videoAd.onClose(function(t){t&&t.isEnded||void 0===t?(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))}.bind(this))):l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u521d\u59cb\u5316\u5931\u8d25!")}}},t.prototype._createBanner=function(e,t){var i=this;if(void 0===t&&(t=null),c.default.IsWechat){var o=e,n=t;n&&n.width&&(this._bannerSizePercent=n.width<0?0:n.width,this._bannerSizePercent=n.width>1?1:n.width),n&&n.bottom&&(this._bannerBottom=n.bottom<0?0:n.bottom,this._bannerBottom=n.bottom>cc.winSize.height?cc.winSize.height:n.bottom);var s={adUnitId:l.utils.config.wechatconfig.getBannerId(o),style:{left:0,width:300,top:0}};this._oldBannerLocation!=o&&this._curBannerAd&&(this._curBannerAd.destroy(),this._oldBannerLocation=o);var a=wx.createBannerAd(s);if(a){a.onError(function(o){l.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(o)),a&&a.destroy(),i.ServerConfig.banner_first_ad&&"default"==i.ServerConfig.banner_first_ad&&i.showNativeBannerAd(e,t)});var r=this;a.onLoad(function(){a.show().then(function(){var e=r._curBannerAd;e&&e.destroy(),r._curBannerAd=a,l.utils.showLog("\u9ed8\u8ba4Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!"),i.HideNativeBanner()}).catch(function(o){l.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519",JSON.stringify(o)),a&&a.destroy(),i.ServerConfig.banner_first_ad&&"default"==i.ServerConfig.banner_first_ad&&i.showNativeBannerAd(e,t)})}),a.onResize(function(e){a.style.width=l.utils.wechatTool.getSystemInfo().screenWidth*r._bannerSizePercent,a.style.left=.5*(l.utils.wechatTool.getSystemInfo().screenWidth-e.width),r._bannerBottom==cc.winSize.height?a.style.top=0:a.style.top=l.utils.wechatTool.getSystemInfo().screenHeight-e.height-r._bannerBottom})}else l.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!")}},t.prototype.createCustomADBanner=function(e,t){if(void 0===e&&(e=r.BannerLocation.Game),void 0===t&&(t=null),c.default.IsWechat){var i=e;l.utils.config.wechatconfig.getBannerId(i)||(i=r.BannerLocation.Home);var o=t;o&&o.width&&(this._bannerSizePercent=o.width<0?0:o.width,this._bannerSizePercent=o.width>1?1:o.width),o&&o.bottom&&(this._bannerBottom=o.bottom<0?0:o.bottom,this._bannerBottom=o.bottom>cc.winSize.height?cc.winSize.height:o.bottom);var n={adUnitId:l.utils.config.wechatconfig.getBannerId(i),style:{left:0,width:300,top:0}};this._oldBannerLocation!=i&&this._curBannerAd&&(this._curBannerAd.destroy(),this._oldBannerLocation=i);var s=wx.createBannerAd(n);if(s){s.onError(function(e){l.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(e)),s&&s.destroy()});var a=this;s.onLoad(function(){cc.director.on("CloseCustomADPanel",function(){s.show().then(function(){var e=a._curBannerAd;e&&e.destroy(),a._curBannerAd=s,l.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");var t=18;l.utils.wechatTool.ServerConfig.refresh_ad_time&&(t=l.utils.wechatTool.ServerConfig.refresh_ad_time),clearInterval(a._showBannerTimerId),a._showBannerTimerId=setInterval(function(){l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:"+i+"; args:"+JSON.stringify(o)+"; \u95f4\u9694\u65f6\u95f4:"+l.utils.wechatTool.ServerConfig.refresh_ad_time),a._showBannerTimer(i,o)}.bind(a),1e3*t)}).catch(function(e){l.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519",JSON.stringify(e)),s&&s.destroy()}),cc.director.targetOff(a)},a)}),s.onResize(function(e){s.style.width=l.utils.wechatTool.getSystemInfo().screenWidth*a._bannerSizePercent,s.style.left=.5*(l.utils.wechatTool.getSystemInfo().screenWidth-e.width),a._bannerBottom==cc.winSize.height?s.style.top=0:s.style.top=l.utils.wechatTool.getSystemInfo().screenHeight-e.height-a._bannerBottom})}else l.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!")}},t.prototype._initInsertAd=function(){var e=this;if(c.default.IsWechat){if(!l.utils.wechatTool.isOverMinVersion("2.6.0"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a!");if(!this._insertAd){if(l.utils.showLog("\u521d\u59cb\u5316\u63d2\u5c4f\u5e7f\u544a!"),!l.utils.config.wechatconfig.insertId)return void l.utils.showLog("\u63d2\u5c4f\u5e7f\u544aID\u914d\u7f6e\u9519\u8bef!");l.utils.showLog("\u63d2\u5c4f\u5e7f\u544aID:",l.utils.config.wechatconfig.insertId.trim()),this._insertAd=wx.createInterstitialAd({adUnitId:l.utils.config.wechatconfig.insertId.trim()}),this._insertAd?(this._insertAd.onLoad(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u6210\u529f!")}),this._insertAd.onError(function(t){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25!",JSON.stringify(t)),e.ServerConfig.intersititial_first_ad&&"default"==e.ServerConfig.intersititial_first_ad&&e.showNativeIntersititialAd()}),this._insertAd.onClose(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u88ab\u5173\u95ed!")})):l.utils.showLog("\u63d2\u5c4f\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25!")}}},t.prototype._showBannerTimer=function(e,t){var i=e,o=t;l.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:"+i+"; args:"+JSON.stringify(o)+"; \u95f4\u9694\u65f6\u95f4:"+l.utils.wechatTool.ServerConfig.refresh_ad_time+";\u4f18\u5148\u7ea7\uff1a"+this.ServerConfig.banner_first_ad),this.ServerConfig.banner_first_ad&&"native"==this.ServerConfig.banner_first_ad?this.showNativeBannerAd(e,t):i==r.BannerLocation.None?l.utils.showLog("\u672a\u5b9a\u4e49\u7684BannerLocation,",i):l.utils.config.wechatconfig.getBannerId(i)?this._createBanner(i,o):(l.utils.showLog("\u672a\u627e\u5230\u4f4d\u7f6e\u4e3a "+i+" \u7684\u5e7f\u544aID!"),this._createBanner(r.BannerLocation.Home,o))},t.prototype.ShowBanner=function(e,t){if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsWechat){if(!l.utils.wechatTool.isOverMinVersion("2.0.4"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Banner\u5e7f\u544a!");if(l.utils.wechatTool.ServerConfig){var i=e,o=t;this._showBannerTimer(i,o);var n=18;l.utils.wechatTool.ServerConfig.refresh_ad_time&&(n=l.utils.wechatTool.ServerConfig.refresh_ad_time),clearInterval(this._showBannerTimerId),this._showBannerTimerId=setInterval(function(){l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:"+i+"; args:"+JSON.stringify(o)+"; \u95f4\u9694\u65f6\u95f4:"+l.utils.wechatTool.ServerConfig.refresh_ad_time),this._showBannerTimer(i,o)}.bind(this),1e3*n)}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsWechat&&(l.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761"),clearInterval(this._showBannerTimerId),this.HideDefaultBanner(),this.HideNativeBanner())},t.prototype.HideDefaultBanner=function(){this._curBannerAd&&this._curBannerAd.hide()},t.prototype.HideNativeBanner=function(){this.nativeBannerAd&&this.nativeBannerAd.hide()},t.prototype.ShowInterstitial=function(e){var t=this;if(void 0===e&&(e=r.BannerLocation.Home),c.default.IsWechat){if(!l.utils.wechatTool.isOverMinVersion("2.6.0"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a!");var i=0;l.utils.wechatTool&&l.utils.wechatTool.ServerConfig&&l.utils.wechatTool.ServerConfig.intersititia_delay_show_time&&(i=l.utils.wechatTool.ServerConfig.intersititia_delay_show_time),l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5ef6\u65f6\u5c55\u793a\uff01 delayTime:"+i+"\u79d2"),setTimeout(function(){t.ServerConfig&&t.ServerConfig.intersititial_first_ad&&"box"==t.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u76d2\u5b50\u63d2\u5c4f\u5e7f\u544a!"),t.canShowBoxInsertAd()?t._createBoxInsertAd():(l.utils.showLog("\u76d2\u5b50\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff0c\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f!"),t._createMiniGameInsertAd())):t.ServerConfig&&t.ServerConfig.intersititial_first_ad&&"native"==t.ServerConfig.intersititial_first_ad?t.showNativeIntersititialAd():(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd())},1e3*i)}},t.prototype._createBoxInsertAd=function(){if(l.utils.rewardCallFunc=null,l.utils.rewardCloseFunc=null,l.utils.config&&l.utils.config.otherconfig.beforGameOverRecGamesPanel&&l.utils.getRecommondGameList()){var e=cc.instantiate(l.utils.config.otherconfig.beforGameOverRecGamesPanel);e.zIndex=999999;var t=e.getComponent("BeforGameOverRecGamesPanel");cc.director.getScene().addChild(e),t._location=r.SubLocation.isBoxInsertAd,t.init(l.utils.getRecommondGameList()),t.show()}else l.utils.showLog("\u4e92\u63a8\u63d2\u5c4f\u5c55\u793a\u5931\u8d25\uff01")},t.prototype.canShowBoxInsertAd=function(){var e=l.utils.getRecommondGameList();return!!(e&&e.length>0)},t.prototype._createMiniGameInsertAd=function(){var e=this;this._insertAd?this._insertAd.show().then(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f!"),e.isFirstShowInsertAd&&"true"==l.utils.getConfigByKey("insert_ad_first_show_active")&&(e.isFirstShowInsertAd=!1,l.utils.wechatTool.reportAttributedEvent(r.AttributedType.GameAddiction,r.AttributedKey.GameAddiction,r.AttributedValue.InsertAdFirstShowAction))}).catch(function(t){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25!",JSON.stringify(t)),e.ServerConfig.intersititial_first_ad&&"default"==e.ServerConfig.intersititial_first_ad&&e.showNativeIntersititialAd()}):(l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u672a\u521d\u59cb\u5316"),this.ServerConfig.intersititial_first_ad&&"default"==this.ServerConfig.intersititial_first_ad&&this.showNativeIntersititialAd())},t.prototype.ShowVideo=function(e){if(c.default.IsWechat){if(this._videoCallback=e,this.checkRewardInsertIsShow()&&l.utils.wechatTool&&l.utils.wechatTool.ServerConfig&&l.utils.wechatTool.ServerConfig.reward_first_ad&&"video"!=l.utils.wechatTool.ServerConfig.reward_first_ad)return l.utils.showLog("<<<\u670d\u52a1\u5668\u9ed8\u8ba4\u4f18\u5148\u5c55\u793a\u6fc0\u52b1\u63d2\u5c4f>>>"),void this.showRewardInsert();if(!l.utils.wechatTool.isOverMinVersion("2.0.4"))return l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!"),void(this._videoCallback&&this.showRewardInsert());this._videoAd?this._videoAd.show().then(function(){l.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f\uff01")}.bind(this)).catch(function(){l.utils.showLog("\u89c6\u9891\u672a\u52a0\u8f7d\uff01"),this._videoAd.load(),this._videoCallback&&this.showRewardInsert()}.bind(this)):(l.utils.showLog("\u89c6\u9891\u672a\u521d\u59cb\u5316!"),this._videoCallback&&this.showRewardInsert())}},t.prototype.checkRewardInsertIsShow=function(){var e=l.utils.getRecommondGameList();return l.utils.isSupportnavigateToMiniGame()?l.utils.wechatTool&&l.utils.wechatTool.ServerConfig&&l.utils.wechatTool.ServerConfig.is_reward_intersititia?"true"==l.utils.wechatTool.ServerConfig.is_reward_intersititia&&e&&e.length>0?(l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u663e\u793a\u73af\u5883\u9a8c\u8bc1\u901a\u8fc7\uff01"),!0):(cc.warn("is_reward_intersititia \u53c2\u6570\u4e3afalse\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1):(cc.warn("\u914d\u7f6e\u4e2d\u6ca1\u6709is_reward_intersititia\u53c2\u6570\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1):(l.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\uff01"),!1)},t.prototype.showRewardInsert=function(){if(l.utils.showLog("show reward"),!this.checkRewardInsertIsShow())return l.utils.adManager.videoCallBack&&l.utils.adManager.videoCallBack(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a\uff01"),void(l.utils.adManager.videoCallBack=null);if(cc.isValid(this._rewardInsertNode)&&this._rewardInsertNode||!l.utils.config.otherconfig.rewardInsert||(l.utils.showLog("\u521b\u5efa\u6fc0\u52b1\u63d2\u5c4f\u5e7f\u544a"),this._rewardInsertNode=cc.instantiate(l.utils.config.otherconfig.rewardInsert),this._rewardInsertNode.position=u.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._rewardInsertNode,9999)),this._rewardInsertNode){var e=this._rewardInsertNode.getComponent("RewardInsert");e?(e.isShow=!1,l.utils.showLog("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01")):l.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.hideRewardInsert=function(){if(this._rewardInsertNode){var e=this._rewardInsertNode.getComponent("RewardInsert");e?(e.hide(),l.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01")):l.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.ShowCloseBtnBanner=function(e,t){if(void 0===e&&(e=r.BannerLocation.Home),c.default.IsWechat){if(l.utils.wechatTool&&!l.utils.wechatTool.isOverMinVersion("2.0.4"))return void l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Banner\u5e7f\u544a!");if(l.utils.wechatTool.ServerConfig&&(!l.utils.wechatTool.ServerConfig.isMoveBtn||"true"!=l.utils.wechatTool.ServerConfig.isMoveBtn))return void l.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u5f00\u542f\u79fb\u52a8\u6309\u94ae\uff0c\u4e0d\u663e\u793a\u5e7f\u544a\uff01");if(l.utils.wechatTool&&l.utils.wechatTool.ServerConfig){if(c.default.IsWechat){var i=e,o={adUnitId:l.utils.config.wechatconfig.getBannerId(i),style:{left:0,width:300,top:0}};this._oldBannerLocation!=i&&this._curBannerAd&&(this._curBannerAd.destroy(),this._oldBannerLocation=i);var n=wx.createBannerAd(o);if(n){n.onError(function(e){l.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ",JSON.stringify(e)),n&&n.destroy()});var s=this;n.onLoad(function(){n.show().then(function(){var e=s._curBannerAd;e&&e.destroy(),s._curBannerAd=n;var i=t.closeBtn;if(i){var o=cc.winSize.height,a=s.getBannerAdHeight();l.utils.showLog("utils - adY:",a),a>0&&(i.y=-(o/2-a)+i.height,l.utils.showLog("btnClose.y",i.y)),l.utils.showLog("\u5173\u95ed\u6309\u94ae---Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!")}}).catch(function(e){l.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519",JSON.stringify(e)),n&&n.destroy()})}),n.onResize(function(e){n.style.width=.6*l.utils.wechatTool.getSystemInfo().screenWidth,n.style.left=.5*(l.utils.wechatTool.getSystemInfo().screenWidth-e.width),n.style.top=l.utils.wechatTool.getSystemInfo().screenHeight-e.height})}else l.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!")}}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.canShowCrossWidget6=function(){if(c.default.IsWechat)return!!l.utils.isSupportnavigateToMiniGame()||(cc.warn("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1)},t.prototype.showCrossWidget6=function(){if(this.canShowCrossWidget6()){if(l.utils.config.otherconfig.crossWidget6)return cc.instantiate(l.utils.config.otherconfig.crossWidget6);l.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 CrossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01")}return null},t.prototype.showStatementAds=function(){var e={type:0,node:null},t=null;return this.ShowInterstitial(),l.utils.canShowCrossWidget6()?(l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a6\u4e2a\u4e92\u63a8\u7ec4\u4ef6"),t=this.showCrossWidget6(),e.type=1,e.node=t,e):e},t.prototype.getBannerAdHeight=function(){if(this._curBannerAd){var e=2*this._curBannerAd.style.realHeight;return null==e||isNaN(e)?0:e}return 0},t.prototype.showNativeTryGameWidget=function(e){if(void 0===e&&(e=null),l.utils.wechatTool.isOverMinVersion("2.11.1"))if(this.ServerConfig)if(l.utils.config.wechatconfig.bannerBoxId){var t,i=0;t=e.top?e.top/cc.winSize.height*this.sysInfo.screenHeight:this.sysInfo.screenHeight-112-e.bottom/cc.winSize.height*this.sysInfo.screenHeight,e.left?i=e.left/cc.winSize.width*this.sysInfo.screenWidth:e.right&&(i=this.sysInfo.screenWidth-70-e.right/cc.winSize.width*this.sysInfo.screenWidth);var o=wx.createCustomAd({adUnitId:l.utils.config.wechatconfig.bannerBoxId,adIntervals:30,style:{left:i,top:t}});o.onError(function(t){l.utils.showLog("\u539f\u751f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code="+t.errCode+" #msg="+t.errMsg),e.onError&&(l.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u5f02\u5e38\u56de\u8c03\uff01"),e.onError())}),o.onLoad(function(){l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),o.show().then(function(){e.onSuccess&&(l.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\u56de\u8c03\uff01"),e.onSuccess()),l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01")})}),this._customAdObjs.push(o)}else l.utils.showLog("\u539f\u751f\u5e7f\u544aID\u4e0d\u5b58\u5728");else l.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");else l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a!")},t.prototype.showCustomAd=function(e){if(void 0===e&&(e=null),l.utils.wechatTool.isOverMinVersion("2.11.1"))if(this.ServerConfig)if(l.utils.config.wechatconfig.customAdInfos.length<1)l.utils.showLog("\u539f\u751f\u5e7f\u544a\u914d\u7f6e\u4e0d\u5b58\u5728");else{var t=l.utils.config.wechatconfig.getCustomAdInfoInfo(e.location);if(t){var i=0,o=0;"false"==t.is_center?(i=t.top>-1?t.top/cc.winSize.height*this.sysInfo.screenHeight:this.sysInfo.screenHeight-t.height-t.bottom/cc.winSize.height*this.sysInfo.screenHeight,o=t.left>-1?t.left/cc.winSize.width*this.sysInfo.screenWidth:this.sysInfo.screenWidth-t.width-t.right/cc.winSize.width*this.sysInfo.screenWidth):"updown"==t.is_center?(l.utils.showLog("\u539f\u751f\u6a21\u7248\u4e0a\u4e0b\u5c45\u4e2d\u5bf9\u9f50\uff01"),o=t.left>-1?t.left/cc.winSize.width*this.sysInfo.screenWidth:this.sysInfo.screenWidth-t.width-t.right/cc.winSize.width*this.sysInfo.screenWidth,i=(this.sysInfo.screenHeight-t.height)/2):"about"==t.is_center?(l.utils.showLog("\u539f\u751f\u6a21\u7248\u5de6\u53f3\u5c45\u4e2d\u5bf9\u9f50\uff01"),o=(this.sysInfo.screenWidth-t.width)/2,i=t.top>-1?t.top/cc.winSize.height*this.sysInfo.screenHeight:this.sysInfo.screenHeight-t.height-t.bottom/cc.winSize.height*this.sysInfo.screenHeight):(l.utils.showLog("\u539f\u751f\u6a21\u7248\u4e0a\u4e0b\u5de6\u53f3\u5c45\u4e2d\u5bf9\u9f50\uff01"),o=(this.sysInfo.screenWidth-t.width)/2,i=(this.sysInfo.screenHeight-t.height)/2);var n=wx.createCustomAd({adUnitId:t.id,adIntervals:t.refresh_time,style:{left:o,top:i,width:t.width}});n.location=e.location,l.utils.showLog("customAd style left="+o+",top="+i+";  screenWidth="+this.sysInfo.screenWidth+", screenHeight="+this.sysInfo.screenHeight),n.onError(function(t){l.utils.showLog("\u539f\u751f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code="+t.errCode+" #msg="+t.errMsg),e.onError&&(l.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u5f02\u5e38\u56de\u8c03\uff01"),e.onError())}),n.onLoad(function(){l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),n.show().then(function(){e.onSuccess&&(l.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\u56de\u8c03\uff01"),e.onSuccess()),l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01")})}),this._customAdObjs.push(n)}else l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01")}else l.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");else l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!")},t.prototype.hideCustomAd=function(e){for(var t=0;t<this._customAdObjs.length;t++)this._customAdObjs[t]&&(e&&"location"in e?this._customAdObjs[t].location==e.location&&(l.utils.showLog("\u9690\u85cf\u4f4d\u7f6e\uff1a"+e.location+"\u7684\u539f\u751f\u6a21\u7248\u5e7f\u544a"),this._customAdObjs[t].destroy(),this._customAdObjs.splice(t,1)):(this._customAdObjs[t].destroy(),this._customAdObjs.splice(t,1)));e&&"location"in e||l.utils.showLog("\u9690\u85cf\u6240\u6709\u4f4d\u7f6e\u7684\u539f\u751f\u6a21\u7248\u5e7f\u544a")},t.prototype.hideNativeTryGameWidget=function(){for(var e=0;e<this._customAdObjs.length;e++)this._customAdObjs[e]&&this._customAdObjs[e].destroy();for(e=0;e<this._customAdObjs.length;e++)this._customAdObjs.splice(e,1)},t.prototype.showNativeBannerAd=function(e,t){var i=this;if(void 0===t&&(t=null),l.utils.showLog("\u5c55\u793a\u539f\u751fbanner\u5e7f\u544a!"),l.utils.wechatTool.isOverMinVersion("2.11.1"))if(this.ServerConfig)if(l.utils.config.wechatconfig.nativeBannerId){var o=(this.sysInfo.screenWidth-325)/2,n=this.sysInfo.screenHeight-100;if(this.nativeBannerAd)this.nativeBannerAd.isShow()?l.utils.showLog("\u539f\u751fBanner\u6b63\u5728\u663e\u793a\uff0c\u4e0d\u91cd\u65b0\u521b\u5efa\uff01"):this.nativeBannerAd.show().then(function(){l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01"),i.HideDefaultBanner()}).catch(function(){l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01"),i.nativeBannerAd&&i.nativeBannerAd.destroy(),i.nativeBannerAd=null,i.ServerConfig.banner_first_ad&&"native"==i.ServerConfig.banner_first_ad&&i._createBanner(e,t)});else{var s=wx.createCustomAd({adUnitId:l.utils.config.wechatconfig.nativeBannerId,adIntervals:l.utils.wechatTool.ServerConfig.refresh_ad_time||30,style:{left:o,top:n,width:325}});l.utils.showLog("native nanner ad style left="+o+",top="+n+";  screenWidth="+this.sysInfo.screenWidth+", screenHeight="+this.sysInfo.screenHeight),s.onError(function(o){l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code="+o.errCode+" #msg="+o.errMsg),i.nativeBannerAd&&i.nativeBannerAd.destroy(),i.nativeBannerAd=null,i.ServerConfig.banner_first_ad&&"native"==i.ServerConfig.banner_first_ad&&i._createBanner(e,t)}),s.onLoad(function(){l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),s.show().then(function(){i.nativeBannerAd&&i.nativeBannerAd.destroy(),i.nativeBannerAd=s,l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01"),i.HideDefaultBanner()}).catch(function(){l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01"),i.nativeBannerAd&&i.nativeBannerAd.destroy(),i.nativeBannerAd=null,i.ServerConfig.banner_first_ad&&"native"==i.ServerConfig.banner_first_ad&&i._createBanner(e,t)})})}}else l.utils.showLog("\u539f\u751fBanner\u5e7f\u544aID\u914d\u7f6e\u4e0d\u5b58\u5728");else l.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");else l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!")},t.prototype.showNativeIntersititialAd=function(){var e=this;if(l.utils.showLog("\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.wechatTool.isOverMinVersion("2.11.1"))if(this.ServerConfig)if(l.utils.config.wechatconfig.nativeInsertIds){var t=420;cc.winSize.width>cc.winSize.height&&(t=300);var i=(this.sysInfo.screenWidth-345)/2,o=(this.sysInfo.screenHeight-t)/2;if(this.nativeIntersititialAd)this.nativeIntersititialAd.isShow()?l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u6b63\u5728\u663e\u793a\uff0c\u4e0d\u91cd\u65b0\u521b\u5efa\uff01"):this.nativeIntersititialAd.show().then(function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01"),e.nativeIntersititialAd&&e.nativeIntersititialAd.destroy(),e.nativeIntersititialAd=null,e.ServerConfig.intersititial_first_ad&&"native"==e.ServerConfig.intersititial_first_ad&&e._createMiniGameInsertAd()});else{var n=wx.createCustomAd({adUnitId:l.utils.config.wechatconfig.nativeInsertIds,adIntervals:60,style:{left:i,top:o,width:345}});l.utils.showLog("native insert ad style left="+i+",top="+o+";  screenWidth="+this.sysInfo.screenWidth+", screenHeight="+this.sysInfo.screenHeight),n.onError(function(t){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code="+t.errCode+" #msg="+t.errMsg),e.nativeIntersititialAd&&e.nativeIntersititialAd.destroy(),e.nativeIntersititialAd=null,e.ServerConfig.intersititial_first_ad&&"native"==e.ServerConfig.intersititial_first_ad&&e._createMiniGameInsertAd()}),n.onLoad(function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),n.show().then(function(){e.nativeIntersititialAd&&e.nativeIntersititialAd.destroy(),e.nativeIntersititialAd=n,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01")}).catch(function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01"),e.nativeIntersititialAd&&e.nativeIntersititialAd.destroy(),e.nativeIntersititialAd=null,e.ServerConfig.intersititial_first_ad&&"native"==e.ServerConfig.intersititial_first_ad&&e._createMiniGameInsertAd()})})}}else l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544aID\u914d\u7f6e\u4e0d\u5b58\u5728");else l.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");else l.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!")},s([d],t)}(a.default));i.default=p,cc._RF.pop()},{"./AdAgent":"AdAgent","./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentWiFi:[function(e,t,i){"use strict";cc._RF.push(t,"a74c2u0w9xBuLKuXchK/Ass","AdAgentWiFi");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sysData=null,t._curBannerAd=null,t._videoAd=null,t._insertAd=null,t._oldAd=null,t._appBox=null,t._videoCallback=null,t._isVideoLoaded=!1,t._isVideoShow=!1,t.wuji=window.wuji,t._bannerShow=!0,t._showBannerTimerId=0,t}return n(t,e),t.prototype.Init=function(){var e=this;c.default.IsWiFi&&l.utils.registerServerInitEvent(function(){e._sysData=l.utils.wifiTool.getSystemInfo()},this)},Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return l.utils.wifiTool.ServerConfig},enumerable:!1,configurable:!0}),t.prototype._initVideoAd=function(){var e=this;this._videoAd||(l.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!"),this._videoAd=this.wuji.createRewardedVideoAd({adUnitId:""}),this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5b8c\u6210"),e._videoAd.show().then(function(){return l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f")}).catch(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25",t),e._videoAd.load().then(function(){return l.utils.showLog("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),e._videoAd.show()})})}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u9519\u8bef",t),e._videoCallback&&(e._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),e._videoCallback=null)}),this._videoAd.onClose(function(t){e._isVideoShow=!1,t.isEnded?(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))}))},t.prototype._createBanner=function(e,t){var i=this;if(void 0===t&&(t=null),c.default.IsWiFi){var o=this._sysData,n=o.windowWidth,s=n-20,a={adUnitId:"",style:{top:o.windowHeight,left:(n-s)/2,width:s}};this._curBannerAd=this.wuji.createBannerAd(a),this._curBannerAd.onLoad(function(){i._curBannerAd.show().then(function(){return l.utils.showLog("banner ad \u5c55\u793a\u6210\u529f")}).catch(function(e){return l.utils.showLog(e)})})}},t.prototype._showBannerTimer=function(e,t){var i=e,o=t;this._createBanner(i,o)},t.prototype.ShowInterstitial=function(){l.utils.showLog("\u8fde\u5c1a\u5c0f\u6e38\u620f\u6ca1\u6709\u63d2\u5c4f\u5e7f\u544a\uff01")},t.prototype.ShowBanner=function(e,t){var i=this;if(void 0===e&&(e=r.BannerLocation.Home),void 0===t&&(t=null),c.default.IsWiFi)if(this.ServerConfig){var o=e,n=t,s=30;this.ServerConfig.refresh_ad_time&&(s=this.ServerConfig.refresh_ad_time),l.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:"+o+"; args:"+JSON.stringify(n)+"; \u95f4\u9694\u65f6\u95f4:"+this.ServerConfig.refresh_ad_time);var a=this._sysData,u=a.windowWidth,h=u-20,d={adUnitId:"",adIntervals:s,style:{top:a.windowHeight,left:(u-h)/2,width:h}};this._curBannerAd&&(this._curBannerAd.offLoad(),this._curBannerAd.destroy()),this._curBannerAd=this.wuji.createBannerAd(d),this._curBannerAd.onLoad(function(){i._curBannerAd.show().then(function(){return l.utils.showLog("banner ad \u5c55\u793a\u6210\u529f")}).catch(function(e){return l.utils.showLog(e)})})}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.HideBanner=function(e){void 0===e&&(e=r.BannerLocation.Home),c.default.IsWiFi&&(l.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761"),this._bannerShow=!1,clearInterval(this._showBannerTimerId),this._curBannerAd&&this._curBannerAd.hide())},t.prototype.ShowVideo=function(e){c.default.IsWiFi&&(this._videoCallback=e,this._isVideoShow=!0,this._videoAd?this._videoAd.load():this._initVideoAd())},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"./AdAgent":"AdAgent","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgentXiaomi:[function(e,t,i){"use strict";cc._RF.push(t,"fdbd3JnjlNEf4sZulsTyGNv","AdAgentXiaomi");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./AdAgent"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./Utils"),u=e("./CompatibleTool"),h=cc._decorator,d=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bannerAd=null,t._insertAd=null,t._videoAd=null,t._nativeBannerAd=[],t._nativeInsertAd=[],t._nativeSingleAd=[],t.nativeBannerAd=null,t._isInsertShow=!1,t._curPosIdIndexNativeBanner=0,t._curPosIdIndexNativeInser=0,t._curPosIdIndexSingleNative=0,t._nativeData=null,t._nativeInsertData=null,t._nativeBannerNode=null,t._nativeInsertNode=null,t._videoCallback=null,t._videoLoaded=null,t._isBannerShow=!1,t._isInsertAdShow=!1,t._isInsertAdLoaded=!1,t._isVideoLoaded=!1,t._isVideoShow=!1,t.lastLastShowVideoTime=0,t.showNum=0,t.showInsertNum=0,t._showBannerCallBack=null,t._isNativeBannerShow=!1,t._nativeIsClose=!1,t._showBannerTimerId=0,t._delayShowBannerId=0,t.canShowNativeBanner=!0,t._curLocation=r.BannerLocation.None,t._isTimeRefresh=!1,t._startBannerTimerTask=0,t._showBannerCount=0,t._nativeBannerInfo=null,t._curNativeBannerInfo={},t._nativeInsertAdShowCount=0,t._insertLastShowTime=0,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return c.default.IsXiaoMi?l.utils.Tool_XiaoMi.ServerConfig:null},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var e=this;c.default.IsXiaoMi&&l.utils.registerServerInitEvent(function(){e._initVideoAd()},this)},t.prototype._initVideoAd=function(){var e=this;if(!this._videoAd){if(!l.utils.config.xiaomiConfig.videoId)return l.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01"),void(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null));var t=l.utils.config.xiaomiConfig.videoId.trim();l.utils.showLog("video\u5e7f\u544aID:"+t),this._videoAd=qg.createRewardedVideoAd({adUnitId:t}),this._videoAd&&(this._videoAd.onLoad(function(){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f!"),e._isVideoLoaded=!0}),this._videoAd.onError(function(t){l.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!error: errorMsg: "+t.errMsg+", erroCode: "+t.errCode),e._isVideoLoaded=!1}),this._videoAd.onClose(function(t){e._isVideoShow=!1,t&&t.isEnded?(l.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!0,""),e._videoCallback=null)):(l.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e._videoCallback&&(e._videoCallback(!1,"\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!"),e._videoCallback=null))}))}},t.prototype.ShowBanner=function(e,t,i){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=!1),c.default.IsXiaoMi){if(!this.ServerConfig)return void l.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");if(this.ServerConfig&&this.ServerConfig.isTest&&"true"==this.ServerConfig.isTest)return this.showNum++,void(this.showNum%2==0?(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a\uff01"),this._createNativeBannerAd(this._showNativeBanner)):(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u9ed8\u8ba4Banner\u5e7f\u544a\uff01"),this._createMiniGameBannerAd(e)));if(!this.checkBannerAdShow())return void this.HideBanner();this._showBannerCount++;var n=this._curLocation;this._curLocation=e,this._isTimeRefresh=i,n!=e&&this.HideBanner(e);var s=((new Date).getTime()-this._startBannerTimerTask)/1e3,a=this.ServerConfig.refresh_ad_time;if(t&&t.isRefresh?i=!0:a&&a>0&&s>a&&(i=!0),-1==this.getNativeBannerInfo().is_show_banner)return l.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!"),void this.HideBanner(e);if(!i&&this.ServerConfig.nbclr&&"true"==this.ServerConfig.nbclr&&this._curNativeBannerInfo.nativeBannerAd)return l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e "),l.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a"+this.getNativeBannerInfo().delay_show_time+"\u79d2"),clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._delayShowBannerId=setTimeout(function(){o._showNativeBanner(o._curNativeBannerInfo.nativeBannerAd,o._curNativeBannerInfo.data)},1e3*this.getNativeBannerInfo().delay_show_time),l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+(a-s)),void(this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*(a-s)));if(this.canShowNativeBanner=!0,this._nativeIsClose=!1,clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),l.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668"),this.ServerConfig){l.utils.showLog("banner \u4f18\u5148\u5c55\u793a >>>>"+this.ServerConfig.banner_first_ad),a&&a>0&&(l.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>"+a),this._showBannerTimerId=setTimeout(function(){l.utils.showLog("\u5b9a\u65f6"+a+"\u79d2\u8c03\u7528showbanner"),o.ShowBanner(o._curLocation,{},!0)},1e3*a));var r=this.ServerConfig.banner_close_count?this.ServerConfig.banner_close_count:0;if(r>0&&l.utils.Tool_XiaoMi.bannerAdCloseCounts>=r)return void l.utils.showLog("banner \u5173\u95ed\u6b21\u6570\u8fbe\u5230"+r+"\u6b21,banner\u4eca\u65e5\u4e0d\u518d\u663e\u793a\uff01");this.ServerConfig.banner_first_ad?this.ServerConfig.banner_first_ad.indexOf("native")>-1?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!"+i+" <<<<"),this._isTimeRefresh?this._createNativeBannerAd(this._showNativeBanner):(l.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a"+this.getNativeBannerInfo().delay_show_time+"\u79d2"),this._delayShowBannerId=setTimeout(function(){o._createNativeBannerAd(o._showNativeBanner)},1e3*this.getNativeBannerInfo().delay_show_time))):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!"),this._createMiniGameBannerAd(e)):l.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!")}else l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype.HideBanner=function(e){void 0===e&&(e=null),c.default.IsXiaoMi&&(clearTimeout(this._showBannerTimerId),clearTimeout(this._delayShowBannerId),this._isBannerShow=!1,this._nativeIsClose=!0,this._bannerAd&&(l.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner"),this._bannerAd.hide()),this.canShowNativeBanner=!1,this._nativeBannerNode&&(l.utils.showLog("\u9690\u85cf\u539f\u751fBanner"),this._nativeBannerNode.active=!1))},t.prototype.getNativeBannerInfo=function(){return this._nativeBannerInfo&&this._nativeBannerInfo.location==this._curLocation?this._nativeBannerInfo:l.utils.config.xiaomiConfig.getNativeBannerInfo(this._curLocation)},t.prototype._createMiniGameBannerAd=function(e){var t=this;if(void 0===e&&(e=null),c.default.IsXiaoMi)if(this._isBannerShow=!0,l.utils.config.xiaomiConfig&&l.utils.config.xiaomiConfig.bannerId){this._bannerAd&&this._bannerAd.destroy();var i=.5*(l.utils.Tool_XiaoMi.SysInfo.screenWidth-385);cc.winSize.height<cc.winSize.width&&(i=.5*l.utils.Tool_XiaoMi.SysInfo.screenWidth);var o={left:i,top:l.utils.Tool_XiaoMi.SysInfo.screenHeight-58,width:385};"top"===this.getNativeBannerInfo()._alignType&&(o.top=0),this._bannerAd=qg.createBannerAd({adUnitId:l.utils.config.xiaomiConfig.bannerId,style:o}),l.utils.showLog("createBannerAd:"+this._bannerAd),l.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!"),this._bannerAd.onError(function(e){l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u51fa\u9519: "+e.code+e.msg),-1!=t.getNativeBannerInfo().st_banner_show_back_up?t._isBannerShow&&(t._isBannerShow=!1,t.ServerConfig.banner_first_ad.indexOf("default")>-1&&(t._curPosIdIndexNativeBanner=0,t._createNativeBannerAd(t._showNativeBanner.bind(t)))):l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a")}),this._bannerAd.onResize(function(e){l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01"),t._nativeBannerNode&&(t._nativeBannerNode.active=!1),t._showBannerCallBack&&t._showBannerCallBack(),t._showBannerCallBack=null,t._bannerAd.style.left=.5*(l.utils.Tool_XiaoMi.SysInfo.screenWidth-e.width),"top"==t.getNativeBannerInfo()._alignType?t._bannerAd.style.top=0:t._bannerAd.style.top=l.utils.Tool_XiaoMi.SysInfo.screenHeight-e.height}),this._bannerAd.onClose(function(){l.utils._bannerCloseTime=(new Date).getTime(),t._isNativeBannerShow?(t._isNativeBannerShow=!1,l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.Tool_XiaoMi.bannerAdCloseCounts)):(l.utils.Tool_XiaoMi.countBannerCloseCount(),l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>"+l.utils.Tool_XiaoMi.bannerAdCloseCounts))}),this._bannerAd?(this._bannerAd.show(),l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner show")):(l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!"),this.ServerConfig.indexOf("default")>-1&&(this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this))))}else{if(l.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");this.ServerConfig.banner_first_ad.indexOf("default")>-1&&(this._curPosIdIndexNativeBanner=0,this._createNativeBannerAd(this._showNativeBanner.bind(this)))}},t.prototype._createNativeBannerAd=function(e){var t=this;if(c.default.IsXiaoMi){var i=e;l.utils.showLog("curPosIdIndexNativeBanner:"+this._curPosIdIndexNativeBanner);var o=this._nativeBannerAd[this._curPosIdIndexNativeBanner];if(o||l.utils.config.xiaomiConfig.nativeBannerIds&&l.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:"+l.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]),(o=qg.createNativeAd({adUnitId:l.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]}))&&(this._nativeBannerAd.push(o),o.onLoad(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else{if(e&&e.adList&&e.adList.length>0){t._startBannerTimerTask=(new Date).getTime(),l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeDataValid(n)||"true"==t.getNativeBannerInfo().show_st_banner)return void(t.canShowNativeBanner?(t._curPosIdIndexNativeBanner=0,t._showNativeBanner(o,n),t._curNativeBannerInfo.nativeBannerAd=o,t._curNativeBannerInfo.data=n,t._bannerAd&&(t._isNativeBannerShow=!0,l.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner"),t._bannerAd.hide())):l.utils.showLog("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a"))}if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.xiaomiConfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");t.ServerConfig.banner_first_ad.indexOf("native")>-1&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd())}}}),o.onError(function(e){if(t._nativeIsClose)l.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");else if(l.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+e.code+e.msg),t._curPosIdIndexNativeBanner++,t._curPosIdIndexNativeBanner<l.utils.config.xiaomiConfig.nativeBannerIds.length)t._createNativeBannerAd(i);else{if(t._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==t.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(t.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),t._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(t._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}))),o)l.utils.showLog("nativeBannerAd reLoad>>"),o.load();else if(this._curPosIdIndexNativeBanner++,l.utils.config.xiaomiConfig.nativeBannerIds&&this._curPosIdIndexNativeBanner<l.utils.config.xiaomiConfig.nativeBannerIds.length)this._createNativeBannerAd(i);else{if(this._curPosIdIndexNativeBanner=0,l.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),-1==this.getNativeBannerInfo().st_banner_show_back_up)return void l.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");if(this.ServerConfig.banner_first_ad.indexOf("native")>-1)l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01"),this._createMiniGameBannerAd();else if(l.utils.isShowRecommondGamesBanner())return clearTimeout(this._showBannerTimerId),l.utils.showRecommendGamesBanner(),void l.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner")}}},t.prototype.ShowVideo=function(e){c.default.IsXiaoMi&&(this._videoCallback=e,this._videoAd?this._videoAd.show():(this._videoCallback&&(this._videoCallback(!1,"\u6682\u65e0\u89c6\u9891\u5e7f\u544a!"),this._videoCallback=null),this._initVideoAd()))},t.prototype.ShowInterstitial=function(e){if(void 0===e&&(e=null),c.default.IsXiaoMi){if(!this.checkInsertAdShow())return;var t=0;if(this.ServerConfig&&this.ServerConfig.intersititia_delay_show_time&&(t=this.ServerConfig.intersititia_delay_show_time),l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5ef6\u65f6\u5c55\u793a\uff01 delayTime:"+t+"\u79d2"),this.ServerConfig&&this.ServerConfig.isTest&&"true"==this.ServerConfig.isTest)return this.showInsertNum++,void(this.showInsertNum%2==0?(l.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01"),this.nativeInserAdDelayCall()):this._createMiniGameInsertAd());this.ServerConfig?e&&e==r.BannerLocation.Pause?"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01"),l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),this.nativeInserAdDelayCall()):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()):"native"==this.ServerConfig.intersititial_first_ad?(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.delayCall(this.nativeInserAdDelayCall.bind(this),t)):(l.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),l.utils.delayCall(this._createMiniGameInsertAd.bind(this),t)):l.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!")}},t.prototype._createMiniGameInsertAd=function(){var e=this;this._isInsertShow=!0,this._insertAd=qg.createInterstitialAd({adUnitId:l.utils.config.xiaomiConfig.insertId.trim()}),this._insertAd?(this._insertAd.onLoad(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e._isInsertShow&&e._insertAd.show().then(function(){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f!"),e._insertLastShowTime=(new Date).getTime()}).catch(function(e){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25!, err="+JSON.stringify(e))})}),this._insertAd.onError(function(t){l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u76d1\u542c\u5f02\u5e38!, err="+JSON.stringify(t)),e._isInsertShow&&"default"==e.ServerConfig.intersititial_first_ad&&(e._isInsertShow=!1,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!"),e._curPosIdIndexNativeInser=0,l.utils.delayCall(e.nativeInserAdDelayCall.bind(e),e.ServerConfig.intersititia_delay_show_time||0))})):l.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u672a\u521d\u59cb\u5316!")},t.prototype.nativeInserAdDelayCall=function(){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570="+l.utils.Tool_XiaoMi.NativeInsertAdClickTimes+"; \u70b9\u51fb\u6b21\u6570\u9650\u5236="+this.ServerConfig.intersititia_click_count+"; \u5c55\u793a\u6b21\u6570\u95f4\u9694="+this.ServerConfig.intersititial_interval_time+"; \u5c55\u793a\u7d2f\u8ba1="+this._nativeInsertAdShowCount),l.utils.Tool_XiaoMi.NativeInsertAdClickTimes>=(this.ServerConfig.intersititia_click_count||0)?this._nativeInsertAdShowCount>=(this.ServerConfig.intersititia_show_interval||0)?this._createNativeInsertAd(this._showNativeInsert):this._nativeInsertAdShowCount++:this._createNativeInsertAd(this._showNativeInsert)},t.prototype._createNativeInsertAd=function(e){var t=this;if(c.default.IsXiaoMi){var i=e;if(l.utils.showLog("curPosIdIndexNativeInsert:"+this._curPosIdIndexNativeInser),l.utils.config.xiaomiConfig.nativeInsertIds&&l.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]){l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:"+l.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]);var o=qg.createNativeAd({adUnitId:l.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]});if(o){o.onLoad(function(e){if(e&&e.adList&&e.adList.length>0){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01"),l.utils.showLog(JSON.stringify(e));var n=(e=JSON.parse(JSON.stringify(e))).adList[0];if(t._checkNativeInsertDataValid(n))return t._curPosIdIndexNativeInser=0,void t._showNativeInsert(o,n);l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01")}l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01"),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.xiaomiConfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))}),o.onError(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01"+JSON.stringify(e))});var n=o.load();n&&n.then(function(e){console.log("res",JSON.stringify(e))}).catch(function(e){l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01"+JSON.stringify(e)),t._curPosIdIndexNativeInser++,t._curPosIdIndexNativeInser<l.utils.config.xiaomiConfig.nativeInsertIds.length?t._createNativeInsertAd(i):(t._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==t.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),t._createMiniGameInsertAd()))})}else this._curPosIdIndexNativeInser++,l.utils.config.xiaomiConfig.nativeInsertIds&&this._curPosIdIndexNativeInser<l.utils.config.xiaomiConfig.nativeInsertIds.length?this._createNativeInsertAd(i):(this._curPosIdIndexNativeInser=0,l.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01"),"native"==this.ServerConfig.intersititial_first_ad&&(l.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!"),this._createMiniGameInsertAd()))}}},t.prototype._showNativeInsert=function(e,t){if(c.default.IsXiaoMi&&t){if(l.utils.showLog("\u663e\u793a\u539f\u751f\u63d2\u5c4f"),(!cc.isValid(this._nativeInsertNode)||!this._nativeInsertNode&&l.utils.config.otherconfig.nativeInsert)&&(l.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d"),this._nativeInsertNode=cc.instantiate(l.utils.config.otherconfig.nativeInsert),this._nativeInsertNode.position=u.default.position(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(this._nativeInsertNode,9999)),this._nativeInsertNode){var i=this._nativeInsertNode.getComponent("YZ_NativeInsert");i?(this._nativeInsertAdShowCount=0,this._insertLastShowTime=(new Date).getTime(),i.init(e,t)):l.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!")}else l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");this.ServerConfig.show_insert_hide_banner&&"false"==this.ServerConfig.show_insert_hide_banner||(l.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u5c55\u793a\u540e\u9690\u85cfBanner\uff01"),this.HideBanner())}},t.prototype._showNativeBanner=function(e,t){if(c.default.IsXiaoMi&&t)if(cc.isValid(this._nativeBannerNode)&&this._nativeBannerNode&&this._nativeBannerNode.destroy(),this._nativeBannerNode=cc.instantiate(l.utils.config.otherconfig.nativeBanner),this._nativeBannerNode.position=u.default.position(cc.winSize.width/2,this._nativeBannerNode.height*this._nativeBannerNode.scaleY/2),cc.director.getScene().addChild(this._nativeBannerNode,1e3),this._nativeBannerNode){this._nativeBannerNode.active=!0;var i=this._nativeBannerNode.getComponent("YZ_NativeBanner");i?i.init(e,t,this.getNativeBannerInfo()):l.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!"),this._showBannerCallBack&&this._showBannerCallBack(),this._showBannerCallBack=null}else l.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01")},t.prototype.checkInsertAdShow=function(){var e=this.ServerConfig.intersititial_interval_time?this.ServerConfig.intersititial_interval_time:30,t=((new Date).getTime()-this._insertLastShowTime)/1e3;return l.utils.showLog("xiaomi\u670d\u52a1\u5668\u63d2\u5c4f\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+e+"\u79d2\uff01"),l.utils.showLog("xiaomi\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a"+t+"\u79d2\uff01"),!(e>0&&t<e&&(l.utils.showLog("xiaomi\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+e+"\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a"),1))},t.prototype.checkBannerAdShow=function(){var e=this.ServerConfig.hide_banner_interval_show_time?this.ServerConfig.hide_banner_interval_show_time:0,t=((new Date).getTime()-l.utils._bannerCloseTime)/1e3;return l.utils.showLog("xiaomi\u670d\u52a1\u5668Banner\u5173\u95ed\u540e\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a"+e+"\u79d2\uff01"),l.utils.showLog("xiaomi-Banner\u5173\u95ed\u540e\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a"+t+"\u79d2\uff01"),!(e>0&&t<e&&(l.utils.showLog("xiaomi-Banner\u5173\u95ed\u540e\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e"+e+"\u79d2\u3002Banner\u4e0d\u663e\u793a"),1))},t.prototype._checkNativeInsertDataValid=function(e){return!!e&&e.title&&(e.iconUrlList&&e.iconUrlList.length>0||e.imgUrlList&&e.imgUrlList.length>0)},t.prototype._checkNativeDataValid=function(e){return!!e&&e.imgUrlList&&e.imgUrlList.length},s([d],t)}(a.default));i.default=p,cc._RF.pop()},{"./AdAgent":"AdAgent","./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AdAgent:[function(e,t,i){"use strict";cc._RF.push(t,"c007b2/0jZPJ7WzuygFZTgG","AdAgent");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,a=(n.property,function(){function e(){}return e.prototype.Init=function(){},e.prototype.ShowBanner=function(){},e.prototype.HideBanner=function(){},e.prototype.ShowInterstitial=function(){},e.prototype.ShowVideo=function(){},e.prototype.showInteractiveAd=function(){},e.prototype.ShowAppBox=function(){},e.prototype.HideAppBox=function(){},e.prototype.showRewardInsert=function(){},e.prototype.hideRewardInsert=function(){},e.prototype.ShowCloseBtnBanner=function(){},e.prototype.ShowStatementRecomment=function(){},e.prototype.getNativeAdData=function(){},e.prototype.showStatementAds=function(){},e.prototype.createNativeAd=function(e){void 0===e&&(e=null)},e.prototype.hideKyxBanner=function(){},e.prototype.showNativeTryGameWidget=function(e){void 0===e&&(e=null)},e.prototype.hideNativeTryGameWidget=function(){},e.prototype.showBlockAd=function(){},e.prototype.hideBlockAd=function(){},e.prototype.showFullScreenVideo=function(){},e.prototype.showNativeSplashView=function(){},e.prototype.ShowSingleNativeAd=function(){},e.prototype.HideSingleNativeAd=function(){},e.prototype.showCustomAd=function(){},e.prototype.hideCustomAd=function(){},e.prototype.createCustomADBanner=function(){},o([s("AdAgent")],e)}());i.default=a,cc._RF.pop()},{}],AdManager:[function(e,t,i){"use strict";cc._RF.push(t,"fea03SQueFJo7iMSvZ2Vxkg","AdManager");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./AdAgentNative"),a=e("./AdAgentWechat"),r=e("./AdAgentOPPO"),c=e("./AdAgentVIVO"),l=e("./AdAgentBaidu"),u=e("./AdAgentDouyin"),h=e("./YZ_Constant"),d=e("./AdAgentQQ"),p=e("./AdAgentQTT"),_=e("./Utils"),f=e("./AdAgentXiaomi"),g=e("./AdAgent4399"),v=e("./AdAgentIOS"),m=e("./AdAgentCocosplay"),y=e("./AdAgentUC"),w=e("./AdAgentBili"),b=e("./AdAgentKwai"),I=e("./AdAgentBroser"),S=e("./BeforGameOverRecGamesPanel"),C=e("./AdAgentWiFi"),A=e("./AdAgentHago"),L=e("./AdAgentHuaWei"),T=e("./AdAgentFaceBook"),B=e("./YzCustomAdPanel"),P=e("./AdAgentGoogleWeb"),O=cc._decorator,N=O.ccclass,k=(O.property,function(){function e(){this._curAdAgent=null,this.videoCallBack=null,this._lastShowGameOverAdType=h.BeForGameOverAdId.None,this.beforRewardTypes=[h.BeForGameOverAdId.SharePanel,h.BeForGameOverAdId.GoldBox,h.BeForGameOverAdId.Turntable,h.BeForGameOverAdId.CreateShortCut,h.BeForGameOverAdId.RecGame,h.BeForGameOverAdId.LuckBox],this.rewardBoxPanel=null,this.rewardRecGamePanel=null,this.rewardTurnTablePanel=null,this.rewardShortCutPanel=null,this._rewardLuckBoxPanel=null,this._insertLastShowTime=0,this._customAdPanel=null}return e.prototype.Init=function(){n.default.IsNativeAndroid?(this._curAdAgent=new s.default,this._curAdAgent.Init()):n.default.IsWechat?(this._curAdAgent=new a.default,this._curAdAgent.Init()):n.default.IsOPPO?(this._curAdAgent=new r.default,this._curAdAgent.Init()):n.default.IsVIVO?(this._curAdAgent=new c.default,this._curAdAgent.Init()):n.default.IsBaidu?(this._curAdAgent=new l.default,this._curAdAgent.Init()):n.default.IsDouyin?(this._curAdAgent=new u.default,this._curAdAgent.Init()):n.default.IsQQ?(this._curAdAgent=new d.default,this._curAdAgent.Init()):n.default.IsQTT?(this._curAdAgent=new p.default,this._curAdAgent.Init()):n.default.IsXiaoMi?(this._curAdAgent=new f.default,this._curAdAgent.Init()):n.default.ISUC?(this._curAdAgent=new y.default,this._curAdAgent.Init()):n.default.ISCocos?(this._curAdAgent=new m.default,this._curAdAgent.Init()):n.default.Is4399?(this._curAdAgent=new g.default,this._curAdAgent.Init()):n.default.IsNativeIOS?(this._curAdAgent=new v.default,this._curAdAgent.Init()):n.default.IsBili?(this._curAdAgent=new w.default,this._curAdAgent.Init()):n.default.IsKwai?(this._curAdAgent=new b.default,this._curAdAgent.Init()):n.default.IsWiFi?(this._curAdAgent=new C.default,this._curAdAgent.Init()):n.default.IsHago?(this._curAdAgent=new A.default,this._curAdAgent.Init()):n.default.IsHuaWei?(this._curAdAgent=new L.default,this._curAdAgent.Init()):n.default.IsFaceBook?(this._curAdAgent=new T.default,this._curAdAgent.Init()):n.default.IsTest?(this._curAdAgent=new I.default,this._curAdAgent.Init()):n.default.IsGoogleWeb&&(this._curAdAgent=new P.default,this._curAdAgent.Init())},e.prototype.OnUpdate=function(){},e.prototype.showNativeTryGameWidget=function(e){if(void 0===e&&(e=null),this.checkShowAdTime()){if(this._curAdAgent){if(!_.utils.isShowNativeTryGamesWidget()||n.default.IsHuaWei)return void _.utils.showLog("\u4e0d\u80fd\u663e\u793a\u539f\u751f\u6296\u52a8\u8bd5\u73a9");this._curAdAgent.showNativeTryGameWidget(e)}}else _.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.hideNativeTryGameWidget=function(){this._curAdAgent&&this._curAdAgent.hideNativeTryGameWidget()},e.prototype.showNativeSplashView=function(e){void 0===e&&(e=null),n.default.IsHuaWei&&this._curAdAgent?this._curAdAgent.showNativeSplashView(e):e&&e()},e.prototype.ShowBanner=function(e,t){void 0===e&&(e=h.BannerLocation.Home),void 0===t&&(t=null),this.checkShowAdTime()?this._curAdAgent&&this._curAdAgent.ShowBanner(e,t):_.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.HideBanner=function(e){this._curAdAgent&&this._curAdAgent.HideBanner(e)},e.prototype.ShowInterstitial=function(e){void 0===e&&(e=h.BannerLocation.Home),this.checkShowAdTime()?this.checkInsertAdTime()?this._curAdAgent&&this._curAdAgent.ShowInterstitial(e):_.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u5230\u95f4\u9694\u65f6\u95f4\uff01"):_.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.ShowVideo=function(e){this._curAdAgent?(this.videoCallBack=e,this._curAdAgent.ShowVideo(e)):e&&e(!1,"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01")},e.prototype.showInteractiveAd=function(){this._curAdAgent&&this._curAdAgent.showInteractiveAd()},e.prototype.ShowAppBox=function(e){this._curAdAgent&&this._curAdAgent.ShowAppBox(e)},e.prototype.HideAppBox=function(){this._curAdAgent&&this._curAdAgent.HideAppBox()},e.prototype.showRewardInsert=function(){this._curAdAgent&&(_.utils.showLog("\u663e\u793a RI"),this._curAdAgent.showRewardInsert())},e.prototype.hideRewardInsert=function(){this._curAdAgent&&this._curAdAgent.hideRewardInsert()},e.prototype.ShowCloseBtnBanner=function(e,t){void 0===e&&(e=h.BannerLocation.Home),this.checkShowAdTime()?this._curAdAgent&&this._curAdAgent.ShowCloseBtnBanner(e,t):_.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.ShowStatementRecomment=function(){if(this._curAdAgent){if(n.default.IsOPPO||n.default.IsVIVO)return this._curAdAgent.ShowStatementRecomment();if(n.default.IsWechat)return _.utils.showCrossWidget6()}return null},e.prototype.getNativeAdData=function(e){return this._curAdAgent?(_.utils.showLog("adManager \u83b7\u53d6\u539f\u751f\u5e7f\u544a"),this._curAdAgent.getNativeAdData(e)):null},e.prototype.showStatementAds=function(e){var t={type:-1,node:null};return this.checkShowAdTime()?this._curAdAgent&&(n.default.IsWechat||n.default.IsBaidu)?this._curAdAgent.showStatementAds(e):(n.default.IsQTT?_.utils.adManager.showInteractiveAd():_.utils.adManager.ShowInterstitial(),_.utils.showLog("\u975eoppo\u548c\u5fae\u4fe1\u5e73\u53f0\u6b63\u5e38\u663e\u793a\u7ed3\u7b97\u5e7f\u544a"),t):(_.utils.showLog("\u663e\u793a\u7ed3\u7b97\u9875\u9762\u5e7f\u544a\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01"),t)},e.prototype.createNativeAd=function(e,t){void 0===e&&(e=null),this._curAdAgent&&this._curAdAgent.createNativeAd(e,t)},e.prototype.hideKyxBanner=function(){this._curAdAgent&&this._curAdAgent.hideKyxBanner()},e.prototype.showBeforGameOverAd=function(e,t,i,o,s){if(n.default.IsOPPO||n.default.IsVIVO||n.default.IsDouyin||n.default.IsBaidu||n.default.IsWechat||n.default.IsQQ||n.default.IsKwai||n.default.IsNativeAndroid||n.default.IsNativeIOS||_.utils._tool_Broswer||n.default.IsWiFi||n.default.IsHuaWei){if(_.utils.ServerConfig&&_.utils.ServerConfig.befor_ad_min_level&&_.utils.ServerConfig.befor_ad_min_level>=e)return _.utils.showLog(e+" >>\u670d\u52a1\u5668\u914d\u7f6e\u7ed3\u7b97\u524d\u5e7f\u544a\u5728"+_.utils.ServerConfig.befor_ad_min_level+"\u5173\u540e\u624d\u80fd\u663e\u793a\uff01"),void(o&&o());switch(_.utils.showLog("\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff1a  #Level= ",e," #LevelStatys=",t," #rewardValue = ",i),_.utils.currentLevel=e,_.utils.isSuccess=t==h.LevelStatus.GameWin,_.utils.rewardCallFunc=s,_.utils.rewardCloseFunc=o,_.utils.rewardValue=i,_.utils.adManager.checkShowBeforGameOverAd(e,t==h.LevelStatus.GameWin)){case h.BeForGameOverAdId.SharePanel:_.utils.recordEnd(),_.utils.showShareRecordPanel();break;case h.BeForGameOverAdId.GoldBox:_.utils.adManager.showRewardBoxPanel();break;case h.BeForGameOverAdId.Turntable:_.utils.adManager.showrewardTurnTablePanel();break;case h.BeForGameOverAdId.CreateShortCut:_.utils.adManager.showRewardShortCutPanel();break;case h.BeForGameOverAdId.RecGame:_.utils.adManager.showRecGamePanel();break;case h.BeForGameOverAdId.LuckBox:e>(_.utils.ServerConfig.reward_luck_box_show_level?_.utils.ServerConfig.reward_luck_box_show_level:0)?_.utils.adManager.showRewardLuckBoxPanel():(_.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u95f4\u9694\u5173\u5361\u672a\u8fbe\u5230\uff01"),o&&o(),_.utils.rewardCloseFunc=null);break;default:o&&o(),_.utils.rewardCloseFunc=null}}else o&&o(),_.utils.rewardCloseFunc=null},e.prototype.getRewardCloseAndShowCallFunc=function(e){var t=null;switch(e){case 1:t=_.utils.adManager.showShareRecordPanel;break;case 2:t=_.utils.adManager.showRewardBoxPanel;break;case 3:t=_.utils.adManager.showrewardTurnTablePanel;break;case 4:t=_.utils.adManager.showRewardShortCutPanel;break;case 5:t=_.utils.adManager.showRecGamePanel;break;case 6:t=_.utils.adManager.showRewardLuckBoxPanel}return t},e.prototype.checkShowBeforGameOverAd=function(e,t){if(!this._curAdAgent||!_.utils.ServerConfig)return _.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25\uff01"),h.BeForGameOverAdId.None;var i=_.utils.ServerConfig.befor_game_over_share_interval,o=_.utils.ServerConfig.befor_game_over_reward_box_interval,s=_.utils.ServerConfig.befor_game_over_turntable_interval,a=_.utils.ServerConfig.auto_desktop_interval,r=_.utils.ServerConfig.befor_game_over_rec_game_interval,c=_.utils.ServerConfig.befor_game_over_luck_box_interval,l=_.utils.ServerConfig.befor_game_over_share_type,u=_.utils.ServerConfig.befor_game_over_reward_box_type,d=_.utils.ServerConfig.befor_game_over_turntable_type,p=_.utils.ServerConfig.befor_game_over_rec_game_type,f=_.utils.ServerConfig.befor_game_over_luck_box_type,g=_.utils.ServerConfig.auto_desktop_type,v=_.utils.ServerConfig.befor_game_over_sync_list,m=_.utils.ServerConfig.befor_game_over_sync_interval,y=_.utils.ServerConfig.befor_game_over_sync_type;n.default.IsTest&&(u="all",o=1);var w=h.BeForGameOverAdId.None,b=!1;if(v){switch(_.utils.showLog("\u8fdb\u5165\u540c\u6b65\u663e\u793a\u5f39\u7a97\u5224\u65ad\uff1a",v,"<<interval=",m,"<<<type",y),y){case"all":b=!0;break;case"success":b=t;break;case"fail":b=!t}if(b&&m&&e%m==0)for(var I=v.split(""),S=0;S<I.length;S++){0==S&&(w=this.beforRewardTypes[parseInt(I[S])-1]);var C;switch(C=S==I.length-1?_.utils.rewardCloseFunc:this.getRewardCloseAndShowCallFunc(parseInt(I[S+1])),I[S]){case"1":_.utils.shareRecordPanelCloseFunc=C;break;case"2":_.utils.rewardBoxPanelCloseFunc=C;break;case"3":_.utils.turnTablePanelCloseFunc=C;break;case"4":_.utils.rewardShortCutPanelCloseFunc=C;break;case"5":_.utils.rewardRecGamePanelCloseFunc=C;break;case"6":_.utils.rewardLuckBoxPanelCloseFunc=C}}}else{var A=0;if(l&&A++,u&&A++,d&&A++,g&&A++,f&&A++,_.utils.showLog("\u663e\u793a\u7684\u7c7b\u578b"+A+"\u79cd\uff0c\u8fdb\u884c\u987a\u5e8f\u5207\u6362\u5224\u65ad,\u4e0a\u4e00\u6b21\u663e\u793a\u7684\u7c7b\u578b\u4e3a\uff1a"+this._lastShowGameOverAdType),b=!0,i&&e%i==0&&(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\u5224\u65ad",l,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.SharePanel),b))switch(l){case"all":_.utils.showLog("\u95f4\u9694"+i+"\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01"),w=h.BeForGameOverAdId.SharePanel;break;case"success":t&&(w=h.BeForGameOverAdId.SharePanel,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+i+"\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.SharePanel,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+i+"\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01"))}if(w!=h.BeForGameOverAdId.None)return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w;if(o&&e%o==0&&(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u5b9d\u7bb1\u5224\u65ad",u,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.GoldBox),b))switch(u){case"all":w=h.BeForGameOverAdId.GoldBox,_.utils.showLog("\u95f4\u9694"+o+"\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01");break;case"success":t&&(w=h.BeForGameOverAdId.GoldBox,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+o+"\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.GoldBox,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+o+"\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01"))}if(w!=h.BeForGameOverAdId.None)return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w;if(s&&e%s==0&&(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u62bd\u5956\u5f39\u7a97\u5224\u65ad",d,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.Turntable),b))switch(d){case"all":w=h.BeForGameOverAdId.Turntable,_.utils.showLog("\u95f4\u9694"+s+"\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01");break;case"success":t&&(w=h.BeForGameOverAdId.Turntable,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+s+"\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.Turntable,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+s+"\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01"))}if(w!=h.BeForGameOverAdId.None)return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w;if(a&&e%a==0){if(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\u5224\u65ad",g,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.CreateShortCut),b)switch(g){case"all":w=h.BeForGameOverAdId.CreateShortCut,_.utils.showLog("\u95f4\u9694"+a+"\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01");break;case"success":t&&(w=h.BeForGameOverAdId.CreateShortCut,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+a+"\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.CreateShortCut,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+a+"\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01"))}}else _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff01");if(w!=h.BeForGameOverAdId.None)return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w;if(r&&e%r==0){if(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\u5224\u65ad",p,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.RecGame),b)switch(p){case"all":w=h.BeForGameOverAdId.RecGame,_.utils.showLog("\u95f4\u9694"+r+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");break;case"success":t&&(w=h.BeForGameOverAdId.RecGame,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+r+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.RecGame,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+r+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01"))}}else _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u66f4\u591a\u6e38\u620f\u5e7f\u544a\uff01");if(w!=h.BeForGameOverAdId.None)return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w;if(c&&e%c==0){if(_.utils.showLog("\u8fdb\u5165\u663e\u793a\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\u5224\u65ad",f,"<<"),A>1&&(b=this._lastShowGameOverAdType!=h.BeForGameOverAdId.LuckBox),b)switch(f){case"all":w=h.BeForGameOverAdId.LuckBox,_.utils.showLog("\u95f4\u9694"+c+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");break;case"success":t&&(w=h.BeForGameOverAdId.LuckBox,_.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694"+c+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01"));break;case"fail":t||(w=h.BeForGameOverAdId.LuckBox,_.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694"+c+"\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01"))}}else _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\uff01")}return _.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a",w),this._lastShowGameOverAdType=w,w},e.prototype.showShareRecordPanel=function(e){if(void 0===e&&(e=null),!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.shareRecordPanel){var t=cc.instantiate(_.utils.config.otherconfig.shareRecordPanel);if(t){_.utils.shareRecordPanel&&cc.isValid(_.utils.shareRecordPanel)&&_.utils.shareRecordPanel.destroy(),_.utils.shareRecordPanel=t,_.utils.shareRecordPanel.zIndex=9999;var i=t.getComponent(cc.Widget);return e?(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(i.isAlignTop=!0,i.isAlignBottom=!1,i.top=e.top):null!=e.bottom&&(i.isAlignTop=!1,i.isAlignBottom=!0,i.bottom=e.bottom),null!=e.left?(i.isAlignLeft=!0,i.isAlignRight=!1,i.left=e.left):null!=e.right&&(i.isAlignLeft=!1,i.isAlignRight=!0,i.right=e.right),null!=e.parent?t.parent=e.parent:cc.director.getScene().addChild(_.utils.shareRecordPanel,1e3)):cc.director.getScene().addChild(_.utils.shareRecordPanel,1e3),i.updateAlignment(),t}}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 ShareRecordPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.showRewardBoxPanel=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.rewardBoxPanel){var e=cc.instantiate(_.utils.config.otherconfig.rewardBoxPanel);if(e)return this.rewardBoxPanel&&cc.isValid(this.rewardBoxPanel)&&this.rewardBoxPanel.destroy(),this.rewardBoxPanel=e,this.rewardBoxPanel.zIndex=9999,cc.director.getScene().addChild(e,1e3),e}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardBoxPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.showRecGamePanel=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.beforGameOverRecGamesPanel&&_.utils.getRecommondGameList()){var e=cc.instantiate(_.utils.config.otherconfig.beforGameOverRecGamesPanel);if(e){this.rewardRecGamePanel&&cc.isValid(this.rewardRecGamePanel)&&this.rewardRecGamePanel.destroy(),this.rewardRecGamePanel=e,this.rewardRecGamePanel.zIndex=9999,cc.director.getScene().addChild(e,1e3);var t=this.rewardRecGamePanel.getComponent(S.default);return t._location=h.SubLocation.isBeforGameOverAd,t.init(_.utils.getRecommondGameList()),t.show(),e}}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 moreGamesPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.showrewardTurnTablePanel=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.rewardTurnTablePanel){var e=cc.instantiate(_.utils.config.otherconfig.rewardTurnTablePanel);if(e)return this.rewardTurnTablePanel&&cc.isValid(this.rewardTurnTablePanel)&&this.rewardTurnTablePanel.destroy(),this.rewardTurnTablePanel=e,this.rewardTurnTablePanel.zIndex=9999,cc.director.getScene().addChild(e,1e3),e}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardTurnTablePanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.showRewardShortCutPanel=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.rewardShortCutPanel){var e=cc.instantiate(_.utils.config.otherconfig.rewardShortCutPanel);if(e)return this.rewardShortCutPanel&&cc.isValid(this.rewardShortCutPanel)&&this.rewardShortCutPanel.destroy(),this.rewardShortCutPanel=e,this.rewardShortCutPanel.zIndex=9999,cc.director.getScene().addChild(e,1e3),e}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardShortCutPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.showRewardLuckBoxPanel=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(_.utils.config.otherconfig.rewardLuckBoxPanel){var e=cc.instantiate(_.utils.config.otherconfig.rewardLuckBoxPanel);if(e)return this._rewardLuckBoxPanel&&cc.isValid(this._rewardLuckBoxPanel)&&this._rewardLuckBoxPanel.destroy(),this._rewardLuckBoxPanel=e,this._rewardLuckBoxPanel.zIndex=9999,cc.director.getScene().addChild(e,1e3),e}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 RewardLuckBoxPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},e.prototype.checkShowAdTime=function(){if(!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;var e=((new Date).getTime()-_.utils._gameEntryTime)/1e3,t=0;return n.default.IsOPPO&&(t=90),""!==_.utils.getConfigByKey("show_ad_time")&&(t=_.utils.getConfigByKey("show_ad_time")),_.utils.showLog("\u9a8c\u8bc1\u5f53\u524d\u5e7f\u544a\u663e\u793a\u65f6\u95f4\uff1a#showAdTime=",t," #interval=",e),e>=t},e.prototype.checkInsertAdTime=function(){if(_.utils.ServerConfig&&_.utils.ServerConfig.insert_ad_interval_time){var e=(new Date).getTime(),t=(e-this._insertLastShowTime)/1e3;if(t<_.utils.ServerConfig.insert_ad_interval_time)return _.utils.showLog("\u9a8c\u8bc1\u5f53\u524d\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u65f6\u95f4\uff1a#showAdTime=",_.utils.ServerConfig.insert_ad_interval_time," #interval=",t),!1;this._insertLastShowTime=e}return!0},e.prototype.showBlockAd=function(e){this._curAdAgent&&n.default.IsQQ&&this._curAdAgent.showBlockAd(e)},e.prototype.hideBlockAd=function(){this._curAdAgent&&n.default.IsQQ&&this._curAdAgent.hideBlockAd()},e.prototype.showFullScreenVideo=function(e){this._curAdAgent?this._curAdAgent.showFullScreenVideo(e):e&&e(!1,"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01")},e.prototype.ShowSingleNativeAd=function(e){this.checkShowAdTime()?this._curAdAgent&&this._curAdAgent.ShowSingleNativeAd&&this._curAdAgent.ShowSingleNativeAd(e):_.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.HideSingleNativeAd=function(e){this._curAdAgent&&this._curAdAgent.HideSingleNativeAd&&this._curAdAgent.HideSingleNativeAd(e)},e.prototype.showCustomAd=function(e){this.checkShowAdTime()?this._curAdAgent&&this._curAdAgent.showCustomAd&&this._curAdAgent.showCustomAd(e):_.utils.showLog("\u663e\u793a\u539f\u751f\u6a21\u7248\u5e7f\u544a\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.hideCustomAd=function(e){this._curAdAgent&&this._curAdAgent.hideCustomAd&&this._curAdAgent.hideCustomAd(e)},e.prototype.showCustomAdPanel=function(e,t){if(_.utils.showLog("\u663e\u793a\u6a21\u7248\u5f39\u7a97\u5e7f\u544a"),!_.utils._isConfigInit)return _.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!n.default.IsWechat)return t&&t(),void _.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u6a21\u7248\u5f39\u7a97\u5e7f\u544a");if(!_.utils.config.wechatconfig.getCustomAdInfoInfo(100))return t&&t(),void _.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u6a21\u7248\u5f39\u7a97\u5e7f\u544a");var i=_.utils.getConfigByKey("custom_panel_show_ad_level");if(i&&e%i!=0)return t&&t(),void _.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u95f4\u9694"+i+"\u5173\u663e\u793a\u6a21\u7248\u5f39\u7a97\u5e7f\u544a!");if(_.utils.config.otherconfig.yzCustomAdPanel){this._curAdAgent&&this._curAdAgent.createCustomADBanner();var o=cc.instantiate(_.utils.config.otherconfig.yzCustomAdPanel);if(o.getComponent(B.default).closeCallFunc=t,o)return this._customAdPanel&&cc.isValid(this._customAdPanel)&&this._customAdPanel.destroy(),this._customAdPanel=o,this._customAdPanel.zIndex=9999,cc.director.getScene().addChild(o,1e3),o}else _.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 CustomAdPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},o([N],e)}());i.default=k,cc._RF.pop()},{"./AdAgent4399":"AdAgent4399","./AdAgentBaidu":"AdAgentBaidu","./AdAgentBili":"AdAgentBili","./AdAgentBroser":"AdAgentBroser","./AdAgentCocosplay":"AdAgentCocosplay","./AdAgentDouyin":"AdAgentDouyin","./AdAgentFaceBook":"AdAgentFaceBook","./AdAgentGoogleWeb":"AdAgentGoogleWeb","./AdAgentHago":"AdAgentHago","./AdAgentHuaWei":"AdAgentHuaWei","./AdAgentIOS":"AdAgentIOS","./AdAgentKwai":"AdAgentKwai","./AdAgentNative":"AdAgentNative","./AdAgentOPPO":"AdAgentOPPO","./AdAgentQQ":"AdAgentQQ","./AdAgentQTT":"AdAgentQTT","./AdAgentUC":"AdAgentUC","./AdAgentVIVO":"AdAgentVIVO","./AdAgentWechat":"AdAgentWechat","./AdAgentWiFi":"AdAgentWiFi","./AdAgentXiaomi":"AdAgentXiaomi","./BeforGameOverRecGamesPanel":"BeforGameOverRecGamesPanel","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YzCustomAdPanel":"YzCustomAdPanel"}],AdSDK:[function(e,t){"use strict";cc._RF.push(t,"38700bTBL9M2a/u4fH6cviO","AdSDK"),window.AdSDK={bannerAds:{},interstitialAds:{},videoAds:{},init:function(){var e=this;GameSDK.registerCallback("ad_banner_onLoad",function(t){var i=e.bannerAds[t.adId];i&&i.onLoad&&i.onLoad(t)}),GameSDK.registerCallback("ad_banner_onError",function(t){var i=e.bannerAds[t.adId];i&&i.onError&&i.onError(t)}),GameSDK.registerCallback("ad_banner_onResize",function(t){var i=e.bannerAds[t.adId];i&&i.onResize&&i.onResize(t)}),GameSDK.registerCallback("ad_interstitial_onLoad",function(t){var i=e.interstitialAds[t.adId];i&&i.onLoad&&i.onLoad(t)}),GameSDK.registerCallback("ad_interstitial_onError",function(t){var i=e.interstitialAds[t.adId];i&&i.onError&&i.onError(t)}),GameSDK.registerCallback("ad_interstitial_onResize",function(t){var i=e.interstitialAds[t.adId];i&&i.onResize&&i.onResize(t)}),GameSDK.registerCallback("ad_rewardedVideo_onLoad",function(t){var i=e.videoAds[t.adId];i&&i.onLoad&&i.onLoad(t)}),GameSDK.registerCallback("ad_rewardedVideo_onError",function(t){var i=e.videoAds[t.adId];i&&i.onError&&i.onError(t)}),GameSDK.registerCallback("ad_rewardedVideo_onClose",function(t){var i=e.videoAds[t.adId];i&&i.onClose&&i.onClose(t)}),GameSDK.registerCallback("ad_onShow",function(t){if(1==t.type){var i=e.bannerAds[t.adId];i&&i.mHandler&&i.mHandler(t.success)}else if(2==t.type){var o=e.interstitialAds[t.adId];o&&o.mHandler&&o.mHandler(t.success)}else if(3==t.type){var n=e.videoAds[t.adId];n&&n.mHandler&&n.mHandler(t.success)}})},createBannerAd:function(e,t,i){var o=this,n={adId:e},s={adId:e,bannerAdId:t,position:i};return GameSDK.callNative("ad_banner_create",s),n.show=function(){var t={adId:e};return GameSDK.callNative("ad_banner_show",t),new Promise(function(t,i){o.bannerAds[e].mHandler=function(e){0==e?t():i()}})},n.hide=function(){var t={adId:e};GameSDK.callNative("ad_banner_hide",t)},n.destroy=function(){var t={adId:e};o.bannerAds[e]=null,GameSDK.callNative("ad_banner_destroy",t)},n.onLoad=function(e){this.onLoad=e},n.onError=function(e){this.onError=e},n.onResize=function(e){this.onResize=e},n.offLoad=function(e){this.onLoad==e&&(this.onLoad=null)},n.offError=function(e){this.onError==e&&(this.onError=null)},n.offResize=function(e){this.onResize==e&&(this.onResize=null)},o.bannerAds[e]=n,n},createInterstitialAd:function(e,t,i){var o=this,n={adId:e},s={adId:e,interstitialAdId:t,style:i};return GameSDK.callNative("ad_interstitial_create",s),n.show=function(){var t={adId:e};return GameSDK.callNative("ad_interstitial_show",t),new Promise(function(t,i){o.interstitialAds[e].mHandler=function(e){0==e?t():i()}})},n.hide=function(){var t={adId:e};GameSDK.callNative("ad_interstitial_hide",t)},n.destroy=function(){var t={adId:e};o.interstitialAds[e]=null,GameSDK.callNative("ad_interstitial_destroy",t)},n.onLoad=function(e){this.onLoad=e},n.onError=function(e){this.onError=e},n.onResize=function(e){this.onResize=e},n.offLoad=function(e){this.onLoad==e&&(this.onLoad=null)},n.offError=function(e){this.onError==e&&(this.onError=null)},n.offResize=function(e){this.onResize==e&&(this.onResize=null)},o.interstitialAds[e]=n,n},createRewardedVideoAd:function(e,t,i){var o=this,n={adId:e},s={adId:e,videoAdId:t,screenOrientation:i};return GameSDK.callNative("ad_rewardedVideo_create",s),n.show=function(){var t={adId:e};return GameSDK.callNative("ad_rewardedVideo_show",t),new Promise(function(t,i){o.videoAds[e].mHandler=function(e){0==e?t():i()}})},n.hide=function(){var t={adId:e};GameSDK.callNative("ad_rewardedVideo_hide",t)},n.destroy=function(){var t={adId:e};o.videoAds[e]=null,GameSDK.callNative("ad_rewardedVideo_destroy",t)},n.onLoad=function(e){this.onLoad=e},n.onError=function(e){this.onError=e},n.onClose=function(e){this.onClose=e},n.offLoad=function(e){this.onLoad==e&&(this.onLoad=null)},n.offError=function(e){this.onError==e&&(this.onError=null)},n.offClose=function(e){this.onClose==e&&(this.onClose=null)},o.videoAds[e]=n,n}},cc._RF.pop()},{}],AldUtils:[function(e,t,i){"use strict";cc._RF.push(t,"7efdf2MYTNBZ4vdYA+fz1rS","AldUtils");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./YZ_Constant"),s=e("./Utils"),a=cc._decorator,r=a.ccclass,c=(a.property,function(){function e(){}return e.StartGame=function(e,t){var i=t?t+",\u7b2c"+e+"\u5173":"\u7b2c"+e+"\u5173";s.utils.showLog("\u5173\u5361\uff1a"+i+"\u5f00\u59cb"),s.utils.cur_tool&&s.utils.cur_tool.postLevel&&s.utils.cur_tool.postLevel(e,n.LevelStatus.GameStart,i)},e.GameWin=function(e,t,i){void 0===t&&(t=0);var o=i?i+",\u7b2c"+e+"\u5173":"\u7b2c"+e+"\u5173";s.utils.showLog("\u5173\u5361\uff1a"+o+"\u80dc\u5229"),s.utils.cur_tool&&s.utils.cur_tool.postLevel&&s.utils.cur_tool.postLevel(e,n.LevelStatus.GameWin,o)},e.GameFail=function(e,t){var i=t?t+",\u7b2c"+e+"\u5173":"\u7b2c"+e+"\u5173";s.utils.showLog("\u5173\u5361\uff1a"+i+"\u5931\u8d25"),s.utils.cur_tool&&s.utils.cur_tool.postLevel&&s.utils.cur_tool.postLevel(e,n.LevelStatus.GameFail,i)},e.GameSkip=function(e,t){var i=t?t+",\u7b2c"+e+"\u5173":"\u7b2c"+e+"\u5173";s.utils.cur_tool&&s.utils.cur_tool.postLevel&&s.utils.cur_tool.postLevel(e,n.LevelStatus.GameSkip,i)},e.UseTool=function(){},e.SendEvent=function(e){s.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5:"+e),s.utils.cur_tool&&s.utils.cur_tool.sendEvent&&s.utils.cur_tool.sendEvent(e)},o([r],e)}());i.default=c,cc._RF.pop()},{"./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],AudioMgr:[function(e,t,i){"use strict";cc._RF.push(t,"2fcf47bjJBFQLVlDEKoJgp6","AudioMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./CocosZ"),n=function(){function e(){this._curMusicId=-1,this._curMusicClip=null,this._videoOn=!1,this._guideAudioId=-1,this.audioIdList=[]}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e),e._inst},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoOn",{get:function(){return this._videoOn},set:function(e){this._videoOn=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AudioOn",{get:function(){return o.cocosz.dataMgr.AudioOn},set:function(e){o.cocosz.dataMgr.AudioOn=e,e?this._curMusicClip&&(this._curMusicId=this._play(this._curMusicClip,!0,1)):this.stopAll()},enumerable:!1,configurable:!0}),e.prototype.playBgm=function(e){if(void 0===e&&(e=!0),this.AudioOn){var t="bgm_ui";if("Home"==cc.director.getScene().name)t="bgm_ui";else{if("Game"!=cc.director.getScene().name)return;t="bgm_6"}var i=o.cocosz.resMgr.getRes(t,cc.AudioClip);i&&(this.stopAll(),setTimeout(function(){cc.audioEngine.playMusic(i,!0)},0))}},e.prototype.playGuideAudio=function(e){-1!=this._guideAudioId&&(cc.audioEngine.stop(this._guideAudioId),this._guideAudioId=-1),this._guideAudioId=o.cocosz.audioMgr.playEffect(e)},e.prototype.playEffect=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=1),!this.videoOn&&this.AudioOn){var n=o.cocosz.resMgr.getRes(e,cc.AudioClip);return n?(this.audioIdList[e]=cc.audioEngine.play(n,t,i),this.audioIdList[e]):void 0}},e.prototype.playClip=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=1),!this.videoOn&&this.AudioOn)return e&&e.isValid?(this.audioIdList[e.name]=cc.audioEngine.play(e,t,i),this.audioIdList[e.name]):void 0},e.prototype.stopEffect=function(e){this.audioIdList[e]>=0&&(cc.audioEngine.stop(this.audioIdList[e]),this.audioIdList[e]=null)},e.prototype.checkEffect=function(e){return!!this.audioIdList[e]},e.prototype.playBtnEffect=function(){var e=this;return new Promise(function(t){e.playEffect("btn"),setTimeout(function(){t(1)},200)})},e.prototype.playEffectWinner=function(e){var t=this;void 0===e&&(e=1),this.stopAll(),setTimeout(function(){6!=o.cocosz.gameMode?t.playEffect("win"):t.playEffect("zombie_win")})},e.prototype.playEffectFailed=function(e){var t=this;void 0===e&&(e=1),this.stopAll(),setTimeout(function(){6!=o.cocosz.gameMode?t.playEffect("fail"):t.playEffect("zombie_fail")})},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){this._videoOn||cc.audioEngine.resumeAll()},e.prototype.stopAll=function(){cc.audioEngine.stopAll(),this.audioIdList=[]},e.prototype._play=function(e,t,i){return this.AudioOn?cc.audioEngine.play(e,t,i):-1},e}();i.default=n,cc._RF.pop()},{"./CocosZ":"CocosZ"}],BeforGameOverRecGamesPanel:[function(e,t,i){"use strict";cc._RF.push(t,"fe7d8OK+QlJO4RCiDkr2evw","BeforGameOverRecGamesPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._gameList=null,t._originScale=1,t._gameItems=[],t._jumpList=null,t._dataDirty=!1,t._is_Horizontal=!1,t._closeBtnRight=null,t._closeBtnLine=null,t._star=null,t.gameItemNode=null,t._location=r.SubLocation.isMoreGame,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),c.default.IsNativeAndroid||a.utils.adManager.HideBanner(r.BannerLocation.Home),this._panel=this.node.getChildByName("Panel"),this.node.active=!1;var e=1;cc.winSize.height<cc.winSize.width?(e=cc.winSize.width/1920,this._is_Horizontal=!0):e=cc.winSize.width/1080,this._is_Horizontal?(this._panel.getChildByName("VGameScrollView").active=!1,this._panel.getChildByName("VHead").active=!1,this._gameList=this._panel.getChildByName("HGameScrollView").getComponent(cc.ScrollView).content,this.gameItemNode=this._gameList.children[0],this._gameList.removeAllChildren()):(this._panel.getChildByName("HGameScrollView").active=!1,this._panel.getChildByName("HHead").active=!1,this._gameList=this._panel.getChildByName("VGameScrollView").getComponent(cc.ScrollView).content,this.gameItemNode=this._gameList.children[0],this._gameList.removeAllChildren()),this._panel.scale=e,this._originScale=this._panel.scale},t.prototype._initWidget=function(){var e=this;this.scheduleOnce(function(){e._gameList.removeAllChildren();for(var t=e._is_Horizontal?7:4,i=t*Math.floor(e._jumpList.length/t),o=0;o<i;o++){var n=e._jumpList[o];if(n&&n.logo){var s=cc.instantiate(e.gameItemNode);s.getComponent("GameItem").init(n,e._location),e._gameList.addChild(s)}}})},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this._updatePanel())},t.prototype._updatePanel=function(){a.utils.postRecommentShowData(this._location),this._initWidget()},t.prototype.init=function(e){this._jumpList=e,this._dataDirty=!0},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1,a.utils.rewardRecGamePanelCloseFunc?(a.utils.rewardRecGamePanelCloseFunc(),a.utils.rewardRecGamePanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null)},t.prototype.onCloseBtnHandler=function(){this.hide()},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],BgScroll:[function(e,t,i){"use strict";cc._RF.push(t,"acdbc3aRD5AGp4ypzXGP/2Q","BgScroll");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t._material=null,t._start=0,t.speed=1,t}return n(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),this.sprite&&(this._material=this.sprite.getMaterial(0)),this.initParams()},t.prototype.initParams=function(){this.sprite&&this._material&&this.speed&&this._material.setProperty("speed",this.speed)},t.prototype.update=function(e){this.node.active&&this._material&&null!=this._material.getProperty("time",0)&&(this._material.setProperty("time",this._start),this._start+=e)},s([c({displayName:"\u901f\u5ea6"})],t.prototype,"speed",void 0),s([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],CheckIsShowIcon:[function(e,t,i){"use strict";cc._RF.push(t,"2ccb4i7SjxNi5AcJc3fVuDW","CheckIsShowIcon");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onEnable=function(){a.utils.ServerConfig&&a.utils.ServerConfig.show_video_icon&&"false"==a.utils.ServerConfig.show_video_icon?this.node.active=!1:this.node.active=!0},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],CocosZ:[function(e,t,i){"use strict";cc._RF.push(t,"54a8bcZAI1KMJdjQ5CMJRqd","CocosZ");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.cocosz=void 0;var a,r=e("./GameMgr"),c=e("./DataMgr"),l=e("./UIMgr"),u=e("./ResMgr"),h=e("./Constant"),d=e("./SceneMgr"),p=e("./AudioMgr"),_=e("../../common-plugin/Scripts/Utils"),f=e("./Msg"),g=e("../../common-plugin/Scripts/PlatUtils"),v=e("LanguageData"),m=cc._decorator,y=m.ccclass,w=m.property;(function(e){e[e.zh=0]="zh",e[e.en=1]="en"})(a||(a={})),i.cocosz=null;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._gameMgr=null,t._dataMgr=null,t._uiMgr=null,t._resMgr=null,t._audioMgr=null,t._sceneMgr=null,t.btnDebug=!1,t._languagesArr=["zh","en"],t.curLanguage="zh",t._curLang=a.zh,t.audioList=[],t._useCJTimes=0,t._totalCJTimes=0,t.curLevel=0,t._pauseCount=0,t.serverConfig_shareMaxNum=0,t.isDeBug=!1,t.isADON=!0,t.gameMode=6,t._dtBack=1/60,t.isOk=!1,t.bundleConfig={"ui/UILoadingPage":"bundleLoad"},t.serverConfig={shareMaxNum:5,shareTime:2,isVideoAd_advanced_weapon:"true",isVideoAd_Qpbz:"true",isVideoAd_Citie:"true",isVideoAd_hideBanner:"true",skillLockNum:2,isBanner_game:!0,isInterstitial_UIHomePage:"true",isInterstitial_UISignPanel:"true",isInterstitial_UITurntablePanel:"true",isInterstitial_UITimePanel:"true",isInterstitial_UIGamePage:"true",isInterstitial_UIRevivePanel:"true",isInterstitial_UIPausePanel:"true",isInterstitial_UIUpgradePanel:"true",try_skin_level_count:1,try_skin_show_ad_interval:1},t.serverConfig_shareTime=2,t}return n(t,e),Object.defineProperty(t.prototype,"gameMgr",{get:function(){return this._gameMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataMgr",{get:function(){return this._dataMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiMgr",{get:function(){return this._uiMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resMgr",{get:function(){return this._resMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioMgr",{get:function(){return this._audioMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneMgr",{get:function(){return this._sceneMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curLang",{get:function(){return this._curLang},set:function(e){this._curLang=e,this.curLanguage=this._languagesArr[e],cc.log("\u5f53\u524d\u8bed\u8a00: ",this.curLanguage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCJTimes",{get:function(){return this._useCJTimes},set:function(e){this._useCJTimes=e,localStorage.setItem(h.default.ST_GameData+"useCJTimes_dmm",this._useCJTimes.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCJTimes",{get:function(){return this._totalCJTimes},set:function(e){this._totalCJTimes=e,localStorage.setItem(h.default.ST_GameData+"totalCJTimes_dmm",this._totalCJTimes.toString())},enumerable:!1,configurable:!0}),t.prototype.getLevelId=function(){return i.cocosz.dataMgr.TotoalCount_6},Object.defineProperty(t.prototype,"pauseCount",{get:function(){return this._pauseCount},set:function(e){e<0&&(e=0),this._pauseCount=e,cc.log("pauseCount:",this._pauseCount)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPause",{get:function(){return this.pauseCount>0},set:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShare",{get:function(){var e=!1;return g.default.IsWechat&&i.cocosz.dataMgr.shareNum<i.cocosz.serverConfig_shareMaxNum&&(e=!0),e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=this;i.cocosz=this,this._gameMgr=r.default.inst,this._dataMgr=c.default.inst,this._resMgr=u.default.inst,this._uiMgr=l.default.inst,this._audioMgr=p.default.inst,this._sceneMgr=d.default.inst,cc.game.addPersistRootNode(this.node),cc.sys.languageCode&&(cc.sys.languageCode.toLowerCase().indexOf("zh")>-1?this.curLanguage="zh":this.curLanguage="en"),v.init(this.curLanguage),this.isDeBug=this.btnDebug,this._initConfigKey(),cc.director.getCollisionManager().enabled=!0;var t=cc.director.getPhysicsManager();t.enabled=!0,t.gravity=cc.v2(),g.default.IsWechat?wx.setKeepScreenOn({keepScreenOn:!0}):g.default.IsOPPO?qg.setKeepScreenOn({keepScreenOn:!0,success:function(){},fail:function(){},complete:function(){}}):g.default.IsVIVO&&qg.setKeepScreenOn({keepScreenOn:!0,success:function(){console.log("handling success")},fail:function(e,t){console.log("handling fail, code = "+t)}}),cc.assetManager.loadBundle("bundleLoad",null,function(t){t?cc.log("\u52a0\u8f7d\u5206\u5305bundleLoad\u51fa\u9519"):e._initLoadingPage()})},t.prototype.update=function(e){var t=cc.director.getPhysicsManager();t.enabledAccumulator=!0,t.FIXED_TIME_STEP=cc.misc.lerp(this._dtBack,e,.01),this._dtBack=e},t.prototype._initLoadingPage=function(){var e=this;this.resMgr.loadAndCacheRes("ui/UILoadingPage",cc.Prefab,null,function(){e._uiMgr.openPage(h.PageName.UILoadingPage),_.utils.login(function(){e._initCache(),e._loadBundleRes(),g.default.IsHuaWei?(_.utils.showYzRealNameAuthPanel(),_.utils.showPrivacyPanel(),e.scheduleOnce(function(){_.utils.registerServerInitEvent(function(){_.utils.adManager.showNativeSplashView(function(){e.isOk=!0})},e)},3)):e.isOk=!0})})},t.prototype._loadBundleRes=function(){var e=this;cc.assetManager.loadBundle("bundleRes",function(t){t?cc.log("\u52a0\u8f7d\u5206\u5305bundleRes\u51fa\u9519"):(e._initBundleConfig(),e._loadRes())})},t.prototype._loadRes=function(){var e,t=this,o=0,n=[];i.cocosz.getDirWithPath("UI/",cc.Prefab,n),i.cocosz.resMgr.loadAndCacheResArray(n,cc.Prefab,null,function(){o++});var s=[];i.cocosz.getDirWithPath("i18n/tex_name/"+i.cocosz.curLanguage,cc.SpriteAtlas,s),i.cocosz.resMgr.loadAndCacheResArray(s,cc.SpriteAtlas,null,function(){o++});var a=[];i.cocosz.getDirWithPath("tex_common",cc.SpriteAtlas,a),i.cocosz.resMgr.loadAndCacheResArray(a,cc.SpriteAtlas,null,function(){o++});var r=[];i.cocosz.getDirWithPath("prefab_heads",cc.Prefab,r),i.cocosz.resMgr.loadAndCacheResArray(r,cc.Prefab,null,function(){o++});var c=[];i.cocosz.getDirWithPath("prefab_weapon",cc.Prefab,c),i.cocosz.resMgr.loadAndCacheResArray(c,cc.Prefab,null,function(){o++});var l=[];i.cocosz.getDirWithPath("prefab_skin",cc.Prefab,l),i.cocosz.resMgr.loadAndCacheResArray(l,cc.Prefab,null,function(){o++});var u=[];i.cocosz.getDirWithPath("audio_common",cc.AudioClip,u),i.cocosz.resMgr.loadAndCacheResArray(u,cc.AudioClip,null,function(){o++}),e=n.length+s.length+a.length+r.length+c.length+l.length+u.length,this.resMgr.cacheCocoszAudio();var d=0;this.schedule(function(){d=o/e,cc.game.emit(h.default.E_GAME_LOGIC,{type:h.default.E_UPDATE_PROGRESS,data:d}),o>=e&&t.isOk&&(t.unscheduleAllCallbacks(),_.utils.registerServerInitEvent(function(){var e=i.cocosz.getConfigByKey("interval_time_show_cp");Number.isInteger(e)&&e>0&&t.schedule(function(){_.utils.adManager.ShowInterstitial()},e)},t),setInterval(function(){i.cocosz.dataMgr.OnlineToday++},1e3),t._sceneMgr.loadScene("Home",function(){t._uiMgr.openPage(h.PageName.UIHomePage)}))},0)},t.prototype._initBundleConfig=function(){for(var e=0,t=["resources","bundleRes","bundleLoad"];e<t.length;e++){var i=t[e],o=cc.assetManager.bundles.get(i);if(o){var n=o._config.paths._map;if(n)for(var s in n)this.bundleConfig[s]=i}}},t.prototype.getBundleWithPath=function(e){if(this.bundleConfig[e])return cc.assetManager.bundles.get(this.bundleConfig[e]);for(var t in this.bundleConfig)if(t[0]===e[0]&&t.includes(e,0))return cc.assetManager.bundles.get(this.bundleConfig[t]);return cc.log("\u67e5\u627ebudle\u5931\u8d25\uff1a",e),null},t.prototype.getDirWithPath=function(e,t,i){var o=this.getBundleWithPath(e);return o?o.getDirWithPath(e,t,i):null},t.prototype.getConfigByKey=function(e){return _.utils.getConfigByKey(e)},t.prototype._initConfigKey=function(){_.utils.registerServerInitEvent(function(){"true"==i.cocosz.getConfigByKey("game_debug")&&(i.cocosz.isDeBug=!0);var e=i.cocosz.getConfigByKey("shareMaxNum");Number.isInteger(e)&&e>=0&&(i.cocosz.serverConfig_shareMaxNum=e);var t=i.cocosz.getConfigByKey("shareTime");Number.isInteger(t)&&t>=0&&(i.cocosz.serverConfig_shareTime=t)},this)},t.prototype._initCache=function(){i.cocosz.dataMgr&&i.cocosz.dataMgr.init(),i.cocosz.dataMgr.LastLoadDate!=(new Date).toDateString()&&(i.cocosz.dataMgr.LastLoadDate=(new Date).toDateString(),i.cocosz.dataMgr.shareNum=0),localStorage.getItem(h.default.ST_GameData+"totalCJTimes_dmm")&&(this._totalCJTimes=Number(localStorage.getItem(h.default.ST_GameData+"totalCJTimes_dmm"))),localStorage.getItem(h.default.ST_GameData+"useCJTimes_dmm")&&(this._useCJTimes=Number(localStorage.getItem(h.default.ST_GameData+"useCJTimes_dmm"))),(new Date).toDateString()!=i.cocosz.dataMgr.LastLoadDate&&(this.useCJTimes=0,i.cocosz.dataMgr.OnlineToday=0,i.cocosz.dataMgr.receiveToday=[0,0,0,0,0],i.cocosz.dataMgr.LastLoadDate=(new Date).toDateString())},Object.defineProperty(t.prototype,"isShowAd",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowGameBanner",{get:function(){return"false"!=i.cocosz.getConfigByKey("gameBanner")},enumerable:!1,configurable:!0}),t.prototype.StoHMS=function(e){var t=0,i=0;e>=60&&(t=Math.floor(e/60),e=Math.floor(e%60),t>60&&(i=Math.floor(t/60),t=Math.floor(t%60)));var o="";return o+=0==i?"":i+":",(o+=t>=10?""+t:"0"+t)+(e>=10?":"+e:":0"+e)},t.prototype.watchAD=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.isDeBug?e?e():t&&t():i.cocosz.audioMgr.videoOn||(i.cocosz.audioMgr.videoOn=!0,i.cocosz.pauseCount++,i.cocosz.audioMgr.stopAll(),_.utils.adManager.ShowVideo(function(o,n){i.cocosz.audioMgr.videoOn=!1,i.cocosz.pauseCount--,i.cocosz.audioMgr.playBgm(),o?e&&e():(t&&t(),n=n||v.t("msg.video_load_fail"),f.default.Show(n))}))},t.prototype.share=function(e,t){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=null),this.isDeBug)e&&e(),i.cocosz.dataMgr.shareNum++;else{var n=(new Date).getTime();_.utils.share(function(){(new Date).getTime()-n>1e3*o.serverConfig_shareTime?(e&&e(),i.cocosz.dataMgr.shareNum++):(t&&t(),f.default.Show("\u8bf7\u5206\u4eab\u81f3\u4e0d\u540c\u597d\u53cb\u624d\u53ef\u83b7\u5f97\u5956\u52b1\u54e6"))})}},t.prototype.vibrate=function(e){void 0===e&&(e="short"),0!=i.cocosz.dataMgr.ShakeOn&&(g.default.IsWechat?"short"==e?wx.vibrateShort({success:function(){},fail:function(){}}):wx.vibrateLong({success:function(){},fail:function(){}}):g.default.IsOPPO?"short"==e?qg.vibrateShort({success:function(){},fail:function(){}}):qg.vibrateLong({success:function(){},fail:function(){}}):g.default.IsVIVO?"short"==e?qg.vibrateShort():qg.vibrateLong():g.default.IsQQ?"short"==e?qq.vibrateShort({success:function(){},fail:function(){}}):qq.vibrateLong({success:function(){},fail:function(){}}):g.default.IsDouyin?"short"==e?tt.vibrateShort({success:function(){},fail:function(){}}):tt.vibrateLong({success:function(){},fail:function(){}}):g.default.IsBaidu?"short"==e?swan.vibrateShort({success:function(){},fail:function(){}}):swan.vibrateLong({success:function(){},fail:function(){}}):g.default.IsNativeAndroid&&("short"==e?jsb.reflection.callStaticMethod(_.utils.Tool_Native.jniClassName,"vibrateShort","()V"):jsb.reflection.callStaticMethod(_.utils.Tool_Native.jniClassName,"vibrateLong","()V")))},s([w()],t.prototype,"btnDebug",void 0),s([w({visible:!1})],t.prototype,"curLanguage",void 0),s([w({visible:!1})],t.prototype,"_curLang",void 0),s([w({type:cc.Enum(a),displayName:"\u5f53\u524d\u8bed\u8a00",tooltip:"zh(\u4e2d\u6587) en(\u82f1\u6587)"})],t.prototype,"curLang",null),s([w({type:cc.AudioClip})],t.prototype,"audioList",void 0),s([y],t)}(cc.Component);i.default=b,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","./AudioMgr":"AudioMgr","./Constant":"Constant","./DataMgr":"DataMgr","./GameMgr":"GameMgr","./Msg":"Msg","./ResMgr":"ResMgr","./SceneMgr":"SceneMgr","./UIMgr":"UIMgr",LanguageData:"LanguageData"}],CoinBord:[function(e,t,i){"use strict";cc._RF.push(t,"96bb6h8GYdOW47cjyMPjHjl","CoinBord");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/Constant"),r=e("../Framework/CocosZ"),c=e("../Framework/Msg"),l=e("LanguageData"),u=cc._decorator,h=u.ccclass,d=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=null,t._icon=null,t._adBtn=null,t.isDiamond=!1,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this._label=this.node.getChildByName("Label").getComponent(cc.Label),this._icon=this.node.getChildByName("Icon"),this._adBtn=this.node.getChildByName("BtnAD"),this._adBtn&&(this._adBtn.on(cc.Node.EventType.TOUCH_END,function(){var t=cc.instantiate(r.cocosz.resMgr.getRes("UIADPanel",cc.Prefab));cc.find("Canvas").addChild(t),e.isDiamond&&t.getComponent("UIADPanel").setDiamond()}),this._adBtn.active=r.cocosz.isADON)},t.prototype.onEnable=function(){cc.game.on(a.default.E_GAME_LOGIC,this._onGameMessageHandler,this),this._updateLabel()},t.prototype.onDisable=function(){cc.game.targetOff(this)},t.prototype._onGameMessageHandler=function(e){switch(e.type){case a.default.E_COIN_CHANGE:case a.default.E_Diamond_CHANGE:this._updateLabel()}},t.prototype._updateLabel=function(){this.isDiamond?this._label.string=r.cocosz.dataMgr.DiamondCount+"":this._label.string=r.cocosz.dataMgr.CoinCount+""},t.prototype.getLocation=function(){return this._icon.convertToWorldSpaceAR(cc.Vec3.ZERO)},t.prototype._addGold=function(){r.cocosz.dataMgr.CoinCount+=200,c.default.Show(l.t("msg.gxhdjb")+"200")},s([d],t.prototype,"isDiamond",void 0),s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg",LanguageData:"LanguageData"}],CommonConfig:[function(e,t,i){"use strict";cc._RF.push(t,"3506bXX0nhILLUvzUl3W+m/","CommonConfig");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.OtherConfig=i.FaceBookConfig=i.BiliConfig=i.XiaoMiConfig=i.CocosConfig=i.UCConfig=i.QTTConfig=i.DouyinConfig=i.NativeIosConfig=i.HagoConfig=i.KwaiConfig=i.WiFiConfig=i.BaiduConfig=i.NativeAndroidConfig=i.HuaWeiConfig=i.YzRedBagInfo=i.VivoConfig=i.OppoConfig=i.QQConfig=i.WechatConfig=i.CustomAdInfo=i.NativeBannerInfo=i.BannerIdInfo=void 0;var n=e("./YZ_Constant"),s=e("./PlatUtils"),a=e("./Utils"),r=e("./YZ_LocalStorage"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(){function e(){this.location=n.BannerLocation.None,this.bannerId=""}return o([u({type:cc.Enum(n.BannerLocation),displayName:"\u5e7f\u544a\u6761\u4f4d\u7f6e"})],e.prototype,"location",void 0),o([u({displayName:"\u5e7f\u544a\u6761ID"})],e.prototype,"bannerId",void 0),o([l("BannerIdInfo")],e)}();i.BannerIdInfo=h;var d=function(){function e(){this.location=n.BannerLocation.None,this.show_st_banner="false",this.banner_close_but_size=40,this.banner_close_but_alpha=120,this.banner_show_height=160,this.banner_close_but_range=40,this.banner_close_but_show="true",this.st_banner_scale=1,this.st_banner_down_btn_image="",this.st_banner_down_but_show=0,this.st_banner_down_but_margin_top=0,this.st_banner_close_but_range=55,this.st_banner_close_but_size=55,this.st_banner_close_but_show="true",this.st_banner_bottom=0,this.st_banner_close_but_alpha=255,this.banner_click_refresh="true",this.auto_refresh=-1,this.st_banner_style=-1,this.st_banner_width=-1,this.st_banner_height=-1,this.st_banner_show_back_up=1,this.is_show_banner=1,this.is_show_rec=-1,this.delay_show_time=0,this.banner_close_showAd_interval=0,this.bg_mask_opacity=0,this.st_banner_bg_mask_opacity=0,this._alignType="bottom"}return e.prototype.init=function(e,t){this.location=e,this.banner_close_but_alpha=t.banner_close_but_alpha?t.banner_close_but_alpha:this.banner_close_but_alpha,this.banner_close_but_range=t.banner_close_but_range?t.banner_close_but_range:this.banner_close_but_range,this.banner_close_but_size=t.banner_close_but_size?t.banner_close_but_size:this.banner_close_but_size,this.banner_show_height=t.banner_show_height?t.banner_show_height:this.banner_show_height,this.banner_close_but_show=t.banner_close_but_show?t.banner_close_but_show:this.banner_close_but_show,this.bg_mask_opacity=t.bg_mask_opacity?t.bg_mask_opacity:this.bg_mask_opacity,this.st_banner_close_but_range=t.st_banner_close_but_range?t.st_banner_close_but_range:this.st_banner_close_but_range,this.st_banner_close_but_size=t.st_banner_close_but_size?t.st_banner_close_but_size:this.st_banner_close_but_size,this.st_banner_down_btn_image=t.st_banner_down_btn_image?t.st_banner_down_btn_image:this.st_banner_down_btn_image,this.st_banner_down_but_margin_top=t.st_banner_down_but_margin_top?t.st_banner_down_but_margin_top:this.st_banner_down_but_margin_top,this.st_banner_down_but_show=t.st_banner_down_but_show?t.st_banner_down_but_show:this.st_banner_down_but_show,this.st_banner_scale=t.st_banner_scale?t.st_banner_scale:this.st_banner_scale,this.show_st_banner=t.show_st_banner?t.show_st_banner:this.show_st_banner,this.st_banner_close_but_show=t.st_banner_close_but_show?t.st_banner_close_but_show:this.st_banner_close_but_show,this.st_banner_bottom=t.st_banner_bottom?t.st_banner_bottom:this.st_banner_bottom,this.st_banner_close_but_alpha=t.st_banner_close_but_alpha?t.st_banner_close_but_alpha:this.st_banner_close_but_alpha,this.banner_click_refresh=t.banner_click_refresh?t.banner_click_refresh:this.banner_click_refresh,this.auto_refresh=t.auto_refresh?t.auto_refresh:this.auto_refresh,this.st_banner_style=t.st_banner_style?t.st_banner_style:this.st_banner_style,this.st_banner_width=t.st_banner_width?t.st_banner_width:this.st_banner_width,this.st_banner_height=t.st_banner_height?t.st_banner_height:this.st_banner_height,this.st_banner_show_back_up=t.st_banner_show_back_up?t.st_banner_show_back_up:this.st_banner_show_back_up,this.is_show_banner=t.is_show_banner?t.is_show_banner:this.is_show_banner,this.is_show_rec=t.is_show_rec?t.is_show_rec:this.is_show_rec,this.delay_show_time=t.delay_show_time?t.delay_show_time:this.delay_show_time,this.st_banner_bg_mask_opacity=t.st_banner_bg_mask_opacity?t.st_banner_bg_mask_opacity:this.st_banner_bg_mask_opacity,this._alignType=t.align_type?t.align_type:this._alignType,this.banner_close_showAd_interval=t.banner_close_showAd_interval?t.banner_close_showAd_interval:this.banner_close_showAd_interval},e.prototype.toStrong=function(){return"location="+this.location+"&is_show_banner="+this.is_show_banner+"&banner_close_but_show="+this.banner_close_but_show+"&banner_close_but_alpha="+this.banner_close_but_alpha+"&banner_close_but_range="+this.banner_close_but_range+"&banner_close_but_size="+this.banner_close_but_size+"&banner_show_height="+this.banner_show_height+"&st_banner_close_but_range="+this.st_banner_close_but_range+"&st_banner_close_but_size="+this.st_banner_close_but_size+"&st_banner_down_btn_image="+this.st_banner_down_btn_image+"&st_banner_down_but_margin_top="+this.st_banner_down_but_margin_top+"&st_banner_down_but_show="+this.st_banner_down_but_show+"&st_banner_scale="+this.st_banner_scale+"&show_st_banner="+this.show_st_banner+"&st_banner_close_but_show="+this.st_banner_close_but_show+"&st_banner_bottom="+this.st_banner_bottom+"&st_banner_close_but_alpha="+this.st_banner_close_but_alpha+"&banner_click_refresh="+this.banner_click_refresh+"&auto_refresh="+this.auto_refresh+"&st_banner_style="+this.st_banner_style+"&st_banner_width="+this.st_banner_width+"&st_banner_height="+this.st_banner_height+"&st_banner_show_back_up="+this.st_banner_show_back_up+"&is_show_rec="+this.is_show_rec},o([l("NativeBannerInfo")],e)}();i.NativeBannerInfo=d;var p=function(){function e(){this.location=n.BannerLocation.None,this.is_show_ad="true",this.top=-1,this.left=-1,this.right=-1,this.bottom=-1,this.id="",this.refresh_time=-1,this.width=0,this.height=0,this.hide_banner="false",this.is_center="false",this.change_location_refresh_ad="true",this.customAdObj=null}return e.prototype.init=function(e,t){this.location=e,this.top="top"in t?t.top:-1,this.right="right"in t?t.right:-1,this.left="left"in t?t.left:-1,this.bottom="bottom"in t?t.bottom:-1,this.id="id"in t?t.id:"",this.refresh_time="refresh_time"in t?t.refresh_time:-1,this.is_show_ad="is_show_ad"in t?t.is_show_ad:"true",this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.hide_banner="hide_banner"in t?t.hide_banner:"false",this.change_location_refresh_ad="change_location_refresh_ad"in t?t.change_location_refresh_ad:"false",this.is_center="is_center"in t?t.is_center:"all"},e.prototype.toStrong=function(){return"customAdInfo>>>>#location="+this.location+"#top="+this.top+"#left="+this.left+"#right="+this.right+"#bottom="+this.bottom+"#refreshTime="+this.refresh_time+"#id="+this.id+"#width="+this.width+"#height="+this.height+"#is_center="+this.is_center},o([l("CustomAdInfo")],e)}();i.CustomAdInfo=p;var _=function(){function e(){this.appID="",this.bannerIds=[],this.videoId="",this.insertId="",this.jumpId="",this.appBoxId="",this.boxId="",this.bannerBoxId="",this.customAdInfos=[],this.isAttributed=!1,this.version="",this.nativeBannerId="",this.nativeInsertIds=""}return e.prototype.getBannerId=function(e){for(var t=0;t<this.bannerIds.length;t++)if(this.bannerIds[t].location==e)return this.bannerIds[t].bannerId;return this.bannerIds.length>0?this.bannerIds[0].bannerId:""},e.prototype.setCustomAdInfo=function(e,t){var i=new p;i.init(e,t),this.customAdInfos.push(i)},e.prototype.getCustomAdInfoInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>location=",e);for(var t=0;t<this.customAdInfos.length;t++)if(this.customAdInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>info=",this.customAdInfos[t].toStrong()),this.customAdInfos[t];return null},e.prototype.setBannerId=function(e,t){for(var i=0;i<this.bannerIds.length;i++)if(this.bannerIds[i].location==e)return void(this.bannerIds[i].bannerId=t)},o([l("WechatConfig")],e)}();i.WechatConfig=_;var f=function(){function e(){this.QQ=!0,this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.boxId="",this.version="",this.bannerBoxId=""}return o([l("QQConfig")],e)}();i.QQConfig=f;var g=function(){function e(){this.appID="",this.channel="oppo",this.bannerId="",this.insertId="",this.videoId="",this.nativeBannerIds=[],this.nativeTryGameIds=[],this.nativeInsertIds=[],this.nativeSingleAdIds=[],this.packageName="",this.nativeBannerInfos=[],this.recGameBannerId="",this.recPortalId="",this.version="",this.recGameDrawerId="",this.umengId="",this.intersitialAdConfigs=[],this.bannerAdConfigs=[]}return e.prototype.getNativeBannerInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=",e);for(var t=0;t<this.nativeBannerInfos.length;t++)if(this.nativeBannerInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=",this.nativeBannerInfos[t].toStrong()),this.nativeBannerInfos[t];return new d},e.prototype.setNativeBannerInfo=function(e,t){var i=new d;i.init(e,t),this.nativeBannerInfos.push(i)},o([l("OppoConfig")],e)}();i.OppoConfig=g;var v=function(){function e(){this.showAd=!0,this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.nativeTryGameIds=[],this.nativeBannerIds=[],this.nativeInsertIds=[],this.nativeBannerInfos=[],this.customAdInfos=[],this.nativeSingleAdIds=[],this.recGameBannerId="",this.recPortalId="",this.version="",this.umengId=""}return e.prototype.getNativeBannerInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=",e);for(var t=0;t<this.nativeBannerInfos.length;t++)if(this.nativeBannerInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=",this.nativeBannerInfos[t].toStrong()),this.nativeBannerInfos[t];return new d},e.prototype.getCustomAdInfoInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>location=",e);for(var t=0;t<this.customAdInfos.length;t++)if(this.customAdInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>info=",this.customAdInfos[t].toStrong()),this.customAdInfos[t];return new p},e.prototype.setNativeBannerInfo=function(e,t){var i=new d;i.init(e,t),this.nativeBannerInfos.push(i)},e.prototype.setCustomAdInfo=function(e,t){var i=new p;i.init(e,t),this.customAdInfos.push(i)},o([l("VivoConfig")],e)}();i.VivoConfig=v;var m=function(){function e(){this._progress=0,this._totalProgress=5,this._balance=0,this._totalMoeny=0,this._lastOpenFreeRedBagTime="",this._progressInfos=null,this._lastOpenLevel="-1",this._freeRedBagCount=0,this.withdrawaMoneys=[5,20,45,50],s.default.IsTest&&(this._progressInfos=[{level:0,min_money:.1,max_money:5,type:1},{level:4,min_money:.1,max_money:3,type:3},{level:5,min_money:.001,max_money:.005,type:2}]),this._progress=r.default.getItem(n.default.ST_RED_BAG_PROGRESS)?r.default.getItem(n.default.ST_RED_BAG_PROGRESS):0,this._totalProgress=r.default.getItem(n.default.ST_RED_BAG_TOTAL_PROGRESS)?r.default.getItem(n.default.ST_RED_BAG_TOTAL_PROGRESS):5,this._balance=r.default.getItem(n.default.ST_RED_BAG_BALANCE)?parseFloat(r.default.getItem(n.default.ST_RED_BAG_BALANCE)):0,this._totalMoeny=r.default.getItem(n.default.ST_RED_BAG_TOTAL_MONEY)?parseFloat(r.default.getItem(n.default.ST_RED_BAG_TOTAL_MONEY)):0,this._lastOpenFreeRedBagTime=r.default.getItem(n.default.ST_FREE_RED_BAG_TIME)?r.default.getItem(n.default.ST_FREE_RED_BAG_TIME):"",this._lastOpenLevel=r.default.getItem(n.default.ST_LAST_OPEN_LEVEL)?r.default.getItem(n.default.ST_LAST_OPEN_LEVEL):"-1"}return Object.defineProperty(e.prototype,"freeRedBagCount",{get:function(){return this._freeRedBagCount},set:function(e){this._freeRedBagCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastOpenLevel",{get:function(){return this._lastOpenLevel},set:function(e){this._lastOpenLevel=e,r.default.setItem(n.default.ST_LAST_OPEN_LEVEL,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(e){this._progress=e,this._progress>this._totalProgress?this._progress=this._totalProgress:a.utils._rewardRedBagPanelShowCount=-1,r.default.setItem(n.default.ST_RED_BAG_PROGRESS,this._progress+""),cc.game.emit("YZ_RED_BAG_PROGRESS_CHANGE")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalProgress",{get:function(){return this._totalProgress},set:function(e){this._totalProgress=e,r.default.setItem(n.default.ST_RED_BAG_TOTAL_PROGRESS,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalMoney",{get:function(){return this._totalMoeny},set:function(e){this._totalMoeny=e,r.default.setItem(n.default.ST_RED_BAG_TOTAL_MONEY,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progressInfos",{get:function(){return this._progressInfos},set:function(e){this._progressInfos=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curProgressInfo",{get:function(){if(this._progressInfos&&this._progressInfos.length>0){if(parseInt(this.lastOpenLevel)>0&&parseInt(this.lastOpenLevel)>=a.utils.currentLevel)return this._progressInfos[this._progressInfos.length-1];for(var e=this.lastOpenLevel?this._progressInfos[0]:this._progressInfos[1],t=0;t<this._progressInfos.length;t++)if(a.utils.currentLevel<=this._progressInfos[t].level){e=this._progressInfos[t];break}return console.log("curInfo "+JSON.stringify(e)),e}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"balance",{get:function(){return this._balance},set:function(e){this._balance=e,r.default.setItem(n.default.ST_RED_BAG_BALANCE,e+""),cc.game.emit("YZ_RED_BAG_BALANCE_CHANGE")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastOpenFreeRedBagTime",{get:function(){return this._lastOpenFreeRedBagTime},set:function(e){this._lastOpenFreeRedBagTime=e,r.default.setItem(n.default.ST_FREE_RED_BAG_TIME,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFreeRedBag",{get:function(){return cc.log("\u662f\u5426\u6709\u514d\u8d39\u7ea2\u5305\uff1a"+(new Date).toDateString()!=this._lastOpenFreeRedBagTime),(new Date).toDateString()!=this._lastOpenFreeRedBagTime},enumerable:!1,configurable:!0}),o([l("YzRedBagInfo")],e)}();i.YzRedBagInfo=m;var y=function(){function e(){this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.nativeSplashId="",this.nativeTryGameIds=[],this.nativeBannerIds=[],this.nativeInsertIds=[],this.nativeBannerInfos=[],this.version="",this.umengId=""}return e.prototype.getNativeBannerInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=",e);for(var t=0;t<this.nativeBannerInfos.length;t++)if(this.nativeBannerInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=",this.nativeBannerInfos[t].toStrong()),this.nativeBannerInfos[t];return new d},e.prototype.setNativeBannerInfo=function(e,t){var i=new d;i.init(e,t),this.nativeBannerInfos.push(i)},o([l("HuaWeiConfig")],e)}();i.HuaWeiConfig=y;var w=function(){function e(){this.appID="",this.channel="",this.version=""}return o([l("NativeAndroidConfig")],e)}();i.NativeAndroidConfig=w;var b=function(){function e(){this.appID="",this.appSID="",this.bannerId="",this.videoId="",this.version=""}return o([l("BaiduConfig")],e)}();i.BaiduConfig=b;var I=function(){function e(){this.appID="",this.bannerId="",this.videoId="",this.version=""}return o([l("WiFiConfig")],e)}();i.WiFiConfig=I;var S=function(){function e(){this.appID="",this.videoId="",this.insertId="",this.version=""}return o([l("KwaiConfig")],e)}();i.KwaiConfig=S;var C=function(){function e(){this.appID="",this.videoId="",this.version=""}return o([l("HagoConfig")],e)}();i.HagoConfig=C;var A=function(){function e(){this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.version=""}return o([l("NativeIosConfig")],e)}();i.NativeIosConfig=A;var L=function(){function e(){this.Douyin=!0,this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.version=""}return o([l("DouyinConfig")],e)}();i.DouyinConfig=L;var T=function(){function e(){this.QuTouTiao=!0,this.showAd=!0,this.gamename="",this.appID="",this.appKey=""}return o([l("QuTouTiaoConfig")],e)}();i.QTTConfig=T;var B=function(){function e(){this.appID="",this.appKey="",this.version=""}return o([l("UCConfig")],e)}();i.UCConfig=B;var P=function(){function e(){this.appID="",this.appKey="",this.appSecret="",this.bannerId="",this.videoId="",this.insertId=""}return o([l("CocosConfig")],e)}();i.CocosConfig=P;var O=function(){function e(){this.appID="",this.bannerId="",this.videoId="",this.insertId="",this.nativeSplashId="",this.nativeTryGameIds=[],this.nativeBannerIds=[],this.nativeInsertIds=[],this.nativeBannerInfos=[],this.version=""}return e.prototype.getNativeBannerInfo=function(e){a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=",e);for(var t=0;t<this.nativeBannerInfos.length;t++)if(this.nativeBannerInfos[t].location==e)return a.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=",this.nativeBannerInfos[t].toStrong()),this.nativeBannerInfos[t];return new d},e.prototype.setNativeBannerInfo=function(e,t){var i=new d;i.init(e,t),this.nativeBannerInfos.push(i)},o([l("XiaoMiConfig")],e)}();i.XiaoMiConfig=O;var N=function(){function e(){this.appID="",this.bannerId="",this.videoId=""}return o([l("BiliConfig")],e)}();i.BiliConfig=N;var k=function(){function e(){this.appID="",this.bannerId="",this.insertId="",this.videoId="",this.version=""}return o([l("FaceBookConfig")],e)}();i.FaceBookConfig=k;var R=function(){function e(){this.shareTitle="",this.shareImgUrl="",this.shareIcon="",this.shareDesc="",this.localConfig=null,this.logoutView=null,this.nativeBanner=null,this.nativeInsert=null,this.nativeSplashView=null,this.recommendGamesBanner=null,this.recommendGamesBar=null,this.tryGamesWidget=null,this.moreGamesWidget=null,this.recordWidget=null,this.shortcutWidget=null,this.gameBox=null,this.crossWidget6=null,this.rewardInsert=null,this.statementRecomment=null,this.singleNativeAd=null,this.shareRecordPanel=null,this.gameExitDialog=null,this.rewardBoxPanel=null,this.rewardTurnTablePanel=null,this.rewardShortCutPanel=null,this.nativeTryGameWidget=null,this.beforGameOverRecGamesPanel=null,this.withdrawalWidget=null,this.withdrawalPanel=null,this.redBagProgressWidget=null,this.openRedBagPanel=null,this.rewardRedBagPanel=null,this.rewardLuckBoxPanel=null,this.verticalRecommentPanel=null,this.privacyWidget=null,this.privacyPanel=null,this.handPrefab=null,this.yzRealNameAuthPanel=null,this.yzCustomAdPanel=null,this.yzLoginPanel=null,this.yw_app_id=""}return o([u({type:cc.JsonAsset,displayName:"\u672c\u5730\u914d\u7f6e\u6587\u4ef6",tooltip:"\u5c06Common/Config/\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u62d6\u653e\u5230\u6b64\u5904"})],e.prototype,"localConfig",void 0),o([u({type:cc.Prefab,displayName:"\u65e5\u5fd7\u8f93\u51fa\u7ec4\u4ef6",tooltip:"\u5c06Common/Prefabs/LogoutView\u62d6\u653e\u5230\u6b64\u5904"})],e.prototype,"logoutView",void 0),o([u({type:cc.Prefab,tooltip:"\u539f\u751f\u5e7f\u544a\u6761\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/NativeBanner\u62d6\u5230\u6b64\u5904",displayName:"\u539f\u751f\u5e7f\u544a\u6761\u7ec4\u4ef6"})],e.prototype,"nativeBanner",void 0),o([u({type:cc.Prefab,tooltip:"\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/NativeInsert\u62d6\u5230\u6b64\u5904",displayName:"\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6"})],e.prototype,"nativeInsert",void 0),o([u({type:cc.Prefab,tooltip:"\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/nativeSplashView\u62d6\u5230\u6b64\u5904",displayName:"\u539f\u751f\u5f00\u5c4f\u7ec4\u4ef6"})],e.prototype,"nativeSplashView",void 0),o([u({type:cc.Prefab,tooltip:"\u5e95\u90e8\u63a8\u8350\u6e38\u620f\u5e7f\u544aBanner, \u5c06Common/Prefabs/RecommendGamesBanner\u62d6\u5230\u6b64\u5904"})],e.prototype,"recommendGamesBanner",void 0),o([u({type:cc.Prefab,tooltip:"\u63a8\u8350\u6e38\u620f\u6a2a\u6761\uff0c\u5c06Common/Prefabs/RecommendGamesBar\u62d6\u5230\u6b64\u5904"})],e.prototype,"recommendGamesBar",void 0),o([u({type:cc.Prefab,tooltip:"\u63a8\u8350\u6e38\u620f\u5706\u5f62\u6302\u4ef6\uff0c\u5c06Common/Prefabs/TryGamesWidget\u62d6\u5230\u6b64\u5904"})],e.prototype,"tryGamesWidget",void 0),o([u({type:cc.Prefab,tooltip:"\u4fa7\u8fb9\u66f4\u591a\u6e38\u620f\u9762\u677f\u6302\u4ef6\uff0c\u5c06Common/Prefabs/MoreGamesWidget\u62d6\u5230\u6b64\u5904"})],e.prototype,"moreGamesWidget",void 0),o([u({type:cc.Prefab,tooltip:"\u5f55\u5c4f\u6309\u94ae\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/RecordWidget\u62d6\u5230\u6b64\u5904"})],e.prototype,"recordWidget",void 0),o([u({type:cc.Prefab,tooltip:"\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\uff0c\u5c06Common/Prefabs/ShortcutWidget\u62d6\u5230\u6b64\u5904 "})],e.prototype,"shortcutWidget",void 0),o([u({type:cc.Prefab,tooltip:"6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/CrossWidget6\u62d6\u5230\u6b64\u5904"})],e.prototype,"crossWidget6",void 0),o([u({type:cc.Prefab,tooltip:"\u7ed3\u7b97\u9875\u9762\u63a8\u5e7f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/StatementRecomment\u62d6\u5230\u6b64\u5904"})],e.prototype,"statementRecomment",void 0),o([u({type:cc.Prefab,tooltip:"\u5355\u4e2a\u539f\u751f\u5e7f\u544a\uff0c\u5c06Common/Prefabs/SingleNativeAd\u62d6\u5230\u6b64\u5904"})],e.prototype,"singleNativeAd",void 0),o([u({type:cc.Prefab,tooltip:"\u5206\u4eab\u5f55\u5c4f\u5f39\u7a97\uff0c\u5c06Common/Prefabs/ShareRecordPanel\u62d6\u5230\u6b64\u5904"})],e.prototype,"shareRecordPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u4e94\u500d\u5956\u52b1\u5b9d\u7bb1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardBoxPanel\u62d6\u5230\u6b64\u5904"})],e.prototype,"rewardBoxPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u5956\u52b1\u8f6c\u76d8\u62bd\u5956\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardTurntablePanel\u62d6\u5230\u6b64\u5904"})],e.prototype,"rewardTurnTablePanel",void 0),o([u({type:cc.Prefab,tooltip:"\u6dfb\u52a0\u684c\u9762\u6fc0\u52b1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardShortCutPanel\u62d6\u5230\u6b64\u5904"})],e.prototype,"rewardShortCutPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u539f\u751f\u6296\u52a8\u8bd5\u73a9\uff0c\u5c06Common/Prefabs/NativeTryGameWidget\u62d6\u5230\u6b64\u5904",displayName:"\u539f\u751f\u6296\u52a8\u7ec4\u4ef6"})],e.prototype,"nativeTryGameWidget",void 0),o([u({type:cc.Prefab,tooltip:"\u7ed3\u7b97\u524d\u4e92\u63a8\u9762\u677f\uff0c\u5c06Common/Prefabs/BeforGameOverRecGamesPanel\u62d6\u5230\u6b64\u5904",displayName:"\u7ed3\u7b97\u524d\u4e92\u63a8\u9762\u677f"})],e.prototype,"beforGameOverRecGamesPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardLuckBoxPanel\u62d6\u5230\u6b64\u5904",displayName:"\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97"})],e.prototype,"rewardLuckBoxPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u7ad6\u72b6\u4e92\u63a8\u7a97\u53e3\uff0c\u5c06Common/Prefabs/VerticalRecommentPanel\u62d6\u5230\u6b64\u5904",displayName:"\u7ad6\u72b6\u4e92\u63a8\u7a97\u53e3"})],e.prototype,"verticalRecommentPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u9690\u79c1\u534f\u8bae\u6302\u4ef6\uff0c\u5c06Common/Prefabs/PrivacyWidget\u62d6\u5230\u6b64\u5904",displayName:"\u9690\u79c1\u534f\u8bae\u6302\u4ef6"})],e.prototype,"privacyWidget",void 0),o([u({type:cc.Prefab,tooltip:"\u9690\u79c1\u534f\u8bae\u5f39\u7a97\uff0c\u5c06Common/Prefabs/PrivacyPanel\u62d6\u5230\u6b64\u5904",displayName:"\u9690\u79c1\u534f\u8bae\u5f39\u7a97"})],e.prototype,"privacyPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u6307\u5f15\u7684\u624b\u52bf\uff0c\u5c06Common/Prefabs/HandPrefab\u62d6\u5230\u6b64\u5904",displayName:"\u6307\u5f15\u7684\u624b\u52bf"})],e.prototype,"handPrefab",void 0),o([u({type:cc.Prefab,tooltip:"\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzRealNameAuthPanel\u62d6\u5230\u6b64\u5904",displayName:"\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97"})],e.prototype,"yzRealNameAuthPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u6a21\u7248\u5e7f\u544a\u63a8\u8350\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzCustomAdPanel\u62d6\u5230\u6b64\u5904",displayName:"\u6a21\u7248\u5e7f\u544a\u63a8\u8350\u5f39\u7a97"})],e.prototype,"yzCustomAdPanel",void 0),o([u({type:cc.Prefab,tooltip:"\u767b\u5f55\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzLoginPanel\u62d6\u5230\u6b64\u5904",displayName:"\u767b\u5f55\u5f39\u7a97"})],e.prototype,"yzLoginPanel",void 0),o([l("OtherConfig")],e)}();i.OtherConfig=R;var M=function(){function e(){this.wechatconfig=new _,this.oppoconfig=new g,this.vivoconfig=new v,this.nativeAndroidConfig=new w,this.baiduconfig=new b,this.douyinconfig=new L,this.wifiConfig=new I,this.qqconfig=new f,this.qttconfig=new T,this.xiaomiConfig=new O,this.ucConfig=new B,this.cocosConfig=new P,this.biliConfig=new N,this.kwaiConfig=new S,this.nativeIoSConfig=new A,this.hagoConfig=new C,this.huaweiConfig=new y,this.faceBookConfig=new k,this.otherconfig=new R}return e.prototype.init=function(e){return this._init_other(e),s.default.IsWechat?this._init_wechat(e):s.default.IsOPPO?this._init_oppo(e):s.default.IsVIVO?this._init_vivo(e):s.default.IsDouyin?this._init_douyin(e):s.default.IsQQ?this._init_qq(e):s.default.IsBaidu?this._init_baidu(e):s.default.IsQTT?this._init_qtt(e):s.default.IsXiaoMi?this._init_xiaomi(e):s.default.ISUC?this._init_uc(e):s.default.ISCocos?this._init_cocos(e):s.default.IsNativeAndroid?this._init_native_android():s.default.IsNativeIOS?this._init_native_ios(e):s.default.IsBili?this._init_bili(e):s.default.IsKwai?this._init_kwai(e):s.default.IsWiFi?this._init_wifi(e):s.default.IsHago?this._init_hago(e):s.default.IsHuaWei?this._init_huawei(e):!s.default.IsFaceBook||this._init_facebook(e)},e.prototype._init_other=function(e){if(!e)return!1;var t=JSON.parse(e);t&&t.other&&(t.other.yw_app_id?this.otherconfig.yw_app_id=t.other.yw_app_id:a.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018yw_app_id\u2019\u5b57\u6bb5\uff01"))},e.prototype._init_wechat=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);if(!t)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1;if(!t.wechat)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018wechat\u2019\u5b57\u6bb5\uff01"),!1;if(!t.wechat.app_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.wechatconfig.appID=t.wechat.app_id,!t.wechat.intersititia_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.wechatconfig.insertId=t.wechat.intersititia_pos_id,!t.wechat.video_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.wechatconfig.videoId=t.wechat.video_pos_id,t.wechat.app_box_pos_id?this.wechatconfig.appBoxId=t.wechat.app_box_pos_id:a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_box_pos_id\u2019\u5b57\u6bb5\uff01"),t.wechat.version?this.wechatconfig.version=t.wechat.version:a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),t.wechat.is_attributed&&(this.wechatconfig.isAttributed=t.wechat.is_attributed),!t.wechat.banner_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1;for(var i in t.wechat.banner_pos_id){var o=new h;o.location=this._bannerLocationStringToEnum(i),o.bannerId=t.wechat.banner_pos_id[i],this.wechatconfig.bannerIds.push(o)}return t.wechat.shares?t.wechat.shares.sy_title?(this.otherconfig.shareTitle=t.wechat.shares.sy_title,t.wechat.shares.sy_img?(this.otherconfig.shareImgUrl=t.wechat.shares.sy_img,t.wechat.banner_box_pos_id?this.wechatconfig.bannerBoxId=t.wechat.banner_box_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b \u2018banner_box_pos_id\u2019 \u5b57\u6bb5"),t.wechat.native_banner_pos_id?this.wechatconfig.nativeBannerId=t.wechat.native_banner_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b native_banner_pos_id \u5b57\u6bb5"),t.wechat.native_intersititial_pos_id?this.wechatconfig.nativeInsertIds=t.wechat.native_intersititial_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b native_intersititial_pos_id \u5b57\u6bb5"),!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)},e.prototype._init_oppo=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.oppo?t.oppo.app_id?(this.oppoconfig.appID=t.oppo.app_id,t.oppo.package_name?(this.oppoconfig.packageName=t.oppo.package_name,t.oppo.banner_pos_id&&(this.oppoconfig.bannerId=t.oppo.banner_pos_id),t.oppo.rec_game_drawer_id?this.oppoconfig.recGameDrawerId=t.oppo.rec_game_drawer_id:a.utils.showLog("errorrec_game_drawer_id"),t.oppo.video_pos_id?(this.oppoconfig.videoId=t.oppo.video_pos_id,t.oppo.native_banner_pos_id&&(this.oppoconfig.nativeBannerIds=t.oppo.native_banner_pos_id),t.oppo.native_trygame_pos_id?this.oppoconfig.nativeTryGameIds=t.oppo.native_trygame_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01"),t.oppo.intersitial_configs?(this.oppoconfig.intersitialAdConfigs=t.oppo.intersitial_configs,t.oppo.banner_configs?(this.oppoconfig.bannerAdConfigs=t.oppo.banner_configs,t.oppo.native_single_pos_id?(this.oppoconfig.nativeSingleAdIds=t.oppo.native_single_pos_id,t.oppo.rec_portal_id?this.oppoconfig.recPortalId=t.oppo.rec_portal_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_portal_id\u2019\u5b57\u6bb5\uff01"),t.oppo.rec_game_banner_id?this.oppoconfig.recGameBannerId=t.oppo.rec_game_banner_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_game_banner_id\u2019\u5b57\u6bb5\uff01"),t.oppo.version?(window.new_version?(this.oppoconfig.version=window.new_version,a.utils.showLog("\u83b7\u53d6\u5230\u6ce8\u5165\u7684\u7248\u672c\u53f7\uff1a"+this.oppoconfig.version)):this.oppoconfig.version=t.oppo.version,t.oppo.umeng_id?this.oppoconfig.umengId=t.oppo.umeng_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5\uff01"),!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_single_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_configs\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersitial_configs\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018package_name\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018oppo\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_vivo=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.vivo?t.vivo.app_id?(this.vivoconfig.appID=t.vivo.app_id,t.vivo.intersititia_pos_id?(this.vivoconfig.insertId=t.vivo.intersititia_pos_id,t.vivo.video_pos_id?(this.vivoconfig.videoId=t.vivo.video_pos_id,t.vivo.banner_pos_id?(this.vivoconfig.bannerId=t.vivo.banner_pos_id,t.vivo.native_banner_pos_id?(this.vivoconfig.nativeBannerIds=t.vivo.native_banner_pos_id,t.vivo.native_trygame_pos_id?this.vivoconfig.nativeTryGameIds=t.vivo.native_trygame_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01"),t.vivo.native_intersititial_pos_id?(this.vivoconfig.nativeInsertIds=t.vivo.native_intersititial_pos_id,t.vivo.rec_portal_id?this.vivoconfig.recPortalId=t.vivo.rec_portal_id:a.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_portal_id\u2019\u5b57\u6bb5\uff01"),t.vivo.rec_game_banner_id?this.vivoconfig.recGameBannerId=t.vivo.rec_game_banner_id:a.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_game_banner_id\u2019\u5b57\u6bb5\uff01"),t.vivo.native_single_pos_id?this.vivoconfig.nativeSingleAdIds=t.vivo.native_single_pos_id:a.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_single_pos_id\u2019\u5b57\u6bb5\uff01"),t.vivo.umeng_id?this.vivoconfig.umengId=t.vivo.umeng_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5,\u4e0d\u542f\u7528\u53cb\u76df\u7edf\u8ba1\uff01"),t.vivo.version?this.vivoconfig.version=t.vivo.version:a.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018vivo\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_baidu=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.baidu?t.baidu.app_id?(this.baiduconfig.appID=t.baidu.app_id,t.baidu.app_sid?this.baiduconfig.appSID=t.baidu.app_sid:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_sid\u2019\u5b57\u6bb5\uff01"),t.baidu.video_pos_id?(this.baiduconfig.videoId=t.baidu.video_pos_id,t.baidu.banner_pos_id?(this.baiduconfig.bannerId=t.baidu.banner_pos_id,t.baidu.version?(this.baiduconfig.version=t.baidu.version,t.baidu.shares?t.baidu.shares.sy_title?(this.otherconfig.shareTitle=t.baidu.shares.sy_title,t.baidu.shares.sy_img?(this.otherconfig.shareImgUrl=t.baidu.shares.sy_img,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018baidu\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_wifi=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.wifi?t.wifi.app_id?(this.wifiConfig.appID=t.wifi.app_id,t.wifi.version?(this.wifiConfig.version=t.wifi.version,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018baidu\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_douyin=function(e){if(!e)return!1;var t=JSON.parse(e);if(!t)return a.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1;if(t.toutiao){if(!t.toutiao.app_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.douyinconfig.appID=t.toutiao.app_id,!t.toutiao.banner_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.douyinconfig.bannerId=t.toutiao.banner_pos_id,!t.toutiao.video_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.douyinconfig.videoId=t.toutiao.video_pos_id,!t.toutiao.intersititia_pos_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.douyinconfig.insertId=t.toutiao.intersititia_pos_id,!t.toutiao.version)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1;if(this.douyinconfig.version=t.toutiao.version,!t.toutiao.shares)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1;if(!t.toutiao.shares.sy_title)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01"),!1;if(this.otherconfig.shareTitle=t.toutiao.shares.sy_title,!t.toutiao.shares.sy_img)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01"),!1;this.otherconfig.shareImgUrl=t.toutiao.shares.sy_img}return!0},e.prototype._init_qq=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.qq?t.qq.app_id?(this.qqconfig.appID=t.qq.app_id,t.qq.video_pos_id?(this.qqconfig.videoId=t.qq.video_pos_id,t.qq.banner_pos_id?(this.qqconfig.bannerId=t.qq.banner_pos_id,t.qq.intersititia_pos_id?(this.qqconfig.insertId=t.qq.intersititia_pos_id,t.qq.box_pos_id?(this.qqconfig.boxId=t.qq.box_pos_id,t.qq.banner_box_pos_id?(this.qqconfig.bannerBoxId=t.qq.banner_box_pos_id,t.qq.shares?t.qq.shares.sy_title?(this.otherconfig.shareTitle=t.qq.shares.sy_title,t.qq.shares.sy_img?(this.otherconfig.shareImgUrl=t.qq.shares.sy_img,t.qq.version?(this.qqconfig.version=t.qq.version,!0):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_box_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018box_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018qq\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_qtt=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);if(t&&t.qutoutiao){if(!t.qutoutiao.app_id)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1;if(this.qttconfig.appID=t.qutoutiao.app_id,a.utils.showLog("this.qttconfig.appID:",this.qttconfig.appID),a.utils.showLog("configObj.qutoutiao.app_id:",t.qutoutiao.app_id),!t.qutoutiao.app_key)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_key\u2019\u5b57\u6bb5\uff01"),!1;if(this.qttconfig.appKey=t.qutoutiao.app_key,!t.qutoutiao.game_name)return a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_key\u2019\u5b57\u6bb5\uff01"),!1;this.qttconfig.gamename=t.qutoutiao.game_name}return!0},e.prototype._bannerLocationStringToEnum=function(e){switch(e){case"home":return n.BannerLocation.Home;case"game":return n.BannerLocation.Game;case"level":return n.BannerLocation.Level;case"skin":return n.BannerLocation.Skin;case"pause":return n.BannerLocation.Pause;case"over":return n.BannerLocation.Over;default:return n.BannerLocation.None}},e.prototype._init_xiaomi=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.xiaomi?t.xiaomi.app_id?(this.xiaomiConfig.appID=t.xiaomi.app_id,t.xiaomi.intersititia_pos_id?(this.xiaomiConfig.insertId=t.xiaomi.intersititia_pos_id,t.xiaomi.video_pos_id?(this.xiaomiConfig.videoId=t.xiaomi.video_pos_id,t.xiaomi.banner_pos_id?(this.xiaomiConfig.bannerId=t.xiaomi.banner_pos_id,t.xiaomi.native_banner_pos_id?(this.xiaomiConfig.nativeBannerIds=t.xiaomi.native_banner_pos_id,t.xiaomi.native_trygame_pos_id?this.xiaomiConfig.nativeTryGameIds=t.xiaomi.native_trygame_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01"),t.xiaomi.native_intersititial_pos_id?(this.xiaomiConfig.nativeInsertIds=t.xiaomi.native_intersititial_pos_id,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018xiaomi\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_uc=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.uc?t.uc.app_id?(this.ucConfig.appID=t.uc.app_id,t.uc.version?(this.ucConfig.version=t.uc.version,t.uc.shares?t.uc.shares.sy_title?(this.otherconfig.shareTitle=t.uc.shares.sy_title,t.uc.shares.sy_img?(this.otherconfig.shareImgUrl=t.uc.shares.sy_img,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018uc\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_cocos=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.cocos?t.cocos.app_id?(this.cocosConfig.appID=t.cocos.app_id,t.cocos.video_pos_id?(this.cocosConfig.videoId=t.cocos.video_pos_id,t.cocos.banner_pos_id?(this.cocosConfig.bannerId=t.cocos.banner_pos_id,t.cocos.intersititia_pos_id?(this.cocosConfig.insertId=t.cocos.intersititia_pos_id,t.cocos.shares?t.cocos.shares.sy_title?(this.otherconfig.shareTitle=t.cocos.shares.sy_title,t.cocos.shares.sy_img?(this.otherconfig.shareImgUrl=t.cocos.shares.sy_img,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018cocos\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_native_android=function(){if(!a.utils.Tool_Native)return!1;var e=a.utils.Tool_Native.getNativeData();if(a.utils.showLog("\u539f\u751f\u5b89\u5353\u5e73\u53f0\u672c\u5730\u914d\u7f6e\u6570\u636e:",e),!e)return a.utils.showLog("error : \u5b89\u5353\u672c\u5730\u914d\u7f6e\u6570\u636e\u914d\u7f6e\u9519\u8bef\uff01"),!1;var t=JSON.parse(e);return t?t.app_id?(this.nativeAndroidConfig.appID=t.app_id,t.version?(this.nativeAndroidConfig.version=t.version,t.channel?(this.nativeAndroidConfig.channel=t.channel,a.utils.showLog("\u539f\u751f\u5e73\u53f0\u6e20\u9053\u53f7 channel="+t.channel),!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_native_ios=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.ios.app_id?(this.nativeIoSConfig.appID=t.ios.app_id,t.ios.video_pos_id?(this.nativeIoSConfig.videoId=t.ios.video_pos_id,t.ios.version?(this.nativeIoSConfig.version=t.ios.version,t.ios.banner_pos_id?(this.nativeIoSConfig.bannerId=t.ios.banner_pos_id,t.ios.intersititia_pos_id?(this.nativeIoSConfig.insertId=t.ios.intersititia_pos_id,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_bili=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.bili.shares.sy_title?(this.otherconfig.shareTitle=t.bili.shares.sy_title,t.bili.shares.sy_img?(this.otherconfig.shareImgUrl=t.bili.shares.sy_img,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_kwai=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.kwai.app_id?(this.kwaiConfig.appID=t.kwai.app_id,t.kwai.video_pos_id?(this.kwaiConfig.videoId=t.kwai.video_pos_id,t.kwai.intersititia_pos_id?this.kwaiConfig.insertId=t.kwai.intersititia_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),t.kwai.version?(this.kwaiConfig.version=t.kwai.version,t.kwai.shares?t.kwai.shares.sy_title?(this.otherconfig.shareTitle=t.kwai.shares.sy_title,t.kwai.shares.sy_img?(this.otherconfig.shareImgUrl=t.kwai.shares.sy_img,t.kwai.shares.sy_icon?(this.otherconfig.shareIcon=t.kwai.shares.sy_icon,t.kwai.shares.sy_desc?(this.otherconfig.shareDesc=t.kwai.shares.sy_desc,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_desc\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_icon"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_facebook=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.faceBook.app_id?(this.faceBookConfig.appID=t.faceBook.app_id,t.faceBook.video_pos_id?(this.faceBookConfig.videoId=t.faceBook.video_pos_id,t.faceBook.intersititia_pos_id?(this.faceBookConfig.insertId=t.faceBook.intersititia_pos_id,t.faceBook.banner_pos_id?(this.faceBookConfig.bannerId=t.faceBook.banner_pos_id,t.faceBook.version?(this.faceBookConfig.version=t.faceBook.version,a.utils.showLog("success\u672c\u5730\u914d\u7f6e\u6570\u636e\u9a8c\u8bc1\u5b8c\u6210!"),!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_hago=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.hago.app_id?(this.hagoConfig.appID=t.hago.app_id,t.hago.video_pos_id?(this.hagoConfig.videoId=t.hago.video_pos_id,t.hago.version?(this.hagoConfig.version=t.hago.version,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},e.prototype._init_huawei=function(e){if(!e)return!1;a.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:",e);var t=JSON.parse(e);return t?t.huawei.app_id?(this.huaweiConfig.appID=t.huawei.app_id,t.huawei.video_pos_id?(this.huaweiConfig.videoId=t.huawei.video_pos_id,t.huawei.banner_pos_id?(this.huaweiConfig.bannerId=t.huawei.banner_pos_id,t.huawei.native_banner_pos_id?this.huaweiConfig.nativeBannerIds=t.huawei.native_banner_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01"),t.huawei.native_intersititial_pos_id?this.huaweiConfig.nativeInsertIds=t.huawei.native_intersititial_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01"),t.huawei.native_trygame_pos_id?this.huaweiConfig.nativeTryGameIds=t.huawei.native_trygame_pos_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01"),t.huawei.native_splash_id?this.huaweiConfig.nativeSplashId=t.huawei.native_splash_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_splash_id\u2019\u5b57\u6bb5\uff01"),t.huawei.umeng_id?this.huaweiConfig.umengId=t.huawei.umeng_id:a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5,\u4e0d\u542f\u7528\u53cb\u76df\u7edf\u8ba1\uff01"),t.huawei.version?(this.huaweiConfig.version=t.huawei.version,!0):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01"),!1)):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01"),!1):(a.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!"),!1)},o([u({type:R,tooltip:"\u5176\u4ed6\u914d\u7f6e",displayName:"\u5176\u4ed6\u914d\u7f6e"})],e.prototype,"otherconfig",void 0),o([l("CommonConfig")],e)}();i.default=M,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],CompatibleTool:[function(e,t,i){"use strict";cc._RF.push(t,"c616dE5RypCGJJPz/ZeBEZZ","CompatibleTool");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"engineVersion",{get:function(){if(this._engineVersion>0)return this._engineVersion;var e=cc.ENGINE_VERSION;return parseInt(e.substr(e.indexOf(".")-1,e.length).split(".").join(""))},enumerable:!1,configurable:!0}),t.position=function(e,t){return this.engineVersion>=240?cc.v3(e,t):cc.v2(e,t)},t.LoadRes=function(e,t){var i;this.engineVersion>=240?".jpg"!=(i=e.substr(e.lastIndexOf(".")))&&".png"!=i&&".jpeg"!=i?(cc.assetManager.loadRemote(e,{ext:".jpeg"},t),cc.assetManager.loadRemote(e,{ext:".jpg"},t),cc.assetManager.loadRemote(e,{ext:".png"},t)):cc.assetManager.loadRemote(e,t):".jpg"!=(i=e.substr(e.lastIndexOf(".")))&&".png"!=i&&".jpeg"!=i?(cc.loader.load({url:e,type:"jpeg"},t),cc.loader.load({url:e,type:"jpg"},t),cc.loader.load({url:e,type:"png"},t)):cc.loader.load(e,t)},t._engineVersion=0,s([r],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],Constant:[function(e,t,i){"use strict";cc._RF.push(t,"64cadnkviJL44jGEeMwtjtg","Constant"),Object.defineProperty(i,"__esModule",{value:!0}),i.SkillInfo=i.GunInfo=i.SkinInfo=i.Levelitem=i.PanelName=i.PageName=i.ZindexLayer=i.Starstate=i.GameState=void 0;var o=function(){function e(){}return e.CT_TotalLevelCount=20,e.CT_RewardCoinCount=100,e.CT_FailRewardCoinCount=50,e.commonCJTimes=1,e.weaponLevelPriceArr=[100,300,600],e.skinLevelPriceArr=[100,200,300,400,500,600],e.ST_GameData="GameData_dxcyxtgd",e.ST_BuildDate="ST_BuildDate",e.ST_TotoalCount="ST_TotoalCount",e.ST_CurModel1MapId="ST_CurModel1MapId",e.ST_CurModel2MapId="ST_CurModel2MapId",e.ST_CurLevelId="ST_CurLevelId",e.ST_AudioOn="ST_AudioOn",e.ST_ShakeOn="ST_ShakeOn",e.ST_CoinCount="ST_CoinCount",e.ST_DiamondCount="ST_DiamondCount",e.ST_OnlineToday="ST_OnlineToday",e.ST_ReceiveToday="ST_ReceiveToday",e.ST_LastLoadDate="ST_LastLoadDate",e.ST_LastDailyBonusTime="ST_LastDailyBonusTime",e.ST_LastDailyBonusIndex="ST_LastDailyBonusIndex",e.ST_SkinInfo="ST_SkinInfo",e.ST_CurSkinId="ST_CurSkinId",e.ST_SkillInfo="ST_SkillInfo",e.ST_CurSkillId="ST_CurSkillId",e.ST_GunInfo="ST_GunInfo",e.ST_CurMeleeId="ST_CurMeleeId",e.ST_CurRangeId="ST_CurRangeId",e.ST_LevelItem="LevelItem",e.ST_ShareNum="ST_ShareNum",e.E_GAME_LOGIC="E_GAME_LOGIC",e.E_UPDATE_PROGRESS="E_UPDATE_PROGRESS",e.E_Fly_Coin="E_Fly_Coin",e.E_COIN_CHANGE="E_COIN_CHANGE",e.E_Diamond_CHANGE="E_Diamond_CHANGE",e.E_EXP_CHANGE="E_EXP_CHANGE",e.E_CJ_SKIN="E_CJ_SKIN",e.E_CJ_Weapon="E_CJ_Weapon",e.E_ShareOrVideo="E_ShareOrVideo",e.E_Player_Death="E_Player_Death",e.E_Player_Hart="E_Player_Hart",e.E_Bullet_Last="E_Bullet_Last",e.E_Bullet_Reload="E_Bullet_Reload",e.E_Zombie_Hart="E_Zombie_Hart",e.E_Zombie_Death="E_Zombie_Death",e.E_Jingyan_Finish="E_Jingyan_Finish",e.E_Commonzombie_Destory="E_Commonzombie_Destory",e.E_Allzombie_Destory="E_Allzombie_Destory",e.E_Skill_Citie="E_Skill_Citie",e.ST_Guide_Skill="ST_Guide_Skill",e}();i.default=o,function(e){e[e.None=-1]="None",e[e.Prepare=0]="Prepare",e[e.Start=1]="Start",e[e.Success=2]="Success",e[e.Failed=3]="Failed",e[e.Pause=4]="Pause",e[e.Relive=5]="Relive"}(i.GameState||(i.GameState={})),function(e){e[e.default=0]="default",e[e.bright=1]="bright",e[e.drown=2]="drown"}(i.Starstate||(i.Starstate={})),function(e){e[e.zindex_min=cc.macro.MIN_ZINDEX]="zindex_min",e[e.zinedx_floorTip=cc.macro.MIN_ZINDEX+1]="zinedx_floorTip",e[e.zinedx_floorLiewen=cc.macro.MIN_ZINDEX+2]="zinedx_floorLiewen",e[e.zinedx_floorSkill=cc.macro.MIN_ZINDEX+3]="zinedx_floorSkill",e[e.zinedx_footPrint=cc.macro.MIN_ZINDEX+4]="zinedx_footPrint",e[e.zinedx_gh=cc.macro.MIN_ZINDEX+5]="zinedx_gh",e[e.zinedx_footYc=cc.macro.MIN_ZINDEX+6]="zinedx_footYc",e[e.zinedx_jingyan=cc.macro.MIN_ZINDEX+7]="zinedx_jingyan",e[e.zindex_shellcase=cc.macro.MIN_ZINDEX+8]="zindex_shellcase",e[e.default=0]="default",e[e.zindex_mb=1]="zindex_mb",e[e.zinedx_item=100]="zinedx_item",e[e.zinedx_dropbox=200]="zinedx_dropbox",e[e.zindex_zombie=300]="zindex_zombie",e[e.zindex_monster=400]="zindex_monster",e[e.zindex_enemy=500]="zindex_enemy",e[e.zindex_soldier=600]="zindex_soldier",e[e.zindex_ai=700]="zindex_ai",e[e.zindex_player=800]="zindex_player",e[e.zindex_tower=900]="zindex_tower",e[e.zindex_bullet=1e3]="zindex_bullet",e[e.zindex_hp=1100]="zindex_hp",e[e.zindex_bomb=1200]="zindex_bomb",e[e.zindex_blood=1300]="zindex_blood",e[e.zindex_effect=1400]="zindex_effect",e[e.zindex_effect_fire=1500]="zindex_effect_fire",e[e.zindex_effect_spark=1600]="zindex_effect_spark",e[e.zindex_effect_hit=1800]="zindex_effect_hit",e[e.zindex_bullet_sky=1900]="zindex_bullet_sky",e[e.zindex_skill=cc.macro.MAX_ZINDEX-6]="zindex_skill",e[e.zindex_roleLabel=cc.macro.MAX_ZINDEX-2]="zindex_roleLabel",e[e.zindex_max=cc.macro.MAX_ZINDEX]="zindex_max"}(i.ZindexLayer||(i.ZindexLayer={}));var n=function(){function e(){}return e.UILoadingPage="UILoadingPage",e.UIHomePage="UIHomePage",e.UIGamePage="UIGamePage",e.UIOverPage="UIOverPage",e.UIGameLoadingPage="UIGameLoadingPage",e}();i.PageName=n;var s=function(){function e(){}return e.UISignPanel="UISignPanel",e.UITurntablePanel="UITurntablePanel",e.UIRevivePanel="UIRevivePanel",e.UIUpgradePanel="UIUpgradePanel",e.UIPausePanel="UIPausePanel",e.UITrySkinPanel="UITrySkinPanel",e.UIWeaponLevelPanel="UIWeaponLevelPanel",e.UITimePanel="UITimePanel",e}();i.PanelName=s;var a=function(){function e(e){var t=JSON.parse(e);t?(t.Id?this.Id=parseInt(t.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.State?this.State=parseInt(t.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Grade?this.Grade=parseInt(t.Grade):cc.log("Grade \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa Levelitem \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return e.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State":"'+this.State+'","Grade":"'+this.Grade+'"}'},e}();i.Levelitem=a;var r=function(){function e(e){var t=JSON.parse(e);t?(t.Id?this.Id=parseInt(t.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.State?this.State=parseInt(t.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Price?this.Price=parseInt(t.Price):cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Level?this.Level=parseInt(t.Level):cc.log("Level \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.VideoCount?this.VideoCount=parseInt(t.VideoCount):cc.log("VideoCount \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa SkinInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return e.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State":'+this.State+'","Price":"'+this.Price+'","VideoCount":"'+this.VideoCount+'"}'},e}();i.SkinInfo=r;var c=function(){function e(e){var t=JSON.parse(e);t?(t.Id?this.Id=parseInt(t.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.State?this.State=parseInt(t.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Price?this.Price=parseInt(t.Price):cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Level?this.Level=parseInt(t.Level):cc.log("Level \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.VideoCount?this.VideoCount=parseInt(t.VideoCount):cc.log("VideoCount \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa GunInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return e.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State":"'+this.State+'","Price":"'+this.Price+'","Level":"'+this.Level+'","VideoCount":"'+this.VideoCount+'"}'},e}();i.GunInfo=c;var l=function(){function e(e){var t=JSON.parse(e);t?(t.Id?this.Id=parseInt(t.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.State?this.State=parseInt(t.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),t.Price?this.Price=parseInt(t.Price):cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa SkillInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return e.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State":"'+this.State+'","Price":"'+this.Price+'"}'},e}();i.SkillInfo=l,cc._RF.pop()},{}],CryptoJS:[function(e,t){"use strict";cc._RF.push(t,"9c578rOejxNwYyA/OywYDiZ","CryptoJS");var i,o,n,s=s||function(e){var t={},i=t.lib={},o=function(){},n=i.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||r).stringify(this)},concat:function(e){var t=this.words,i=e.words,o=this.sigBytes;if(e=e.sigBytes,this.clamp(),o%4)for(var n=0;n<e;n++)t[o+n>>>2]|=(i[n>>>2]>>>24-n%4*8&255)<<24-(o+n)%4*8;else if(65535<i.length)for(n=0;n<e;n+=4)t[o+n>>>2]=i[n>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],o=0;o<t;o+=4)i.push(4294967296*e.random()|0);return new s.init(i,t)}}),a=t.enc={},r=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],o=0;o<e;o++){var n=t[o>>>2]>>>24-o%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new s.init(i,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],o=0;o<e;o++)i.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new s.init(i,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,o=i.words,n=i.sigBytes,a=this.blockSize,r=n/(4*a);if(t=(r=t?e.ceil(r):e.max((0|r)-this._minBufferSize,0))*a,n=e.min(4*t,n),t){for(var c=0;c<t;c+=a)this._doProcessBlock(o,c);c=o.splice(0,t),i.sigBytes-=n}return new s.init(c,n)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);o=(i=s).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,o=this._map;e.clamp(),e=[];for(var n=0;n<i;n+=3)for(var s=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,a=0;4>a&&n+.75*a<i;a++)e.push(o.charAt(s>>>6*(3-a)&63));if(t=o.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,i=this._map;(n=i.charAt(64))&&-1!=(n=e.indexOf(n))&&(t=n);for(var n=[],s=0,a=0;a<t;a++)if(a%4){var r=i.indexOf(e.charAt(a-1))<<a%4*2,c=i.indexOf(e.charAt(a))>>>6-a%4*2;n[s>>>2]|=(r|c)<<24-s%4*8,s++}return o.create(n,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,i,o,n,s,a){return((e=e+(t&i|~t&o)+n+a)<<s|e>>>32-s)+t}function i(e,t,i,o,n,s,a){return((e=e+(t&o|i&~o)+n+a)<<s|e>>>32-s)+t}function o(e,t,i,o,n,s,a){return((e=e+(t^i^o)+n+a)<<s|e>>>32-s)+t}function n(e,t,i,o,n,s,a){return((e=e+(i^(t|~o))+n+a)<<s|e>>>32-s)+t}for(var a=s,r=(l=a.lib).WordArray,c=l.Hasher,l=a.algo,u=[],h=0;64>h;h++)u[h]=4294967296*e.abs(e.sin(h+1))|0;l=l.MD5=c.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var a=0;16>a;a++){var r=e[c=s+a];e[c]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}a=this._hash.words;var c=e[s+0],l=(r=e[s+1],e[s+2]),h=e[s+3],d=e[s+4],p=e[s+5],_=e[s+6],f=e[s+7],g=e[s+8],v=e[s+9],m=e[s+10],y=e[s+11],w=e[s+12],b=e[s+13],I=e[s+14],S=e[s+15],C=t(C=a[0],T=a[1],L=a[2],A=a[3],c,7,u[0]),A=t(A,C,T,L,r,12,u[1]),L=t(L,A,C,T,l,17,u[2]),T=t(T,L,A,C,h,22,u[3]);C=t(C,T,L,A,d,7,u[4]),A=t(A,C,T,L,p,12,u[5]),L=t(L,A,C,T,_,17,u[6]),T=t(T,L,A,C,f,22,u[7]),C=t(C,T,L,A,g,7,u[8]),A=t(A,C,T,L,v,12,u[9]),L=t(L,A,C,T,m,17,u[10]),T=t(T,L,A,C,y,22,u[11]),C=t(C,T,L,A,w,7,u[12]),A=t(A,C,T,L,b,12,u[13]),L=t(L,A,C,T,I,17,u[14]),C=i(C,T=t(T,L,A,C,S,22,u[15]),L,A,r,5,u[16]),A=i(A,C,T,L,_,9,u[17]),L=i(L,A,C,T,y,14,u[18]),T=i(T,L,A,C,c,20,u[19]),C=i(C,T,L,A,p,5,u[20]),A=i(A,C,T,L,m,9,u[21]),L=i(L,A,C,T,S,14,u[22]),T=i(T,L,A,C,d,20,u[23]),C=i(C,T,L,A,v,5,u[24]),A=i(A,C,T,L,I,9,u[25]),L=i(L,A,C,T,h,14,u[26]),T=i(T,L,A,C,g,20,u[27]),C=i(C,T,L,A,b,5,u[28]),A=i(A,C,T,L,l,9,u[29]),L=i(L,A,C,T,f,14,u[30]),C=o(C,T=i(T,L,A,C,w,20,u[31]),L,A,p,4,u[32]),A=o(A,C,T,L,g,11,u[33]),L=o(L,A,C,T,y,16,u[34]),T=o(T,L,A,C,I,23,u[35]),C=o(C,T,L,A,r,4,u[36]),A=o(A,C,T,L,d,11,u[37]),L=o(L,A,C,T,f,16,u[38]),T=o(T,L,A,C,m,23,u[39]),C=o(C,T,L,A,b,4,u[40]),A=o(A,C,T,L,c,11,u[41]),L=o(L,A,C,T,h,16,u[42]),T=o(T,L,A,C,_,23,u[43]),C=o(C,T,L,A,v,4,u[44]),A=o(A,C,T,L,w,11,u[45]),L=o(L,A,C,T,S,16,u[46]),C=n(C,T=o(T,L,A,C,l,23,u[47]),L,A,c,6,u[48]),A=n(A,C,T,L,f,10,u[49]),L=n(L,A,C,T,I,15,u[50]),T=n(T,L,A,C,p,21,u[51]),C=n(C,T,L,A,w,6,u[52]),A=n(A,C,T,L,h,10,u[53]),L=n(L,A,C,T,m,15,u[54]),T=n(T,L,A,C,r,21,u[55]),C=n(C,T,L,A,g,6,u[56]),A=n(A,C,T,L,S,10,u[57]),L=n(L,A,C,T,_,15,u[58]),T=n(T,L,A,C,b,21,u[59]),C=n(C,T,L,A,d,6,u[60]),A=n(A,C,T,L,y,10,u[61]),L=n(L,A,C,T,l,15,u[62]),T=n(T,L,A,C,v,21,u[63]),a[0]=a[0]+C|0,a[1]=a[1]+T|0,a[2]=a[2]+L|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,i=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;i[n>>>5]|=128<<24-n%32;var s=e.floor(o/4294967296);for(i[15+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,o=0;4>o;o++)n=i[o],i[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=c._createHelper(l),a.HmacMD5=c._createHmacHelper(l)}(Math),function(){var e,t=s,i=(e=t.lib).Base,o=e.WordArray,n=(e=t.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=(r=this.cfg).hasher.create(),n=o.create(),s=n.words,a=r.keySize,r=r.iterations;s.length<a;){c&&i.update(c);var c=i.update(e).finalize(t);i.reset();for(var l=1;l<r;l++)c=i.finalize(c),i.reset();n.concat(c)}return n.sigBytes=4*a,n}});t.EvpKDF=function(e,t,i){return n.create(i).compute(e,t)}}(),s.lib.Cipher||function(){var e=(p=s).lib,t=e.Base,i=e.WordArray,o=e.BufferedBlockAlgorithm,n=p.enc.Base64,a=p.algo.EvpKDF,r=e.Cipher=o.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,o){return("string"==typeof i?_:d).encrypt(e,t,i,o)},decrypt:function(t,i,o){return("string"==typeof i?_:d).decrypt(e,t,i,o)}}}});e.StreamCipher=r.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=p.mode={},l=function(e,t,i){var o=this._iv;o?this._iv=void 0:o=this._prevBlock;for(var n=0;n<i;n++)e[t+n]^=o[n]},u=(e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize;l.call(this,e,t,o),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),u.Decryptor=u.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize,n=e.slice(t,t+o);i.decryptBlock(e,t),l.call(this,e,t,o),this._prevBlock=n}}),c=c.CBC=u,u=(p.pad={}).Pkcs7={pad:function(e,t){for(var o,n=(o=(o=4*t)-e.sigBytes%o)<<24|o<<16|o<<8|o,s=[],a=0;a<o;a+=4)s.push(n);o=i.create(s,o),e.concat(o)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},e.BlockCipher=r.extend({cfg:r.cfg.extend({mode:c,padding:u}),reset:function(){r.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(c=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(n)},parse:function(e){var t=(e=n.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var o=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:o})}},e.SerializableCipher=t.extend({cfg:t.extend({format:c}),encrypt:function(e,t,i,o){o=this.cfg.extend(o);var n=e.createEncryptor(i,o);return t=n.finalize(t),n=n.cfg,h.create({ciphertext:t,key:i,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,i,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(i,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,o,n){return n||(n=i.random(8)),e=a.create({keySize:t+o}).compute(e,n),o=i.create(e.words.slice(t),4*o),e.sigBytes=4*t,h.create({key:e,iv:o,salt:n})}},_=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,i,o){return i=(o=this.cfg.extend(o)).kdf.execute(i,e.keySize,e.ivSize),o.iv=i.iv,(e=d.encrypt.call(this,e,t,i.key,o)).mixIn(i),e},decrypt:function(e,t,i,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),i=o.kdf.execute(i,e.keySize,e.ivSize,t.salt),o.iv=i.iv,d.decrypt.call(this,e,t,i.key,o)}})}(),function(){for(var e=s,t=e.lib.BlockCipher,i=e.algo,o=[],n=[],a=[],r=[],c=[],l=[],u=[],h=[],d=[],p=[],_=[],f=0;256>f;f++)_[f]=128>f?f<<1:f<<1^283;var g=0,v=0;for(f=0;256>f;f++){var m=(m=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&m^99;o[g]=m,n[m]=g;var y=_[g],w=_[y],b=_[w],I=257*_[m]^16843008*m;a[g]=I<<24|I>>>8,r[g]=I<<16|I>>>16,c[g]=I<<8|I>>>24,l[g]=I,I=16843009*b^65537*w^257*y^16843008*g,u[m]=I<<24|I>>>8,h[m]=I<<16|I>>>16,d[m]=I<<8|I>>>24,p[m]=I,g?(g=y^_[_[_[b^y]]],v^=_[_[v]]):g=v=1}var S=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=t.extend({_doReset:function(){for(var e=(i=this._key).words,t=i.sigBytes/4,i=4*((this._nRounds=t+6)+1),n=this._keySchedule=[],s=0;s<i;s++)if(s<t)n[s]=e[s];else{var a=n[s-1];s%t?6<t&&4==s%t&&(a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a]):(a=o[(a=a<<8|a>>>24)>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a],a^=S[s/t|0]<<24),n[s]=n[s-t]^a}for(e=this._invKeySchedule=[],t=0;t<i;t++)s=i-t,a=t%4?n[s]:n[s-4],e[t]=4>t||4>=s?a:u[o[a>>>24]]^h[o[a>>>16&255]]^d[o[a>>>8&255]]^p[o[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,r,c,l,o)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,n),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,o,n,s,a,r){for(var c=this._nRounds,l=e[t]^i[0],u=e[t+1]^i[1],h=e[t+2]^i[2],d=e[t+3]^i[3],p=4,_=1;_<c;_++){var f=o[l>>>24]^n[u>>>16&255]^s[h>>>8&255]^a[255&d]^i[p++],g=o[u>>>24]^n[h>>>16&255]^s[d>>>8&255]^a[255&l]^i[p++],v=o[h>>>24]^n[d>>>16&255]^s[l>>>8&255]^a[255&u]^i[p++];d=o[d>>>24]^n[l>>>16&255]^s[u>>>8&255]^a[255&h]^i[p++],l=f,u=g,h=v}f=(r[l>>>24]<<24|r[u>>>16&255]<<16|r[h>>>8&255]<<8|r[255&d])^i[p++],g=(r[u>>>24]<<24|r[h>>>16&255]<<16|r[d>>>8&255]<<8|r[255&l])^i[p++],v=(r[h>>>24]<<24|r[d>>>16&255]<<16|r[l>>>8&255]<<8|r[255&u])^i[p++],d=(r[d>>>24]<<24|r[l>>>16&255]<<16|r[u>>>8&255]<<8|r[255&h])^i[p++],e[t]=f,e[t+1]=g,e[t+2]=v,e[t+3]=d},keySize:8}),e.AES=t._createHelper(i)}(),s.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){for(var t=e.words,i=e.sigBytes-1;!(t[i>>>2]>>>24-i%4*8&255);)i--;e.sigBytes=i+1}},s.mode.ECB=((n=s.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),t.exports=s,cc._RF.pop()},{}],DataMgr:[function(e,t,i){"use strict";cc._RF.push(t,"0b76fObtN5FOKzSrvF3Frcp","DataMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Game/weapon"),n=e("./Constant"),s=function(){function e(){this._dataPool={}}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e),e._inst},enumerable:!1,configurable:!0}),e.prototype.init=function(){cc.sys.localStorage.getItem(n.default.ST_GameData)?this._dataPool=JSON.parse(cc.sys.localStorage.getItem(n.default.ST_GameData)):(this._dataPool[n.default.ST_CoinCount]="1000",this._dataPool[n.default.ST_DiamondCount]="0",this._dataPool[n.default.ST_CurSkinId]="0",this._dataPool[n.default.ST_CurMeleeId]="13",this._dataPool[n.default.ST_CurRangeId]="0",this._dataPool[n.default.ST_LastDailyBonusIndex]="-1",this._dataPool[n.default.ST_LastDailyBonusTime]="0",this._initLevelData(),this._initSkinData(),this._initGunData(),this._save())},e.prototype._initLevelData=function(){var e={},t=new n.Levelitem('{"Id":"1001","State":"1","Grade":"0"}');e[1001]=t;for(var i=1002;i<=1e3+n.default.CT_TotalLevelCount;i++){var o=new n.Levelitem('{"Id":"'+i+'","State":"0","Grade":"0"}');e[i.toString()]=o}for(i=2001;i<=2e3+n.default.CT_TotalLevelCount;i++){var s=new n.Levelitem('{"Id":"'+i+'","State":"0","Grade":"0"}');e[i.toString()]=s}for(i=3001;i<=3e3+n.default.CT_TotalLevelCount;i++){var a=new n.Levelitem('{"Id":"'+i+'","State":"0","Grade":"0"}');e[i.toString()]=a}this._dataPool[n.default.ST_LevelItem]=JSON.stringify(e)},e.prototype._initSkinData=function(){var e=[0,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3],t=[],i=new n.SkinInfo('{"Id":"0","State":"2","Price":"'+e[0]+'","Level":"0","VideoCount":"0"}');t.push(i);for(var o=1;o<e.length;o++){var s=new n.SkinInfo('{"Id":"'+o+'","State":"0","Price":"'+e[o]+'","Level":"0","VideoCount":"0"}');t.push(s)}this._dataPool[n.default.ST_SkinInfo]=JSON.stringify(t)},e.prototype._initGunData=function(){for(var e=[0,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,0,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3],t=[],i=0;i<e.length;i++){var o;o=0==i||13==i?new n.GunInfo('{"Id":"'+i+'","State":"2","Price":"'+e[i]+'","Level":"0","VideoCount":"0"}'):new n.GunInfo('{"Id":"'+i+'","State":"0","Price":"'+e[i]+'","Level":"0","VideoCount":"0"}'),t.push(o)}this._dataPool[n.default.ST_GunInfo]=JSON.stringify(t)},Object.defineProperty(e.prototype,"AudioOn",{get:function(){return"1"==this.getItem(n.default.ST_AudioOn,"1")},set:function(e){this.setItem(n.default.ST_AudioOn,e?"1":"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShakeOn",{get:function(){return"1"==this.getItem(n.default.ST_ShakeOn,"1")},set:function(e){this.setItem(n.default.ST_ShakeOn,e?"1":"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CoinCount",{get:function(){return parseInt(this.getItem(n.default.ST_CoinCount,"0"))},set:function(e){this.setItem(n.default.ST_CoinCount,e+""),cc.game.emit(n.default.E_GAME_LOGIC,{type:n.default.E_COIN_CHANGE})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DiamondCount",{get:function(){return parseInt(this.getItem(n.default.ST_DiamondCount,"0"))},set:function(e){this.setItem(n.default.ST_DiamondCount,e+""),cc.game.emit(n.default.E_GAME_LOGIC,{type:n.default.E_Diamond_CHANGE})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TotoalCount_6",{get:function(){return parseInt(this.getItem(n.default.ST_TotoalCount+"6","1"))},set:function(e){this.setItem(n.default.ST_TotoalCount+"6",e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LastDailyBonusIndex",{get:function(){return parseInt(this.getItem(n.default.ST_LastDailyBonusIndex,"-1"))},set:function(e){this.setItem(n.default.ST_LastDailyBonusIndex,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LastDailyBonusTime",{get:function(){return this.getItem(n.default.ST_LastDailyBonusTime,"0")},set:function(e){this.setItem(n.default.ST_LastDailyBonusTime,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LastLoadDate",{get:function(){return this.getItem(n.default.ST_LastLoadDate,"")},set:function(e){this.setItem(n.default.ST_LastLoadDate,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"OnlineToday",{get:function(){return parseInt(this.getItem(n.default.ST_OnlineToday,"0"))},set:function(e){this.setItem(n.default.ST_OnlineToday,e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"receiveToday",{get:function(){return JSON.parse(this.getItem(n.default.ST_ReceiveToday,"[0, 0, 0, 0, 0]"))},set:function(e){this.setItem(n.default.ST_ReceiveToday,JSON.stringify(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurSkinId",{get:function(){return parseInt(this.getItem(n.default.ST_CurSkinId,"0"))},set:function(e){if(e!=this.CurSkinId){var t=this.CurSkinId,i=this.getSkinInfo(t);i&&(i.State=1,this.setSkinInfo(t,i));var o=this.getSkinInfo(e);o&&(o.State=2,this.setSkinInfo(e,o)),this.setItem(n.default.ST_CurSkinId,e+"")}},enumerable:!1,configurable:!0}),e.prototype.getSkinInfo=function(e){var t=this.getItem(n.default.ST_SkinInfo,"");if(t){var i=JSON.parse(t);if(e>=0&&e<i.length)return i[e]}return null},e.prototype.setSkinInfo=function(e,t){var i=this.getItem(n.default.ST_SkinInfo,"");if(i){var o=JSON.parse(i);e>=0&&e<o.length&&(o[e]=t,this.setItem(n.default.ST_SkinInfo,JSON.stringify(o)))}},e.prototype.getRandomLockSkin=function(){var e=[],t=this.getItem(n.default.ST_SkinInfo,"");if(t)for(var i=JSON.parse(t),o=0;o<i.length;o++)0==i[o].State&&e.push(i[o].Id);return e},e.prototype.getGunInfo=function(e){var t=this.getItem(n.default.ST_GunInfo,"");if(t){var i=JSON.parse(t);if(e>=0&&e<i.length)return i[e]}return null},e.prototype.setGunInfo=function(e,t){var i=this.getItem(n.default.ST_GunInfo,"");if(i){var o=JSON.parse(i);e>=0&&e<o.length&&(o[e]=t,this.setItem(n.default.ST_GunInfo,JSON.stringify(o)))}},Object.defineProperty(e.prototype,"CurMelee",{get:function(){return parseInt(this.getItem(n.default.ST_CurMeleeId,"13"))},set:function(e){if(e!=this.CurMelee&&o.default.meleeWaapon.includes(e+1)){var t=this.CurMelee,i=this.getGunInfo(t);i&&(i.State=1,this.setGunInfo(t,i));var s=this.getGunInfo(e);s&&(s.State=2,this.setGunInfo(e,s)),this.setItem(n.default.ST_CurMeleeId,e+"")}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurRange",{get:function(){return parseInt(this.getItem(n.default.ST_CurRangeId,"0"))},set:function(e){if(e!=this.CurRange&&o.default.rangeWeapon.includes(e+1)){var t=this.CurRange,i=this.getGunInfo(t);i&&(i.State=1,this.setGunInfo(t,i));var s=this.getGunInfo(e);s&&(s.State=2,this.setGunInfo(e,s)),this.setItem(n.default.ST_CurRangeId,e+"")}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curWeapon",{get:function(){return this.CurRange},set:function(e){o.default.meleeWaapon.includes(e+1)?this.CurMelee=e:o.default.rangeWeapon.includes(e+1)&&(this.CurRange=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"guide_skill",{get:function(){return this.getItem(n.default.ST_Guide_Skill,!0)},set:function(e){this.setItem(n.default.ST_Guide_Skill,e),cc.game.emit(n.default.E_ShareOrVideo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"best_time",{get:function(){return parseInt(this.getItem("best_time","0"))},set:function(e){e>this.best_time&&this.setItem("best_time",e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"best_kill",{get:function(){return parseInt(this.getItem("best_kill","0"))},set:function(e){e>this.best_kill&&this.setItem("best_kill",e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"best_level",{get:function(){return parseInt(this.getItem("best_level","0"))},set:function(e){e>this.best_level&&this.setItem("best_level",e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"best_coin",{get:function(){return parseInt(this.getItem("best_coin","0"))},set:function(e){e>this.best_coin&&this.setItem("best_coin",e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shareNum",{get:function(){return this.getItem(n.default.ST_ShareNum,0)},set:function(e){this.setItem(n.default.ST_ShareNum,e),cc.game.emit(n.default.E_ShareOrVideo),cc.log("\u4eca\u65e5\u5206\u4eab\u4e86",e,"\u6b21")},enumerable:!1,configurable:!0}),e.prototype.getItem=function(e,t){return null!=this._dataPool[e]&&null!=this._dataPool[e]?this._dataPool[e]:t},e.prototype.setItem=function(e,t){this._dataPool[e]=t,this._save()},e.prototype._save=function(){cc.sys.localStorage.setItem(n.default.ST_GameData,JSON.stringify(this._dataPool))},e}();i.default=s,cc._RF.pop()},{"../Game/weapon":"weapon","./Constant":"Constant"}],EventAdInfo:[function(e,t,i){"use strict";cc._RF.push(t,"4488ausP1RLk6Ca9NdEBVaO","EventAdInfo");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.AdEventParameter=i.YwAdStatus=i.YwAdType=void 0;var n=cc._decorator,s=n.ccclass;n.property,function(e){e[e.BANNER=1]="BANNER",e[e.INTERSITITIAL=2]="INTERSITITIAL",e[e.REWARD_VIDEO=3]="REWARD_VIDEO",e[e.SPLASH=4]="SPLASH",e[e.NATIVE_BANNER=5]="NATIVE_BANNER",e[e.NATIVE_INTERSITITIAL=6]="NATIVE_INTERSITITIAL",e[e.NATIVE_ICON=7]="NATIVE_ICON",e[e.INTERSITITIAL_VIDEO=8]="INTERSITITIAL_VIDEO",e[e.NATIVE=9]="NATIVE",e[e.NATIVE_TEMPLATE_BANNER=10]="NATIVE_TEMPLATE_BANNER",e[e.NATIVE_TEMPLATE_INTERSITIAL=11]="NATIVE_TEMPLATE_INTERSITIAL"}(i.YwAdType||(i.YwAdType={})),function(e){e[e.REQUEST=0]="REQUEST",e[e.REQUEST_SUCCESS=1]="REQUEST_SUCCESS",e[e.REQUEST_FAIL=2]="REQUEST_FAIL",e[e.SHOW_SUCCESS=3]="SHOW_SUCCESS",e[e.SHOW_FAIL=4]="SHOW_FAIL",e[e.CLICK=5]="CLICK",e[e.REWARD_SUCCESS=6]="REWARD_SUCCESS",e[e.REWARD_FAIL=7]="REWARD_FAIL",e[e.AD_ID_REQUEST=10]="AD_ID_REQUEST",e[e.AD_ID_REQUEST_SUCCESS=11]="AD_ID_REQUEST_SUCCESS",e[e.AD_ID_REQUEST_FAIL=12]="AD_ID_REQUEST_FAIL"}(i.YwAdStatus||(i.YwAdStatus={}));var a=function(){function e(e,t,i,o){this.adId=e,this.code=t,this.msg=i,this.tag=o}return e.prototype.toJsonData=function(){var e={};return e.adId=this.adId,this.code&&(e.code=this.code),this.msg&&(e.msg=this.msg),this.tag&&(e.tag=this.tag),e},e}();i.AdEventParameter=a;var r=function(){function e(e,t,i){this.time=(new Date).getTime(),this.adType=e,this.adStatus=t,this.adEventParameter=i}return e.prototype.toJsonData=function(){try{var e={};return e.ad_type=this.adType,e.ad_status=this.adStatus,null!=this.adEventParameter&&(this.adEventParameter.adId&&(e.ad_id=this.adEventParameter.adId),e.ad_info=this.adEventParameter.toJsonData()),e.time=this.time,e}catch(t){console.error("EventAdInfo toJsonData erro msg ="+t)}return{}},o([s],e)}();i.default=r,cc._RF.pop()},{}],FBAdManager:[function(e,t,i){"use strict";cc._RF.push(t,"1da79n1bmJN5qrv/yL2wYbA","FBAdManager");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var r,c,l=e("../Utils");function u(e){var t="NONE";switch(e){case c.NEW:t="NEW";break;case c.LOADING:t="LOADING";break;case c.LOADED:t="LOADED";break;case c.PLAYING:t="PLAYING"}return t}function h(e,t){return s(this,void 0,void 0,function(){return a(this,function(){return[2,new Promise(function(i){setTimeout(function(){t&&t(),i()},1e3*e)})]})})}(function(e){e[e.INTERSTITIAL=0]="INTERSTITIAL",e[e.REWARDED_VIDEO=1]="REWARDED_VIDEO",e[e.BANNER=2]="BANNER"})(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.NEW=1]="NEW",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED",e[e.PLAYING=4]="PLAYING"}(c||(c={}));var d={code:"EXCEED_MAX_AD_INSTANCE",message:"\u5e7f\u544a\u5bf9\u8c61\u4e0d\u5141\u8bb8\u8d85\u8fc7 3"},p={code:"NO_READY_AD_INSTANCE",message:"\u6ca1\u6709\u52a0\u8f7d\u5b8c\u6bd5\u7684\u5e7f\u544a\uff0c\u6216\u8005\u5e7f\u544a\u64ad\u653e\u592a\u9891\u7e41"},_={code:"NOT_READY_FOR_LOAD",message:"\u5f53\u524d\u72b6\u6001\u4e0d\u5141\u8bb8\u518d\u6b21\u52a0\u8f7d"},f={code:"AD_IS_LOADING",message:"\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d"},g={code:"NOT_READY_FOR_PLAYING",message:"\u6ca1\u6709\u53ef\u4ee5\u64ad\u653e\u7684\u5e7f\u544a"},v={code:"AD_IS_PLAYING",message:"\u5e7f\u544a\u6b63\u5728\u64ad\u653e"},m={code:"NO_BANNER_AD",message:"\u6ca1\u6709\u6dfb\u52a0Banner\u5e7f\u544a"},y={code:"API_NOT_SUPPORT",message:"\u5e7f\u544a\u63a5\u53e3\u4e0d\u652f\u6301"},w={code:"TOO_FAST_SHOW",message:"\u5e7f\u544a\u64ad\u653e\u592a\u9891\u7e41"},b={code:"NOT_PLAYING",message:"\u5e7f\u544a\u6ca1\u6709\u64ad\u653e"},I={code:"TOO_MANY_ERRORS",message:"\u592a\u591a\u9519\u8bef, \u505c\u6b62\u64cd\u4f5c"};function S(e,t,i){return e&&void 0!==e[t]?e[t]:i}var C=function(){function e(e,t){this._lastShowTime=0,this._refreshInterval=0,this._refreshInterval=e>0?e:0,this._lastShowTime=0,t>0&&(this._lastShowTime=Date.now()+1e3*t-1e3*this._refreshInterval)}return e.prototype.isReadyToRefresh=function(){return this.getNextRefreshInterval()<=0},e.prototype.getNextRefreshInterval=function(){var e=0;if(this._refreshInterval>0&&this._lastShowTime>0){var t=Date.now();e=this._refreshInterval-(t-this._lastShowTime)/1e3}return e},e.prototype.updateLastShowTime=function(){this._lastShowTime=Date.now()},e}(),A=function(){function e(e,t,i,o){this._maxLoadError=0,this._errorCounter=0,this._fatalError=!1,this._sharedTimer=null,this._adId=e,this._state=c.NONE,this._type=t,this._sharedTimer=i,this._fatalError=!1,l.utils.showLog(!!i,"sharedTimer is invalid",i),this._maxLoadError=S(o,"maxLoadError",0)}return e.prototype.getStateName=function(){return u(this._state)},e.prototype.getAdTypeName=function(){return this._type==r.INTERSTITIAL?"\u63d2\u5c4f\u5e7f\u544a":this._type==r.REWARDED_VIDEO?"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a":this._type==r.BANNER?"Banner":"UNKNOWN"},e.prototype.getInfo=function(){return"["+this.getAdTypeName()+":"+this._adId+":"+this.getStateName()+"]"},e.prototype.isReadyToRefresh=function(){return this._sharedTimer.isReadyToRefresh()},e.prototype.getNextRefreshInterval=function(){return this._sharedTimer.getNextRefreshInterval()},e.prototype.updateLastShowTime=function(){this._sharedTimer.updateLastShowTime()},e.prototype.increaseErrorCounter=function(){this._errorCounter++},e.prototype.resetErrorCounter=function(){this._errorCounter=0},e.prototype.setFatalError=function(){this._fatalError=!0},e.prototype.isErrorTooMany=function(){return this._fatalError||this._maxLoadError>0&&this._errorCounter>=this._maxLoadError},e}(),L=function(e){function t(t,i,o,n){var s=e.call(this,t,i,o,n)||this;return s._adInstance=null,s._autoLoadOnPlay=S(n,"autoLoadOnPlay",!1),s}return n(t,e),t.prototype.loadAsync=function(){return s(this,void 0,void 0,function(){var e,t,i;return a(this,function(o){switch(o.label){case 0:return null!=this._adInstance?[3,4]:this._state!=c.NONE?[3,2]:(this._state=c.NEW,l.utils.showLog("\u83b7\u53d6\u5e7f\u544a\u5bf9\u8c61: "+this.getInfo()),e=this,[4,this.createAdInstanceAsync(this._adId)]);case 1:return e._adInstance=o.sent(),[3,3];case 2:return l.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u52a0\u8f7d\u6761\u4ef6, \u6b63\u5728\u83b7\u53d6\u5e7f\u544a\u5bf9\u8c61: "+this.getInfo()),[2];case 3:return[3,4];case 4:if(this._state!=c.NEW)throw l.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u52a0\u8f7d\u6761\u4ef6: "+this.getInfo()),this._state==c.LOADING?(l.utils.showLog("\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u4e0d\u8981\u91cd\u590d\u52a0\u8f7d"+this.getInfo()),f):_;if(this.isErrorTooMany())throw l.utils.showLog("\u592a\u591a\u9519\u8bef\uff0c\u505c\u6b62\u52a0\u8f7d: "+this.getInfo()),I;o.label=5;case 5:return o.trys.push([5,7,,8]),this._state=c.LOADING,l.utils.showLog("\u5f00\u59cb\u52a0\u8f7d\u5e7f\u544a: "+this.getInfo()),[4,this._adInstance.loadAsync()];case 6:return o.sent(),this._state=c.LOADED,this.resetErrorCounter(),l.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u6210\u529f: "+this.getInfo()),[2,!0];case 7:throw t=o.sent(),l.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25: "+this.getInfo(),t),"ADS_NO_FILL"==t.code?(l.utils.showLog("\u5e7f\u544a\u65e0\u6cd5\u586b\u5145\uff0c\u4e0d\u518d\u7ee7\u7eed\u8bf7\u6c42: "+this.getInfo()),this.setFatalError()):(this.increaseErrorCounter(),this._state=c.NEW,i=10*this._errorCounter+1,l.utils.showLog("\u5ef6\u8fdf"+i+"\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: "+this.getInfo()),h(i,this.loadAsync.bind(this))),t;case 8:return[2]}})})},t.prototype.isReady=function(){return null!=this._adInstance&&this._state==c.LOADED},t.prototype.showAsync=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(!this.isReady())throw l.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u64ad\u653e\u6761\u4ef6: "+this.getInfo()),this._state==c.PLAYING?v:g;if(!this.isReadyToRefresh())throw l.utils.showLog("\u64ad\u653e\u592a\u9891\u7e41\uff0c\u8fd8\u9700\u95f4\u9694"+this.getNextRefreshInterval()+" \u79d2: "+this.getInfo()),w;t.label=1;case 1:return t.trys.push([1,3,,4]),this._state=c.PLAYING,l.utils.showLog("\u5f00\u59cb\u64ad\u653e\u5e7f\u544a: "+this.getInfo()),[4,this._adInstance.showAsync()];case 2:return t.sent(),l.utils.showLog("\u64ad\u653e\u5e7f\u544a\u5b8c\u6bd5: "+this.getInfo()),this._adInstance=null,this._state=c.NONE,this.updateLastShowTime(),this._autoLoadOnPlay&&(l.utils.showLog("\u5ef6\u8fdf1\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: "+this.getInfo()),h(1,this.loadAsync.bind(this))),[2,!0];case 3:throw e=t.sent(),l.utils.showLog("\u64ad\u653e\u5e7f\u544a\u5931\u8d25: "+this.getInfo(),e),"RATE_LIMITED"==e.code?this._state=c.LOADED:(this._adInstance=null,this._state=c.NONE,this._autoLoadOnPlay&&(l.utils.showLog("\u5ef6\u8fdf1\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: "+this.getInfo()),h(1,this.loadAsync.bind(this)))),e;case 4:return[2]}})})},t}(A),T=function(e){function t(t,i,o){return e.call(this,t,r.INTERSTITIAL,i,o)||this}return n(t,e),t.prototype.createAdInstanceAsync=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,FBInstant.getInterstitialAdAsync(this._adId)];case 1:return[2,e.sent()]}})})},t}(L),B=function(e){function t(t,i,o){return e.call(this,t,r.REWARDED_VIDEO,i,o)||this}return n(t,e),t.prototype.createAdInstanceAsync=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,FBInstant.getRewardedVideoAsync(this._adId)];case 1:return[2,e.sent()]}})})},t}(L),P=function(e){function t(t,i,o){return e.call(this,t,r.BANNER,i,o)||this}return n(t,e),t.prototype.showAsync=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(!this.isReadyToRefresh())throw l.utils.showLog("\u64ad\u653e\u592a\u9891\u7e41\uff0c\u8fd8\u9700\u95f4\u9694"+this.getNextRefreshInterval()+" \u79d2: "+this.getInfo()),w;if(this.isErrorTooMany())throw l.utils.showLog("\u592a\u591a\u9519\u8bef\uff0c\u505c\u6b62\u52a0\u8f7d: "+this.getInfo()),I;t.label=1;case 1:return t.trys.push([1,3,,4]),this._state=c.PLAYING,l.utils.showLog("\u5f00\u59cb\u663e\u793a\u5e7f\u544a: "+this.getInfo()),[4,FBInstant.loadBannerAdAsync(this._adId)];case 2:return t.sent(),l.utils.showLog("\u663e\u793a\u5e7f\u544a\u6210\u529f: "+this.getInfo()),this.updateLastShowTime(),this.resetErrorCounter(),[3,4];case 3:throw e=t.sent(),l.utils.showLog("\u663e\u793a\u5e7f\u544a\u5931\u8d25: "+this.getInfo(),e),"RATE_LIMITED"==e.code||("ADS_NO_FILL"==e.code?(l.utils.showLog("\u5e7f\u544a\u65e0\u6cd5\u586b\u5145\uff0c\u4e0d\u518d\u7ee7\u7eed\u8bf7\u6c42: "+this.getInfo()),this.setFatalError()):this.increaseErrorCounter()),e;case 4:return[2]}})})},t.prototype.hideAsync=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(this._state!=c.PLAYING)throw l.utils.showLog("\u5e7f\u544a\u6ca1\u6709\u5728\u64ad\u653e\u4e2d: "+this.getInfo()),b;t.label=1;case 1:return t.trys.push([1,3,,4]),l.utils.showLog("\u9690\u85cf\u5e7f\u544a: "+this.getInfo()),[4,FBInstant.hideBannerAdAsync()];case 2:return t.sent(),this._state=c.NONE,[3,4];case 3:throw e=t.sent(),l.utils.showLog("\u9690\u85cf\u5e7f\u544a\u5931\u8d25: "+this.getInfo(),e),e;case 4:return[2]}})})},t}(A),O=function(){function e(){}return e.getVersion=function(){return"1.0.2"},e.addInterstitial=function(e,t){void 0===t&&(t=3),null==this._interstitialTimer&&(this._interstitialTimer=new C(this.defaultInterstitialTimerOption.refreshInterval,this.defaultInterstitialTimerOption.delayForFirstAd));for(var i=0;i<t;i++){if(this._interstitialAds.length>=3)throw l.utils.showLog("\u6dfb\u52a0\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25, \u8d85\u51fa\u9650\u5236: "+this._interstitialAds.length,e),d;var o=new T(e,this._interstitialTimer,this.defaultInterstitialOption);this._interstitialAds.push(o),l.utils.showLog("\u6dfb\u52a0\u63d2\u5c4f\u5e7f\u544a: "+e,"count: "+this._interstitialAds.length)}return this._interstitialAds.length},e.addRewardedVideo=function(e,t){void 0===t&&(t=3),null==this._rewardedVideoTimer&&(this._rewardedVideoTimer=new C(this.defaultRewardedVideoTimerOption.refreshInterval,this.defaultRewardedVideoTimerOption.delayForFirstAd));for(var i=0;i<t;i++){if(this._rewardedVideos.length>=3)throw l.utils.showLog("\u6dfb\u52a0\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5931\u8d25, \u8d85\u51fa\u9650\u5236: "+this._rewardedVideos.length,e),d;var o=new B(e,this._rewardedVideoTimer,this.defaultRewardedVideoOption);this._rewardedVideos.push(o),l.utils.showLog("\u6dfb\u52a0\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a: "+e,"count: "+this._rewardedVideos.length)}return this._rewardedVideos.length},e.addBanner=function(e){null==this._bannerTimer&&(this._bannerTimer=new C(this.defaultBannerTimerOption.refreshInterval,this.defaultBannerTimerOption.delayForFirstAd));var t=new P(e,this._bannerTimer,this.defaultBannerOption);return this._banners.push(t),l.utils.showLog("\u6dfb\u52a0Banner\u5e7f\u544a: "+e,"count: "+this._banners.length),t},e.loadAll=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return l.utils.showLog("\u521d\u59cb\u5316\u5e7f\u544a\u961f\u5217"),[4,this.loadAllAsync()];case 1:return[2,e.sent()]}})})},e.loadAllAsync=function(){return s(this,void 0,void 0,function(){var e,t;return a(this,function(i){switch(i.label){case 0:l.utils.showLog("FBAdManager Version: "+this.getVersion()),l.utils.showLog("\u521d\u59cb\u5316\u5e7f\u544a\u961f\u5217"),e=0,i.label=1;case 1:return e<this._rewardedVideos.length?(t=this._rewardedVideos[e],e>0?[4,h(.1)]:[3,3]):[3,7];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,t.loadAsync()];case 4:case 5:return i.sent(),[3,6];case 6:return e++,[3,1];case 7:e=0,i.label=8;case 8:return e<this._interstitialAds.length?(t=this._interstitialAds[e],e>0?[4,h(.1)]:[3,10]):[3,14];case 9:i.sent(),i.label=10;case 10:return i.trys.push([10,12,,13]),[4,t.loadAsync()];case 11:case 12:return i.sent(),[3,13];case 13:return e++,[3,8];case 14:return[2]}})})},e._isAdReady=function(e){for(var t=e==r.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=!1,o=0;o<t.length;o++){var n=t[o];if(n.isReady()&&n.isReadyToRefresh()){i=!0;break}}return i},e._showAsync=function(e){for(var t=e==r.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=null,o=0;o<t.length;o++){var n=t[o];if(n.isReady()&&n.isReadyToRefresh()){i=n;break}}if(null!=i)return i.showAsync();throw p},e._getAdTimer=function(e){return e==r.INTERSTITIAL?this._interstitialTimer:e==r.REWARDED_VIDEO?this._rewardedVideoTimer:this._bannerTimer},e.isInterstitialAdReady=function(){return this._isAdReady(r.INTERSTITIAL)},e.showInterstitialAd=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._showAsync(r.INTERSTITIAL)];case 1:return[2,e.sent()]}})})},e.isRewardedVideoReady=function(){return this._isAdReady(r.REWARDED_VIDEO)},e.showRewardedVideo=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._showAsync(r.REWARDED_VIDEO)];case 1:return[2,e.sent()]}})})},e.checkApiSupport=function(e){return FBInstant.getSupportedAPIs().indexOf(e)>=0},e.isBannerSupport=function(){return void 0===this._bannerSupport&&(this._bannerSupport=this.checkApiSupport("loadBannerAdAsync")),this._bannerSupport},e.isBannerReady=function(){if(this._banners.length<=0)throw m;return this._banners[0].isReadyToRefresh()},e.showBannerAsync=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:if(!this.isBannerSupport())throw y;if(this._banners.length<=0)throw m;return[4,this._banners[0].showAsync()];case 1:return[2,e.sent()]}})})},e.hideBannerAsync=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:if(!this.isBannerSupport())throw y;if(this._banners.length<=0)throw m;return[4,this._banners[0].hideAsync()];case 1:return[2,e.sent()]}})})},e._interstitialAds=[],e._rewardedVideos=[],e._banners=[],e._interstitialTimer=null,e._rewardedVideoTimer=null,e._bannerTimer=null,e._bannerSupport=void 0,e.defaultInterstitialOption={autoLoadOnPlay:!0,maxLoadError:3},e.defaultRewardedVideoOption={autoLoadOnPlay:!0,maxLoadError:3},e.defaultBannerOption={autoLoadOnPlay:!0,maxLoadError:1},e.defaultInterstitialTimerOption={refreshInterval:40,delayForFirstAd:30},e.defaultRewardedVideoTimerOption={refreshInterval:0,delayForFirstAd:0},e.defaultBannerTimerOption={refreshInterval:40,delayForFirstAd:0},e}();i.default=O,cc._RF.pop()},{"../Utils":"Utils"}],FBSdk:[function(e,t,i){"use strict";cc._RF.push(t,"9b54fpkUvRHgIx4K6bSw7eI","FBSdk"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./FBAdManager");window.FBAdManager=o.default,cc._RF.pop()},{"./FBAdManager":"FBAdManager"}],FlyCoin:[function(e,t,i){"use strict";cc._RF.push(t,"ed685HUdhhBDJfsYmbDGwcF","FlyCoin"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./CocosZ"),n=function(){function e(){}return e.Show=function(e,t,i,n){var s=o.cocosz.resMgr.getRes("FlyIcon",cc.Prefab);if(s)for(var a=0,r=function(){var r=cc.instantiate(s);if(r){r.children.forEach(function(t){t.name==e?t.opacity=255:t.opacity=0}),i&&(r.group=i),r.position=cc.v3(.5*cc.winSize.width,.5*cc.winSize.height),r.scale=2,cc.director.getScene().addChild(r,1e4);var c=cc.tween(r);c.by(.2,{x:400*Math.random()-200,y:400*Math.random()-200}),c.delay(.5*Math.random()+.2),c.parallel(cc.tween().to(.3,{position:t}),cc.tween().to(.3,{scale:0})),c.call(function(){14==++a&&n&&n(),o.cocosz.audioMgr.playEffect(e),r.destroy()}),c.start()}},c=0;c<15;c++)r();else cc.log("Prefab FlyCoin is not found!")},e}();i.default=n,cc._RF.pop()},{"./CocosZ":"CocosZ"}],GameBoxListGameItem:[function(e,t,i){"use strict";cc._RF.push(t,"8d1273vqzBO/YV6wO8v72RF","GameBoxListGameItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./CompatibleTool"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.icon=null,t.labelName=null,t.labelShadow=null,t._dataDirty=!1,t.lastPostTime=0,t}return n(t,e),t.prototype.onLoad=function(){var e=this.node.getChildByName("Mask");this.icon=e.getChildByName("Icon").getComponent(cc.Sprite),this.labelName=this.node.getChildByName("Label").getComponent(cc.Label),this.labelShadow=this.node.getChildByName("LabelShadow").getComponent(cc.Label)},t.prototype.init=function(e){this.data=e,this._dataDirty=!0},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.updateItem())},t.prototype.onEnable=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e._postData(e.data.app_id),e.data.app_id&&a.utils.wechatTool.checkAppId(e.data.app_id)?(a.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!",e.data.app_id),wx.navigateToMiniProgram({appId:e.data.app_id,path:e.data.app_path?e.data.app_path:"",success:function(){},fail:function(e){a.utils.showLog("\u8df3\u8f6c\u5931\u8d25! ; res="+JSON.stringify(e))}})):e.data.qr_code&&(r.default.IsWechat?(a.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!",e.data.qr_code),a.utils.wechatTool.previewImage(e.data.qr_code)):a.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"))},this)},t.prototype.onDisable=function(){this.node.targetOff(this)},t.prototype.updateItem=function(){var e=this;if(this.data){if(this.data.name){var t=this.data.name;this.data.name.length>4&&(t=t.slice(0,4),t+="..."),this.labelName.string=t,this.labelShadow.string=t}this.data.icon&&c.default.LoadRes(this.data.icon,function(t,i){!t&&cc.isValid(e)&&e.icon&&e.icon.spriteFrame&&(e.icon.spriteFrame=new cc.SpriteFrame(i))})}},t.prototype._postData=function(e){var t="https://apps.youlesp.com/gbs?m=rclickV2&app_id="+e+"&game_id="+a.utils.config.wechatconfig.appID;a.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",t),a.utils.commomHttpRequest(t,function(e){e?a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils"}],GameBoxListItem:[function(e,t,i){"use strict";cc._RF.push(t,"43cccVEk7VCIph7mge+mLVv","GameBoxListItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.titleLabel=null,t._dataDirty=!1,t._gameList=null,t._gameItems=[],t}return n(t,e),t.prototype.onLoad=function(){this.titleLabel=this.node.getChildByName("titleLabel").getComponent(cc.RichText),this._gameList=this.node.getChildByName("listLay");for(var e=0;e<this._gameList.childrenCount;e++)this._gameItems.push(this._gameList.children[e].getComponent("GameBoxListGameItem")),this._gameList.children[e].active=!1},t.prototype.init=function(e){this.data=e,this._dataDirty=!0},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.updateItem())},t.prototype.updateItem=function(){if(this.data&&(a.utils.showLog("boxList: ",this.data),this.data.title&&(this.titleLabel.string="<b>"+this.data.title+"</b>"),this.data.infos&&this.data.infos.length>0))for(var e=0;e<this.data.infos.length;e++)this._gameItems[e]&&(this._gameItems[e].init(this.data.infos[e]),this._gameItems[e].node.active=!0)},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],GameBoxSlideItem:[function(e,t,i){"use strict";cc._RF.push(t,"1e163lFRMhCM4Xj0GBex74Z","GameBoxSlideItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./CompatibleTool"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.itemSprite=null,t._dataDirty=!1,t.lastPostTime=0,t}return n(t,e),t.prototype.onLoad=function(){this.itemSprite=this.node.getComponent(cc.Sprite)},t.prototype.initUi=function(){},t.prototype.initListener=function(){},t.prototype.initData=function(e){a.utils.showLog("#slideData=",e),this.data=e,this._dataDirty=!0},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.updateItem())},t.prototype.onEnable=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e._postData(e.data.app_id),e.data.app_id&&a.utils.wechatTool.checkAppId(e.data.app_id)?(a.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!",e.data.app_id),wx.navigateToMiniProgram({appId:e.data.app_id,path:e.data.app_path?e.data.app_path:"",success:function(){},fail:function(e){a.utils.showLog("\u8df3\u8f6c\u5931\u8d25!  res="+JSON.stringify(e))}})):e.data.qr_code&&(r.default.IsWechat?(a.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!",e.data.qr_code),a.utils.wechatTool.previewImage(e.data.qr_code)):a.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"))},this)},t.prototype.onDisable=function(){this.node.targetOff(this)},t.prototype.updateItem=function(){var e=this;this.data&&this.data.banner&&c.default.LoadRes(this.data.banner,function(t,i){a.utils.showLog(t,"err"),!t&&cc.isValid(e)&&e.itemSprite&&(a.utils.showLog(e.node.active,"node <<<"),e.itemSprite.spriteFrame=new cc.SpriteFrame(i))})},t.prototype._postData=function(e){var t="https://apps.youlesp.com/gbs?m=rclickV2&app_id="+e+"&game_id="+a.utils.config.wechatconfig.appID;a.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",t),a.utils.commomHttpRequest(t,function(e){e?a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils"}],GameBox:[function(e,t,i){"use strict";cc._RF.push(t,"6ece2t091pFCZ+KR1Ury6C3","GameBox");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slidePageView=null,t.listContent=null,t.topSlideNode=null,t.recommentNode=null,t.recommentBanner=null,t._boxInfo=null,t._dataDirty=!1,t._slideList=null,t._appIdList=[],t.newPage=null,t}return n(t,e),t.prototype.onLoad=function(){this.initListener()},t.prototype.onEnable=function(){var e=this;this.postData(),a.utils.registerServerInitEvent(function(){e._setNodeVisible()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._setNodeVisible=function(){this.initData(),this._boxInfo?this.initUi():this.node.destroy()},t.prototype.initUi=function(){if(this.slidePageView.removeAllPages(),this.listContent.removeAllChildren(),a.utils.showLog("gamebox initUi"),this._boxInfo){for(var e=this._boxInfo.banners,t=this._boxInfo.infos,i=0;i<e.length;i++){var o=cc.instantiate(this.topSlideNode),n=o.getComponent("GameBoxSlideItem");o.active=!0,n.initData(e[i]),this.slidePageView.addPage(o)}for(i=0;i<t.length;i++){var s=cc.instantiate(this.recommentNode),r=s.getComponent("GameBoxListItem"),c=t[i];if(r.init(c),this.listContent.addChild(s),c.banner){var l=cc.instantiate(this.recommentBanner);n=l.getComponent("GameBoxSlideItem"),l.active=!0,n.initData(c.banner),this.listContent.addChild(l)}}this.startAutoChange()}},t.prototype.startAutoChange=function(){var e=this;this.schedule(function(){var t=e.slidePageView.getPages().length,i=e.slidePageView.getCurrentPageIndex();i=i<t&&i+1!==t?i+1:0,e.slidePageView.scrollToPage(i,2)},3)},t.prototype.initListener=function(){},t.prototype.initData=function(){a.utils.showLog("gamebox initData"),this._boxInfo=a.utils._wechatTool.gameBoxServerConfig,this._boxInfo?a.utils.showLog("Gamebox \u6e38\u620f\u76d2\u5b50\u6570\u636e:",JSON.stringify(this._boxInfo)):a.utils.showLog("Gamebox \u6e38\u620f\u76d2\u5b50\u6570\u636e\u83b7\u53d6\u5931\u8d25!",this._boxInfo)},t.prototype.postData=function(){var e="https://apps.youlesp.com/gbs?m=rclickV2&app_id=100000000001&game_id="+a.utils.config.wechatconfig.appID;a.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",e),a.utils.commomHttpRequest(e,function(e){e?a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):a.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.node.active=!0)},s([l({type:cc.PageView,tooltip:"\u9876\u90e8\u6eda\u52a8\u89c6\u56fe"})],t.prototype,"slidePageView",void 0),s([l({type:cc.Node,tooltip:"\u63a8\u8350\u5217\u8868"})],t.prototype,"listContent",void 0),s([l({type:cc.Node,tooltip:"\u9876\u90e8\u7684\u5e7b\u706f\u7247\u8282\u70b9"})],t.prototype,"topSlideNode",void 0),s([l({type:cc.Node,tooltip:"\u63a8\u8350\u5217\u8868\u8282\u70b9"})],t.prototype,"recommentNode",void 0),s([l({type:cc.Node,tooltip:"\u63a8\u8350\u5217\u8868Banner\u8282\u70b9"})],t.prototype,"recommentBanner",void 0),s([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{"./Utils":"Utils"}],GameCtr:[function(e,t,i){"use strict";cc._RF.push(t,"127578MG9RJ17mctwhLeqSx","GameCtr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Constant"),n=e("./CocosZ"),s=e("../Game/gameMgr"),a=function(){function e(){this.curUseSkinId=-1,this.loadProgress=0,this._loadMapPro=0,this._totalCount=0,this._compCount=0,this._pathBack="",this._prefabBack=null}return e.prototype.init=function(){this.loadProgress=0,this._loadMapPro=0,this._totalCount=0,this._compCount=0,this.loadRes()},e.prototype.updateLoadRes=function(){this.loadProgress=(this._loadMapPro+this._compCount/this._totalCount)/2,this._compCount>=this._totalCount&&0==this._loadMapPro&&(this._loadMapPro=.01,this.loadMap()),cc.game.emit(o.default.E_GAME_LOGIC,{type:o.default.E_UPDATE_PROGRESS,data:this.loadProgress})},e.prototype.loadRes=function(){var e=this,t=[],i=[],o=[];n.cocosz.getDirWithPath("audio_game",cc.AudioClip,t),n.cocosz.resMgr.loadAndCacheResArray(t,cc.AudioClip,null,function(){e._compCount++,e.updateLoadRes()}),6==n.cocosz.gameMode&&(n.cocosz.getDirWithPath("audio_zombie",cc.AudioClip,i),n.cocosz.resMgr.loadAndCacheResArray(i,cc.AudioClip,null,function(){e._compCount++,e.updateLoadRes()}),n.cocosz.getDirWithPath("prefab_zombie_skill",cc.Prefab,o),n.cocosz.resMgr.loadAndCacheResArray(o,cc.Prefab,null,function(){e._compCount++,e.updateLoadRes()})),this._totalCount=t.length+i.length+o.length},e.prototype.loadMap=function(){var e=this,t="maps/mapzombie";this._pathBack!=t&&this._prefabBack&&this._prefabBack.isValid&&cc.assetManager.releaseAsset(this._prefabBack),n.cocosz.resMgr.loadRes(t,cc.Prefab,function(t,i){t/i>e._loadMapPro&&(e._loadMapPro=t/i),e._loadMapPro>.99&&(e._loadMapPro=.99),e.updateLoadRes()},function(i,a){i?(console.log(i),n.cocosz.sceneMgr.loadScene("Home",function(){n.cocosz.uiMgr.openPage(o.PageName.UIHomePage)})):(e._pathBack=t,e._prefabBack=a,s.gameMgr.map=cc.instantiate(a),s.gameMgr.initPos(),s.gameMgr.mapSize=s.gameMgr.map.getContentSize(),s.gameMgr.node.addChild(s.gameMgr.map,-5),e._loadMapPro=1,e.updateLoadRes())})},e}();i.default=a,cc._RF.pop()},{"../Game/gameMgr":"gameMgr","./CocosZ":"CocosZ","./Constant":"Constant"}],GameItem:[function(e,t,i){"use strict";cc._RF.push(t,"e2d27IwlQ5B5pmeL0p/D+5H","GameItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./YZ_Constant"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.icon=null,t.labelName=null,t.labelShadow=null,t._dataDirty=!1,t._redPoint=null,t._location=null,t.mask=null,t._subNameLength=4,t}return n(t,e),t.prototype.onLoad=function(){this.mask=this.node.getChildByName("Mask"),this.icon=this.mask.getChildByName("Icon").getComponent(cc.Sprite),this.labelName=this.node.getChildByName("Label").getComponent(cc.Label),this.labelShadow=this.node.getChildByName("LabelShadow").getComponent(cc.Label),!this._location||this._location!=c.SubLocation.isYzBanner&&this._location!=c.SubLocation.isScrollbar&&this._location!=c.SubLocation.isMoreGame&&this._location!=c.SubLocation.isBoxInsertAd&&this._location!=c.SubLocation.isBeforGameOverAd||(this._redPoint=this.mask.getChildByName("redpoint"),this.data&&this.data.red&&"0"!=this.data.red?"1"==this.data.red&&(this._redPoint.getComponent("YZ_ActionScale").isRunAction=!1):this._redPoint&&this._redPoint.destroy())},t.prototype.init=function(e,t){this.data=e,this._dataDirty=!0,this._location=t,[c.SubLocation.isBoxInsertAd,c.SubLocation.isBeforGameOverAd,c.SubLocation.isVerticalPanel].indexOf(this._location)>-1?this._subNameLength=6:this._location==c.SubLocation.isMoreGame&&(this._subNameLength=8)},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.updateItem())},t.prototype.onEnable=function(){var e=this;this.data&&this.node.on(cc.Node.EventType.TOUCH_END,function(){r.default.IsDouyin?a.utils.Tool_Douyin.showMoreGamesModal():(e._postClickData(e.data.appid),e.data.is_jump&&"true"==e.data.is_jump&&e.data.appid?(a.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!",e.data.appid),a.utils.navigateToMiniGame(e.data,function(t){t&&e.data&&e.data.appid&&e._postData(e.data.appid)})):e.data.is_jump&&"false"==e.data.is_jump&&e.data.qr_code?r.default.IsWechat?(a.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!",e.data.qr_code),a.utils.wechatTool.previewImage(e.data.qr_code),e.data&&e.data.appid&&e._postData(e.data.appid)):a.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"):(a.utils.showLog("\u6ca1\u6709is_jump\u76f4\u63a5\u8df3\u8f6c!",e.data.appid),e.data.appid&&a.utils.navigateToMiniGame(e.data,function(t){t&&e.data.appid&&e._postData(e.data.appid)})))},this)},t.prototype.onDisable=function(){this.node.targetOff(this)},t.prototype.updateItem=function(){var e=this;if(this.data){if(this.data.name){var t=this.data.name;this.data.name.length>this._subNameLength&&(t=t.slice(0,this._subNameLength),t+="..."),this.labelName.string=t,this.labelShadow.string=t}this.data.icon&&l.default.LoadRes(this.data.icon,function(t,i){!t&&cc.isValid(e)&&e.icon&&e.icon.spriteFrame&&(e.icon.spriteFrame=new cc.SpriteFrame(i))})}else this.mask.active=!1},t.prototype._postData=function(e){a.utils.postDataByLocation(e,this._location,1)},t.prototype._postClickData=function(e){a.utils.postDataByLocation(e,this._location,0)},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],GameMgr:[function(e,t,i){"use strict";cc._RF.push(t,"2a6femhqDpCk53HbKVrUmes","GameMgr");var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var s=e("./GameCtr"),a=e("./CocosZ"),r=e("./Constant"),c=e("./Msg"),l=e("../../common-plugin/Scripts/Utils"),u=e("../../common-plugin/Scripts/YZ_Constant"),h=e("../../common-plugin/Scripts/YZ_LocalStorage"),d=e("LanguageData"),p=function(){function e(){this._state=r.GameState.None,this._gameCtr=new s.default,this.gameStartTime=0,this.canTry=!0,this.canGame=!0}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e),e._inst},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"State",{get:function(){return this._state},set:function(e){this._state=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameCtr",{get:function(){return this._gameCtr},enumerable:!1,configurable:!0}),e.prototype.gameStart=function(e){return o(this,void 0,void 0,function(){var t;return n(this,function(){return h.default.setItem(u.default.ST_RED_BAG_PROGRESS,"0"),a.cocosz.curLevel=e,this.canTry?(this.canTry=!1,this.gameCtr.curUseSkinId=-1,a.cocosz.isShowAd&&a.cocosz.isADON&&(a.cocosz.isDeBug||l.utils.isShowTrySkin(e))?(t=a.cocosz.dataMgr.getGunInfo(a.cocosz.dataMgr.CurRange).Level,Math.random()<.5&&t<3?a.cocosz.uiMgr.openPanel(r.PanelName.UIWeaponLevelPanel):a.cocosz.uiMgr.openPanel(r.PanelName.UITrySkinPanel)):this.canGame&&(this.canGame=!1,this._loadGameScene())):this.canGame&&(this.canGame=!1,this._loadGameScene()),[2]})})},e.prototype._loadGameScene=function(){var e=this;this.gameCtr.curUseSkinId<0&&(this.gameCtr.curUseSkinId=a.cocosz.dataMgr.CurSkinId),l.utils.StartGame(a.cocosz.getLevelId().toString()),a.cocosz.sceneMgr.loadScene("Game",function(){e.gameStartTime=(new Date).getTime(),e.canTry=!0,e.canGame=!0,e._gamePrepare(),a.cocosz.uiMgr.openPage(r.PageName.UIGameLoadingPage)})},e.prototype._gamePrepare=function(){try{this.State=r.GameState.Prepare,this.gameCtr.init()}catch(e){cc.error("erro >>",e),a.cocosz.sceneMgr.loadScene("Home",function(){a.cocosz.uiMgr.openPage(r.PageName.UIHomePage),c.default.Show(d.t("msg.net_error"))})}},e.prototype.gameSuccess=function(){cc.log("\u6e38\u620f\u80dc\u5229!"),this.State=r.GameState.Success,a.cocosz.audioMgr.playEffectWinner();var e=Math.round(((new Date).getTime()-this.gameStartTime)/1e3/60);l.utils.SendEvent("\u6e38\u620f\u65f6\u95f4:"+e+"\u5206\u949f"),l.utils.adManager.showBeforGameOverAd(a.cocosz.getLevelId(),u.LevelStatus.GameWin,100,function(){cc.log("\u6fc0\u52b1\u7ec4\u4ef6\u5173\u95ed\uff01\uff01\uff01\uff01\uff01\uff01"),a.cocosz.uiMgr.openPage(r.PageName.UIOverPage)},function(e){cc.log("\u83b7\u53d6\u6fc0\u52b1\u7ec4\u4ef6\u5956\u52b1+"+e.rewardValue),e&&(a.cocosz.dataMgr.CoinCount+=e.rewardValue,cc.game.emit(r.default.E_GAME_LOGIC,{type:r.default.E_COIN_CHANGE}))})},e.prototype.gameFailed=function(){cc.log("\u6e38\u620f\u5931\u8d25!"),this.State=r.GameState.Failed,a.cocosz.audioMgr.playEffectFailed();var e=Math.round(((new Date).getTime()-this.gameStartTime)/1e3/60);l.utils.SendEvent("\u6e38\u620f\u65f6\u95f4:"+e+"\u5206\u949f"),l.utils.adManager.showBeforGameOverAd(a.cocosz.getLevelId(),u.LevelStatus.GameFail,50,function(){cc.log("\u6fc0\u52b1\u7ec4\u4ef6\u5173\u95ed\uff01\uff01\uff01\uff01\uff01\uff01"),a.cocosz.uiMgr.openPage(r.PageName.UIOverPage)},function(e){cc.log("\u83b7\u53d6\u6fc0\u52b1\u7ec4\u4ef6\u5956\u52b1+"+e.rewardValue),e&&(a.cocosz.dataMgr.CoinCount+=e.rewardValue,cc.game.emit(r.default.E_GAME_LOGIC,{type:r.default.E_COIN_CHANGE}))})},e}();i.default=p,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../../common-plugin/Scripts/YZ_LocalStorage":"YZ_LocalStorage","./CocosZ":"CocosZ","./Constant":"Constant","./GameCtr":"GameCtr","./Msg":"Msg",LanguageData:"LanguageData"}],GamePage:[function(e,t,i){"use strict";cc._RF.push(t,"63a41cIPQJDv6DXfWU7Rp52","GamePage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./YZ_Constant"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._gameList=null,t._gameItemNodes=[],t._isContentFilled=!1,t._dataDirty=!1,t}return n(t,e),t.prototype.init=function(e){this._gameList=e,this._dataDirty=!0},t.prototype.onLoad=function(){this._gameItemNodes=this.node.children;for(var e=0;e<this._gameItemNodes.length;e++)this._gameItemNodes[e].active=!1},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this._updateContent())},t.prototype._updateContent=function(){if(this._gameList&&this._gameList.length>0&&this._gameList.length<=5){this._isContentFilled=!0;for(var e=null,t=0;t<this._gameList.length;t++){e=this._gameList[t];var i=this._gameItemNodes[t];i.getComponent("GameItem").init(e,a.SubLocation.isScrollbar),i.active=!0}}},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./YZ_Constant":"YZ_Constant"}],GameSDK:[function(e,t){"use strict";cc._RF.push(t,"2d7b2Hq1SdGo4Ah6K+9Y1sO","GameSDK"),window.GameSDK={callBacks:{},callNative:function(e,t){t=null==t?"":JSON.stringify(t),loadRuntime().callCustomCommand({success:function(e){console.log("success:",e)},fail:function(e){console.log("fail:",e)}},e,t)},nativeCallback:function(e,t){var i=this.callBacks[e];i&&i(JSON.parse(t))},registerCallback:function(e,t){this.callBacks[e]=t},setOnInitCB:function(e){this.registerCallback("onInit",e)},setOnRoomInfoCB:function(e){this.registerCallback("onRoomInfo",e)},setOnReadyCB:function(e){this.registerCallback("onReady",e)},setOnStartCB:function(e){this.registerCallback("onStart",e)},setOnMessageCB:function(e){this.registerCallback("onMessage",e)},setOnFinishCB:function(e){this.registerCallback("onFinish",e)},setOnAudioCB:function(e){this.registerCallback("onAudio",e)},setOnResumeCB:function(e){this.registerCallback("onResume",e)},setOnPauseCB:function(e){this.registerCallback("onPause",e)},setOnPayCB:function(e){this.registerCallback("onPay",e)},init:function(e){var t={gameId:e};this.callNative("init",t)},quit:function(e){var t={reason:e};this.callNative("quit",t)},getRoomInfo:function(){this.callNative("getRoomInfo")},finish:function(e){var t={result:e};this.callNative("finish",t)},setOrientation:function(e){var t={orientation:e};this.callNative("setOrientation",t)},setAudio:function(e,t){var i={enable:e,volume:t};this.callNative("setAudio",i)},setMic:function(e,t){var i={enable:e,volume:t};this.callNative("setMic",i)},setLoadProgress:function(e){var t={progress:e};this.callNative("setLoadProgress",t)},hideLoadProgress:function(){this.callNative("hideLoadProgress",{})},ready:function(e){var t={userData:e};this.callNative("ready",t)},broadcast:function(e,t){null==t&&(t=0);var i={message:e,includeMe:t};this.callNative("broadcast",i)},gameOver:function(e){var t={result:e};this.callNative("gameOver",t)},pay:function(e,t,i,o,n,s){var a={orderId:e,goodsName:t,goodsDesc:i,orderAmount:o,extension:n,notifyURL:s};this.callNative("pay",a)}},cc._RF.pop()},{}],GuideLayer:[function(e,t,i){"use strict";cc._RF.push(t,"acaa0jcS+FD1plO6fY1CE9z","GuideLayer");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.guideLayer=void 0;var a=cc._decorator,r=a.ccclass,c=a.property;i.guideLayer=null;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgLoadNode=null,t.points=null,t.fjLoadNode=null,t.fjAni=null,t.curIndex=0,t}return n(t,e),t.prototype.onLoad=function(){i.guideLayer=this,cc.game.addPersistRootNode(this.node),this.node.setPosition(cc.winSize.width/2,cc.winSize.height/2),this.node.setContentSize(cc.winSize)},t.prototype.start=function(){this.showPoint(),this.schedule(this.showPoint,.5)},t.prototype.showPoint=function(){for(var e=0;e<this.points.childrenCount;e++)e<=this.curIndex?this.points.children[e].opacity=255:this.points.children[e].opacity=0;++this.curIndex>this.points.childrenCount&&(this.curIndex=0)},t.prototype.showBgAni=function(){this.bgLoadNode.active=!0,this.curIndex=0},t.prototype.hideBgAni=function(){this.bgLoadNode.active=!1},t.prototype.showFjAni=function(){this.fjLoadNode.active=!0,this.fjAni.setAnimation(0,"jiazai",!1),this.fjAni.addAnimation(0,"jiazai2",!0)},t.prototype.hideFjAni=function(){this.fjLoadNode.active=!1},s([c(cc.Node)],t.prototype,"bgLoadNode",void 0),s([c(cc.Node)],t.prototype,"points",void 0),s([c(cc.Node)],t.prototype,"fjLoadNode",void 0),s([c(sp.Skeleton)],t.prototype,"fjAni",void 0),s([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],HandAction:[function(e,t,i){"use strict";cc._RF.push(t,"790e4sDjF5IWJNaXfl/M8R4","HandAction");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.runTime=.3,t}return n(t,e),t.prototype.onLoad=function(){cc.winSize.height<cc.winSize.width?this.node.scale=cc.view.getDesignResolutionSize().width/1920*.5:this.node.scale=cc.view.getDesignResolutionSize().width/1080*.5},t.prototype.onEnable=function(){this.node.runAction(cc.sequence(cc.moveBy(this.runTime,cc.v2(-50,50)),cc.moveBy(this.runTime,cc.v2(50,-50))).repeatForever())},t.prototype.onDisable=function(){this.node.stopAllActions()},s([c({type:cc.Float})],t.prototype,"runTime",void 0),s([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var i=e("polyglot.min"),o=null;function n(e){return window.i18n.languages[e]}function s(e){e&&(o?o.replace(e):o=new i({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=n(e)||{};window.i18n.curLang=e,s(t),this.inst=o}},t:function(e,t){if(o)return o.t(e,t)},inst:o,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var o=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(var n=0;n<t.length;++n){var s=t[n];s.node.active&&s.updateLabel()}for(var a=[],r=0;r<e.length;++r){var c=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,c)}for(var l=0;l<a.length;++l){var u=a[l];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],ListItem:[function(e,t,i){"use strict";cc._RF.push(t,"09c0c9GGz9I/KV6p6vh4QOI","ListItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a,r=cc._decorator,c=r.ccclass,l=r.property,u=r.disallowMultiple,h=r.menu,d=r.executionOrder;(function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"})(a||(a={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=a.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t.adaptiveSize=!1,t._selected=!1,t._eventReg=!1,t}return n(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=e;break;case a.SWITCH:var t=this.selectedFlag.getComponent(cc.Sprite);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.selectedMode==a.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=e.spriteFrame}},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},t.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},t.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},t.prototype.createEvt=function(e,t,i){if(void 0===i&&(i=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var o=new cc.Component.EventHandler;return o.target=i||e.node,o.component=e.comName,o.handler=t,o}},t.prototype.showAni=function(e,t,i){var o,n=this;switch(e){case 0:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:o=[cc.scaleTo(.3,.1)]}(t||i)&&o.push(cc.callFunc(function(){if(i){n.list._delSingleItem(n.node);for(var e=n.list.displayData.length-1;e>=0;e--)if(n.list.displayData[e].id==n.listId){n.list.displayData.splice(e,1);break}}t()})),this.node.runAction(cc.sequence(o))},t.prototype.onClickThis=function(){this.list.selectedId=this.listId},s([l({type:cc.Sprite,tooltip:!1})],t.prototype,"icon",void 0),s([l({type:cc.Node,tooltip:!1})],t.prototype,"title",void 0),s([l({type:cc.Enum(a),tooltip:!1})],t.prototype,"selectedMode",void 0),s([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],t.prototype,"selectedFlag",void 0),s([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],t.prototype,"selectedSpriteFrame",void 0),s([l({tooltip:!1})],t.prototype,"adaptiveSize",void 0),s([c,u(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),d(-5001)],t)}(cc.Component);i.default=p,cc._RF.pop()},{}],List:[function(e,t,i){"use strict";cc._RF.push(t,"987bdrXWC5Lz6Y5yNsCVEwF","List");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a,r,c,l=cc._decorator,u=l.ccclass,h=l.property,d=l.disallowMultiple,p=l.menu,_=l.executionOrder,f=l.requireComponent,g=e("./ListItem"),v=e("./CompatibleTool");(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(a||(a={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.ADHERING=2]="ADHERING",e[e.PAGE=3]="PAGE"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULT=2]="MULT"}(c||(c={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=a.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=r.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t._virtual=!0,t.cyclic=!1,t.lackCenter=!1,t.lackSlide=!1,t._updateRate=0,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=c.NONE,t.repeatEventSingle=!1,t.selectedEvent=null,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._needUpdateWidget=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}return n(t,e),Object.defineProperty(t.prototype,"slideMode",{get:function(){return this._slideMode},set:function(e){this._slideMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateRate",{get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){var t,i=this;switch(i.selectedMode){case c.SINGLE:if(!i.repeatEventSingle&&e==i._selectedId)return;t=i.getItemByListId(e);var o=void 0;if(i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=e,t&&((o=t.getComponent(g.default)).selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){var n=i.getItemByListId(i._lastSelectedId);n&&(n.getComponent(g.default).selected=!1)}i.selectedEvent&&cc.Component.EventHandler.emitEvents([i.selectedEvent],t,e%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(t=i.getItemByListId(e)))return;o=t.getComponent(g.default),i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=e;var s=!o.selected;o.selected=s;var a=i.multSelected.indexOf(e);s&&a<0?i.multSelected.push(e):!s&&a>=0&&i.multSelected.splice(a,1),i.selectedEvent&&cc.Component.EventHandler.emitEvents([i.selectedEvent],t,e%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,s)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited(!1))if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=r.PAGE||(t.curPageNum=t.nearestListId);else{t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems);var i=t.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var o=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,n=0;n<o;n++)t._createOrUpdateItem2(n);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(n=0;n<t._numItems;n++)t._createOrUpdateItem2(n);t.displayItemNum=t._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._init()},t.prototype.onDestroy=function(){var e=this;for(e._itemTmp&&e._itemTmp.isValid&&e._itemTmp.destroy(),e.tmpNode&&e.tmpNode.isValid&&e.tmpNode.destroy();e._pool.size();)e._pool.get().destroy()},t.prototype.onEnable=function(){console.log(" >>>list enable"),this._registerEvent(),this._init()},t.prototype.onDisable=function(){console.log(" >>>list onDisable"),this._unregisterEvent()},t.prototype._registerEvent=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._unregisterEvent=function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._init=function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){switch(e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection,e.setTemplateItem(cc.instantiate(e.templateType==a.PREFAB?e.tmpPrefab:e.tmpNode)),e._slideMode!=r.ADHERING&&e._slideMode!=r.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){}),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}e.content.removeAllChildren(),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},t.prototype._processAutoScrolling=function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var i=t-1;t=i*i*i*i*i+1}var o=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),n=this._scrollView.getScrollEndedEventTiming(),s=Math.abs(t-1)<=n;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),s&&(this._scrollView._autoScrolling=!1);var a=o.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(a),s),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},t.prototype.setTemplateItem=function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=cc.size(e.width,e.height);var i=e.getComponent(g.default),o=!1;switch(i||(o=!0),o&&(t.selectedMode=c.NONE),(i=e.getComponent(cc.Widget))&&i.enabled&&(t._needUpdateWidget=!0),t.selectedMode==c.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((n+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var s=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((s+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},t.prototype.checkInited=function(e){return void 0===e&&(e=!0),!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},t.prototype._resizeContent=function(){var e,t=this;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t._customSize){var i=t._getFixedSize(null);e=t._leftGap+i.val+t._itemSize.width*(t._numItems-i.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:t._customSize?(i=t._getFixedSize(null),e=t._topGap+i.val+t._itemSize.height*(t._numItems-i.count)+t._lineGap*(t._numItems-1)+t._bottomGap):e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(t._numItems/t._colLineNum);e=t._topGap+t._itemSize.height*o+t._lineGap*(o-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var n=Math.ceil(t._numItems/t._colLineNum);e=t._leftGap+t._itemSize.width*n+t._columnGap*(n-1)+t._rightGap}}var s=t.content.getComponent(cc.Layout);if(s&&(s.enabled=!1),t._allItemSize=e,t._allItemSizeNoEdge=t._allItemSize-(t._sizeType?t._topGap+t._bottomGap:t._leftGap+t._rightGap),t.cyclic){var a=t._sizeType?t.node.height:t.node.width;t._cyclicPos1=0,a-=t._cyclicPos1,t._cyclicNum=Math.ceil(a/t._allItemSizeNoEdge)+1;var r=t._sizeType?t._lineGap:t._columnGap;t._cyclicPos2=t._cyclicPos1+t._allItemSizeNoEdge+r,t._cyclicAllItemSize=t._allItemSize+t._allItemSizeNoEdge*(t._cyclicNum-1)+r*(t._cyclicNum-1),t._cycilcAllItemSizeNoEdge=t._allItemSizeNoEdge*t._cyclicNum,t._cycilcAllItemSizeNoEdge+=r*(t._cyclicNum-1)}t._lack=!t.cyclic&&t._allItemSize<(t._sizeType?t.node.height:t.node.width);var c=t._lack&&t.lackCenter||!t.lackSlide?.1:0,l=t._lack?(t._sizeType?t.node.height:t.node.width)-c:t.cyclic?t._cyclicAllItemSize:t._allItemSize;l<0&&(l=0),t._sizeType?t.content.height=l:t.content.width=l},t.prototype._onScrolling=function(e){if(void 0===e&&(e=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition();t=this._sizeType?t.y:t.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),o=this._sizeType?v.default.position(0,i):v.default.position(i,0);switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):t<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)));break;case 2:t<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):t>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o)));break;case 3:t<this._cyclicPos1+700?(this.content.y=this._cyclicPos2+700,cc.log("xxxxxxx"),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):t>this._cyclicPos2+700&&(cc.log("ddddddddddd"),this.content.y=this._cyclicPos1+700);break;case 4:t>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):t<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)))}}var n,s,a,r;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,a=this.viewBottom):(s=this.viewRight,r=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var h=!1;l<=u&&!h;l++)switch(c=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=r&&c.left<=s?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=n&&c.top>=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=n&&c.top>=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=r&&c.left<=s?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0)}}else{var d=this._itemSize.width+this._columnGap,p=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(r+this._leftGap)/d,u=(s+this._rightGap)/d;break;case 2:l=(-s-this._rightGap)/d,u=(-r-this._leftGap)/d;break;case 3:l=(-n-this._topGap)/p,u=(-a-this._bottomGap)/p;break;case 4:l=(a+this._bottomGap)/p,u=(n+this._topGap)/p}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,l<0&&(l=0),--u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var _=this._lastDisplayData.length,f=this.displayItemNum!=_;if(f&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(e,t){return e-t}),f=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[_-1]),this._forceUpdate||f)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var g=0;g<this.displayItemNum;g++)this._createOrUpdateItem(this.displayData[g]);this._forceUpdate=!1}this._calcNearestItem()}}},t.prototype._calcViewPos=function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},t.prototype._calcItemPos=function(e){var t,i,o,n,s,a,r,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(e);s=this._leftGap+(this._itemSize.width+this._columnGap)*(e-l.count)+(l.val+this._columnGap*l.count),t=(u=this._customSize[e])>0?u:this._itemSize.width}else s=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;return a=s+t,this.lackCenter&&(s+=h=this.content.width/2-this._allItemSizeNoEdge/2,a+=h),{id:e,left:s,right:a,x:s+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(e),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-l.count)-(l.val+this._columnGap*l.count),t=(u=this._customSize[e])>0?u:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width),s=a-t,this.lackCenter&&(s-=h=this.content.width/2-this._allItemSizeNoEdge/2,a-=h),{id:e,right:a,left:s,x:s+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(e),o=-this._topGap-(this._itemSize.height+this._lineGap)*(e-l.count)-(l.val+this._lineGap*l.count),i=(u=this._customSize[e])>0?u:this._itemSize.height):(o=-this._topGap-(this._itemSize.height+this._lineGap)*e,i=this._itemSize.height),n=o-i,this.lackCenter&&(o-=h=this.content.height/2-this._allItemSizeNoEdge/2,n-=h),{id:e,top:o,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u,h;if(this._customSize)l=this._getFixedSize(e),n=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-l.count)+(l.val+this._lineGap*l.count),i=(u=this._customSize[e])>0?u:this._itemSize.height;else n=this._bottomGap+(this._itemSize.height+this._lineGap)*e,i=this._itemSize.height;return o=n+i,this.lackCenter&&(o+=h=this.content.height/2-this._allItemSizeNoEdge/2,n+=h),{id:e,top:o,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var d=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(n=(o=-this._topGap-(this._itemSize.height+this._lineGap)*d)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o=(n=this._bottomGap+(this._itemSize.height+this._lineGap)*d)+this._itemSize.height,c=n+this._itemTmp.anchorY*this._itemSize.height}switch(r=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r+=this._itemTmp.anchorX*this._itemSize.width,r-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:r+=(1-this._itemTmp.anchorX)*this._itemSize.width,r-=(1-this.content.anchorX)*this.content.width,r*=-1}return{id:e,top:o,bottom:n,x:r,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(s=this._leftGap+(this._itemSize.width+this._columnGap)*d)+this._itemSize.width,r=s+this._itemTmp.anchorX*this._itemSize.width,r-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:r=(s=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*d)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,r+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:e,left:s,right:a,x:r,y:c}}}},t.prototype._calcExistItemPos=function(e){var t=this.getItemByListId(e);if(!t)return null;var i={id:e,x:t.x,y:t.y};return this._sizeType?(i.top=t.y+t.height*(1-t.anchorY),i.bottom=t.y-t.height*t.anchorY):(i.left=t.x-t.width*t.anchorX,i.right=t.x+t.width*(1-t.anchorX)),i},t.prototype.getItemPos=function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},t.prototype._getFixedSize=function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,i=0;for(var o in this._customSize)parseInt(o)<e&&(t+=this._customSize[o],i++);return{val:t,count:i}},t.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},t.prototype._onScrollEnded=function(){var e=this;if(null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}e._onScrolling(),e._slideMode!=r.ADHERING||e.adhering?e._slideMode==r.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()):e.adhere()},t.prototype._onTouchStart=function(e,t){if(!this._scrollView._hasNestedViewGroup(e,t)&&(e.eventPhase!==cc.Event.AT_TARGET||e.target!==this.node)){for(var i=e.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:e.target}},t.prototype._onTouchUp=function(){var e=this;e._scrollPos=null,e._slideMode==r.ADHERING?(this.adhering&&(this._adheringBarrier=!0),e.adhere()):e._slideMode==r.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()),this._scrollItem=null},t.prototype._onTouchCancelled=function(e,t){var i=this;i._scrollView._hasNestedViewGroup(e,t)||e.simulate||(i._scrollPos=null,i._slideMode==r.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==r.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},t.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},t.prototype._onItemAdaptive=function(e){if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var t=this._sizeType?e.height:e.width;this._customSize[e._listId]!=t&&(this._customSize[e._listId]=t,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},t.prototype._pageAdhere=function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,i=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>i)switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},t.prototype.adhere=function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},t.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var i=this.displayData[t];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==r.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++)this._createOrUpdateItem2(t);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==r.PAGE&&(this.curPageNum=this.nearestListId)},t.prototype._createOrUpdateItem=function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(v.default.position(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var i=this._pool.size()>0;if((t=i?this._pool.get():cc.instantiate(this._itemTmp))._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(v.default.position(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),i&&this._needUpdateWidget){var o=t.getComponent(cc.Widget);o&&o.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var n=t.getComponent(g.default);t.listItem=n,n&&(n.listId=e.id,n.list=this,n._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},t.prototype._createOrUpdateItem2=function(e){var t,i=this.content.children[e];i?this._forceUpdate&&this.renderEvent&&(i._listId=e,t&&(t.listId=e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,e%this._actualNumItems)):((i=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(i),t=i.getComponent(g.default),i.listItem=t,t&&(t.listId=e,t.list=this,t._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,e%this._actualNumItems)),this._updateListItem(t),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},t.prototype._updateListItem=function(e){if(e&&this.selectedMode>c.NONE){var t=e.node;switch(this.selectedMode){case c.SINGLE:e.selected=this.selectedId==t._listId;break;case c.MULT:e.selected=this.multSelected.indexOf(t._listId)>=0}}},t.prototype._resetItemSize=function(){},t.prototype._updateItemPos=function(e){var t=isNaN(e)?e:this.getItemByListId(e),i=this.getItemPos(t._listId);t.setPosition(i.x,i.y)},t.prototype.setMultSelected=function(e,t){var i=this;if(i.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)i.multSelected=e;else{var o=void 0,n=void 0;if(t)for(var s=e.length-1;s>=0;s--)o=e[s],(n=i.multSelected.indexOf(o))<0&&i.multSelected.push(o);else for(s=e.length-1;s>=0;s--)o=e[s],(n=i.multSelected.indexOf(o))>=0&&i.multSelected.splice(n,1)}i._forceUpdate=!0,i._onScrolling()}},t.prototype.updateItem=function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++){var o=e[t],n=this.getItemByListId(o);n&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,o%this._actualNumItems)}}},t.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},t.prototype.getItemByListId=function(e){if(this.content)for(var t=this.content.childrenCount-1;t>=0;t--){var i=this.content.children[t];if(i._listId==e)return i}},t.prototype._getOutsideItem=function(){for(var e,t=[],i=this.content.childrenCount-1;i>=0;i--)e=this.content.children[i],this.displayData.find(function(t){return t.id==e._listId})||t.push(e);return t},t.prototype._delRedundantItem=function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var i=e[t];if(!this._scrollItem||i._listId!=this._scrollItem._listId){this._pool.put(i);for(var o=this._lastDisplayData.length-1;o>=0;o--)if(this._lastDisplayData[o]==i._listId){this._lastDisplayData.splice(o,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},t.prototype._delSingleItem=function(e){cc.log("DEL::",e._listId,e),e.removeFromParent(),e.destroy&&e.destroy(),e=null},t.prototype.aniDelItem=function(e,t,i){var o=this;if(!o.checkInited()||o.cyclic||!o._virtual)return cc.error("This function is not allowed to be called!");if(o._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var n,s=o.getItemByListId(e);if(s){n=s.getComponent(g.default),o._aniDelRuning=!0;var a=o.displayData[o.displayData.length-1].id,r=n.selected;n.showAni(i,function(){var i,n,l;if(a<o._numItems-2&&(i=a+1),null!=i){var u=o._calcItemPos(i);o.displayData.push(u),o._virtual?o._createOrUpdateItem(u):o._createOrUpdateItem2(i)}else o._numItems--;if(o.selectedMode==c.SINGLE)r?o._selectedId=-1:o._selectedId-1>=0&&o._selectedId--;else if(o.selectedMode==c.MULT&&o.multSelected.length){var h=o.multSelected.indexOf(e);h>=0&&o.multSelected.splice(h,1);for(var d=o.multSelected.length-1;d>=0;d--)(f=o.multSelected[d])>=e&&o.multSelected[d]--}if(o._customSize){o._customSize[e]&&delete o._customSize[e];var p={},_=void 0;for(var f in o._customSize){_=o._customSize[f];var g=parseInt(f);p[g-(g>=e?1:0)]=_}o._customSize=p}for(d=null!=i?i:a;d>=e+1;d--)if(s=o.getItemByListId(d)){var m=o._calcItemPos(d-1);n=[cc.moveTo(.2333,v.default.position(m.x,m.y))],d<=e+1&&(l=!0,n.push(cc.callFunc(function(){o._aniDelRuning=!1,t(e)}))),n.length>1?s.runAction(cc.sequence(n)):s.runAction(n[0])}l||(o._aniDelRuning=!1,t(e))},!0)}else t(e)},t.prototype.scrollTo=function(e,t,i,o){void 0===t&&(t=.5),void 0===i&&(i=null),void 0===o&&(o=!1);var n=this;if(n.checkInited(!1)){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=n._numItems&&(e=n._numItems-1),!n._virtual&&n._layout&&n._layout.enabled&&n._layout.updateLayout();var s,a,r=n.getItemPos(e);switch(n._alignCalcType){case 1:s=r.left,s-=null!=i?n.node.width*i:n._leftGap,r=v.default.position(s,0);break;case 2:s=r.right-n.node.width,s+=null!=i?n.node.width*i:n._rightGap,r=v.default.position(s+n.content.width,0);break;case 3:a=r.top,a+=null!=i?n.node.height*i:n._topGap,r=v.default.position(0,-a);break;case 4:a=r.bottom+n.node.height,a-=null!=i?n.node.height*i:n._bottomGap,r=v.default.position(0,-a+n.content.height)}var c=n.content.getPosition();c=Math.abs(n._sizeType?c.y:c.x);var l=n._sizeType?r.y:r.x;Math.abs((null!=n._scrollPos?n._scrollPos:c)-l)>.5&&(n._scrollView.scrollToOffset(r,t),n._scrollToListId=e,n._scrollToEndTime=(new Date).getTime()/1e3+t,n._scrollToSo=n.scheduleOnce(function(){if(n._adheringBarrier||(n.adhering=n._adheringBarrier=!1),n._scrollPos=n._scrollToListId=n._scrollToEndTime=n._scrollToSo=null,o){var t=n.getItemByListId(e);t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},t+.1),t<=0&&n._onScrolling())}},t.prototype._calcNearestItem=function(){cc.log("_calcNearestItem");var e,t,i,o,n,s,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),i=a.viewTop,o=a.viewRight,n=a.viewBottom,s=a.viewLeft;for(var r=!1,c=0;c<a.content.childrenCount&&!r;c+=a._colLineNum)if(e=a._virtual?a.displayData[c]:a._calcExistItemPos(c))switch(t=a._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,a._alignCalcType){case 1:e.right>=s&&(a.nearestListId=e.id,s>t&&(a.nearestListId+=a._colLineNum),r=!0);break;case 2:e.left<=o&&(a.nearestListId=e.id,o<t&&(a.nearestListId+=a._colLineNum),r=!0);break;case 3:e.bottom<=i&&(a.nearestListId=e.id,i<t&&(a.nearestListId+=a._colLineNum),r=!0);break;case 4:e.top>=n&&(a.nearestListId=e.id,n>t&&(a.nearestListId+=a._colLineNum),r=!0)}if((e=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&e.id==a._numItems-1)switch(t=a._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,a._alignCalcType){case 1:o>t&&(a.nearestListId=e.id);break;case 2:s<t&&(a.nearestListId=e.id);break;case 3:n<t&&(a.nearestListId=e.id);break;case 4:i>t&&(a.nearestListId=e.id)}},t.prototype.prePage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,e)},t.prototype.nextPage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,e)},t.prototype.skipPage=function(e,t){var i=this;if(i.checkInited())return i._slideMode!=r.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=i._numItems||i.curPageNum!=e&&(i.curPageNum=e,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],e),i.scrollTo(e,t)))},t.prototype.calcCustomSize=function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var i=cc.instantiate(t._itemTmp);t.content.addChild(i);for(var o=0;o<e;o++)cc.Component.EventHandler.emitEvents([t.renderEvent],i,o),i.height==t._itemSize.height&&i.width==t._itemSize.width||(t._customSize[o]=t._sizeType?i.height:i.width);return Object.keys(t._customSize).length||(t._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),t._customSize}},s([h({type:cc.Enum(a),tooltip:!1})],t.prototype,"templateType",void 0),s([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],t.prototype,"tmpNode",void 0),s([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],t.prototype,"tmpPrefab",void 0),s([h()],t.prototype,"_slideMode",void 0),s([h({type:cc.Enum(r),tooltip:!1})],t.prototype,"slideMode",null),s([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==r.PAGE}})],t.prototype,"pageDistance",void 0),s([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==r.PAGE}})],t.prototype,"pageChangeEvent",void 0),s([h()],t.prototype,"_virtual",void 0),s([h({type:cc.Boolean,tooltip:!1})],t.prototype,"virtual",null),s([h({tooltip:!1,visible:function(){var e=this.slideMode==r.NORMAL;return e||(this.cyclic=!1),e}})],t.prototype,"cyclic",void 0),s([h({tooltip:!1,visible:function(){return this.virtual}})],t.prototype,"lackCenter",void 0),s([h({tooltip:!1,visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}})],t.prototype,"lackSlide",void 0),s([h({type:cc.Integer})],t.prototype,"_updateRate",void 0),s([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],t.prototype,"updateRate",null),s([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],t.prototype,"frameByFrameRenderNum",void 0),s([h({type:cc.Component.EventHandler,tooltip:!1})],t.prototype,"renderEvent",void 0),s([h({type:cc.Enum(c),tooltip:!1})],t.prototype,"selectedMode",void 0),s([h({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],t.prototype,"repeatEventSingle",void 0),s([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],t.prototype,"selectedEvent",void 0),s([h({serializable:!1})],t.prototype,"_numItems",void 0),s([u,d(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),f(cc.ScrollView),_(-5e3)],t)}(cc.Component);i.default=m,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./ListItem":"ListItem"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var i=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?i.t(this.dataID)&&(this.label.string=i.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var i=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:i}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],LogOutView:[function(e,t,i){"use strict";cc._RF.push(t,"97b23Mof7ZKYoQSZIRxxMNL","LogOutView");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.content=null,t.logLabel=null,t.logArray=[],t.clearBtn=null,t.showLogViewBtn=null,t.hideLogViewBtn=null,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group);var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.7:cc.winSize.width/1080,this.node.scale=e},t.prototype.start=function(){var e=this;this.initUi(),this.initListener(),this.initData(),this.schedule(function(){e.showLog()},0)},t.prototype.initUi=function(){this.scrollView=this.node.getChildByName("ScrollView").getComponent(cc.ScrollView),this.showLogViewBtn=this.node.getChildByName("BtnShowLogView"),this.hideLogViewBtn=this.node.getChildByName("BtnHideLogView"),this.clearBtn=this.node.getChildByName("BtnClearLog"),this.content=this.scrollView.content,this.logLabel=this.content.children[0],this.content.removeAllChildren()},t.prototype.addLog=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o="";o+=e,t.forEach(function(e){o+=","+e}),this.logArray.push(o)},t.prototype.showLog=function(){var e=this;if(this.logArray.length>0){var t=this.logArray;this.logArray=[],t.forEach(function(t){var i=cc.instantiate(e.logLabel);i.getComponent(cc.Label).string="\u65e5\u5fd7\u8f93\u51fa\uff1a"+t,e.content.addChild(i)})}},t.prototype.initListener=function(){},t.prototype.initData=function(){},t.prototype.onShowLogView=function(){this.scrollView.node.active=!0,this.clearBtn.active=!0,this.showLogViewBtn.active=!1,this.hideLogViewBtn.active=!0},t.prototype.onHideLogView=function(){this.scrollView.node.active=!1,this.clearBtn.active=!1,this.showLogViewBtn.active=!0,this.hideLogViewBtn.active=!1},t.prototype.clearLogView=function(){this.content.removeAllChildren()},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],LuckBoxPannel:[function(e,t,i){"use strict";cc._RF.push(t,"3251aCuG7ZC+oEceDfuKFcK","LuckBoxPannel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./AldUtils"),l=e("./PlatUtils"),u=cc._decorator,h=u.ccclass,d=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showVideoBtn=null,t.clickBtn=null,t.btnLabel=null,t.panel=null,t.videoIcon=null,t.progressBar=null,t.boxNode=null,t.rewardCallFunc=null,t.rewardValue=0,t._luck_box_ad_type="1",t._delay_show_btn_time=0,t._luck_box_progressbar_back_time=1e3,t._showAdProgress=.8,t._openSlowDown=!1,t._timetaskId=0,t._cancelSlowDown=!1,t._slowDownSpeed=.2,t._progresss=0,t._totalProgress=5,t._isShowAd=!1,t._videoIsPlay=!1,t}return n(t,e),t.prototype.onLoad=function(){var e=this;a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this.rewardCallFunc=a.utils.rewardCallFunc,this.rewardValue=a.utils.rewardValue,this.panel.scale=0,a.utils.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u663e\u793a\u6210\u529f\uff01"),this.clickBtn.on(cc.Node.EventType.TOUCH_CANCEL,this.clickBtnTouchCancel.bind(this)),this.clickBtn.on(cc.Node.EventType.TOUCH_END,this.clickBtnTouchCancel.bind(this)),this.progressBar.progress=0,this.btnLabel.node.opacity=0,this.btnLabel.node.active=!1,a.utils.luckBoxShowCount++;var t=a.utils.ServerConfig.luck_box_ad_type?a.utils.ServerConfig.luck_box_ad_type.split(","):this._luck_box_ad_type,i=a.utils.ServerConfig.luck_box_close_btn_show_delay?a.utils.ServerConfig.luck_box_close_btn_show_delay.split(","):this._delay_show_btn_time,o=a.utils.ServerConfig.luck_box_progressbar_back_time?a.utils.ServerConfig.luck_box_progressbar_back_time.split(","):this._luck_box_progressbar_back_time;if(a.utils.luckBoxShowCount>t.length-1&&(a.utils.luckBoxShowCount=0),a.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u663e\u793a\u6b21\u6570\uff1a"+a.utils.luckBoxShowCount),this._luck_box_ad_type=t[a.utils.luckBoxShowCount],this._delay_show_btn_time=i[a.utils.luckBoxShowCount],this._luck_box_progressbar_back_time=o[a.utils.luckBoxShowCount],a.utils.ServerConfig.luck_box_show_ad_progress_percent){var n=a.utils.ServerConfig.luck_box_show_ad_progress_percent.split(",");this._showAdProgress=n[a.utils.luckBoxShowCount]}else switch(this._luck_box_ad_type){case"1":case"5":this._showAdProgress=.45;break;case"2":this._showAdProgress=.3;break;case"3":case"4":this._showAdProgress=.85;break;default:this._showAdProgress=.45}a.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u663e\u793a\u7c7b\u578b\uff1a"+this._luck_box_ad_type+" #showBtnTime="+this._delay_show_btn_time+" #progressbarBackTime="+this._luck_box_progressbar_back_time),"4"!=this._luck_box_ad_type&&this.scheduleOnce(function(){e.btnLabel.node&&cc.isValid(e.btnLabel.node)&&(e.btnLabel.node.active=!0,e.btnLabel.node.runAction(cc.fadeIn(.3)))},this._delay_show_btn_time),a.utils.ServerConfig.luck_box_video_icon_is_show&&"true"==a.utils.ServerConfig.luck_box_video_icon_is_show?this.videoIcon.active=!0:this.videoIcon.active=!1,"1"==this._luck_box_ad_type?(a.utils.adManager.HideBanner(r.BannerLocation.Game),l.default.IsIOS&&l.default.IsQQ&&this.scheduleOnce(function(){e.clickBtn&&cc.isValid(e.clickBtn)&&e.clickBtn.setPosition(e.clickBtn.x,e.progressBar.node.position.y-200)},10)):(this.clickBtn.getComponent(cc.Widget).isAlignBottom=!1,this.clickBtn.getComponent(cc.Widget).updateAlignment(),this.clickBtn.setPosition(this.clickBtn.x,this.progressBar.node.position.y-200))},t.prototype.clickBtnTouchCancel=function(){var e=this;clearTimeout(this._timetaskId),this._timetaskId=setTimeout(function(){e._openSlowDown=!0},1e3*this._luck_box_progressbar_back_time)},t.prototype.update=function(e){this.progressBar.progress>0&&this.progressBar.progress<1&&this._openSlowDown&&!this._cancelSlowDown&&(this.progressBar.progress-=e*this._slowDownSpeed,this.progressBar.progress<=0&&(this.progressBar.progress=0))},t.prototype.onEnable=function(){var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.6:cc.winSize.width/1080,this.panel.scale=e},t.prototype.onDestroy=function(){a.utils.adManager.HideBanner(r.BannerLocation.Game),a.utils.hideRecommendGamesBanner(),a.utils.rewardLuckBoxPanelCloseFunc?(a.utils.rewardLuckBoxPanelCloseFunc(),a.utils.rewardBoxPanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null)},t.prototype.onClose=function(){var e=this;this.panel.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onBtnClick=function(){var e=this;if(this._openSlowDown=!1,this.progressBar.progress<1&&(this.progressBar.progress+=.1,this.progressBar.progress>=1&&(this.progressBar.progress=1,this.openLuckBox())),this.videoIcon.active&&!this._videoIsPlay&&(this._videoIsPlay=!0,a.utils.adManager.ShowVideo(function(t,i){var o;l.default.IsDouyin?t?(a.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +"+e.rewardValue),(o=new r.YZ_Reward).rewardValue=e.rewardValue,e.rewardCallFunc&&e.rewardCallFunc(o),e.onClose()):(e._videoIsPlay=!1,a.utils.showMsg(i||"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01")):(a.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +"+e.rewardValue),(o=new r.YZ_Reward).rewardValue=e.rewardValue,e.rewardCallFunc&&e.rewardCallFunc(o),e.onClose())})),this.progressBar.progress>=this._showAdProgress&&!this._isShowAd)switch(this._isShowAd=!0,this._luck_box_ad_type){case"1":a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-banner\u5e7f\u544a\uff01"),a.utils.adManager.ShowBanner(r.BannerLocation.Game),setTimeout(function(){e.clickBtn&&cc.isValid(e.clickBtn)&&e.clickBtn.setPosition(e.clickBtn.x,e.progressBar.node.position.y-200)},900);break;case"2":a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u63d2\u5c4f\u5e7f\u544a\uff01"),a.utils.adManager.ShowInterstitial();break;case"3":a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u76d2\u5b50\u5e7f\u544a\uff01"),a.utils.adManager.ShowAppBox();break;case"4":a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u89c6\u9891\u5e7f\u544a\uff01"),this.videoIcon.active=!0,this._cancelSlowDown=!0,this.scheduleOnce(function(){e.btnLabel.node&&cc.isValid(e.btnLabel.node)&&(e.btnLabel.node.active=!0,e.btnLabel.node.runAction(cc.fadeIn(.3)))},this._delay_show_btn_time);break;case"5":a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u4e92\u63a8banner\u5e7f\u544a\uff01"),a.utils.showRecommendGamesBanner();break;default:a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793abanner\u5e7f\u544a\uff01"),a.utils.adManager.ShowBanner(r.BannerLocation.Game),setTimeout(function(){e.clickBtn&&cc.isValid(e.clickBtn)&&e.clickBtn.setPosition(e.clickBtn.x,e.progressBar.node.position.y-200)},500)}},t.prototype.openLuckBox=function(){if("true"==a.utils.ServerConfig.luck_box_play_video)this.onPlayVideo(),this.onClose();else{a.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +"+this.rewardValue);var e=new r.YZ_Reward;e.rewardValue=this.rewardValue,this.rewardCallFunc&&this.rewardCallFunc(e),this.onClose()}},t.prototype.onHideBtn=function(){this.onClose()},t.prototype.onPlayVideo=function(){var e=this;a.utils.adManager.ShowVideo(function(t){t?(a.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +"+e.rewardValue),e.rewardValue=e.rewardValue,c.default.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u83b7\u53d6\u5956\u52b1\u6210\u529f\uff01")):(a.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +"+e.rewardValue),c.default.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01"));var i=new r.YZ_Reward;i.rewardValue=e.rewardValue,e.rewardCallFunc&&e.rewardCallFunc(i),e.onClose()})},s([d(cc.Node)],t.prototype,"showVideoBtn",void 0),s([d(cc.Node)],t.prototype,"clickBtn",void 0),s([d(cc.Label)],t.prototype,"btnLabel",void 0),s([d(cc.Node)],t.prototype,"panel",void 0),s([d(cc.Node)],t.prototype,"videoIcon",void 0),s([d(cc.ProgressBar)],t.prototype,"progressBar",void 0),s([d(cc.Node)],t.prototype,"boxNode",void 0),s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./AldUtils":"AldUtils","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],MoreGamesPanel1:[function(e,t,i){"use strict";cc._RF.push(t,"92ac1akrqlDIJvoROkqJAWr","MoreGamesPanel1");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./GameItem"),r=e("./YZ_Constant"),c=e("./Utils"),l=e("./List"),u=cc._decorator,h=u.ccclass,d=(u.property,cc.size(225,1e3),cc.size(506,1e3),cc.size(111,54),cc.size(275,54),cc.size(376,104),cc.size(545,104),cc.size(251,89),cc.size(425,89),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._gameList=null,t._originScale=1,t._gameItems=[],t._jumpList=null,t._dataDirty=!1,t._closeBtnRight=null,t._closeBtnLine=null,t._title=null,t._titleBg=null,t._star=null,t.gameItemNode=null,t.listView=null,t.autoScorll=!1,t}return n(t,e),t.prototype.onLoad=function(){c.utils.otherConfig&&c.utils.otherConfig.group&&(this.node.group=c.utils.otherConfig.group),this._panel=this.node.getChildByName("Panel"),this.listView=this._panel.getChildByName("GameList").getComponent(l.default),this._closeBtnRight=this._panel.getChildByName("Btn_Close"),this._closeBtnRight.active=!0,this._closeBtnLine=this._panel.getChildByName("Btn_CloseSide"),this._closeBtnLine.active=!1,this._titleBg=cc.find("Title/TitleBg",this._panel),this._title=cc.find("Title/Txt",this._panel),this._star=cc.find("Title/Star",this._panel),this.node.active=!1;var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.5:cc.winSize.width/1080,this._panel.scale=e,this._originScale=this._panel.scale},t.prototype.update=function(e){this.autoScorll&&!this.listView.scrollView.isScrolling()&&(this.listView.content.y+=100*e,this.listView._onScrolling())},t.prototype.onListRender=function(e,t){e.getComponent(a.default).init(this._jumpList[t],r.SubLocation.isMoreGame)},t.prototype._initWidget=function(){var e=this;this._jumpList.length>5&&(c.utils.ServerConfig.more_game_pannel_auto_scroll&&"false"==c.utils.ServerConfig.more_game_pannel_auto_scroll?c.utils.showLog("\u670d\u52a1\u5668\u4e0d\u5f00\u542f\u81ea\u52a8\u6eda\u52a8\uff01"):this.scheduleOnce(function(){e.autoScorll=!0},1)),c.utils.postRecommentShowData(r.SubLocation.isMoreGame)},t.prototype.init=function(e){this._jumpList=e,this._dataDirty=!0,this._jumpList&&this._jumpList.length>0?(this._initWidget(),this.listView.numItems=this._jumpList.length):(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!"),this.node.destroy())},t.prototype.show=function(){this.node.active=!0,this._panel.y=0,this._panel.runAction(cc.moveBy(.3,cc.v2(this._panel.getContentSize().width,0)).easing(cc.easeQuadraticActionOut()))},t.prototype.hide=function(){var e=this;this._panel.runAction(cc.sequence(cc.moveBy(.3,cc.v2(-this._panel.getContentSize().width,0)).easing(cc.easeQuadraticActionOut()),cc.callFunc(function(){e.node.active=!1})))},t.prototype.onCloseBtnHandler=function(){this.hide()},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./GameItem":"GameItem","./List":"List","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],MoreGamesPanel:[function(e,t,i){"use strict";cc._RF.push(t,"369d4RM2rtPj4bmcA3rMp3j","MoreGamesPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,cc.size(225,1e3),cc.size(506,1e3),cc.size(111,54),cc.size(275,54),cc.size(376,104),cc.size(545,104),cc.size(251,89),cc.size(425,89),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._gameList=null,t._originScale=1,t._gameItems=[],t._jumpList=null,t._dataDirty=!1,t._closeBtnRight=null,t._closeBtnLine=null,t._star=null,t._items=[],t.gameItemNode=null,t._location=r.SubLocation.isMoreGame,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),c.default.IsNativeAndroid||a.utils.adManager.HideBanner(r.BannerLocation.Home),this._panel=this.node.getChildByName("Panel"),this._gameList=this._panel.getChildByName("GameScrollView").getComponent(cc.ScrollView).content,this.gameItemNode=this._gameList.children[0],this._gameList.removeAllChildren(),this.node.active=!1;var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.5:cc.winSize.width/1080,this._panel.scale=e,this._originScale=this._panel.scale},t.prototype._initWidget=function(){this._gameList.removeAllChildren();for(var e=3*Math.floor(this._jumpList.length/3),t=0;t<e;t++){var i=this._jumpList[t];if(i&&i.logo){var o=cc.instantiate(this.gameItemNode),n=o.getComponent("QCrossWidgetItem");n._location=this._location,n.init(i),this._gameList.addChild(o)}}},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this._updatePanel())},t.prototype._updatePanel=function(){a.utils.postRecommentShowData(this._location),this._initWidget()},t.prototype.init=function(e){this._jumpList=e,this._dataDirty=!0},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},t.prototype.onCloseBtnHandler=function(){this.hide()},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],MoreGamesWidget:[function(e,t,i){"use strict";cc._RF.push(t,"455abMBsJVHMI9HxToE4F67","MoreGamesWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./AldUtils"),l=e("./CompatibleTool"),u=e("./YZ_Constant"),h=cc._decorator,d=h.ccclass,p=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.prefab1=null,t.btnMoreGames=null,t.moreGamesPanel=null,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.btnMoreGames=this.node.getChildByName("Btn_MoreGames"),this.btnMoreGames.active=!1;var t,i=this,o=this.btnMoreGames.getChildByName("Background").getComponent(cc.Sprite);a.utils.ServerConfig?t=a.utils.ServerConfig.more_game_icon:cc.warn("\u6ca1\u6709\u670d\u52a1\u5668\u914d\u7f6e"),t&&!this.bgTexture&&l.default.LoadRes(t,function(t,n){if(!t&&cc.isValid(e)&&o.node){var s=o.node.getContentSize();i.bgTexture=new cc.SpriteFrame(n),o.spriteFrame=i.bgTexture,o.node.setContentSize(s)}})},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._setBtnVisible()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._setBtnVisible=function(){var e=!0;if(a.utils.isShowMoreGamesWidget())if(r.default.IsQQ)this.btnMoreGames.active=!0;else if(r.default.Is4399)this.btnMoreGames.active=!0;else if(r.default.IsNativeAndroid&&a.utils.Tool_Native&&"oppo"==a.utils.config.nativeAndroidConfig.channel)this.btnMoreGames.active=!0;else if(a.utils.ServerConfig.show_oppo_rec&&"true"==a.utils.ServerConfig.show_oppo_rec)this.btnMoreGames.active=!0;else{var t=a.utils.getRecommondGameList();t?t.length>0?this.btnMoreGames.active=!0:(cc.warn("\b\b\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5217\u8868\u957f\u5ea6\u4e3a0, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!"),e=!1):(cc.warn("\b\b\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5217\u8868\u6570\u636e\u4e3anull, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!"),e=!1)}else e=!1;e||this.node.destroy()},t.prototype.onBtnClickedHandler=function(){if(r.default.IsQQ)a.utils.adManager.ShowAppBox(!0);else if(r.default.Is4399)a.utils.Tool_4399.showRecommend();else if(r.default.IsNativeAndroid&&a.utils.Tool_Native&&1==a.utils.Tool_Native.moreGameShowType)a.utils.Tool_Native.showMoreGames(),a.utils.postDataByLocation("123",u.SubLocation.isMoreGame,0);else if(r.default.IsDouyin)a.utils.Tool_Douyin.showMoreGamesModal();else{if(a.utils.ServerConfig.show_oppo_rec&&"true"==a.utils.ServerConfig.show_oppo_rec)return a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01"),void a.utils.oppoTool.showOppoGamePortal();var e=a.utils.getRecommondGameList();if(e&&e.length>0){a.utils.showLog("MoreGamePanel \u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:",JSON.stringify(e));var t=void 0;2==a.utils.ServerConfig.more_game_skin?((t=cc.instantiate(this.prefab1)).zIndex=999999,this.moreGamesPanel=t.getComponent("MoreGamesPanel1")):((t=cc.instantiate(this.prefab)).zIndex=999999,this.moreGamesPanel=t.getComponent("MoreGamesPanel")),cc.director.getScene().addChild(t),this.moreGamesPanel._location=u.SubLocation.isMoreGame,this.moreGamesPanel.init(e),this.moreGamesPanel.show(),c.default.SendEvent("\u70b9\u51fb\u66f4\u591a\u6e38\u620f\u6309\u94ae")}else a.utils.showLog("\u83b7\u53d6\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5931\u8d25!")}},s([p(cc.Prefab)],t.prototype,"prefab",void 0),s([p(cc.Prefab)],t.prototype,"prefab1",void 0),s([d],t)}(cc.Component);i.default=_,cc._RF.pop()},{"./AldUtils":"AldUtils","./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],Msg:[function(e,t,i){"use strict";cc._RF.push(t,"b942cZiiK1H/oXLv3KFwjp+","Msg"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./CocosZ"),n=function(){function e(){}return e.Show=function(t){var i=o.cocosz.resMgr.getRes("TipsPanel",cc.Prefab);if(i){var n=cc.instantiate(i);if(n.group="ui",n){n.position=cc.v3(cc.winSize.width/2,cc.winSize.height/2+300),cc.director.getScene().addChild(n,1e4),cc.find("label",n).getComponent(cc.Label).string=t,n.scale=0;var s=cc.tween(n);s.to(.25,{scale:1},{easing:"backOut"}),s.delay(2),s.to(.25,{scale:0},{easing:"backIn"}),s.call(function(){n.destroy()}),s.start();for(var a=e.tipList.length-1;a>=0;a--)e.tipList[a].isValid?e.tipList[a].y+=120:e.tipList.splice(a,1);e.tipList.push(n)}}else cc.log("\u63d0\u793a\u9762\u677f\u663e\u793a\u5931\u8d25!")},e.isShow=!1,e.isTouch=!1,e.tipList=[],e}();i.default=n,cc._RF.pop()},{"./CocosZ":"CocosZ"}],NativeTryGameNode:[function(e,t,i){"use strict";cc._RF.push(t,"c237blrR8tFb7rQ6ElVARTM","NativeTryGameNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./NativeTryGamesWidget"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=null,t._icon=null,t._nameLabel=null,t._gameJumpInterval=-1,t._jumpInfo=null,t._index=-1,t._jumping=!1,t._isFirst=!1,t._mask=null,t}return n(t,e),t.prototype.onLoad=function(){this._icon=cc.find("Mask/Icon",this.node).getComponent(cc.Sprite),this._mask=cc.find("Mask",this.node)},t.prototype.init=function(e){this._data=e,a.utils.showLog("\u539f\u751f\u6296\u52a8Node"),this._data?(this._jumpInfo=this._data.jump_list,this._gameJumpInterval=this._data.jump_refresh_time,this._isFirst=!0,this.node.active=!0,r.default.IsHuaWei&&(this.node.getChildByName("source").getComponent(cc.Label).string=this._jumpInfo[this._index].date[0].source?this._jumpInfo[this._index].date[0].source:"")):this.node.active=!1},t.prototype.showNextItem=function(){this.unscheduleAllCallbacks(),this.jump(),this.schedule(this.jump,this._gameJumpInterval)},t.prototype.onEnable=function(){var e=this;this.jump(),this.schedule(this.jump,this._gameJumpInterval),this.node.on(cc.Node.EventType.TOUCH_START,function(){if(0!=e.node.opacity){var t=e._jumpInfo[e._index].tryGameAd,i=e._jumpInfo[e._index].date[0].adId;t&&(t.reportAdClick({adId:i}),a.utils.showLog("\u6296\u52a8\u8bd5\u73a9\u4e0a\u62a5tryGameAd:"+JSON.stringify(t)+"adid:"+i)),a.utils.nativeNeedChange=!0,a.utils.tryGameDate.splice(e._index,1),a.utils._nativeTryGameNode&&a.utils._nativeTryGameNode.getComponent(c.default).init()}},this)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this)},t.prototype.jump=function(){var e=this;if(!this._jumping){this._jumping=!0,this._index=this._index+1,this._index>=this._jumpInfo.length&&(this._index=0);var t=this._icon.node.getContentSize();if(this._jumpInfo[this._index]){var i=r.default.IsOPPO?this._jumpInfo[this._index].date[0].iconUrlList[0]:this._jumpInfo[this._index].date[0].icon;i&&!r.default.IsHuaWei||(i=this._jumpInfo[this._index].date[0].imgUrlList[0]),l.default.LoadRes(i,function(i,o){!i&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(o),e._icon.node.setContentSize(t),e._isFirst&&(a.utils.showLog("\u5f53\u524d\u8bd5\u73a9\u7b2c\u4e00\u6b21\u52a0\u8f7d\uff01\uff01\uff01\uff01\uff01"),e._mask.active=!0,e._isFirst=!1)),e._jumping=!1});var o=this._jumpInfo[this._index].tryGameAd,n=this._jumpInfo[this._index].date[0].adId;o&&!o.isReportShow&&(o.reportAdShow({adId:n}),o.isReportShow=!0)}else this._jumping=!1;0==this.node.opacity&&(this.node.opacity=255)}},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./NativeTryGamesWidget":"NativeTryGamesWidget","./PlatUtils":"PlatUtils","./Utils":"Utils"}],NativeTryGamesWidget:[function(e,t,i){"use strict";cc._RF.push(t,"932f9ROnk9AN7mC5qMygyf7","NativeTryGamesWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tryGameNode=null,t._btnClose=null,t}return n(t,e),t.prototype.onLoad=function(){this._tryGameNode=this.getComponentInChildren("NativeTryGameNode"),this._tryGameNode.node.active=!1,this._btnClose=this._tryGameNode.node.getChildByName("BtnClose")},t.prototype.init=function(){if(this._tryGameNode||(this._tryGameNode=this.getComponentInChildren("NativeTryGameNode"),this._btnClose=this._tryGameNode.node.getChildByName("BtnClose")),a.utils.isShowNativeTryGamesWidget()){var e=!0;a.utils.tryGameDate?a.utils.tryGameDate.length<=0&&(cc.warn("res\u7684\u957f\u5ea6\u4e0d\u5408\u6cd5\uff01"),e=!1):(cc.warn("res\u4e0d\u5b58\u5728\uff01"),e=!1),a.utils.showLog("\u539f\u751f\u6296\u52a8dataValid\uff1a"+e),e?(a.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:",JSON.stringify(a.utils.tryGameDate)),this._tryGameNode.init({jump_refresh_time:a.utils.ServerConfig.icon_jump_native,jump_list:a.utils.tryGameDate}),this._tryGameNode.node.active=!0,r.default.IsHuaWei&&(a.utils.showLog("\u534e\u4e3a\u5e73\u53f0\uff0c\u663e\u793a\u5173\u95ed\u6309\u94ae>>>>>"),this._btnClose.active=!0)):this._tryGameNode.node.active=!1}else this._tryGameNode.node.active=!1},t.prototype.close=function(){this._tryGameNode.node.opacity=0},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],OpenRedBagPanel:[function(e,t,i){"use strict";cc._RF.push(t,"adbe7B8cB1B7Y2iqH4nM4BD","OpenRedBagPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._moneyLbl=null,t._totalMoneyLbl=null,t._openPanel=null,t._rewardPanel=null,t._btnOpen=null,t._redBagInfo=null,t._btnClose=null,t._btnVideoOpen=null,t._title=null,t._btnDouble=null,t._proInfo=null,t._money=0,t._canShowVideoOpen=!1,t._show_type=1,t}return n(t,e),t.prototype.onLoad=function(){var e=this;a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),c.default.IsNativeAndroid||a.utils.adManager.HideBanner(r.BannerLocation.Home),this._panel=this.node.getChildByName("Panel"),this._openPanel=this._panel.getChildByName("onOpenPanel"),this._openPanel.setScale(.5),this._openPanel.runAction(cc.scaleTo(.3,1)),this._rewardPanel=this._panel.getChildByName("rewardPanel"),this._btnOpen=this._openPanel.getChildByName("btnOpen"),this._btnClose=this._panel.getChildByName("btnClose"),this._btnVideoOpen=this._btnOpen.getChildByName("btn_openVideo"),this._title=this._openPanel.getChildByName("title"),this._totalMoneyLbl=this._rewardPanel.getChildByName("totalMoneyLabel").getComponent(cc.Label),this._moneyLbl=this._rewardPanel.getChildByName("moneyLbl").getComponent(cc.Label),this._btnDouble=this._rewardPanel.getChildByName("btnDouble"),setTimeout(function(){e._btnOpen.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1))))},500),this._redBagInfo=a.utils.yzRedBagInfo,this._proInfo=a.utils.yzRedBagInfo.curProgressInfo;var t;t=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.5:cc.winSize.width/1080,this._panel.scale=t,this.init()},t.prototype.openRedBag=function(){var e=this;if(!(this._redBagInfo.progress<this._redBagInfo.totalProgress&&!this._redBagInfo.isFreeRedBag&&this._redBagInfo.freeRedBagCount<=0)){this._btnClose.opacity=0,this._btnClose.active=!0;var t=a.utils.ServerConfig.red_bag_close_btn_show_delay?a.utils.ServerConfig.red_bag_close_btn_show_delay:0;setTimeout(function(){a.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a "+t+"\u79d2\u663e\u793a\uff01"),e._btnClose.runAction(cc.fadeIn(.3))},1e3*t),setTimeout(function(){e._btnDouble.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1))))},500),this._canShowVideoOpen?a.utils.adManager.ShowVideo(function(t,i){t?(a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u62c6\u7ea2\u5305\u6210\u529f\uff01"),e.scheduleOnce(function(){e.showRedBag()})):(e._btnClose.runAction(cc.fadeIn(.3)),a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u62c6\u7ea2\u5305\u5931\u8d25\uff01"),a.utils.showMsg(i||"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01"))}):this.showRedBag()}},t.prototype.showRedBag=function(){var e,t=this,i=this._proInfo;cc.log("proInfo ",JSON.stringify(i)),e=parseFloat((Math.random()*(i.max_money-i.min_money)+i.min_money).toFixed(3)),cc.log("\u7ea2\u5305\u91d1\u989d\uff1a"+e),this._money=e,this._redBagInfo.balance=parseFloat((this._redBagInfo.balance+e).toFixed(3)),this._redBagInfo.isFreeRedBag&&1==this._show_type&&(this._redBagInfo.lastOpenFreeRedBagTime=(new Date).toDateString()),2==this._show_type&&(this._redBagInfo.progress-=this._redBagInfo.totalProgress),this._redBagInfo.totalMoney=parseFloat((this._redBagInfo.totalMoney+e).toFixed(3)),this._moneyLbl.string="\xa5"+e+"\u5143",this._totalMoneyLbl.string="\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1"+this._redBagInfo.totalMoney+"\u5143",this._rewardPanel.scaleX=0,this._rewardPanel.active=!0,this._openPanel.runAction(cc.sequence(cc.scaleTo(.3,0,1),cc.callFunc(function(){t._openPanel.active=!1,t._rewardPanel.runAction(cc.sequence(cc.scaleTo(.3,1),cc.callFunc(function(){})))}))),a.utils.currentLevel>parseInt(this._redBagInfo.lastOpenLevel)&&2==this._show_type&&(this._redBagInfo.lastOpenLevel=a.utils.currentLevel.toString())},t.prototype.onBtnDoubleMoney=function(e){var t=this;a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u89c6\u9891\u53cc\u500d\u9886\u53d6"),a.utils.adManager.ShowVideo(function(i,o){i?(t._redBagInfo.balance=parseFloat((t._redBagInfo.balance+t._money).toFixed(3)),t._redBagInfo.totalMoney=parseFloat((t._redBagInfo.totalMoney+t._money).toFixed(3)),t._totalMoneyLbl.string="\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1"+t._redBagInfo.totalMoney+"\u5143",a.utils.showMsg("\u9886\u53d6\u53cc\u500d\u7ea2\u5305\u6210\u529f\uff01"),a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u53cc\u500d\u9886\u53d6\u6210\u529f"),e.target.active=!1):(a.utils.showMsg(o),a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u53cc\u500d\u9886\u53d6\u5931\u8d25"))})},t.prototype.showWithDrawalPanel=function(){a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u63d0\u73b0\u4e0a\u62a5"),a.utils.showWithdrawalPanel()},t.prototype.init=function(){var e=this;if(a.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01"+this._show_type+" :"+this._redBagInfo.isFreeRedBag),this._title.children[0].active=1==this._show_type&&this._redBagInfo.isFreeRedBag,this._title.children[1].active=2==this._show_type,this._title.children[2].active=3==this._show_type,2==this._proInfo.type&&2==this._show_type?(this._canShowVideoOpen=!0,this._btnVideoOpen.active=!0):(this._canShowVideoOpen=!1,this._btnVideoOpen.active=!1),a.utils.ServerConfig.red_bag_open_view_close_btn_show_delay&&a.utils.ServerConfig.red_bag_open_view_close_btn_show_delay>0){this._btnClose.opacity=0;var t=a.utils.ServerConfig.red_bag_open_view_close_btn_show_delay?a.utils.ServerConfig.red_bag_open_view_close_btn_show_delay:0;setTimeout(function(){a.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a "+t+"\u79d2\u663e\u793a\uff01"),e._btnClose.runAction(cc.fadeIn(.3))},1e3*t)}else if(this._redBagInfo.progress<this._redBagInfo.totalProgress&&!this._redBagInfo.isFreeRedBag&&this._redBagInfo.freeRedBagCount<=0){this._btnOpen.children[0].active=!0,this._btnOpen.children[1].getComponent(cc.Button).enableAutoGrayEffect=!0,this._btnClose.opacity=0;var i=a.utils.ServerConfig.red_bag_close_btn_show_delay?a.utils.ServerConfig.red_bag_close_btn_show_delay:0;setTimeout(function(){a.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a "+i+"\u79d2\u663e\u793a\uff01"),e._btnClose.runAction(cc.fadeIn(.3))},1e3*i)}else this._btnClose.active=!1;this._totalMoneyLbl.string="\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1"+this._redBagInfo.totalMoney+"\u5143"},t.prototype.initData=function(e){this._show_type=e},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1,a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc&&(a.utils.rewardCloseFunc=null)},t.prototype.onCloseBtnHandler=function(){this.hide()},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],PlatUtils:[function(e,t,i){"use strict";cc._RF.push(t,"8e57eTF7JlEk4fSovTnBAgF","PlatUtils");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./Utils"),s=cc._decorator,a=s.ccclass,r=(s.property,function(){function e(){}var t;return t=e,Object.defineProperty(e,"IsNativeAndroid",{get:function(){return cc.sys.os==cc.sys.OS_ANDROID&&!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsNativeIOS",{get:function(){return cc.sys.os==cc.sys.OS_IOS&&!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ISUC",{get:function(){return window.uc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ISCocos",{get:function(){return window.loadRuntime&&!this.IsOPPO&&!this.IsVIVO&&!window.kwaigame&&!this.IsWiFi&&!this.IsHuaWei},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroid",{get:function(){return cc.sys.os==cc.sys.OS_ANDROID},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsIOS",{get:function(){return cc.sys.os==cc.sys.OS_IOS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsWechat",{get:function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&!this.IsDouyin&&!this.IsQQ&&!this.IsKwai},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsOPPO",{get:function(){return cc.sys.platform==cc.sys.OPPO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsBaidu",{get:function(){return cc.sys.FB_PLAYABLE_ADS,cc.sys.platform==cc.sys.BAIDU_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsVIVO",{get:function(){return cc.sys.platform==cc.sys.VIVO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsDouyin",{get:function(){return window.tt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsQQ",{get:function(){return window.qq},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsQTT",{get:function(){return window.qttGame},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsXiaoMi",{get:function(){return!(t.IsOPPO||t.IsVIVO||t.IsHuaWei||!window.qg)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Is4399",{get:function(){return window.h5api},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsBili",{get:function(){return window.bl},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsKwai",{get:function(){return"undefined"!=typeof KSGameGlobal},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsWiFi",{get:function(){return window.wuji},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsHago",{get:function(){return window.hg},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsHuaWei",{get:function(){return window.hbs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsTest",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsFaceBook",{get:function(){return void 0!==window.FB||void 0!==window.minigame_sdk},enumerable:!1,configurable:!0}),Object.defineProperty(e,"androidChannel",{get:function(){return n.utils.config&&n.utils.config.nativeAndroidConfig?n.utils.config.nativeAndroidConfig.channel:""},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroidChuanYin",{get:function(){return"chuanyin"==this.androidChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroidOppo",{get:function(){return"oppo"==this.androidChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroidVivo",{get:function(){return"vivo"==this.androidChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroidDouYin",{get:function(){return"douyin"==this.androidChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsAndroidHuaWei",{get:function(){return this.androidChannel.indexOf("huawei")>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsGoogleWeb",{get:function(){return!!window.googleApi},enumerable:!1,configurable:!0}),t=o([a],e)}());i.default=r,cc._RF.pop()},{"./Utils":"Utils"}],QCrossWidget6:[function(e,t,i){"use strict";cc._RF.push(t,"20525Sx+oND2KEXTsMeJ4bb","QCrossWidget6");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./AldUtils"),c=e("./YZ_Constant"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pageView=null,t._pageItem=null,t._pageRecItem=null,t._jumpList=null,t._items=[],t}return n(t,e),t.prototype.onLoad=function(){this._pageView=this.node.getChildByName("PageView").getComponent(cc.PageView),this._pageItem=this._pageView.content.getChildByName("Panel"),this._pageRecItem=this._pageItem.children[0],this._pageView.content.removeAllChildren(),r.default.SendEvent("\u663e\u793a6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6")},t.prototype.start=function(){this._jumpList=a.utils.getRecommondGameList(),this._jumpList&&this._jumpList.length>0?this._initWidget():(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!"),this.node.destroy())},t.prototype._initWidget=function(){var e=Math.ceil(this._jumpList.length/6);a.utils.showLog("qcrosswidget >>> totalPage = "+e);for(var t=0,i=0;i<e;i++){var o=cc.instantiate(this._pageItem);o.removeAllChildren(),this._pageView.addPage(o);for(var n=0;n<6&&this._jumpList[t];n++){var s=cc.instantiate(this._pageRecItem);o.addChild(s),s.getComponent("QCrossWidgetItem")._location=c.SubLocation.isQCross;var r=this._jumpList[t];s.getComponent("QCrossWidgetItem").init(r),t++}}this.autoRefrshPageView()},t.prototype.autoRefrshPageView=function(){var e=this;this.unscheduleAllCallbacks();var t=3;a.utils.ServerConfig&&a.utils.ServerConfig.statement_auto_refresh&&(t=a.utils.ServerConfig.statement_auto_refresh),a.utils.showLog("\u7ed3\u7b97\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6"+t+"\u79d2\u81ea\u52a8\u5237\u65b0"),this.schedule(function(){var t=e._pageView.getPages().length,i=e._pageView.getCurrentPageIndex();0==(i=i<t&&i+1!==t?i+1:0)?e._pageView.scrollToPage(i,0):e._pageView.scrollToPage(i,2)},t)},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./AldUtils":"AldUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],QCrossWidgetItem:[function(e,t,i){"use strict";cc._RF.push(t,"3f5ab/DxFJAZ6TgbVUiQqrS","QCrossWidgetItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./YZ_Constant"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t._sprite=null,t._dataDirty=!1,t._isReward=!1,t._location=null,t}return n(t,e),t.prototype.onLoad=function(){this._sprite=this.node.getComponent(cc.Sprite)},t.prototype.init=function(e){this.data=e,this._dataDirty=!0},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this.updateItem())},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this._onItemClickHandler,this)},t.prototype.onDisable=function(){this.node.targetOff(this)},t.prototype._onItemClickHandler=function(){var e=this;console.log("_onItemClickHandler"),r.default.IsDouyin?a.utils.Tool_Douyin.showMoreGamesModal():(this.data&&this.data.appid&&this._postClickData(this.data.appid),this._location!=c.SubLocation.isReward?this.data.is_jump&&"true"==this.data.is_jump&&this.data.appid?(a.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!",this.data.appid),a.utils.navigateToMiniGame(this.data,function(t){t&&e.data&&e.data.appid&&e._postData(e.data.appid)})):this.data.is_jump&&"false"==this.data.is_jump&&this.data.qr_code?r.default.IsWechat?(a.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!",this.data.qr_code),a.utils.wechatTool.previewImage(this.data.qr_code)):a.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"):(a.utils.showLog("\u6ca1\u6709is_jump\u76f4\u63a5\u8df3\u8f6c!",this.data.appid),this.data.appid&&a.utils.navigateToMiniGame(this.data,function(t){t&&e.data.appid&&e._postData(e.data.appid)})):a.utils.navigateToMiniGame(this.data,function(t){t?(e.data&&e.data.appid&&e._postData(e.data.appid),a.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u8df3\u8f6c\u6210\u529f\uff01\u4e0b\u53d1\u5956\u52b1\uff01"),a.utils.adManager.videoCallBack&&a.utils.adManager.videoCallBack(t),a.utils.adManager.videoCallBack=null):(a.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u8df3\u8f6c\u5931\u8d25\uff01"),a.utils.adManager.videoCallBack&&a.utils.adManager.videoCallBack(!1,"\u83b7\u53d6\u8bd5\u73a9\u5956\u52b1\u5931\u8d25\uff01")),a.utils.adManager.videoCallBack=null,a.utils.adManager.hideRewardInsert()}))},t.prototype.updateItem=function(){var e=this;if(this.data&&this.data.logo){var t=cc.loader.getRes(this.data.logo);if(t){if(cc.isValid(this)&&this._sprite){var i=this.node.getContentSize();this._sprite.spriteFrame=new cc.SpriteFrame(t),this.node.setContentSize(i)}}else l.default.LoadRes(this.data.logo,function(t,i){if(!t&&cc.isValid(e)&&e._sprite){var o=e.node.getContentSize();e._sprite.spriteFrame=new cc.SpriteFrame(i),e.node.setContentSize(o)}})}},t.prototype._postData=function(e){a.utils.postDataByLocation(e,this._location,1)},t.prototype._postClickData=function(e){a.utils.postDataByLocation(e,this._location,0)},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],QEasing:[function(e,t,i){"use strict";cc._RF.push(t,"96829TvMTFNgKlOd5JpyJkO","QEasing");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.EaseType=void 0;var a,r=cc._decorator,c=r.ccclass,l=r.property;(function(e){e[e.none=0]="none",e[e.easeIn=1]="easeIn",e[e.easeOut=2]="easeOut",e[e.easeInOut=3]="easeInOut",e[e.easeExponentialIn=4]="easeExponentialIn",e[e.easeExponentialOut=5]="easeExponentialOut",e[e.easeExponentialInOut=6]="easeExponentialInOut",e[e.easeSineIn=7]="easeSineIn",e[e.easeSineOut=8]="easeSineOut",e[e.easeSineInOut=9]="easeSineInOut",e[e.easeElasticIn=10]="easeElasticIn",e[e.easeElasticOut=11]="easeElasticOut",e[e.easeElasticInOut=12]="easeElasticInOut",e[e.easeBounceIn=13]="easeBounceIn",e[e.easeBounceOut=14]="easeBounceOut",e[e.easeBounceInOut=15]="easeBounceInOut",e[e.easeBackIn=16]="easeBackIn",e[e.easeBackOut=17]="easeBackOut",e[e.easeBackInOut=18]="easeBackInOut",e[e.easeBezierAction=19]="easeBezierAction",e[e.easeQuadraticActionIn=20]="easeQuadraticActionIn",e[e.easeQuadraticActionOut=21]="easeQuadraticActionOut",e[e.easeQuadraticActionInOut=22]="easeQuadraticActionInOut",e[e.easeQuarticActionIn=23]="easeQuarticActionIn",e[e.easeQuarticActionOut=24]="easeQuarticActionOut",e[e.easeQuarticActionInOut=25]="easeQuarticActionInOut",e[e.easeQuinticActionIn=26]="easeQuinticActionIn",e[e.easeQuinticActionOut=27]="easeQuinticActionOut",e[e.easeQuinticActionInOut=28]="easeQuinticActionInOut",e[e.easeCircleActionIn=29]="easeCircleActionIn",e[e.easeCircleActionOut=30]="easeCircleActionOut",e[e.easeCircleActionInOut=31]="easeCircleActionInOut",e[e.easeCubicActionIn=32]="easeCubicActionIn",e[e.easeCubicActionOut=33]="easeCubicActionOut",e[e.easeCubicActionInOut=34]="easeCubicActionInOut"})(a=i.EaseType||(i.EaseType={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.easeType=a.none,t}return n(t,e),t.prototype._getEase=function(){switch(this.easeType){case a.none:return"linear";case a.easeOut:return"easeOut";case a.easeInOut:return"easeInOut";case a.easeExponentialIn:return"easeExponentialIn";case a.easeExponentialOut:return"easeExponentialOut";case a.easeExponentialInOut:return"easeExponentialInOut";case a.easeSineIn:return"sineIn";case a.easeSineOut:return"sineOut";case a.easeSineInOut:return"sineInOut";case a.easeElasticIn:return"elasticIn";case a.easeElasticOut:return"elasticOut";case a.easeElasticInOut:return"elasticInOut";case a.easeBounceIn:return"bounceIn";case a.easeBounceOut:return"bounceOut";case a.easeBackIn:return"backIn";case a.easeBackOut:return"backOut";case a.easeBackInOut:return"backInOut";case a.easeQuadraticActionIn:return"quadraticActionIn";case a.easeQuadraticActionOut:return"quadraticActionOut";case a.easeQuadraticActionInOut:return"quadraticActionInOut";case a.easeQuarticActionIn:return"quarticActionIn";case a.easeQuarticActionOut:return"quarticActionOut";case a.easeQuarticActionInOut:return"quarticActionInOut";case a.easeQuinticActionIn:return"quinticActionIn";case a.easeQuinticActionOut:return"quinticActionOut";case a.easeQuinticActionInOut:return"quinticActionInOut";case a.easeCircleActionIn:return"easeCircleActionIn";case a.easeCircleActionOut:return"circleActionOut";case a.easeCircleActionInOut:return"circleActionInOut";case a.easeCubicActionIn:return"cubicActionIn";case a.easeCubicActionOut:return"cubicActionOut";case a.easeCubicActionInOut:return"cubicActionInOut"}},s([l({type:cc.Enum(a)})],t.prototype,"easeType",void 0),s([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],QMoveAction:[function(e,t,i){"use strict";cc._RF.push(t,"6fc8aO5YvdLWLunFhyStsI8","QMoveAction");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./QEasing"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delay=0,t.delPos=cc.Vec2.ZERO,t.duration=0,t.interval=0,t.loop=!1,t.revert=!1,t._tween=null,t._originPos=cc.Vec3.ZERO,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this._originPos=cc.v3(this.node.x,this.node.y),this.node.position=cc.v3(this._originPos.x-this.delPos.x,this._originPos.y-this.delPos.y);var t=this.getComponent(cc.Widget);t&&(t.enabled=!1);var i=cc.tween().delay(this.delay),o=cc.tween();o.call(function(){e.node.position=cc.v3(e._originPos.x-e.delPos.x,e._originPos.y-e.delPos.y)}),this.revert?(o.by(.5*this.duration,{position:cc.v3(this.delPos.x,this.delPos.y)},{easing:this._getEase()}),o.by(.5*this.duration,{position:cc.v3(-this.delPos.x,-this.delPos.y)},{easing:this._getEase()})):o.by(this.duration,{position:cc.v3(this.delPos.x,this.delPos.y)},{easing:this._getEase()}),o.delay(this.interval),this._tween=cc.tween(this.node),this._tween.then(i),this._tween.then(o),this.loop&&this._tween.repeatForever()},t.prototype.onEnable=function(){this.node.position=cc.v3(this._originPos.x-this.delPos.x,this._originPos.y-this.delPos.y),this._tween.start()},s([l()],t.prototype,"delay",void 0),s([l(cc.Vec2)],t.prototype,"delPos",void 0),s([l()],t.prototype,"duration",void 0),s([l()],t.prototype,"interval",void 0),s([l()],t.prototype,"loop",void 0),s([l()],t.prototype,"revert",void 0),s([c],t)}(a.default);i.default=u,cc._RF.pop()},{"./QEasing":"QEasing"}],QRotation:[function(e,t,i){"use strict";cc._RF.push(t,"71041IFI81OEb+n+xBiAdfv","QRotation");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./QEasing"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delay=0,t.angle=0,t.duration=0,t.loop=!1,t.revert=!1,t._originAngle=0,t._tween=null,t}return n(t,e),t.prototype.onLoad=function(){this._originAngle=this.node.angle;var e=cc.tween().delay(this.delay),t=cc.tween();this.revert?t.by(this.duration/2,{angle:this.angle}).by(this.duration/2,{angle:-this.angle},{easing:this._getEase()}):t.by(this.duration,{angle:this.angle},{easing:this._getEase()}),this._tween=cc.tween(this.node),this._tween.then(e),this._tween.then(t),this.loop&&this._tween.repeatForever()},t.prototype.onEnable=function(){this.node.angle=this._originAngle,this._tween.start()},s([l()],t.prototype,"delay",void 0),s([l({tooltip:"\u521d\u59cb\u89d2\u5ea6\uff0c\u987a\u65f6\u9488\u4e3a\u8d1f\u6570"})],t.prototype,"angle",void 0),s([l()],t.prototype,"duration",void 0),s([l()],t.prototype,"loop",void 0),s([l()],t.prototype,"revert",void 0),s([c],t)}(a.default);i.default=u,cc._RF.pop()},{"./QEasing":"QEasing"}],QScaleAction:[function(e,t,i){"use strict";cc._RF.push(t,"ede9al62i9NEYE1+EQcGsFh","QScaleAction");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./QEasing"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delay=0,t.fromScale=cc.Vec2.ZERO,t.targetScale=cc.Vec2.ZERO,t.duration=0,t.loop=!1,t.revert=!1,t._tween=null,t}return n(t,e),t.prototype.onLoad=function(){this.node.scaleX=this.fromScale.x,this.node.scaleY=this.fromScale.y;var e=cc.tween();e.delay(this.delay);var t=cc.tween();this.revert?(t.to(.5*this.duration,{scaleX:this.targetScale.x,scaleY:this.targetScale.y},{easing:this._getEase()}),t.to(.5*this.duration,{scaleX:this.fromScale.x,scaleY:this.fromScale.y},{easing:this._getEase()})):t.to(this.duration,{scaleX:this.targetScale.x,scaleY:this.targetScale.y},{easing:this._getEase()}),this._tween=cc.tween(this.node),this._tween.then(e),this._tween.then(t),this.loop&&this._tween.repeatForever()},t.prototype.onEnable=function(){this.node.scaleX=this.fromScale.x,this.node.scaleY=this.fromScale.y,this._tween.start()},s([l()],t.prototype,"delay",void 0),s([l()],t.prototype,"fromScale",void 0),s([l(cc.Vec2)],t.prototype,"targetScale",void 0),s([l()],t.prototype,"duration",void 0),s([l()],t.prototype,"loop",void 0),s([l()],t.prototype,"revert",void 0),s([c],t)}(a.default);i.default=u,cc._RF.pop()},{"./QEasing":"QEasing"}],QTween:[function(e,t,i){"use strict";cc._RF.push(t,"05a06upE5xFF5F3p1c1BzPh","QTween");var o,n,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.TweenMess=i.TweenTyep=void 0,function(e){e[e.move=0]="move",e[e.circle=1]="circle",e[e.bezier=2]="bezier",e[e.rotate=3]="rotate",e[e.scale=4]="scale"}(n=i.TweenTyep||(i.TweenTyep={}));var r=cc._decorator,c=r.ccclass,l=r.property,u=function(){function e(){this.tweenType=n.move,this.posList=[cc.v2(0,0)],this.angleV=0,this.actTime=1,this.delayTime=0}return a([l({type:cc.Enum(n)})],e.prototype,"tweenType",void 0),a([l({type:[cc.Vec2]})],e.prototype,"posList",void 0),a([l({visible:function(){return this.tweenType==n.circle||this.tweenType==n.rotate}})],e.prototype,"angleV",void 0),a([l()],e.prototype,"actTime",void 0),a([l()],e.prototype,"delayTime",void 0),a([c("TweenMess")],e)}();i.TweenMess=u;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tweenList=[],t.startNum=0,t.mainTween=null,t.angleConut=0,t.centerPos=cc.v2(0,0),t.isRotate=!1,t}return s(t,e),t.prototype.start=function(){this.creatTween(),this.node.opacity=255},t.prototype.creatTween=function(){var e=this;if(this.mainTween=cc.tween(this.node),!(this.tweenList.length<=0)){for(var t=function(t){var o=i.tweenList[t];o.tweenType==n.move?i.mainTween.to(o.actTime,{position:o.posList[0]}).delay(o.delayTime):o.tweenType==n.bezier?(i.runRotate(),i.mainTween.bezierTo(o.actTime,o.posList[0],o.posList[1],o.posList[2]).delay(o.delayTime)):o.tweenType==n.circle?i.mainTween.call(function(){e.CurAngle=0,e.centerPos=o.posList[0],cc.tween(e).to(o.actTime,{CurAngle:o.angleV*o.actTime}).start()}).delay(o.actTime+o.delayTime):o.tweenType==n.rotate?i.mainTween.by(o.actTime,{angle:o.angleV}):o.tweenType==n.scale&&i.mainTween.to(o.actTime,{scaleX:o.posList[0].x,scaleY:o.posList[0].y}).delay(o.delayTime)},i=this,o=0;o<this.tweenList.length;o++)t(o);this.mainTween.union().repeatForever().start()}},Object.defineProperty(t.prototype,"CurAngle",{get:function(){return this.angleConut},set:function(e){if(Math.abs(this.angleConut-e)<10){var t=cc.v2(this.node.getPosition());t=t.sub(this.centerPos).rotate((e-this.angleConut)/180*Math.PI).add(this.centerPos),this.node.setPosition(t)}this.angleConut=e},enumerable:!1,configurable:!0}),t.prototype.runRotate=function(){var e=this;this.isRotate||(this.isRotate=!0,this.node.x<0?this.schedule(function(){e.node.angle+=3},.01):this.schedule(function(){e.node.angle-=3},.01))},a([l({type:[u]})],t.prototype,"tweenList",void 0),a([c],t)}(cc.Component);i.default=h,cc._RF.pop()},{}],RecommendGamesNode:[function(e,t,i){"use strict";cc._RF.push(t,"b12f97J/i9PlqiR38XzTuyP","RecommendGamesNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.prefab1=null,t.moreGamesPanel=null,t._pageView=null,t._content=null,t._gamePageNode=null,t._dataDirty=!1,t._isContentFilled=!1,t._scrollInterval=3,t._timeTmp=0,t._gameList=null,t.moreGame=null,t}return n(t,e),t.prototype.onLoad=function(){var e=this.node.getChildByName("PageView");this.moreGame=cc.find("bg/BtnMore",this.node),this._pageView=e.getComponent(cc.PageView),this._content=this._pageView.content,this._gamePageNode=this._content.getChildByName("GamePage"),this._content.removeAllChildren()},t.prototype.init=function(e){this._gameList=e,this._gameList&&this._gameList.length>0?this._dataDirty=!0:this.node.active=!1},t.prototype.onEnable=function(){var e=this;this.moreGame.on(cc.Node.EventType.TOUCH_START,function(){if(c.default.IsDouyin)a.utils.Tool_Douyin.showMoreGamesModal();else if(!c.default.IsOPPO||a.utils.ServerConfig.recommend_bar_show_pannel&&"true"==a.utils.ServerConfig.recommend_bar_show_pannel){var t=void 0;2==a.utils.ServerConfig.more_game_skin?((t=cc.instantiate(e.prefab1)).zIndex=999,e.moreGamesPanel=t.getComponent("MoreGamesPanel1")):((t=cc.instantiate(e.prefab)).zIndex=999,e.moreGamesPanel=t.getComponent("MoreGamesPanel")),cc.director.getScene().addChild(t),e.moreGamesPanel._location=r.SubLocation.isScrollbar,e.moreGamesPanel.init(e._gameList),e.moreGamesPanel.show()}else a.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u66f4\u591a\u6e38\u620f\u9762\u677f\uff01")})},t.prototype.onDisable=function(){this.moreGame.targetOff(this)},t.prototype.update=function(){this._dataDirty&&(this._dataDirty=!1,this._updateContent())},t.prototype._updateContent=function(){if(this._gameList){a.utils.postRecommentShowData(r.SubLocation.isScrollbar);for(var e=Math.floor(this._gameList.length/4),t=0,i=0;i<e;i++){for(var o=[],n=0;n<4;n++)o.push(this._gameList[t]),t++;var s=cc.instantiate(this._gamePageNode);s.getComponent("GamePage").init(o),this._pageView.addPage(s)}this._gamePageNode.destroy(),this._isContentFilled=!0,this.autoRefrshPageView()}},t.prototype.autoRefrshPageView=function(){var e=this;this.unscheduleAllCallbacks(),this.schedule(function(){var t=e._pageView.getPages().length,i=e._pageView.getCurrentPageIndex();0==(i=i<t&&i+1!==t?i+1:0)?e._pageView.scrollToPage(i,0):e._pageView.scrollToPage(i,2.5)},3.5)},s([h(cc.Prefab)],t.prototype,"prefab",void 0),s([h(cc.Prefab)],t.prototype,"prefab1",void 0),s([u],t)}(cc.Component);i.default=d,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],RecommendGamesWidget:[function(e,t,i){"use strict";cc._RF.push(t,"e31b1c0YlND25VRQ4r4cdDL","RecommendGamesWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recommendNode=null,t._isInit=!1,t}return n(t,e),t.prototype.onLoad=function(){this._recommendNode=this.getComponentInChildren("RecommendGamesNode"),this._recommendNode.node.active=!1},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._initWidget=function(){if(!this._isInit){var e=!0;if(a.utils.isShowRecommondGamesList()){r.default.IsDouyin&&(a.utils.Tool_Douyin.isShowMoreGamesModal()||this.node.destroy());var t=a.utils.getRecommondGameList();t?t.length>0?(this._isInit=!0,this._recommendNode.init(t),this._recommendNode.node.active=!0):(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0"),e=!1):(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!"),e=!1)}e||this.node.destroy()}},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],RedBagProgressNode:[function(e,t,i){"use strict";cc._RF.push(t,"e9a673D3vhJ67LdUZDWkzQe","RedBagProgressNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressLbl=null,t.progressBar=null,t.tripNode=null,t.tripProgressLbl=null,t._location="default",t}return n(t,e),t.prototype.onLoad=function(){this.progressLbl=this.node.getComponentInChildren(cc.Label),this.progressBar=this.node.getComponentInChildren(cc.ProgressBar),this.tripNode=cc.find("Mask/tripNode",this.node),this.tripNode.opacity=0,this.tripProgressLbl=this.tripNode.getComponentInChildren(cc.Label)},t.prototype.init=function(e){var t=this;e&&e.location&&(this._location=e.location),cc.log("wid s=========="+a.utils.yzRedBagInfo.totalProgress+" pro ="+a.utils.yzRedBagInfo.progress),this.progressBar.progress=a.utils.yzRedBagInfo.progress/a.utils.yzRedBagInfo.totalProgress,this.progressLbl.string=a.utils.yzRedBagInfo.progress+"/"+a.utils.yzRedBagInfo.totalProgress,this.tripProgressLbl.string="\u901a\u8fc7"+a.utils.yzRedBagInfo.totalProgress+"\u5173\u5373\u53ef\u9886\u53d6\u7ea2\u5305",a.utils.yzRedBagInfo.progress>=a.utils.yzRedBagInfo.totalProgress?(cc.find("Mask/Icon/pro_cghb",this.node).active=!1,cc.find("Mask/Icon/pro_full",this.node).active=!0,cc.find("Mask/Icon/pro_full",this.node).stopAllActions(),cc.find("Mask/Icon/pro_full",this.node).runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1))))):(cc.find("Mask/Icon/pro_cghb",this.node).active=!0,cc.find("Mask/Icon/pro_full",this.node).active=!1,cc.find("Mask/Icon/pro_full",this.node).stopAllActions()),setTimeout(function(){t.tripNode&&cc.isValid(t.tripNode)&&t.tripNode.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){t.tripNode&&cc.isValid(t.tripNode)&&t.tripNode.runAction(cc.sequence(cc.delayTime(5),cc.fadeOut(.3)))})))},3e3)},t.prototype.onEnable=function(){var e=this;this.init(),a.utils.SendEvent("\u7ea2\u5305\u8fdb\u5ea6\u6302\u4ef6-"+this._location+"-\u5c55\u793a\u6210\u529f"),cc.game.on("YZ_RED_BAG_PROGRESS_CHANGE",function(){e.init()},this)},t.prototype.showOpenRedBagPanel=function(){a.utils.SendEvent("\u7ea2\u5305\u8fdb\u5ea6\u6302\u4ef6-"+this._location+"-\u70b9\u51fb\u4e0a\u62a5"),a.utils.yzRedBagInfo.progress>=a.utils.yzRedBagInfo.totalProgress?a.utils.showOpenRedBagPanel({showType:2}):a.utils.showMsg("\u518d\u6311\u6218"+(a.utils.yzRedBagInfo.totalProgress-a.utils.yzRedBagInfo.progress)+"\u5173\u5373\u53ef\u9886\u53d6\u73b0\u91d1\u7ea2\u5305")},t.prototype.onDisable=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this),cc.game.targetOff(this)},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],RedBagProgressWidget:[function(e,t,i){"use strict";cc._RF.push(t,"08619NRFCNJ1ZrMhE5AcumI","RedBagProgressWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._redBagProgressNode=null,t._isInit=!1,t._data=null,t}return n(t,e),t.prototype.onLoad=function(){this._redBagProgressNode=this.getComponentInChildren("RedBagProgressNode"),this._redBagProgressNode.node.active=!1},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget()},this)},t.prototype.init=function(e){this._data=e},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._initWidget=function(){this._redBagProgressNode._location=this._data?this._data.location:"default",this._redBagProgressNode.node.active=!0},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],ResMgr:[function(e,t,i){"use strict";cc._RF.push(t,"16b2fTucYZJHKNGhllUA2TP","ResMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./CocosZ"),n=function(){function e(){this._prefabDic={},this._imgDic={},this._atlasDic={},this._audioDic={},this._jsonDic={}}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e,e._inst._init()),e._inst},enumerable:!1,configurable:!0}),e.prototype._init=function(){},e.prototype.cacheCocoszAudio=function(){for(var e=0;e<o.cocosz.audioList.length;e++){var t=o.cocosz.audioList[e];this._cacheRes(t,cc.AudioClip)}o.cocosz.audioList=null},e.prototype.loadRes=function(e,t,i,n){var s=o.cocosz.getBundleWithPath(e);s&&s.load(e,t,function(e,t,o){i&&i(e,t,o)},function(t,i){t&&cc.log("\u52a0\u8f7d\u8d44\u6e90",e,"\u5931\u8d25"),n&&n(t,i)})},e.prototype.loadAndCacheResArray=function(e,t,i,o){for(var n=0;n<e.length;n++)this.loadAndCacheRes(e[n],t,i,o)},e.prototype.loadAndCacheRes=function(e,t,i,n){var s=this,a=e.path?e.path:e,r=o.cocosz.getBundleWithPath(a);r&&r.load(a,t,function(e,t,o){i&&i(e,t,o)},function(e,i){e?cc.log("\u52a0\u8f7d\u7f13\u5b58\u8d44\u6e90",a,"\u5931\u8d25"):s._cacheRes(i,t),n&&n(e,i)})},e.prototype._cacheRes=function(e,t){t==cc.Prefab?this._cachPrefab(e):t==cc.SpriteFrame?this._cachTexture(e):t==cc.SpriteAtlas?this._cachSpriteAtlas(e):t==cc.AudioClip?this._cachAudioClip(e):t==cc.JsonAsset&&this._cachJsonAsset(e)},e.prototype._cachPrefab=function(e){e&&(e.addRef(),this._prefabDic[e.name]=e)},e.prototype._cachTexture=function(e){e&&(e.addRef(),this._imgDic[e.name]=e)},e.prototype._cachSpriteAtlas=function(e){if(e){e.addRef(),this._atlasDic[e.name]=e;for(var t=e.getSpriteFrames(),i=0;i<t.length;i++)this._cachTexture(t[i])}},e.prototype._cachAudioClip=function(e){e&&(e.addRef(),this._audioDic[e.name]=e)},e.prototype._cachJsonAsset=function(e){e&&(e.addRef(),this._jsonDic[e.name]=e)},e.prototype.getRes=function(e,t){switch(t){case cc.Prefab:return this._check(e,this._prefabDic[e]);case cc.SpriteFrame:return this._check(e,this._imgDic[e]);case cc.AudioClip:return this._check(e,this._audioDic[e]);case cc.JsonAsset:return this._check(e,this._jsonDic[e]);default:return cc.log("\u8d44\u6e90\u7c7b\u578b\u4e0d\u5b58\u5728\uff1a"+t),null}},e.prototype._check=function(e,t){return t&&t.isValid?t:(cc.log("\u8d44\u6e90\u4e0d\u5b58\u5728\uff1a"+e),null)},e.prototype.releaseResArray=function(e,t){var i=this;e.forEach(function(e){var o=e.path.split("/").pop();o&&i.releaseSingleRes(o,t)})},e.prototype.releaseSingleRes=function(e,t){switch(t){case cc.Prefab:this._prefabDic[e]&&cc.isValid(this._prefabDic[e])&&(this._prefabDic[e].decRef(),cc.assetManager.releaseAsset(this._prefabDic[e]),this._prefabDic[e]=null);break;case cc.SpriteFrame:this._imgDic[e]&&cc.isValid(this._imgDic[e])&&(this._imgDic[e].decRef(),cc.assetManager.releaseAsset(this._imgDic[e]),this._imgDic[e]=null);break;case cc.SpriteAtlas:this._atlasDic[e]&&cc.isValid(this._atlasDic[e])&&(this._atlasDic[e].decRef(),cc.assetManager.releaseAsset(this._atlasDic[e]),this._atlasDic[e]=null);break;case cc.AudioClip:this._audioDic[e]&&cc.isValid(this._audioDic[e])&&(this._audioDic[e].decRef(),cc.assetManager.releaseAsset(this._audioDic[e]),this._audioDic[e]=null);break;case cc.JsonAsset:this._jsonDic[e]&&cc.isValid(this._jsonDic[e])&&(this._jsonDic[e].decRef(),cc.assetManager.releaseAsset(this._jsonDic[e]),this._jsonDic[e]=null);break;default:cc.log("\u91ca\u653e\u8d44\u6e90\u7684\u7c7b\u578b\u51fa\u9519")}},e}();i.default=n,cc._RF.pop()},{"./CocosZ":"CocosZ"}],RewardBoxPanel:[function(e,t,i){"use strict";cc._RF.push(t,"6f2019z6ZxHbL/eZ03jZOQ0","RewardBoxPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./AldUtils"),l=e("./PlatUtils"),u=e("./YZ_LocalStorage"),h=cc._decorator,d=h.ccclass,p=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checked=null,t.doubleBtn=null,t.tripleVideoBtn=null,t.tripleBtn=null,t.goldLabel=null,t.tirpNode=null,t.light=null,t.panel=null,t.closeBtn=null,t.rewardCallFunc=null,t.rewardValue=0,t._boxGetRewardCount=0,t._multiple=1,t}return n(t,e),Object.defineProperty(t.prototype,"boxGetRewardCount",{get:function(){return this._boxGetRewardCount},set:function(e){this._boxGetRewardCount=e,u.default.setItem(r.default.ST_GET_BOX_REWARD_COUNT,e+"")},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this.rewardCallFunc=a.utils.rewardCallFunc,this.rewardValue=a.utils.rewardValue,cc.winSize.height<cc.winSize.width?a.utils.adManager.HideBanner(r.BannerLocation.Game):a.utils.adManager.ShowBanner(r.BannerLocation.Game),this.panel.scale=0,this._boxGetRewardCount=u.default.getItem(r.default.ST_GET_BOX_REWARD_COUNT)||0,c.default.SendEvent("\u5956\u52b1\u5b9d\u7bb1\u663e\u793a\u6210\u529f\uff01"),this.goldLabel.string="/"+this.rewardValue.toString()},t.prototype.onEnable=function(){var e=this;a.utils.showSkipBtn(this.closeBtn,!0);var t;t=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.6:cc.winSize.width/1080,l.default.IsTest&&(a.utils.ServerConfig.reward_box_change_count=5),this.panel.runAction(cc.sequence(cc.scaleTo(.3,t).easing(cc.easeBackOut()),cc.callFunc(function(){var t=a.utils.ServerConfig.reward_box_change_count?parseInt(a.utils.ServerConfig.reward_box_change_count):0;null!=a.utils.ServerConfig.reward_box_change_count&&e.boxGetRewardCount>=t?(e.tripleVideoBtn.active=!0,e.tripleBtn.active=!1,a.utils.showScaleAction(e.tripleVideoBtn,e.doubleBtn,!0,!0)):(e.tripleVideoBtn.active=!1,a.utils.showScaleAction(e.tripleBtn,null,!1,!0)),e.light.runAction(cc.rotateBy(3,360).repeatForever())})))},t.prototype.onDestroy=function(){a.utils.adManager.HideBanner(r.BannerLocation.Game),a.utils.rewardBoxPanelCloseFunc?(a.utils.rewardBoxPanelCloseFunc(),a.utils.rewardBoxPanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null)},t.prototype.onClose=function(){var e=this;this.panel.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onPlayVideo=function(){var e=this;a.utils.adManager.ShowVideo(function(t,i){if(t){a.utils.showMsg("\u83b7\u5f97"+e._multiple+"\u500d\u5956\u52b1! +"+e.rewardValue*e._multiple),e.rewardValue=e.rewardValue*e._multiple,e.boxGetRewardCount++;var o=new r.YZ_Reward;o.rewardValue=e.rewardValue,e.rewardCallFunc&&e.rewardCallFunc(o),e.onClose(),c.default.SendEvent("\u5b9d\u7bb1\u83b7\u53d6\u5956\u52b1\u6210\u529f\uff01")}else a.utils.showMsg(i||"\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff01"),c.default.SendEvent("\u5b9d\u7bb1\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01")})},t.prototype.onGetGold=function(e,t){switch(this._multiple=parseInt(t),e.target.name){case"BtnTripleVideo":c.default.SendEvent("\u70b9\u51fb\u5b9d\u7bb1\u89c6\u9891\u83b7\u53d6\u6309\u94ae\uff01"),this.onPlayVideo();break;case"BtnDouble":case"BtnTriple":if(c.default.SendEvent("\u70b9\u51fb\u5b9d\u7bb1\u666e\u901a\u83b7\u53d6\u6309\u94ae\uff01"),a.utils.showMsg("\u83b7\u5f97"+this._multiple+"\u500d\u5956\u52b1! +"+this.rewardValue*this._multiple),this.boxGetRewardCount++,this.rewardCallFunc){var i=new r.YZ_Reward;i.rewardValue=this.rewardValue*this._multiple,this.rewardCallFunc(i)}this.onClose()}},s([p(cc.Node)],t.prototype,"checked",void 0),s([p(cc.Node)],t.prototype,"doubleBtn",void 0),s([p(cc.Node)],t.prototype,"tripleVideoBtn",void 0),s([p(cc.Node)],t.prototype,"tripleBtn",void 0),s([p(cc.Label)],t.prototype,"goldLabel",void 0),s([p(cc.Node)],t.prototype,"tirpNode",void 0),s([p(cc.Node)],t.prototype,"light",void 0),s([p(cc.Node)],t.prototype,"panel",void 0),s([p(cc.Node)],t.prototype,"closeBtn",void 0),s([d],t)}(cc.Component);i.default=_,cc._RF.pop()},{"./AldUtils":"AldUtils","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],RewardInsert:[function(e,t,i){"use strict";cc._RF.push(t,"7087bM2rPJIqI5a6FekvQ2X","RewardInsert");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./AldUtils"),c=e("./YZ_Constant"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._jumpList=null,t._items=[],t.isShow=!1,t._panel=null,t._mask=null,t}return n(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this._mask=this.node.getChildByName("Mask"),this._panel=this.node.getChildByName("Panel");for(var e=0;e<6;e++){var t=this._panel.getChildByName("Item"+e).getComponent("QCrossWidgetItem");t._location=c.SubLocation.isReward,this._items.push(t)}var i;i=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.7:cc.winSize.width/1080,this._panel.scale=i},t.prototype.start=function(){this._jumpList=a.utils.getRecommondGameList(),this._jumpList&&this._jumpList.length>0?this._initWidget():(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull,\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a!"),a.utils.adManager.videoCallBack&&a.utils.adManager.videoCallBack(!1,"\u6fc0\u52b1\u7ec4\u4ef6\u52a0\u8f7d\u5931\u8d25\uff01"),a.utils.adManager.videoCallBack=null,this.node.destroy())},t.prototype._initWidget=function(){for(var e=0,t=0;t<this._jumpList.length;t++){var i=this._jumpList[t];if(i&&i.logo){var o=e;if(o>=this._items.length)return;e++,this._items[o].init(i)}}},t.prototype.hide=function(){this._panel.active=!1,this._mask.active=!1},t.prototype.onCloseBtnHandler=function(){this.hide(),a.utils.adManager.videoCallBack&&a.utils.adManager.videoCallBack(!1,"\u672a\u70b9\u51fb\u8bd5\u73a9\u5956\u52b1\uff01"),a.utils.adManager.videoCallBack=null},t.prototype.update=function(){this.isShow||(a.utils.showLog("show insertReward>>>>>"),r.default.SendEvent("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f"),this.isShow=!0,this._panel.active=!0,this._mask.active=!0)},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./AldUtils":"AldUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],RewardRedBagPanel:[function(e,t,i){"use strict";cc._RF.push(t,"946b7F+eyBGEbvsWerWCHnf","RewardRedBagPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this._panel=this.node.getChildByName("Panel");var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.5:cc.winSize.width/1080,this._panel.scale=e,this.init()},t.prototype.openRedBag=function(){a.utils.SendEvent("\u606d\u559c\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u9886\u53d6\u7ea2\u5305\uff01"),a.utils.showOpenRedBagPanel({showType:2}),this.hide()},t.prototype.init=function(){a.utils.SendEvent("\u606d\u559c\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01")},t.prototype.hide=function(){this.node.active=!1},t.prototype.onCloseBtnHandler=function(){this.hide()},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],RewardShortCutPanel:[function(e,t,i){"use strict";cc._RF.push(t,"54f94n1JbRKZpvYKlOs4T8g","RewardShortCutPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.btnOk=null,t.btnCancel=null,t.glodNode=null,t.glodLabel=null,t.rewardCallFunc=null,t.rewardValue=0,t._showBanner=!1,t}return n(t,e),t.prototype.onLoad=function(){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u5c55\u793a\u6210\u529f\uff01");var e=!1;return c.default.IsOPPO?e=a.utils.oppoTool._shortcutCreated:c.default.IsVIVO&&(e=a.utils.Tool_Vivo._shortcutCreated),e?(a.utils.showLog("\u5df2\u7ecf\u5b58\u5728\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff0c\u5f53\u524d\u7a97\u53e3\u76f4\u63a5\u9500\u6bc1\uff01"),a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u5df2\u7ecf\u5b58\u5728\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff01"),void this.node.destroy()):null!=a.utils.ServerConfig.auto_desktop&&0===a.utils.ServerConfig.auto_desktop?(a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u76f4\u63a5\u521b\u5efa\u684c\u9762\uff0c\u4e0d\u663e\u793a\u5f39\u7a97\uff0c\u5f53\u524d\u7a97\u53e3\u76f4\u63a5\u9500\u6bc1\uff01"),a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u670d\u52a1\u5668\u914d\u7f6e\u76f4\u63a5\u521b\u5efa\u684c\u9762\uff0c\u4e0d\u663e\u793a\u5f39\u7a97\uff01"),a.utils.cur_tool&&a.utils.cur_tool.createShortcut&&a.utils.cur_tool.createShortcut(function(){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u76f4\u63a5\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01")}),void this.node.destroy()):(this.rewardValue=a.utils.rewardValue,this.rewardCallFunc=a.utils.rewardCallFunc,this.initUi(),this.initListener(),void(cc.winSize.height<cc.winSize.width?a.utils.adManager.HideBanner(r.BannerLocation.Game):(this._showBanner=!0,a.utils.adManager.ShowBanner(r.BannerLocation.Game))))},t.prototype.initUi=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this.bg=this.node.getChildByName("Panel").children[0],this.btnCancel=this.bg.getChildByName("btnClose"),this.btnOk=this.bg.getChildByName("btnOk"),this.glodNode=this.bg.getChildByName("rewardLabel"),this.glodLabel=this.glodNode.getComponent(cc.Label),this.glodLabel.string="\u5956\u52b1+"+this.rewardValue,0==this.rewardValue&&(this.glodNode.active=!1),a.utils.showSkipBtn(this.btnCancel)},t.prototype.onDestroy=function(){this._showBanner&&a.utils.adManager.HideBanner(r.BannerLocation.Game),a.utils.rewardShortCutPanelCloseFunc?(a.utils.rewardShortCutPanelCloseFunc(),a.utils.rewardShortCutPanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null),a.utils.cur_tool&&a.utils.cur_tool.checkHasShortCut&&a.utils.cur_tool.checkHasShortCut()},t.prototype.onClose=function(){var e=this;this.bg.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onEnable=function(){var e=this;this.bg.scale=0;var t;t=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.6:cc.winSize.width/1080,this.bg.runAction(cc.sequence(cc.scaleTo(.3,t).easing(cc.easeBackOut()),cc.callFunc(function(){e.btnOk.runAction(cc.sequence(cc.scaleTo(.5,1.15),cc.scaleTo(.5,1)).repeatForever())})))},t.prototype.onCreateShortCut=function(){var e=this;c.default.IsOPPO?a.utils.oppoTool.createShortcut(function(t){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01"),e.rewardFunc(t)}):c.default.IsVIVO&&a.utils.Tool_Vivo.createShortcut(function(t){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01"),e.rewardFunc(t)})},t.prototype.initListener=function(){},t.prototype.rewardFunc=function(e){if(e){var t=new r.YZ_Reward;t.rewardValue=this.rewardValue,a.utils.showMsg("\u6dfb\u52a0\u6210\u529f\uff01\u5956\u52b1\uff1a+"+this.rewardValue),this.rewardCallFunc&&this.rewardCallFunc(t),this.onClose()}else a.utils.showMsg("\u6dfb\u52a0\u5931\u8d25\uff01"),this.onClose()},t.prototype.initData=function(){},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],SceneMgr:[function(e,t,i){"use strict";cc._RF.push(t,"a162cN35T1OAIoKBFHGNLm8","SceneMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Game/gameMgr"),n=e("../Game/setMap"),s=e("../UI/GuideLayer"),a=e("./CocosZ"),r=function(){function e(){this._activeScene="",this._timeInterval=0}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e),e._inst},enumerable:!1,configurable:!0}),e.prototype.loadScene=function(e,t){var i=this;this._activeScene==e&&(new Date).getTime()-this._timeInterval<1e3||(this._timeInterval=(new Date).getTime(),this.loadBefore(e,function(){cc.director.loadScene(e,function(){i._activeScene=e,t(),i.loadFinish(e)})}))},e.prototype.loadBefore=function(e,t){if(s.guideLayer&&s.guideLayer.isValid&&("Home"==e?(s.guideLayer.node.zIndex=cc.macro.MAX_ZINDEX,s.guideLayer.hideFjAni(),s.guideLayer.showBgAni()):"Game"==e&&(s.guideLayer.node.zIndex=cc.macro.MAX_ZINDEX,[5,7].includes(a.cocosz.gameMode)?(s.guideLayer.hideFjAni(),s.guideLayer.showBgAni()):(s.guideLayer.hideBgAni(),s.guideLayer.showFjAni()))),"Home"==e&&o.gameMgr&&o.gameMgr.map&&o.gameMgr.map.isValid){var i=o.gameMgr.map.getComponent(n.default);if(i)return void setTimeout(function(){i.release(t)},100)}t&&t()},e.prototype.loadFinish=function(e){"Home"==e?s.guideLayer&&s.guideLayer.isValid&&(s.guideLayer.node.zIndex=cc.macro.MIN_ZINDEX):"Game"==e&&(s.guideLayer.node.zIndex=cc.macro.MIN_ZINDEX),a.cocosz.audioMgr.playBgm()},e.prototype.releaseRes=function(){var e=[];if(a.cocosz.getDirWithPath("audio_game",cc.AudioClip,e),a.cocosz.resMgr.releaseResArray(e,cc.AudioClip),6==a.cocosz.gameMode){var t=[];a.cocosz.getDirWithPath("audio_zombie",cc.AudioClip,t),a.cocosz.resMgr.releaseResArray(t,cc.AudioClip);var i=[];a.cocosz.getDirWithPath("prefab_zombie",cc.Prefab,i),a.cocosz.resMgr.releaseResArray(i,cc.Prefab);var o=[];a.cocosz.getDirWithPath("prefab_zombie_skill",cc.Prefab,o),a.cocosz.resMgr.releaseResArray(o,cc.Prefab);var n=[];a.cocosz.getDirWithPath("tex_zombie",cc.SpriteFrame,n),a.cocosz.resMgr.releaseResArray(n,cc.SpriteFrame)}},e}();i.default=r,cc._RF.pop()},{"../Game/gameMgr":"gameMgr","../Game/setMap":"setMap","../UI/GuideLayer":"GuideLayer","./CocosZ":"CocosZ"}],ShareOrVideo:[function(e,t,i){"use strict";cc._RF.push(t,"af730WeuddAYrpP8Nt749SI","ShareOrVideo");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("../Framework/Constant"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._btn=!1,t.isGuideSKill=!1,t.shareNode=null,t.videoNode=null,t}return n(t,e),Object.defineProperty(t.prototype,"btn",{get:function(){return this._btn},set:function(){this._btn=!1,this.node.getChildByName("share")&&(this.shareNode=this.node.getChildByName("share")),this.node.getChildByName("video")&&(this.videoNode=this.node.getChildByName("video"))},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.game.emit(r.default.E_ShareOrVideo)}),cc.game.on(r.default.E_ShareOrVideo,this.show,this)},t.prototype.onDestroy=function(){cc.game.targetOff(this)},t.prototype.start=function(){this.show()},t.prototype.show=function(){this.isGuideSKill&&a.cocosz.dataMgr.guide_skill?(this.shareNode&&this.shareNode.isValid&&(this.shareNode.active=!1),this.videoNode&&this.videoNode.isValid&&(this.videoNode.active=!1)):(this.shareNode&&this.shareNode.isValid&&(this.shareNode.active=a.cocosz.canShare),this.videoNode&&this.videoNode.isValid&&(this.videoNode.active=!a.cocosz.canShare))},s([u()],t.prototype,"btn",null),s([u({type:cc.Boolean,tooltip:"\u662f\u5426\u65b0\u624b\u6307\u5f15\u514d\u8d39\u4f7f\u7528"})],t.prototype,"isGuideSKill",void 0),s([u({type:cc.Node,tooltip:"\u5206\u4eab\u56fe\u6807"})],t.prototype,"shareNode",void 0),s([u({type:cc.Node,tooltip:"\u89c6\u9891\u56fe\u6807"})],t.prototype,"videoNode",void 0),s([l],t)}(cc.Component);i.default=h,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant"}],ShareRecordPanel:[function(e,t,i){"use strict";cc._RF.push(t,"77194e5qe5JZbqo4fZbTk+i","ShareRecordPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.btnOk=null,t.btnCancel=null,t.glodNode=null,t.glodLabel=null,t.sharePanel=null,t.RecPanel=null,t._panel=null,t._gameList=null,t._originScale=1,t._gameItems=[],t._jumpList=null,t._dataDirty=!1,t._star=null,t.gameItemNode=null,t.rewardCallFunc=null,t.rewardValue=0,t}return n(t,e),t.prototype.onLoad=function(){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01"),this.rewardValue=a.utils.rewardValue,this.rewardCallFunc=a.utils.rewardCallFunc,this.initUi(),cc.winSize.height<cc.winSize.width?a.utils.adManager.HideBanner(r.BannerLocation.Game):a.utils.adManager.ShowBanner(r.BannerLocation.Game),c.default.IsOPPO&&a.utils.ServerConfig.st_recomment_is_hide_banner&&"true"==a.utils.ServerConfig.st_recomment_is_hide_banner&&(a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u4e92\u63a8\u540e\u9690\u85cfbanner >>>"),a.utils.adManager.HideBanner(r.BannerLocation.Game),a.utils.adManager.HideBanner(r.BannerLocation.Over))},t.prototype.initUi=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this.bg=this.node.getChildByName("Bg"),this.sharePanel=this.bg.getChildByName("SharePanel"),this.RecPanel=this.bg.getChildByName("RecPanel"),c.default.IsOPPO?(this.sharePanel.active=!1,this.RecPanel.active=!0,this.btnCancel=this.RecPanel.getChildByName("btnCancel"),this._gameList=this.RecPanel.getChildByName("PageView").getComponent(cc.PageView).content.getChildByName("Panel"),this.gameItemNode=this._gameList.children[0],this._initRecPanel(),a.utils.showSkipBtn(this.btnCancel)):(this.sharePanel.active=!0,this.RecPanel.active=!1,this.btnCancel=this.sharePanel.getChildByName("btnCancel"),this.btnOk=this.sharePanel.getChildByName("btnOk"),this.glodNode=this.sharePanel.getChildByName("rewardNode"),this.glodLabel=this.glodNode.getChildByName("goldLbl").getComponent(cc.Label),a.utils.showSkipBtn(this.btnCancel),this.glodLabel.string="/"+this.rewardValue,0==this.rewardValue&&(this.glodNode.active=!1))},t.prototype._initRecPanel=function(){this._gameList.removeAllChildren(),this._jumpList=a.utils.getRecommondGameList();for(var e=0;e<this._jumpList.length;e++){var t=this._jumpList[e];if(t&&t.logo){var i=cc.instantiate(this.gameItemNode),o=i.getComponent("QCrossWidgetItem");o._location=r.SubLocation.isMoreGame,o.init(t),this._gameList.addChild(i)}}},t.prototype.onDestroy=function(){a.utils.adManager.HideBanner(r.BannerLocation.Game),a.utils.shareRecordPanelCloseFunc?(a.utils.shareRecordPanelCloseFunc(),a.utils.shareRecordPanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null)},t.prototype.onClose=function(){var e=this;this.bg.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onEnable=function(){var e=this;this.bg.scale=0;var t;t=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.6:cc.winSize.width/1080,this.bg.runAction(cc.sequence(cc.scaleTo(.3,t).easing(cc.easeBackOut()),cc.callFunc(function(){e.glodNode&&1==e.glodNode.active&&e.glodNode.runAction(cc.sequence(cc.moveBy(.3,l.default.position(0,50)),cc.moveBy(.3,l.default.position(0,-50))).repeatForever())})))},t.prototype.onCancelClickListener=function(){c.default.IsDouyin&&a.utils.ServerConfig&&a.utils.ServerConfig.cancel_btn_is_share&&"true"==a.utils.ServerConfig.cancel_btn_is_share?(a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u53d6\u6d88\u6309\u94ae\u4e5f\u4f1a\u89e6\u53d1\u5206\u4eab\uff01"),a.utils.share(this.rewardFunc.bind(this))):this.onClose()},t.prototype.onOkBtnClickListener=function(){a.utils.share(this.rewardFunc.bind(this))},t.prototype.rewardFunc=function(e,t){if(e){a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5206\u4eab\u6210\u529f\uff01");var i=new r.YZ_Reward;i.rewardValue=this.rewardValue,a.utils.showMsg("\u5206\u4eab\u6210\u529f\uff01\u5956\u52b1\uff1a+"+this.rewardValue),this.rewardCallFunc&&this.rewardCallFunc(i),this.onClose()}else a.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5206\u4eab\u5931\u8d25\uff01"),a.utils.showMsg(t||"\u5206\u4eab\u5931\u8d25\uff01"),this.onClose()},t.prototype.initData=function(){},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],ShowDate:[function(e,t,i){"use strict";cc._RF.push(t,"fb2bf+T41RP1pOMLr4eZBx6","ShowDate");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.executeInEditMode,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){this.node.zIndex=cc.macro.MAX_ZINDEX},s([r,c],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var i=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=i,cc._RF.pop()},{}],StartScene:[function(e,t,i){"use strict";cc._RF.push(t,"43b0f4vgalEfbPwFDwK4L1k","StartScene");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){cc.director.loadScene("Load")},s([r],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],TryGameNode:[function(e,t,i){"use strict";cc._RF.push(t,"038c46RnHFFRL5OfKlehQWS","TryGameNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=null,t._icon=null,t._nameLabel=null,t._gameJumpInterval=-1,t._jumpInfo=null,t._index=-1,t._jumping=!1,t._isFirst=!1,t._mask=null,t}return n(t,e),t.prototype.onLoad=function(){this._icon=cc.find("Mask/Icon",this.node).getComponent(cc.Sprite),this._mask=cc.find("Mask",this.node)},t.prototype.init=function(e){this._data=e,this._data?(this._jumpInfo=this._data.jump_list,this._gameJumpInterval=this._data.jump_refresh_time,this._isFirst=!0,this.node.active=!1):this.node.active=!1},t.prototype.showNextItem=function(){this.unscheduleAllCallbacks(),this.jump(),this.schedule(this.jump,this._gameJumpInterval)},t.prototype.onEnable=function(){var e=this;this.jump(),this.schedule(this.jump,this._gameJumpInterval),this.node.on(cc.Node.EventType.TOUCH_START,function(){if(e._jumpInfo[e._index]&&e._jumpInfo[e._index].appid){if(a.utils.showLog("\u5c0f\u6e38\u620f\u8df3\u8f6c! info="+e._jumpInfo[e._index]),c.default.IsDouyin)a.utils.Tool_Douyin.showMoreGamesModal();else if(c.default.IsQQ)a.utils.adManager.ShowAppBox(!0);else{var t=e._index;e._postClickData(e._jumpInfo[t].appid),a.utils.navigateToMiniGame(e._jumpInfo[t],function(i){i&&e._jumpInfo&&e._jumpInfo[t]&&e._jumpInfo[t].appid&&e._postData(e._jumpInfo[t].appid)})}e.showNextItem()}},this)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this)},t.prototype.jump=function(){var e=this;if(!this._jumping){this._jumping=!0,this._index=this._index+1,this._index>=this._jumpInfo.length&&(this._index=0);var t=this._icon.node.getContentSize();if(this._jumpInfo[this._index]&&this._jumpInfo[this._index].icon){var i=this._jumpInfo[this._index].icon;l.default.LoadRes(i,function(i,o){!i&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(o),e._icon.node.setContentSize(t),e._isFirst&&(a.utils.showLog("\u5f53\u524d\u8bd5\u73a9\u7b2c\u4e00\u6b21\u52a0\u8f7d\uff01\uff01\uff01\uff01\uff01"),e._mask.active=!0,e._isFirst=!1)),e._jumping=!1})}else this._jumping=!1}},t.prototype._setName=function(e){e?e.length>5?(this._nameLabel.string=e.slice(0,5)+"...",this._nameLabel.node.scale=.7):this._nameLabel.string=e:this._nameLabel.string=""},t.prototype._postData=function(e){a.utils.postDataByLocation(e,r.SubLocation.isTryGame,1)},t.prototype._postClickData=function(e){a.utils.postDataByLocation(e,r.SubLocation.isTryGame,0)},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],TryGamesWidget:[function(e,t,i){"use strict";cc._RF.push(t,"44f5bUS0vVOsr9VFcezUfsI","TryGamesWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tryGameNode=null,t._isInit=!1,t}return n(t,e),t.prototype.onLoad=function(){this._tryGameNode=this.getComponentInChildren("TryGameNode"),this._tryGameNode.node.active=!1},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._initWidget=function(){if(!this._isInit){var e=!0,t=a.utils.getInnerRecommendData();t?t.jump_list?t.jump_list.length<=0&&(cc.warn("\u5b57\u6bb5jump_list\u7684\u957f\u5ea6\u4e0d\u5408\u6cd5\uff01"),e=!1):(cc.warn("\u5b57\u6bb5jump_list\u4e0d\u5b58\u5728\uff01"),e=!1):(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull"),e=!1),e?(this._isInit=!0,a.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:",JSON.stringify(t)),this._tryGameNode.init({jump_refresh_time:t.jump_refresh_time,jump_list:t.jump_list}),this._tryGameNode.node.active=!0):this.node.destroy()}},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],TweenEffect:[function(e,t,i){"use strict";cc._RF.push(t,"54110rONwJBArNNreXEArQY","TweenEffect");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.EaseType=void 0;var a,r,c,l=cc._decorator,u=l.ccclass,h=l.property,d=l.menu;l.executeInEditMode,function(e){e[e.none=0]="none",e[e.fade=1]="fade",e[e.easeIn=2]="easeIn",e[e.easeOut=3]="easeOut",e[e.easeInOut=4]="easeInOut",e[e.easeExponentialIn=5]="easeExponentialIn",e[e.easeExponentialOut=6]="easeExponentialOut",e[e.easeExponentialInOut=7]="easeExponentialInOut",e[e.easeSineIn=8]="easeSineIn",e[e.easeSineOut=9]="easeSineOut",e[e.easeSineInOut=10]="easeSineInOut",e[e.easeElasticIn=11]="easeElasticIn",e[e.easeElasticOut=12]="easeElasticOut",e[e.easeElasticInOut=13]="easeElasticInOut",e[e.easeBounceIn=14]="easeBounceIn",e[e.easeBounceOut=15]="easeBounceOut",e[e.easeBounceInOut=16]="easeBounceInOut",e[e.easeBackIn=17]="easeBackIn",e[e.easeBackOut=18]="easeBackOut",e[e.easeBackInOut=19]="easeBackInOut",e[e.easeBezierAction=20]="easeBezierAction",e[e.easeQuadraticActionIn=21]="easeQuadraticActionIn",e[e.easeQuadraticActionOut=22]="easeQuadraticActionOut",e[e.easeQuadraticActionInOut=23]="easeQuadraticActionInOut",e[e.easeQuarticActionIn=24]="easeQuarticActionIn",e[e.easeQuarticActionOut=25]="easeQuarticActionOut",e[e.easeQuarticActionInOut=26]="easeQuarticActionInOut",e[e.easeQuinticActionIn=27]="easeQuinticActionIn",e[e.easeQuinticActionOut=28]="easeQuinticActionOut",e[e.easeQuinticActionInOut=29]="easeQuinticActionInOut",e[e.easeCircleActionIn=30]="easeCircleActionIn",e[e.easeCircleActionOut=31]="easeCircleActionOut",e[e.easeCircleActionInOut=32]="easeCircleActionInOut",e[e.easeCubicActionIn=33]="easeCubicActionIn",e[e.easeCubicActionOut=34]="easeCubicActionOut",e[e.easeCubicActionInOut=35]="easeCubicActionInOut"}(a=i.EaseType||(i.EaseType={})),function(e){e[e.none=0]="none",e[e.line=1]="line",e[e.angle=2]="angle",e[e.opacity=3]="opacity",e[e.scale=4]="scale",e[e.skewY=5]="skewY",e[e.shake=6]="shake",e[e.flip=7]="flip"}(r||(r={})),function(e){e[e.onLoad=0]="onLoad",e[e.start=1]="start",e[e.onEnable=2]="onEnable"}(c||(c={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=r.none,t.easeType=a.none,t.run=c.start,t.delay=0,t.time=1,t.repeat=-1,t.isReverse=!1,t.num=0,t.toPos=cc.Vec3.ZERO,t._tw=null,t}var i;return n(t,e),i=t,t.prototype.onLoad=function(){switch(this._tw=cc.tween(this.node),this._tw.delay(this.delay),this.type){case r.line:this._line();break;case r.angle:this._angle();break;case r.opacity:this._opacity();break;case r.scale:this._scale();break;case r.skewY:this._skewY();break;case r.shake:this._shake();break;case r.flip:this._flip()}this.repeat>0?this._tw.union().repeat(this.repeat):-1==this.repeat&&this._tw.union().repeatForever(),this.run==c.onLoad&&this._tw.start()},t.prototype.start=function(){this.run==c.start&&this._tw.start()},t.prototype.onEnable=function(){this.run==c.onEnable&&(this.node.stopAllActions(),this._tw.start())},t.prototype._line=function(){this._tw.by(this.time,{position:this.toPos},{easing:i.getEase(this.easeType)}),this.isReverse&&this._tw.by(this.time,{position:this.toPos.neg()},{easing:i.getEase(this.easeType)})},t.prototype._angle=function(){this._tw.by(this.time,{angle:this.num},{easing:i.getEase(this.easeType)}),this.isReverse&&this._tw.by(this.time,{angle:-this.num},{easing:i.getEase(this.easeType)})},t.prototype._opacity=function(){this._tw.by(this.time,{opacity:this.num},{easing:i.getEase(this.easeType)}),this.isReverse&&this._tw.by(this.time,{opacity:-this.num},{easing:i.getEase(this.easeType)})},t.prototype._scale=function(){this._tw.by(this.time,{scale:this.num},{easing:i.getEase(this.easeType)}),this.isReverse&&this._tw.by(this.time,{scale:-this.num},{easing:i.getEase(this.easeType)})},t.prototype._skewY=function(){this._tw.by(this.time,{skewY:this.num},{easing:i.getEase(this.easeType)}),this.isReverse&&this._tw.by(this.time,{skewY:-this.num},{easing:i.getEase(this.easeType)})},t.prototype._shake=function(){this._tw.by(this.time,{angle:this.num},{easing:i.getEase(this.easeType)}).by(2*this.time,{angle:-2*this.num},{easing:i.getEase(this.easeType)}).by(this.time,{angle:this.num},{easing:i.getEase(this.easeType)})},t.prototype._flip=function(){this._tw.to(this.time,{scaleX:-this.node.scaleX},{easing:i.getEase(this.easeType)}).to(this.time,{scaleX:this.node.scaleX},{easing:i.getEase(this.easeType)})},t.panel_mask_opacity=function(e,t){var i=e.opacity;e.opacity=0,cc.tween(e).to(.2,{opacity:i}).call(function(){t&&t()}).start()},t.panel_open_moveY=function(e,t){e.y+=1e3,cc.tween(e).to(.5,{y:e.y-1e3},{easing:"sineOut"}).call(function(){t&&t()}).start()},t.panel_close_moveY=function(e,t){cc.tween(e).to(.5,{y:e.y+1e3},{easing:"sineIn"}).call(function(){t&&t()}).start()},t.panel_open_scaleY=function(e,t){e.scaleY=0,cc.tween(e).to(.5,{scaleY:1},{easing:"sineOut"}).call(function(){t&&t()}).start()},t.panel_close_scaleY=function(e,t){cc.tween(e).to(.5,{scaleY:0},{easing:"sineIn"}).call(function(){t&&t()}).start()},t.panel_open_scale=function(e,t){e.scale=0,cc.tween(e).to(.5,{scale:1},{easing:"sineOut"}).call(function(){t&&t()}).start()},t.panel_close_scale=function(e,t){cc.tween(e).to(.5,{scale:0},{easing:"sineIn"}).call(function(){t&&t()}).start()},t.panel_open_opacity_scale=function(e,t){e.opacity=0,e.scale=1.5,cc.tween(e).to(.5,{opacity:255,scale:1},{easing:"fade"}).call(function(){t&&t()}).start()},t.panel_close_opacity_scale=function(e,t){cc.tween(e).to(.5,{opacity:0,scale:2},{easing:"fade"}).call(function(){t&&t()}).start()},t.getEase=function(e){switch(e){case a.none:return"linear";case a.fade:return"fade";case a.easeOut:return"easeOut";case a.easeInOut:return"easeInOut";case a.easeExponentialIn:return"easeExponentialIn";case a.easeExponentialOut:return"easeExponentialOut";case a.easeExponentialInOut:return"easeExponentialInOut";case a.easeSineIn:return"sineIn";case a.easeSineOut:return"sineOut";case a.easeSineInOut:return"sineInOut";case a.easeElasticIn:return"elasticIn";case a.easeElasticOut:return"elasticOut";case a.easeElasticInOut:return"elasticInOut";case a.easeBounceIn:return"bounceIn";case a.easeBounceOut:return"bounceOut";case a.easeBackIn:return"backIn";case a.easeBackOut:return"backOut";case a.easeBackInOut:return"backInOut";case a.easeQuadraticActionIn:return"quadraticActionIn";case a.easeQuadraticActionOut:return"quadraticActionOut";case a.easeQuadraticActionInOut:return"quadraticActionInOut";case a.easeQuarticActionIn:return"quarticActionIn";case a.easeQuarticActionOut:return"quarticActionOut";case a.easeQuarticActionInOut:return"quarticActionInOut";case a.easeQuinticActionIn:return"quinticActionIn";case a.easeQuinticActionOut:return"quinticActionOut";case a.easeQuinticActionInOut:return"quinticActionInOut";case a.easeCircleActionIn:return"easeCircleActionIn";case a.easeCircleActionOut:return"circleActionOut";case a.easeCircleActionInOut:return"circleActionInOut";case a.easeCubicActionIn:return"cubicActionIn";case a.easeCubicActionOut:return"cubicActionOut";case a.easeCubicActionInOut:return"cubicActionInOut"}},s([h({type:cc.Enum(r),tooltip:"\u52a8\u4f5c\u7c7b\u578b"})],t.prototype,"type",void 0),s([h({type:cc.Enum(a)})],t.prototype,"easeType",void 0),s([h({type:cc.Enum(c),tooltip:"\u8fd0\u884c\u6761\u4ef6"})],t.prototype,"run",void 0),s([h({type:cc.Float,tooltip:"\u5f00\u59cb\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"delay",void 0),s([h({type:cc.Float,tooltip:"\u5355\u6b21\u8fd0\u884c\u65f6\u95f4"})],t.prototype,"time",void 0),s([h({type:cc.Integer,tooltip:"\u91cd\u590d\u6b21\u6570 -1\u6c38\u4e45\u91cd\u590d 0\u4e0d\u91cd\u590d"})],t.prototype,"repeat",void 0),s([h({tooltip:"\u662f\u5426\u5012\u7f6e"})],t.prototype,"isReverse",void 0),s([h({tooltip:"\u76ee\u6807\u503c",visible:function(){return this.type==r.angle||this.type==r.opacity||this.type==r.scale||this.type==r.skewY}})],t.prototype,"num",void 0),s([h({tooltip:"\u76ee\u6807\u5750\u6807",visible:function(){return this.type==r.line}})],t.prototype,"toPos",void 0),i=s([u,d("Tools/TweenEffect")],t)}(cc.Component);i.default=p,cc._RF.pop()},{}],UIADPanel:[function(e,t,i){"use strict";cc._RF.push(t,"003c2RLzLtIya/ty0NNYWCD","UIADPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../../common-plugin/Scripts/Utils"),r=e("../Framework/CocosZ"),c=e("../Framework/Msg"),l=e("LanguageData"),u=cc._decorator,h=u.ccclass,d=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnAD=null,t.btnSkip=null,t.isDiamond=!1,t}return n(t,e),t.prototype.start=function(){r.cocosz.isADON?(this.node.scale=0,cc.tween(this.node).to(.3,{scale:1},{easing:"backOut"}).start(),a.utils.SendEvent("\u9875\u9762-"+(this.isDiamond?"\u94bb\u77f3":"\u91d1\u5e01"))):this.node.destroy()},t.prototype.setDiamond=function(){this.isDiamond=!0,this.node.getChildByName("bg").active=!1,this.node.getChildByName("bg1").active=!0},t.prototype.watchAD=function(){var e=this;a.utils.SendEvent("\u89c6\u9891-"+(this.isDiamond?"\u94bb\u77f3\u8d2d\u4e70":"\u91d1\u5e01\u8d2d\u4e70")+"-\u64ad\u653e"),r.cocosz.watchAD(function(){if(a.utils.SendEvent("\u89c6\u9891-"+(e.isDiamond?"\u94bb\u77f3\u8d2d\u4e70":"\u91d1\u5e01\u8d2d\u4e70")+"-\u6210\u529f"),e.isDiamond){var t=r.cocosz.isDeBug?1e4:200;r.cocosz.dataMgr.DiamondCount+=t,c.default.Show(l.t("msg.gxhdzs")+t)}else t=r.cocosz.isDeBug?1e4:500,r.cocosz.dataMgr.CoinCount+=t,c.default.Show(l.t("msg.gxhdjb")+t);e.node.destroy()},function(){a.utils.SendEvent("\u89c6\u9891-"+(e.isDiamond?"\u94bb\u77f3\u8d2d\u4e70":"\u91d1\u5e01\u8d2d\u4e70")+"-\u5931\u8d25")})},t.prototype.exit=function(){r.cocosz.audioMgr.playBtnEffect(),this.node.destroy()},s([d(cc.Node)],t.prototype,"btnAD",void 0),s([d(cc.Node)],t.prototype,"btnSkip",void 0),s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Msg":"Msg",LanguageData:"LanguageData"}],UIGameLoadingPage:[function(e,t,i){"use strict";cc._RF.push(t,"c5a1dCIX/VATJjbaL5OivFz","UIGameLoadingPage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/UIPage"),r=e("../Framework/Constant"),c=e("../Framework/CocosZ"),l=e("./GuideLayer"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=e.call(this,r.PageName.UIGameLoadingPage)||this;return t._startTime=0,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onOpen=function(){cc.game.on(r.default.E_GAME_LOGIC,this._onGameMessageHandler,this),this._startTime=(new Date).getTime(),c.cocosz.scheduleOnce(function(){c.cocosz.audioMgr.playEffect("fj",!0,1)},.1)},t.prototype.onClose=function(){cc.game.targetOff(this),l.guideLayer.hideFjAni(),l.guideLayer.node.zIndex=cc.macro.MIN_ZINDEX,c.cocosz.audioMgr.stopEffect("fj")},t.prototype._onGameMessageHandler=function(e){switch(e.type){case r.default.E_UPDATE_PROGRESS:this._updateProgress(e.data)}},t.prototype._updateProgress=function(e){if(e>=1){var t=(new Date).getTime()-this._startTime;t>=6e3?c.cocosz.uiMgr.openPage(r.PageName.UIGamePage):setTimeout(function(){c.cocosz.uiMgr.openPage(r.PageName.UIGamePage)},6e3-t)}},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/UIPage":"UIPage","./GuideLayer":"GuideLayer"}],UIGamePage:[function(e,t,i){"use strict";cc._RF.push(t,"ca02eHXE+9E+Yrp8V9uxTLx","UIGamePage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../../common-plugin/Scripts/PlatUtils"),d=e("../../common-plugin/Scripts/Utils"),p=e("../../common-plugin/Scripts/YZ_Constant"),_=e("../Game/gameMgr"),f=(e("LanguageData"),cc._decorator),g=f.ccclass,v=(f.property,function(e){function t(){var t=e.call(this,l.PageName.UIGamePage)||this;return t._handAni=null,t._btnCt=null,t._btnQpbz=null,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){var e=this;this._handAni=cc.find("handAni",this._page),["rangedWeapon","rangedWeaponAd","BtnPause","BtnBullet","BtnShuxing","BtnHideBanner","BtnCt","BtnQpbz"].forEach(function(t){var i=e._page.getChildByName(t);if(i)if(i.on(cc.Node.EventType.TOUCH_END,e._onBtnClickHandler,e),"rangedWeaponAd"==i.name)u.cocosz.isADON&&"false"!=u.cocosz.getConfigByKey("isVideoAd_advanced_weapon")?i.active=!0:i.active=!1;else if("BtnHideBanner"==i.name)u.cocosz.isShowAd&&u.cocosz.isADON&&"true"==u.cocosz.getConfigByKey("isVideoAd_hideBanner")?i.active=!0:i.active=!1;else if("BtnCt"==i.name)e._btnCt=i,u.cocosz.isShowAd&&u.cocosz.isADON&&!u.cocosz.dataMgr.guide_skill&&"false"!=u.cocosz.getConfigByKey("isVideoAd_Citie")?(e._btnCt.active=!0,e._btnCt.childrenCount&&e._btnCt.children.forEach(function(e){e.active=!1})):(e._btnCt.active=!1,(o=e._btnCt.getComponent(cc.Widget))&&(o.enabled=!1));else if("BtnQpbz"==i.name){var o;e._btnQpbz=i,u.cocosz.isShowAd&&u.cocosz.isADON&&!u.cocosz.dataMgr.guide_skill&&"false"!=u.cocosz.getConfigByKey("isVideoAd_Qpbz")?(e._btnQpbz.active=!0,e._btnQpbz.childrenCount&&e._btnQpbz.children.forEach(function(e){e.active=!1})):(e._btnQpbz.active=!1,(o=e._btnQpbz.getComponent(cc.Widget))&&(o.enabled=!1))}})},t.prototype.onOpen=function(){var e=this;d.utils.SendEvent("\u9875\u9762-\u6e38\u620f"),_.gameMgr.uiGamePage=this._page,_.gameMgr.moveArea=cc.find("moveArea",this._page),_.gameMgr.yaogan=cc.find("move",this._page);var t=_.gameMgr.yaogan.getComponent(cc.Widget);if(t&&(_.gameMgr.yaogan.getComponent(cc.Widget).updateAlignment(),t.enabled=!1),_.gameMgr.rangedWeaponMess=this._page.getChildByName("rangedWeapon"),_.gameMgr.ammo=_.gameMgr.rangedWeaponMess.getChildByName("ammo").getComponent(cc.Label),_.gameMgr.rangedWeaponAdMess=this._page.getChildByName("rangedWeaponAd"),_.gameMgr.ammoAd=_.gameMgr.rangedWeaponAdMess.getChildByName("ammo").getComponent(cc.Label),_.gameMgr.qlzc=this._page.getChildByName("qlzc"),_.gameMgr.BtnBullet=this._page.getChildByName("BtnBullet"),6==u.cocosz.gameMode){_.gameMgr.model6_bossBar=this._page.getChildByName("bossBar").getComponent(cc.ProgressBar),_.gameMgr.model6_jingyanBar=this._page.getChildByName("jingyanBar").getComponent(cc.ProgressBar),_.gameMgr.model6_skillScrollView=this._page.getChildByName("skillScrollView").getComponent(cc.ScrollView),_.gameMgr.model6_skillScrollView_content=cc.find("skillScrollView/view/content",this._page),_.gameMgr.model6_skillScrollView_item=this._page.getChildByName("item");var i=this._page.getChildByName("BtnShuxing");_.gameMgr.model6_touxiang=i.getChildByName("touxiang");var o=u.cocosz.resMgr.getRes("head"+(u.cocosz.gameMgr.gameCtr.curUseSkinId+1),cc.Prefab);if(o){var n=cc.instantiate(o);n.setParent(_.gameMgr.model6_touxiang),n.scale=1,n.children[0]&&(n.children[0].active=!1)}if(_.gameMgr.model6_btnShuxing=this._page.getChildByName("BtnShuxing"),_.gameMgr.model6_btnShuxing&&(_.gameMgr.model6_btnShuxing.active=!0),_.gameMgr.model6_shuxing=i.getChildByName("shuxing"),_.gameMgr.model6_shuxing.active=!1,_.gameMgr.model6_levelLabel=this._page.getChildByName("levelLabel").getComponent(cc.Label),_.gameMgr.model6_timeLabel=this._page.getChildByName("timeLabel").getComponent(cc.Label),_.gameMgr.model6_ts=this._page.getChildByName("ts"),u.cocosz.dataMgr.guide_skill&&("false"!=u.cocosz.getConfigByKey("isVideoAd_Qpbz")||"false"!=u.cocosz.getConfigByKey("isVideoAd_Citie")))var s=0,a=cc.tween(this._page).delay(1).call(function(){_.gameMgr.isGameStart&&!u.cocosz.isPause&&(s++,cc.log("count:",s),5==s?"false"!=u.cocosz.getConfigByKey("isVideoAd_Qpbz")&&e.showSkill(e._btnQpbz):8==s?"false"!=u.cocosz.getConfigByKey("isVideoAd_Citie")&&e.showSkill(e._btnCt):s>8&&(u.cocosz.dataMgr.guide_skill=!1,a&&a.stop()))}).union().repeatForever().start()}_.gameMgr.startGame(),this.showAd(),cc.game.on(l.default.E_GAME_LOGIC,this._onGameMessageHandler,this)},t.prototype.onClose=function(){cc.game.targetOff(this),d.utils.adManager.hideBlockAd(),d.utils.adManager.hideNativeTryGameWidget(),d.utils.hideVivoGamePortalWidget(),d.utils.adManager.HideSingleNativeAd(),h.default.IsWechat?(d.utils.adManager.hideCustomAd({location:3}),d.utils.adManager.hideCustomAd({location:4}),d.utils.adManager.hideCustomAd({location:8})):h.default.IsVIVO&&d.utils.adManager.hideCustomAd({location:p.BannerLocation.Game})},t.prototype.showAd=function(){d.utils.showRecordWidget({group:"default",scale:1,top:50,left:100,parent:this._page}),u.cocosz.isShowAd&&(!u.cocosz.isShowGameBanner||h.default.IsWechat||h.default.IsDouyin||h.default.IsAndroidDouYin?d.utils.adManager.HideBanner(p.BannerLocation.Game):d.utils.adManager.ShowBanner(p.BannerLocation.Game,{width:.1,bottom:0}),d.utils.adManager.showNativeTryGameWidget({left:10,top:500,scale:1,parent:this._page}),h.default.IsWechat?(d.utils.adManager.showCustomAd({location:3}),d.utils.adManager.showCustomAd({location:4}),d.utils.adManager.showCustomAd({location:8})):h.default.IsVIVO&&d.utils.adManager.showCustomAd({location:p.BannerLocation.Game}))},t.prototype.showSkill=function(e){var t=this,i=e.getComponent(cc.Widget);if(i&&(i.enabled=!1),e&&e.isValid){u.cocosz.pauseCount++,e.setPosition(0,cc.winSize.height/2),e.scale=2,e.active=!0;var o=function(){e.stopAllActions(),cc.tween(e).call(function(){t._handAni&&t._handAni.isValid&&(t._handAni.active=!1)}).to(.5,{scale:1,x:-cc.winSize.width/2+i.left+e.width/2,y:-cc.winSize.height/2+i.bottom+e.height/2}).call(function(){i&&(i.enabled=!0),u.cocosz.pauseCount--}).start()};e.once(cc.Node.EventType.TOUCH_END,o,this),e.stopAllActions(),cc.tween(e).to(1,{y:0},{easing:"backOut"}).call(function(){if(t._handAni&&t._handAni.isValid){t._handAni.setPosition(0,0),t._handAni.active=!0;var e=t._handAni.getComponent(sp.Skeleton);e&&e.setAnimation(0,"animation",!0)}}).delay(4).call(function(){e.off(cc.Node.EventType.TOUCH_END,o,t),o()}).start()}},t.prototype.effect_qpbz=function(){var e=u.cocosz.resMgr.getRes("effect_qpbz",cc.Prefab);if(e){var t=cc.instantiate(e);t.setPosition(_.gameMgr.playerTs.node.position),cc.director.getScene().getChildByName("Canvas").addChild(t),cc.tween(t).delay(.3).call(function(){_.gameMgr.playEffect("QuanPingBaoZha"),cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Allzombie_Destory})}).union().repeat(4).call(function(){t.destroy()}).start()}},t.prototype._onGameMessageHandler=function(e){e.type},t.prototype._onBtnClickHandler=function(e){return a(this,void 0,void 0,function(){var t,i=this;return r(this,function(){switch(u.cocosz.audioMgr.playBtnEffect(),e.target.name){case"rangedWeaponAd":_.gameMgr.rangedWeaponAdMess&&((t=_.gameMgr.rangedWeaponAdMess.getChildByName("adIcon"))&&t.active?(d.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u64ad\u653e"),u.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u6210\u529f"),t.active=!1,_.gameMgr.useRangedWeaponAd(),_.gameMgr.rangedWeaponAdMess.stopAllActions()},function(){d.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u5931\u8d25")})):_.gameMgr.useRangedWeaponAd());break;case"rangedWeapon":_.gameMgr.useRangedWeapon();break;case"BtnPause":u.cocosz.uiMgr.openPanel(l.PanelName.UIPausePanel);break;case"BtnBullet":_.gameMgr.BtnBullet&&_.gameMgr.playerTs&&_.gameMgr.playerTs.curWeapon&&_.gameMgr.playerTs.curWeapon.isRangeWeapon&&_.gameMgr.playerTs.curWeapon.reloadBullet();break;case"BtnShuxing":_.gameMgr.model6_shuxing.active=!_.gameMgr.model6_shuxing.active,_.gameMgr.update_model6_shuxing();break;case"BtnHideBanner":d.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u64ad\u653e"),u.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u6210\u529f"),e.target.active=!1,_.gameMgr.canSHowGameBanner=!1,d.utils.adManager.HideBanner(p.BannerLocation.Game)},function(){d.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u5931\u8d25")});break;case"BtnCt":this._btnCt&&this._btnCt.getChildByName("share")&&this._btnCt.getChildByName("share").active?(d.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1"),u.cocosz.share(function(){d.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1-\u6210\u529f"),cc.game.emit(l.default.E_Skill_Citie)},function(){d.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1-\u5931\u8d25")})):this._btnCt&&this._btnCt.getChildByName("video")&&this._btnCt.getChildByName("video").active?(d.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u64ad\u653e"),u.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u6210\u529f"),cc.game.emit(l.default.E_Skill_Citie)},function(){d.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u5931\u8d25")})):cc.game.emit(l.default.E_Skill_Citie);break;case"BtnQpbz":this._btnQpbz&&this._btnQpbz.getChildByName("share")&&this._btnQpbz.getChildByName("share").active?(d.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8"),u.cocosz.share(function(){d.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8-\u6210\u529f"),i.effect_qpbz()},function(){d.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8-\u5931\u8d25")})):this._btnQpbz&&this._btnQpbz.getChildByName("video")&&this._btnQpbz.getChildByName("video").active?(d.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u64ad\u653e"),u.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u6210\u529f"),i.effect_qpbz()},function(){d.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u5931\u8d25")})):this.effect_qpbz()}return[2]})})},s([g],t)}(c.default));i.default=v,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/UIPage":"UIPage","../Game/gameMgr":"gameMgr",LanguageData:"LanguageData"}],UIHomePage:[function(e,t,i){"use strict";cc._RF.push(t,"1b644snyrFBGKi85JS90G3O","UIHomePage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../../common-plugin/Scripts/Utils"),d=e("../../common-plugin/Scripts/YZ_Constant"),p=e("../Game/ani"),_=e("../../common-plugin/Scripts/PlatUtils"),f=e("../Framework/FlyCoin"),g=e("../Game/gameDate"),v=e("../Game/weapon"),m=e("../Framework/Msg"),y=e("LanguageData"),w=cc._decorator,b=w.ccclass,I=(w.property,function(e){function t(){var t=e.call(this,l.PageName.UIHomePage)||this;return t._icon_set=null,t._frame_set=null,t._btnAudio=null,t._btnShake=null,t._btnSkin=null,t._btnSkinAd=null,t._btnWeapon=null,t._btnWeaponAd=null,t._playerAni=null,t._aniUpgrade=null,t._aniCaidai=null,t._weaponScroll=null,t._weaponList=[],t._ani_arrow=null,t._skinInfo_name=null,t._skinInfo_xuedi=null,t._skinInfo_value1=null,t._skinInfo_value2=null,t._skinInfo_change1=null,t._skinInfo_change2=null,t._skinInfo_level_pro=null,t._weaponInfo_name=null,t._weaponInfo_value0=null,t._weaponInfo_value1=null,t._weaponInfo_value2=null,t._weaponInfo_value3=null,t._weaponInfo_change0=null,t._weaponInfo_change1=null,t._weaponInfo_change2=null,t._weaponInfo_change3=null,t._weaponInfo_level_pro=null,t._showSkinId=u.cocosz.dataMgr.CurSkinId,t._showWeaponId=u.cocosz.dataMgr.CurRange,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){var e=this;console.log("UIHOMEPAGE ONLOAD"),["BtnSet","BtnSet/frame_set/BtnAudio","BtnSet/frame_set/BtnShake","ditai/BtnLeft","ditai/BtnRight","BtnSkin","BtnWeapon","BtnSkinAd","BtnWeaponAd","BtnCJ","BtnSign","BtnTime","BtnGameStart"].forEach(function(t){var i=cc.find(t,e._page);i&&(i.on(cc.Node.EventType.TOUCH_END,e._onBtnClickHandler,e),"BtnSet"==i.name?(e._icon_set=cc.find("Background/icon_set",i),e._frame_set=cc.find("frame_set",i)):"BtnAudio"==i.name?(e._btnAudio=i,e._updateAudioBtn(!1)):"BtnShake"==i.name?(e._btnShake=i,e._updatShakeBtn()):"BtnSkin"==i.name?e._btnSkin=i:"BtnWeapon"==i.name?e._btnWeapon=i:"BtnSkinAd"==i.name?(e._btnSkinAd=i,i.active=u.cocosz.isADON):"BtnWeaponAd"==i.name&&(e._btnWeaponAd=i,i.active=u.cocosz.isADON))}),this._playerAni=cc.find("ditai/skin_all/ani",this._page).getComponent(p.default),this._aniCaidai=cc.find("ditai/aniCaidai",this._page).getComponent(sp.Skeleton),this._aniCaidai.setCompleteListener(function(){e._aniCaidai.node.active=!1}),this._aniUpgrade=cc.find("ditai/aniUpgrade",this._page).getComponent(sp.Skeleton),this._aniUpgrade.setCompleteListener(function(){e._aniUpgrade.node.active=!1}),this._weaponScroll=cc.find("weaponScroll",this._page);for(var t=cc.find("view/content",this._weaponScroll),i=0;i<t.children.length;i++)this._weaponList.push(t.children[i]),this._weaponList[i].on(cc.Node.EventType.TOUCH_END,function(t){u.cocosz.audioMgr.playBtnEffect();var i=g.default.Weapon[t.target.name].id;e._showWeaponId=i,e._updateWeapon(),e._updateWeaponFrame();var o=u.cocosz.dataMgr.getGunInfo(i);o&&1==o.State&&(u.cocosz.dataMgr.curWeapon=i)},this);var o=cc.find("view/iconLayer",this._weaponScroll);o&&o.setParent(t),this._ani_arrow=cc.find("view/ani_arrow",this._weaponScroll),this._ani_arrow&&this._ani_arrow.setParent(t),this._skinInfo_name=cc.find("ditai/skinName",this._page).getComponent(cc.Sprite),this._skinInfo_xuedi=cc.find("jueseshuxing/xuedi",this._page),this._skinInfo_value1=cc.find("jueseshuxing/value1",this._page).getComponent(cc.Label),this._skinInfo_value2=cc.find("jueseshuxing/value2",this._page).getComponent(cc.Label),this._skinInfo_change1=cc.find("jueseshuxing/change1",this._page).getComponent(cc.Label),this._skinInfo_change2=cc.find("jueseshuxing/change2",this._page).getComponent(cc.Label),this._skinInfo_level_pro=cc.find("jueseshuxing/levelProgressBar",this._page).getComponent(cc.ProgressBar),this._weaponInfo_name=cc.find("wuqishuxing/weaponName",this._page).getComponent(cc.Sprite),this._weaponInfo_value0=cc.find("wuqishuxing/value0",this._page).getComponent(cc.Label),this._weaponInfo_value1=cc.find("wuqishuxing/value1",this._page).getComponent(cc.Label),this._weaponInfo_value2=cc.find("wuqishuxing/value2",this._page).getComponent(cc.Label),this._weaponInfo_value3=cc.find("wuqishuxing/value3",this._page).getComponent(cc.Label),this._weaponInfo_change0=cc.find("wuqishuxing/change0",this._page).getComponent(cc.Label),this._weaponInfo_change1=cc.find("wuqishuxing/change1",this._page).getComponent(cc.Label),this._weaponInfo_change2=cc.find("wuqishuxing/change2",this._page).getComponent(cc.Label),this._weaponInfo_change3=cc.find("wuqishuxing/change3",this._page).getComponent(cc.Label),this._weaponInfo_level_pro=cc.find("wuqishuxing/levelProgressBar",this._page).getComponent(cc.ProgressBar)},t.prototype._canGetBonus=function(){return(new Date).toDateString()!=u.cocosz.dataMgr.LastDailyBonusTime},t.prototype._aniEffect=function(e){switch(e){case 1:this._aniUpgrade&&(this._aniUpgrade.node.active=!0,this._aniUpgrade.setAnimation(0,"animation",!1),u.cocosz.audioMgr.playEffect("ui_upgrade"));break;case 2:this._aniCaidai&&(this._aniCaidai.node.active=!0,this._aniCaidai.setAnimation(0,"animation",!1),u.cocosz.audioMgr.playEffect("ui_caidai"))}},t.prototype.onOpen=function(){var e=this;cc.log("home open !"),h.utils.umaEvent("gamehome"),h.utils.SendEvent("\u9875\u9762-\u9996\u9875"),this._updatePlayer(),this._updateWeapon(),this._updateWeaponFrame(),h.utils.showYzRealNameAuthPanel(),h.utils.showPrivacyPanel({group:"default",parent:this._page}),h.utils.registerServerInitEvent(function(){h.utils.checkAutoSign()&&e._canGetBonus()&&u.cocosz.uiMgr.openPanel(l.PanelName.UISignPanel),e.showAd()},this),cc.game.on(l.default.E_GAME_LOGIC,this._onGameMessageHandler,this)},t.prototype.onClose=function(){cc.game.targetOff(this),h.utils.hideVivoGamePortalWidget(),h.utils.hideOppoGameDrawerAdWidget(),h.utils.adManager.hideBlockAd(),h.utils.adManager.hideNativeTryGameWidget(),h.utils.adManager.HideSingleNativeAd(),_.default.IsWechat?(h.utils.adManager.hideCustomAd({location:1}),h.utils.adManager.hideCustomAd({location:2})):_.default.IsVIVO&&h.utils.adManager.hideCustomAd({location:d.BannerLocation.Home})},t.prototype.showAd=function(){u.cocosz.isShowAd&&(_.default.IsWechat?h.utils.adManager.HideBanner(d.BannerLocation.Home):h.utils.adManager.ShowBanner(d.BannerLocation.Home,{width:.1,bottom:1}),_.default.IsWechat?(h.utils.adManager.showCustomAd({location:1}),h.utils.adManager.showCustomAd({location:2})):_.default.IsVIVO&&h.utils.adManager.showCustomAd({location:d.BannerLocation.Home}),h.utils.adManager.showNativeTryGameWidget({right:50,top:800,scale:1,parent:this._page}),h.utils.adManager.ShowSingleNativeAd({}),h.utils.adManager.showBlockAd({right:50,top:500,showNum:1}),h.utils.showMoreGamesWidget({group:"default",scale:1,bottom:300,left:50,parent:this._page,location:d.BannerLocation.Home}),h.utils.showTryGamesWidget({group:"default",scale:1,bottom:350,right:50,parent:this._page,location:d.BannerLocation.Home}),h.utils.showVivoGamePortalWidget({top:500,location:d.BannerLocation.Home}),h.utils.showOppoGameDrawerAdWidget({top:500,location:d.BannerLocation.Home}),h.utils.showCreateShortcutWidget(null,{group:"default",scale:1,left:0,top:500,parent:this._page}),h.utils.showPrivacyWidget({group:"default",top:0,left:0,parent:this._page.getChildByName("PrivacyWidget"),color:cc.Color.BLACK}))},t.prototype._onGameMessageHandler=function(e){switch(e.type){case l.default.E_Fly_Coin:this._flyCoins(e.iconName,e.frameNodeName);break;case l.default.E_CJ_SKIN:this._showSkinId=u.cocosz.dataMgr.CurSkinId,this._updatePlayer();break;case l.default.E_CJ_Weapon:this._showWeaponId=u.cocosz.dataMgr.curWeapon,this._updateWeapon(),this._updateWeaponFrame()}},t.prototype._onBtnClickHandler=function(e){return a(this,void 0,void 0,function(){var t,i,o,n,s,a,c=this;return r(this,function(r){switch(r.label){case 0:return[4,u.cocosz.audioMgr.playBtnEffect().catch()];case 1:switch(r.sent(),e.target.name){case"BtnGameStart":u.cocosz.gameMode=6,u.cocosz.gameMgr.gameStart(u.cocosz.getLevelId());break;case"BtnLeft":this._showSkinId--,this._showSkinId<0&&(this._showSkinId=11),this._updatePlayer(),(t=u.cocosz.dataMgr.getSkinInfo(this._showSkinId))&&1==t.State&&(u.cocosz.dataMgr.CurSkinId=this._showSkinId);break;case"BtnRight":this._showSkinId++,this._showSkinId>11&&(this._showSkinId=0),this._updatePlayer(),(t=u.cocosz.dataMgr.getSkinInfo(this._showSkinId))&&1==t.State&&(u.cocosz.dataMgr.CurSkinId=this._showSkinId);break;case"BtnSkin":i=u.cocosz.dataMgr.getSkinInfo(this._showSkinId),o=""+(this._showSkinId+1),0==i.State?g.default.SkinMess[o].priceType==g.PriceType.Gold?u.cocosz.dataMgr.CoinCount>=g.default.SkinMess[o].price?(u.cocosz.dataMgr.CoinCount-=g.default.SkinMess[o].price,m.default.Show(y.t("msg.gxhdxjs")),u.cocosz.dataMgr.CurSkinId=this._showSkinId,this._updatePlayer(),this._aniEffect(2)):this.showCoinPanel(!1):g.default.SkinMess[o].priceType==g.PriceType.Diamond?u.cocosz.dataMgr.DiamondCount>=g.default.SkinMess[o].price?(u.cocosz.dataMgr.DiamondCount-=g.default.SkinMess[o].price,m.default.Show(y.t("msg.gxhdxjs")),u.cocosz.dataMgr.CurSkinId=this._showSkinId,this._updatePlayer(),this._aniEffect(2)):this.showCoinPanel(!0):g.default.SkinMess[o].priceType==g.PriceType.ZhuanPanReward&&u.cocosz.uiMgr.openPanel(l.PanelName.UITurntablePanel):i.Level<6&&(u.cocosz.dataMgr.CoinCount>=l.default.skinLevelPriceArr[i.Level]?(u.cocosz.dataMgr.CoinCount-=l.default.skinLevelPriceArr[i.Level],i.Level++,u.cocosz.dataMgr.setSkinInfo(i.Id,i),this._updatePlayer(),this._aniEffect(1)):this.showCoinPanel(!1));break;case"BtnWeapon":n=u.cocosz.dataMgr.getGunInfo(this._showWeaponId),s=v.default.WeaponName[this._showWeaponId],0==n.State?g.default.Weapon[s].priceType==g.PriceType.Gold?u.cocosz.dataMgr.CoinCount>=g.default.Weapon[s].price?(u.cocosz.dataMgr.CoinCount-=g.default.Weapon[s].price,m.default.Show(y.t("msg.gxhdxwq")),u.cocosz.dataMgr.curWeapon=this._showWeaponId,this._updateWeapon(),this._updateWeaponFrame(),this._aniEffect(2)):this.showCoinPanel(!1):g.default.Weapon[s].priceType==g.PriceType.Diamond?u.cocosz.dataMgr.DiamondCount>=g.default.Weapon[s].price?(u.cocosz.dataMgr.DiamondCount-=g.default.Weapon[s].price,m.default.Show(y.t("msg.gxhdxwq")),u.cocosz.dataMgr.curWeapon=this._showWeaponId,this._updateWeapon(),this._updateWeaponFrame(),this._aniEffect(2)):this.showCoinPanel(!0):g.default.Weapon[s].priceType==g.PriceType.ZhuanPanReward&&u.cocosz.uiMgr.openPanel(l.PanelName.UITurntablePanel):n.Level<3&&(u.cocosz.dataMgr.CoinCount>=l.default.weaponLevelPriceArr[n.Level]?(u.cocosz.dataMgr.CoinCount-=l.default.weaponLevelPriceArr[n.Level],n.Level++,u.cocosz.dataMgr.setGunInfo(n.Id,n),this._updateWeapon(),this._updateWeaponFrame(),this._aniEffect(1)):this.showCoinPanel(!1));break;case"BtnSkinAd":h.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u64ad\u653e"),u.cocosz.watchAD(function(){h.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u6210\u529f");var e=u.cocosz.dataMgr.getSkinInfo(c._showSkinId),t=""+(c._showSkinId+1);e&&g.default.SkinMess[t]&&g.default.SkinMess[t].videoCount&&(e.VideoCount++,u.cocosz.dataMgr.setSkinInfo(c._showSkinId,e),e.VideoCount>=g.default.SkinMess[t].videoCount?(m.default.Show(y.t("msg.gxhdxjs")),u.cocosz.dataMgr.CurSkinId=c._showSkinId,c._aniEffect(2)):m.default.Show(y.t("msg.jswc")+e.VideoCount+"/"+g.default.SkinMess[t].videoCount),c._updatePlayer())},function(){h.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u5931\u8d25")});break;case"BtnWeaponAd":h.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u64ad\u653e"),u.cocosz.watchAD(function(){h.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u6210\u529f");var e=u.cocosz.dataMgr.getGunInfo(c._showWeaponId),t=v.default.WeaponName[c._showWeaponId];e&&g.default.Weapon[t]&&g.default.Weapon[t].videoCount&&(e.VideoCount++,u.cocosz.dataMgr.setGunInfo(c._showWeaponId,e),e.VideoCount>=g.default.Weapon[t].videoCount?(m.default.Show(y.t("msg.gxhdxwq")),u.cocosz.dataMgr.curWeapon=c._showWeaponId,c._aniEffect(2)):m.default.Show(y.t("msg.jswc")+e.VideoCount+"/"+g.default.Weapon[t].videoCount),c._updateWeapon(),c._updateWeaponFrame())},function(){h.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u5931\u8d25")});break;case"BtnCJ":u.cocosz.uiMgr.openPanel(l.PanelName.UITurntablePanel);break;case"BtnSign":u.cocosz.uiMgr.openPanel(l.PanelName.UISignPanel);break;case"BtnTime":u.cocosz.uiMgr.openPanel(l.PanelName.UITimePanel);break;case"BtnSet":this._icon_set.stopAllActions(),this._frame_set.stopAllActions(),a=(this._frame_set.scaleY?this._frame_set.scaleY:1)/2,cc.tween(this._icon_set).to(a,{angle:this._frame_set.scaleY?90:-90},{easing:"sineInOut"}).start(),cc.tween(this._frame_set).to(a,{scaleY:this._frame_set.scaleY?0:1},{easing:"sineInOut"}).start();break;case"BtnAudio":u.cocosz.dataMgr.AudioOn=!u.cocosz.dataMgr.AudioOn,this._updateAudioBtn();break;case"BtnShake":u.cocosz.dataMgr.ShakeOn=!u.cocosz.dataMgr.ShakeOn,this._updatShakeBtn()}return[2]}})})},t.prototype._updatePlayer=function(){var e=this;cc.log("showSkinID: ",this._showSkinId),this._playerAni.setSkinById(this._showSkinId),this._skinInfo_name.spriteFrame=u.cocosz.resMgr.getRes("p_"+(this._showSkinId+1),cc.SpriteFrame);var t=u.cocosz.dataMgr.getSkinInfo(u.cocosz.dataMgr.CurSkinId),i=u.cocosz.dataMgr.getSkinInfo(this._showSkinId),o=t.Level,n=i.Level,s=""+(u.cocosz.dataMgr.CurSkinId+1),a=""+(this._showSkinId+1);this._skinInfo_xuedi.children.forEach(function(t,i){i<g.default.SkinMess[a].xuedi?e._skinInfo_xuedi.children[i].opacity=255:e._skinInfo_xuedi.children[i].opacity=0}),this._skinInfo_value1.string=""+g.default.SkinMess[a].atk[n],this._skinInfo_value2.string=""+g.default.SkinMess[a].speed[n];var r=g.default.SkinMess[a].atk[n]-g.default.SkinMess[s].atk[o];r<0?(this._skinInfo_change1.string=""+r,this._skinInfo_change1.node.children[0].active=!1,this._skinInfo_change1.node.children[1].active=!0,this._skinInfo_change1.node.color=cc.Color.RED,this._skinInfo_change1.node.opacity=255):0==r?this._skinInfo_change1.node.opacity=0:(this._skinInfo_change1.string="+"+r,this._skinInfo_change1.node.children[0].active=!0,this._skinInfo_change1.node.children[1].active=!1,this._skinInfo_change1.node.color=cc.Color.GREEN,this._skinInfo_change1.node.opacity=255);var c=g.default.SkinMess[a].speed[n]-g.default.SkinMess[s].speed[o];if(c<0?(this._skinInfo_change2.string=""+c,this._skinInfo_change2.node.children[0].active=!1,this._skinInfo_change2.node.children[1].active=!0,this._skinInfo_change2.node.color=cc.Color.RED,this._skinInfo_change2.node.opacity=255):0==c?this._skinInfo_change2.node.opacity=0:(this._skinInfo_change2.string="+"+c,this._skinInfo_change2.node.children[0].active=!0,this._skinInfo_change2.node.children[1].active=!1,this._skinInfo_change2.node.color=cc.Color.GREEN,this._skinInfo_change2.node.opacity=255),this._skinInfo_level_pro.progress=n/6,i){this._btnSkin.children.forEach(function(e){return e.active=!1});var h=this._btnSkin.getChildByName("btn_huang"),d=this._btnSkin.getChildByName("btn_huang_small"),p=this._btnSkin.getChildByName("btn_hong"),_=this._btnSkin.getChildByName("txt_buy"),f=this._btnSkin.getChildByName("txt_sjwc"),v=this._btnSkin.getChildByName("txt_upgrade"),m=this._btnSkin.getChildByName("txt_zpjl"),y=this._btnSkin.getChildByName("icon_jinbi"),w=this._btnSkin.getChildByName("icon_zuanshi"),b=this._btnSkin.getChildByName("price");if(0==i.State)if(g.default.SkinMess[a]&&g.default.SkinMess[a].videoCount){this._btnSkin.x=-350,this._btnSkin.width=169,d&&(d.active=!0),g.default.SkinMess[a].priceType==g.PriceType.Gold?(y&&(y.active=!0,y.x=-50),b&&(b.active=!0,b.x=-10,b.getComponent(cc.Label).string=""+g.default.SkinMess[a].price)):g.default.SkinMess[a].priceType==g.PriceType.Diamond?(w&&(w.active=!0,w.x=-50),b&&(b.active=!0,b.x=-10,b.getComponent(cc.Label).string=""+g.default.SkinMess[a].price)):g.default.SkinMess[a].priceType==g.PriceType.ZhuanPanReward&&m&&(m.active=!0),this._btnSkinAd.active=!0;var I=this._btnSkinAd.getChildByName("videoCount");I&&(I.getComponent(cc.Label).string=i.VideoCount+"/"+g.default.SkinMess[a].videoCount)}else this._btnSkinAd.active=!1,this._btnSkin.x=-250,this._btnSkin.width=252,h&&(h.active=!0),g.default.SkinMess[a].priceType==g.PriceType.Gold?(_&&(_.active=!0),y&&(y.active=!0,y.x=0),b&&(b.active=!0,b.x=30,b.getComponent(cc.Label).string=""+g.default.SkinMess[a].price)):g.default.SkinMess[a].priceType==g.PriceType.Diamond?(_&&(_.active=!0),w&&(w.active=!0,w.x=0),b&&(b.active=!0,b.x=30,b.getComponent(cc.Label).string=""+g.default.SkinMess[a].price)):g.default.SkinMess[a].priceType==g.PriceType.ZhuanPanReward&&m&&(m.active=!0);else i.Level<6?(this._btnSkinAd.active=!1,this._btnSkin.x=-250,this._btnSkin.width=252,p&&(p.active=!0),v&&(v.active=!0),y&&(y.active=!0,y.x=0),b&&(b.active=!0,b.x=30,b.getComponent(cc.Label).string=""+l.default.skinLevelPriceArr[i.Level])):(this._btnSkinAd.active=!1,this._btnSkin.x=-250,this._btnSkin.width=252,f&&(f.active=!0))}},t.prototype._updateWeapon=function(){cc.log("showWeaponID: ",this._showWeaponId),this._playerAni.setWeaponById(this._showWeaponId),this._weaponInfo_name.spriteFrame=u.cocosz.resMgr.getRes("w_"+(this._showWeaponId+1),cc.SpriteFrame);var e=u.cocosz.dataMgr.getGunInfo(u.cocosz.dataMgr.CurRange),t=u.cocosz.dataMgr.getGunInfo(this._showWeaponId),i=e.Level,o=t.Level,n=v.default.WeaponName[u.cocosz.dataMgr.CurRange],s=v.default.WeaponName[this._showWeaponId];this._weaponInfo_value0.string=""+g.default.Weapon[s].atk[o],this._weaponInfo_value1.string=(1/g.default.Weapon[s].atkSpeed[o]).toFixed(1),this._weaponInfo_value2.string=""+g.default.Weapon[s].atkRange,this._weaponInfo_value3.string=""+g.default.Weapon[s].bulletTotal[o];var a=g.default.Weapon[s].atk[o]-g.default.Weapon[n].atk[i],r=1/g.default.Weapon[s].atkSpeed[o]-1/g.default.Weapon[n].atkSpeed[i],c=g.default.Weapon[s].atkRange-g.default.Weapon[n].atkRange,h=g.default.Weapon[s].bulletTotal[o]-g.default.Weapon[n].bulletTotal[i];if(a<0?(this._weaponInfo_change0.string=""+a,this._weaponInfo_change0.node.children[0].active=!1,this._weaponInfo_change0.node.children[1].active=!0,this._weaponInfo_change0.node.color=cc.Color.RED,this._weaponInfo_change0.node.opacity=255):0==a?this._weaponInfo_change0.node.opacity=0:(this._weaponInfo_change0.string="+"+a,this._weaponInfo_change0.node.children[0].active=!0,this._weaponInfo_change0.node.children[1].active=!1,this._weaponInfo_change0.node.color=cc.Color.GREEN,this._weaponInfo_change0.node.opacity=255),r<0?(this._weaponInfo_change1.string=""+r,this._weaponInfo_change1.node.children[0].active=!1,this._weaponInfo_change1.node.children[1].active=!0,this._weaponInfo_change1.node.color=cc.Color.RED,this._weaponInfo_change1.node.opacity=255):0==r?this._weaponInfo_change1.node.opacity=0:(this._weaponInfo_change1.string="+"+r,this._weaponInfo_change1.node.children[0].active=!0,this._weaponInfo_change1.node.children[1].active=!1,this._weaponInfo_change1.node.color=cc.Color.GREEN,this._weaponInfo_change1.node.opacity=255),c<0?(this._weaponInfo_change2.string=""+c,this._weaponInfo_change2.node.children[0].active=!1,this._weaponInfo_change2.node.children[1].active=!0,this._weaponInfo_change2.node.color=cc.Color.RED,this._weaponInfo_change2.node.opacity=255):0==c?this._weaponInfo_change2.node.opacity=0:(this._weaponInfo_change2.string="+"+c,this._weaponInfo_change2.node.children[0].active=!0,this._weaponInfo_change2.node.children[1].active=!1,this._weaponInfo_change2.node.color=cc.Color.GREEN,this._weaponInfo_change2.node.opacity=255),h<0?(this._weaponInfo_change3.string=""+h,this._weaponInfo_change3.node.children[0].active=!1,this._weaponInfo_change3.node.children[1].active=!0,this._weaponInfo_change3.node.color=cc.Color.RED,this._weaponInfo_change3.node.opacity=255):0==h?this._weaponInfo_change3.node.opacity=0:(this._weaponInfo_change3.string="+"+h,this._weaponInfo_change3.node.children[0].active=!0,this._weaponInfo_change3.node.children[1].active=!1,this._weaponInfo_change3.node.color=cc.Color.GREEN,this._weaponInfo_change3.node.opacity=255),this._weaponInfo_level_pro.progress=o/3,t){this._btnWeapon.children.forEach(function(e){return e.active=!1});var d=this._btnWeapon.getChildByName("btn_huang"),p=this._btnWeapon.getChildByName("btn_huang_small"),_=this._btnWeapon.getChildByName("btn_hong"),f=this._btnWeapon.getChildByName("txt_buy"),m=this._btnWeapon.getChildByName("txt_sjwc"),y=this._btnWeapon.getChildByName("txt_upgrade"),w=this._btnWeapon.getChildByName("txt_zpjl"),b=this._btnWeapon.getChildByName("icon_jinbi"),I=this._btnWeapon.getChildByName("icon_zuanshi"),S=this._btnWeapon.getChildByName("price");if(0==t.State)if(g.default.Weapon[s]&&g.default.Weapon[s].videoCount){this._btnWeapon.x=150,this._btnWeapon.width=169,p&&(p.active=!0),g.default.Weapon[s].priceType==g.PriceType.Gold?(b&&(b.active=!0,b.x=-50),S&&(S.active=!0,S.x=-10,S.getComponent(cc.Label).string=""+g.default.Weapon[s].price)):g.default.Weapon[s].priceType==g.PriceType.Diamond?(I&&(I.active=!0,I.x=-50),S&&(S.active=!0,S.x=-10,S.getComponent(cc.Label).string=""+g.default.Weapon[s].price)):g.default.Weapon[s].priceType==g.PriceType.ZhuanPanReward&&w&&(w.active=!0),this._btnWeaponAd.active=!0;var C=this._btnWeaponAd.getChildByName("videoCount");C&&(C.getComponent(cc.Label).string=t.VideoCount+"/"+g.default.Weapon[s].videoCount)}else this._btnWeaponAd.active=!1,this._btnWeapon.x=250,this._btnWeapon.width=252,d&&(d.active=!0),g.default.Weapon[s].priceType==g.PriceType.Gold?(f&&(f.active=!0),b&&(b.active=!0,b.x=0),S&&(S.active=!0,S.x=30,S.getComponent(cc.Label).string=""+g.default.Weapon[s].price)):g.default.Weapon[s].priceType==g.PriceType.Diamond?(f&&(f.active=!0),I&&(I.active=!0,I.x=0),S&&(S.active=!0,S.x=30,S.getComponent(cc.Label).string=""+g.default.Weapon[s].price)):g.default.Weapon[s].priceType==g.PriceType.ZhuanPanReward&&w&&(w.active=!0);else t.Level<3?(this._btnWeaponAd.active=!1,this._btnWeapon.x=250,this._btnWeapon.width=252,_&&(_.active=!0),y&&(y.active=!0),b&&(b.active=!0,b.x=0),S&&(S.active=!0,S.x=30,S.getComponent(cc.Label).string=""+l.default.weaponLevelPriceArr[t.Level])):(this._btnWeaponAd.active=!1,this._btnWeapon.x=250,this._btnWeapon.width=252,m&&(m.active=!0))}this._updateWeaponFrame()},t.prototype._updateWeaponFrame=function(){var e=u.cocosz.dataMgr.getItem(l.default.ST_GunInfo,"");if(e){var t=JSON.parse(e);if(t)for(var i=0;i<this._weaponList.length;i++){var o=this._weaponList[i];if(g.default.Weapon[o.name]&&g.default.Weapon[o.name].id>=0){var n=g.default.Weapon[o.name].id;if(t[n]){var s=t[n].State;o.getChildByName("kuang_hui").active=!(s>=1),o.name==v.default.WeaponName[this._showWeaponId]?(o.getChildByName("kuang_huang").active=!0,this._ani_arrow&&(t[n].State>0&&t[n].Level<3?(this._ani_arrow.x=o.x+30,this._ani_arrow.active=!0):this._ani_arrow.active=!1)):o.getChildByName("kuang_huang").active=!1}else o.getChildByName("kuang_hui").active=!1,o.getChildByName("kuang_huang").active=!1}else o.getChildByName("kuang_hui").active=!1,o.getChildByName("kuang_huang").active=!1}}},t.prototype.showCoinPanel=function(e){var t=cc.instantiate(u.cocosz.resMgr.getRes("UIADPanel",cc.Prefab));cc.find("Canvas").addChild(t),e&&t.getComponent("UIADPanel").setDiamond()},t.prototype._flyCoins=function(e,t){var i=cc.find(t,this._page);if(i){var o=i.parent.convertToWorldSpaceAR(i.position);f.default.Show(e,o)}},t.prototype._updateAudioBtn=function(e){void 0===e&&(e=!0),cc.find("Background/off",this._btnAudio).active=0==u.cocosz.dataMgr.AudioOn,e&&(u.cocosz.dataMgr.AudioOn?u.cocosz.audioMgr.playBgm():u.cocosz.audioMgr.stopAll())},t.prototype._updatShakeBtn=function(){cc.find("Background/off",this._btnShake).active=0==u.cocosz.dataMgr.ShakeOn},s([b],t)}(c.default));i.default=I,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/FlyCoin":"FlyCoin","../Framework/Msg":"Msg","../Framework/UIPage":"UIPage","../Game/ani":"ani","../Game/gameDate":"gameDate","../Game/weapon":"weapon",LanguageData:"LanguageData"}],UILoadingPage:[function(e,t,i){"use strict";cc._RF.push(t,"672f4K2Ni5IvZKg5f59uM3H","UILoadingPage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/UIPage"),r=e("../Framework/Constant"),c=e("../Framework/CocosZ"),l=e("../../common-plugin/Scripts/PlatUtils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=e.call(this,r.PageName.UILoadingPage)||this;return t._loadingBar=null,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){var e=cc.find("health",this._page);e&&("zh"==c.cocosz.curLanguage&&(l.default.IsHuaWei||l.default.IsOPPO||c.cocosz.isDeBug)?e.active=!0:e.active=!1),this._loadingBar=cc.find("LoadingBar",this._page).getComponent(cc.ProgressBar)},t.prototype.onOpen=function(){var e=this;cc.game.on(r.default.E_GAME_LOGIC,this._onGameMassageHandler,this),this._loadingBar.progress=.01;var t=.01;cc.tween(this._page).delay(.2).call(function(){(t+=.01)<1&&e._updateProgress(t)}).union().repeatForever().start()},t.prototype.onClose=function(){cc.game.targetOff(this)},t.prototype._onGameMassageHandler=function(e){switch(this._loadingBar.node.active=!0,e.type){case r.default.E_UPDATE_PROGRESS:this._updateProgress(e.data)}},t.prototype._updateProgress=function(e){e>this._loadingBar.progress&&(this._loadingBar.progress=e)},s([h],t)}(a.default));i.default=d,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/UIPage":"UIPage"}],UIMgr:[function(e,t,i){"use strict";cc._RF.push(t,"33548NTHxpPnbtMDUrsJscE","UIMgr");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=e("./Constant"),a=e("../UI/UILoadingPage"),r=e("../UI/UIHomePage"),c=e("../UI/UIGamePage"),l=e("../UI/UIRevivePanel"),u=e("../UI/UIGameLoadingPage"),h=e("../UI/UIPausePanel"),d=e("../UI/UITurntablePage"),p=e("../UI/UITrySkinPanel"),_=e("../UI/UIWeaponLevelPanel"),f=e("../UI/UIUpgradePanel"),g=e("../UI/UIOverPage"),v=e("../UI/UISignPage"),m=e("../UI/UITimePage"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pageDict={},t._panelDict={},t}return n(t,e),Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!1,configurable:!0}),t.prototype.openPage=function(e){if(!this._panelDict[e]||!this._panelDict[e].isOpen())if(this.closeAllPanel(),this.closeAllPage(),this._pageDict[e]&&this._pageDict[e].isValid())this._pageDict[e].open();else{var t=this._createUI(e);t&&(this._pageDict[e]=t,t.isValid()&&t.open())}},t.prototype.openPanel=function(e){if(!this._panelDict[e]||!this._panelDict[e].isOpen())if(this._panelDict[e]&&this._panelDict[e].isValid())this._panelDict[e].open();else{var t=this._createUI(e);t&&(this._panelDict[e]=t,t.isValid()&&t.open())}},t.prototype.closeAllPage=function(){for(var e in this._pageDict)e&&this._pageDict[e]&&this._pageDict[e].close()},t.prototype.closeAllPanel=function(){for(var e in this._panelDict)e&&this._panelDict[e]&&this._panelDict[e].close()},t.prototype.closePanel=function(e){this._panelDict[e]&&this._panelDict[e].isValid()&&this._panelDict[e].close()},t.prototype._createUI=function(e){switch(e){case s.PageName.UILoadingPage:return new a.default;case s.PageName.UIHomePage:return new r.default;case s.PanelName.UISignPanel:return new v.default;case s.PanelName.UITurntablePanel:return new d.default;case s.PanelName.UITimePanel:return new m.default;case s.PanelName.UITrySkinPanel:return new p.default;case s.PanelName.UIWeaponLevelPanel:return new _.default;case s.PageName.UIGameLoadingPage:return new u.default;case s.PageName.UIGamePage:return new c.default;case s.PanelName.UIPausePanel:return new h.default;case s.PanelName.UIUpgradePanel:return new f.default;case s.PanelName.UIRevivePanel:return new l.default;case s.PageName.UIOverPage:return new g.default;default:return cc.error("Can not found class "+e),null}},t}(cc.Component);i.default=y,cc._RF.pop()},{"../UI/UIGameLoadingPage":"UIGameLoadingPage","../UI/UIGamePage":"UIGamePage","../UI/UIHomePage":"UIHomePage","../UI/UILoadingPage":"UILoadingPage","../UI/UIOverPage":"UIOverPage","../UI/UIPausePanel":"UIPausePanel","../UI/UIRevivePanel":"UIRevivePanel","../UI/UISignPage":"UISignPage","../UI/UITimePage":"UITimePage","../UI/UITrySkinPanel":"UITrySkinPanel","../UI/UITurntablePage":"UITurntablePage","../UI/UIUpgradePanel":"UIUpgradePanel","../UI/UIWeaponLevelPanel":"UIWeaponLevelPanel","./Constant":"Constant"}],UIOverPage:[function(e,t,i){"use strict";cc._RF.push(t,"a9632KbIPtPCovZ1PzJnE6R","UIOverPage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../../common-plugin/Scripts/PlatUtils"),d=e("../../common-plugin/Scripts/Utils"),p=e("../../common-plugin/Scripts/YZ_Constant"),_=e("../Game/gameMgr"),f=e("../Game/UpgradeMgr"),g=(e("LanguageData"),cc._decorator),v=g.ccclass,m=(g.property,function(e){function t(){var t=e.call(this,l.PageName.UIOverPage)||this;return t._panel=null,t._mask=null,t._btnContinue=null,t._btnHome=null,t._isToHome=!1,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._mask=cc.find("Mask",this._page),this._panel=cc.find("Panel",this._page),this._btnContinue=cc.find("BtnContinue",this._panel),this._btnContinue.on(cc.Node.EventType.TOUCH_END,this._onBtnClickHandler,this),this._btnHome=cc.find("BtnHome",this._panel),this._btnHome.on(cc.Node.EventType.TOUCH_END,this._onBtnClickHandler,this)},t.prototype.onOpen=function(){d.utils.SendEvent("\u9875\u9762-\u7ed3\u7b97-"+(_.gameMgr.isWin?"\u80dc\u5229":"\u5931\u8d25")),this.showAd(),this._initPanel(),u.cocosz.dataMgr.TotoalCount_6++},t.prototype.onClose=function(){cc.game.targetOff(this),d.utils.hideVivoGamePortalWidget(),d.utils.hideOppoGameDrawerAdWidget(),d.utils.adManager.hideBlockAd(),d.utils.adManager.hideNativeTryGameWidget(),d.utils.adManager.HideSingleNativeAd(),h.default.IsWechat?(d.utils.adManager.HideBanner(p.BannerLocation.Over),d.utils.adManager.hideCustomAd({location:5}),d.utils.adManager.hideCustomAd({location:6}),d.utils.adManager.hideCustomAd({location:7})):h.default.IsVIVO&&d.utils.adManager.hideCustomAd({location:p.BannerLocation.Over})},t.prototype.showAd=function(){d.utils.adManager.ShowBanner(p.BannerLocation.Over,{width:.1,bottom:1}),d.utils.adManager.showBlockAd({top:500}),d.utils.adManager.showNativeTryGameWidget({right:95,top:500,scale:1,parent:this._page}),h.default.IsWechat?(d.utils.adManager.showCustomAd({location:5}),d.utils.adManager.showCustomAd({location:6}),d.utils.adManager.showCustomAd({location:7})):h.default.IsVIVO&&d.utils.adManager.showCustomAd({location:p.BannerLocation.Over}),d.utils.showTryGamesWidget({group:"default",scale:1,top:180,right:25,parent:this._page,location:p.BannerLocation.Over}),d.utils.showMoreGamesWidget({group:"default",scale:1,top:300,left:25,parent:this._page,location:p.BannerLocation.Over}),d.utils.showRecommendGamesList({group:"default",scale:1,parent:this._page,bottom:1e3}),d.utils.showVivoGamePortalWidget({top:500,location:p.BannerLocation.Over}),d.utils.showOppoGameDrawerAdWidget({bottom:500,location:p.BannerLocation.Over}),d.utils.showOppoRecBanner({bottom:500,left:0,location:p.BannerLocation.Over}),_.gameMgr&&_.gameMgr.isWin?d.utils.GameWin(u.cocosz.getLevelId().toString()):_.gameMgr&&_.gameMgr.isFail&&d.utils.GameFail(u.cocosz.getLevelId().toString())},t.prototype.getSkillIDName=function(e){return e+(f.upgradeMgr.upgradeSkillMaxLevelArr[e]>1?"_"+(f.upgradeMgr.upgradeSkillArr[e]+1):"")},t.prototype._initPanel=function(){if(this._mask.opacity=0,cc.tween(this._mask).to(.2,{opacity:120}).start(),this._panel.scale=0,cc.tween(this._panel).to(.3,{scale:1},{easing:"backOut"}).start(),f.upgradeMgr&&f.upgradeMgr.isValid){var e=this._panel.getChildByName("kuang_boss");if(f.upgradeMgr.bossKillId.length){var t=e.getChildByName("layout");t&&(t.active=!0,t.children.forEach(function(e){f.upgradeMgr.bossKillId.includes(parseInt(e.name))?e.active=!0:e.active=!1}))}else{var i=e.getChildByName("no");i&&(i.active=!0)}var o=this._panel.getChildByName("kuang_skill");if(f.upgradeMgr.upgradeSkillArr.includes(1)||f.upgradeMgr.upgradeSkillArr.includes(2)||f.upgradeMgr.upgradeSkillArr.includes(3)){var n=o.getChildByName("skillScrollView");if(n){n.active=!0;var s=cc.find("view/content",n);s&&f.upgradeMgr.upgradeSkillArr.forEach(function(e,t){if(3==f.upgradeMgr.upgradeSkillMaxLevelArr[t])(i=u.cocosz.resMgr.getRes("zombieSkill_icon_"+t+"_"+e,cc.SpriteFrame))&&((n=(o=new cc.Node).addComponent(cc.Sprite)).spriteFrame=i,n.sizeMode=cc.Sprite.SizeMode.CUSTOM,o.setContentSize(70,70),s.addChild(o));else if(e>0){var i,o,n;(i=u.cocosz.resMgr.getRes("zombieSkill_icon_"+t,cc.SpriteFrame))&&((n=(o=new cc.Node).addComponent(cc.Sprite)).spriteFrame=i,n.sizeMode=cc.Sprite.SizeMode.CUSTOM,o.setContentSize(70,70),s.addChild(o))}})}}else{var a=o.getChildByName("no");a&&(a.active=!0)}var r=cc.find("info",this._panel);if(r){cc.log("iswin:",_.gameMgr.isWin," isFail:",_.gameMgr.isFail),r.getChildByName("tittle").children[0].active=_.gameMgr.isWin,r.getChildByName("tittle").children[1].active=_.gameMgr.isFail,r.getChildByName("time2").getComponent(cc.Label).string=u.cocosz.StoHMS(u.cocosz.dataMgr.best_time),r.getChildByName("kill2").getComponent(cc.Label).string=u.cocosz.dataMgr.best_kill.toString(),r.getChildByName("level2").getComponent(cc.Label).string=u.cocosz.dataMgr.best_level.toString(),r.getChildByName("coin2").getComponent(cc.Label).string=u.cocosz.dataMgr.best_coin.toString();var c=r.getChildByName("newRecard1"),l=r.getChildByName("newRecard2"),h=r.getChildByName("newRecard3"),d=r.getChildByName("newRecard4");r.getChildByName("time1").getComponent(cc.Label).string=u.cocosz.StoHMS(_.gameMgr.GameTime),_.gameMgr.GameTime>u.cocosz.dataMgr.best_time&&(r.getChildByName("time1").color=cc.Color.RED,u.cocosz.dataMgr.best_time=_.gameMgr.GameTime,c.active=!0),r.getChildByName("kill1").getComponent(cc.Label).string=f.upgradeMgr.zombieKillNum.toString(),f.upgradeMgr.zombieKillNum>u.cocosz.dataMgr.best_kill&&(r.getChildByName("kill1").color=cc.Color.RED,u.cocosz.dataMgr.best_kill=f.upgradeMgr.zombieKillNum,l.active=!0),r.getChildByName("level1").getComponent(cc.Label).string=f.upgradeMgr.curLevel.toString(),f.upgradeMgr.curLevel>u.cocosz.dataMgr.best_level&&(r.getChildByName("level1").color=cc.Color.RED,u.cocosz.dataMgr.best_level=f.upgradeMgr.curLevel,h.active=!0);var p=f.upgradeMgr.zombieKillNum+10*f.upgradeMgr.curLevel+Math.min(500,Math.ceil(_.gameMgr.GameTime/10));u.cocosz.dataMgr.CoinCount+=p,r.getChildByName("coin1").getComponent(cc.Label).string=p.toString(),p>u.cocosz.dataMgr.best_coin&&(r.getChildByName("coin1").color=cc.Color.RED,u.cocosz.dataMgr.best_coin=p,d.active=!0)}}},t.prototype._onBtnClickHandler=function(e){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,u.cocosz.audioMgr.playBtnEffect().catch()];case 1:if(t.sent(),this._isToHome)return[2];switch(e.target.name){case"BtnContinue":d.utils.umaEvent("gamecontinue"),6==u.cocosz.gameMode&&u.cocosz.gameMgr.gameStart(u.cocosz.dataMgr.TotoalCount_6);break;case"BtnHome":d.utils.umaEvent("gamereturn"),u.cocosz.sceneMgr.loadScene("Home",function(){u.cocosz.uiMgr.openPage(l.PageName.UIHomePage)})}return[2]}})})},s([v],t)}(c.default));i.default=m,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/UIPage":"UIPage","../Game/UpgradeMgr":"UpgradeMgr","../Game/gameMgr":"gameMgr",LanguageData:"LanguageData"}],UIPage:[function(e,t,i){"use strict";cc._RF.push(t,"bbcc9AF2MhO8ouP3e6ksQiO","UIPage"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../common-plugin/Scripts/Utils"),n=e("./CocosZ"),s=e("./UIMgr"),a=function(){function e(e){var t=this;this._page=null,this._pageName="",this._isOpen=!1;var i=n.cocosz.resMgr.getRes(e,cc.Prefab);if(i){var o=cc.instantiate(i);o&&(this._page=o,this._pageName=e,o.active=!1,o.position=cc.Vec3.ZERO,this._isOpen=!1,this.getUIRoot().addChild(o),o.group="ui")}else n.cocosz.resMgr.loadAndCacheRes("UI/"+e,cc.Prefab,null,function(i,o){if(o){var n=cc.instantiate(o);n&&(t._page=n,t._pageName=e,n.active=!1,n.position=cc.Vec3.ZERO,t._isOpen=!1,t.getUIRoot().addChild(n),n.group="ui",t.onLoad(),t.open())}else cc.error("Prefab "+e+" is not found!")})}return e.prototype.open=function(){if(this.isValid()){if(!this._isOpen){s.default.canOpen=!0,this._isOpen=!0,this._page.active=!0,this.onOpen();var t=n.cocosz.getConfigByKey("isInterstitial_"+this._pageName);t&&("true"===t?n.cocosz.isShowAd&&o.utils.adManager.ShowInterstitial():Number.isInteger(t)&&t>0&&(e.interstitialCount[this._pageName]||(e.interstitialCount[this._pageName]=0),++e.interstitialCount[this._pageName]%t==0&&n.cocosz.isShowAd&&o.utils.adManager.ShowInterstitial()))}}else cc.log("Page is not found!")},e.prototype.close=function(){this._isOpen&&(this._isOpen=!1,this.onClose()),this.isValid()&&(this._page.active=!1,this.destroy()),"UILoadingPage"===this._pageName&&n.cocosz.resMgr.releaseSingleRes(this._pageName,cc.Prefab)},e.prototype.destroy=function(){this._isOpen&&(this._isOpen=!1),this.onDestroy(),this.isValid()&&this._page.destroy()},e.prototype.getUIRoot=function(){return cc.find("Canvas")},e.prototype.isValid=function(){return this._page&&cc.isValid(this._page)},e.prototype.isOpen=function(){return this.isValid()&&this._isOpen},e.prototype.onLoad=function(){},e.prototype.onOpen=function(){},e.prototype.onClose=function(){},e.prototype.onDestroy=function(){},e.interstitialCount={},e}();i.default=a,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","./CocosZ":"CocosZ","./UIMgr":"UIMgr"}],UIPausePanel:[function(e,t,i){"use strict";cc._RF.push(t,"45557zGvJFMOq7sodhqFlFw","UIPausePanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../../common-plugin/Scripts/PlatUtils"),l=e("../../common-plugin/Scripts/Utils"),u=e("../../common-plugin/Scripts/YZ_Constant"),h=e("../Framework/CocosZ"),d=e("../Framework/Constant"),p=e("../Framework/TweenEffect"),_=e("../Framework/UIPage"),f=e("../Game/gameMgr"),g=e("../Game/UpgradeMgr"),v=cc._decorator,m=v.ccclass,y=(v.property,function(e){function t(){var t=e.call(this,d.PanelName.UIPausePanel)||this;return t._mask=null,t._panel=null,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._mask=this._page.getChildByName("mask"),this._panel=this._page.getChildByName("Panel");for(var e=["BtnRestart","BtnResume","BtnHome"],t=0;t<e.length;t++)cc.find(e[t],this._panel).on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this)},t.prototype.onOpen=function(){l.utils.SendEvent("\u9875\u9762-\u6682\u505c"),this.showAd(),p.default.panel_mask_opacity(this._mask),p.default.panel_open_moveY(this._panel),h.cocosz.pauseCount++},t.prototype.onClose=function(){c.default.IsVIVO&&l.utils.adManager.hideCustomAd({location:u.BannerLocation.Pause}),h.cocosz.pauseCount--},t.prototype.showAd=function(){h.cocosz.isShowAd&&c.default.IsVIVO&&l.utils.adManager.showCustomAd({location:u.BannerLocation.Pause})},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,h.cocosz.audioMgr.playBtnEffect().catch()];case 1:switch(t.sent(),e.target.name){case"BtnRestart":f.gameMgr.isFail=!0,f.gameMgr.unscheduleAllCallbacks(),g.upgradeMgr&&g.upgradeMgr.unscheduleAllCallbacks(),h.cocosz.uiMgr.closePanel(d.PanelName.UIPausePanel),6==h.cocosz.gameMode&&h.cocosz.gameMgr.gameStart(h.cocosz.dataMgr.TotoalCount_6);break;case"BtnResume":cc.tween(this._panel).to(.5,{y:this._panel.y+1e3},{easing:"sineOut"}).call(function(){h.cocosz.uiMgr.closePanel(d.PanelName.UIPausePanel)}).start();break;case"BtnHome":f.gameMgr.isFail=!0,f.gameMgr.unscheduleAllCallbacks(),g.upgradeMgr&&g.upgradeMgr.unscheduleAllCallbacks(),h.cocosz.uiMgr.closePanel(d.PanelName.UIPausePanel),h.cocosz.sceneMgr.loadScene("Home",function(){h.cocosz.uiMgr.openPage(d.PageName.UIHomePage)})}return[2]}})})},s([m],t)}(_.default));i.default=y,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/TweenEffect":"TweenEffect","../Framework/UIPage":"UIPage","../Game/UpgradeMgr":"UpgradeMgr","../Game/gameMgr":"gameMgr"}],UIRevivePanel:[function(e,t,i){"use strict";cc._RF.push(t,"f624aGi/QlIuZDbTFGHQJuX","UIRevivePanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Msg"),u=e("../Framework/Constant"),h=e("../Framework/CocosZ"),d=e("../../common-plugin/Scripts/Utils"),p=e("../Game/gameMgr"),_=e("LanguageData"),f=cc._decorator,g=f.ccclass,v=(f.property,function(e){function t(){var t=e.call(this,u.PanelName.UIRevivePanel)||this;return t._mask=null,t._panel=null,t._timeLabel=null,t._proIcon=null,t._btnVideo=null,t._btnPass=null,t._tw1=null,t._tw2=null,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._mask=this._page.getChildByName("Mask"),this._panel=this._page.getChildByName("Panel"),this._timeLabel=this._panel.getChildByName("time").getComponent(cc.Label),this._proIcon=this._panel.getChildByName("shangquan").getComponent(cc.Sprite),this._btnVideo=this._panel.getChildByName("BtnVideo"),this._btnVideo.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this),this._btnPass=this._panel.getChildByName("BtnPass"),this._btnPass.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this)},t.prototype.onOpen=function(){d.utils.SendEvent("\u9875\u9762-\u590d\u6d3b"),this.showAd(),this._initPanel(),h.cocosz.pauseCount++},t.prototype.onClose=function(){h.cocosz.pauseCount--},t.prototype.showAd=function(){},t.prototype._initPanel=function(){var e=this,t=this._mask.opacity;this._mask.opacity=0,cc.tween(this._mask).to(.2,{opacity:t}).start(),this._panel.scale=0,cc.tween(this._panel).to(.3,{scale:1},{easing:"backOut"}).start();var i=9;this._tw1=cc.tween(this._timeLabel).delay(1).call(function(){e._timeLabel.string=(--i).toString()}).union().repeat(9).call(function(){h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.fail()}).start(),this._tw2=cc.tween(this._proIcon).to(9,{fillRange:0}).start()},t.prototype.stopTween=function(){6==h.cocosz.gameMode&&(this._tw1&&this._tw1.stop(),this._tw2&&this._tw2.stop())},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){var t=this;return r(this,function(){switch(h.cocosz.audioMgr.playBtnEffect(),this.stopTween(),e.target.name){case"BtnVideo":d.utils.umaEvent("gamefuhuo"),this._btnVideo.getChildByName("share")&&this._btnVideo.getChildByName("share").active?(d.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b"),h.cocosz.share(function(){d.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b-\u6210\u529f"),t._reLive()},function(){d.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b-\u5931\u8d25"),h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.fail()})):this._btnVideo.getChildByName("video")&&this._btnVideo.getChildByName("video").active?(d.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u64ad\u653e"),h.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u6210\u529f"),t._reLive()},function(){d.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u5931\u8d25"),h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.fail()})):(h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.fail());break;case"BtnPass":d.utils.umaEvent("gamesurr"),h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.fail()}return[2]})})},t.prototype._reLive=function(){l.default.Show(_.t("msg.fhcg")),h.cocosz.uiMgr.closePanel(u.PanelName.UIRevivePanel),p.gameMgr.revive()},s([g],t)}(c.default));i.default=v,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg","../Framework/UIPage":"UIPage","../Game/gameMgr":"gameMgr",LanguageData:"LanguageData"}],UISignPage:[function(e,t,i){"use strict";cc._RF.push(t,"602c3qoDuBPu43NXRhxJ3PJ","UISignPage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../Framework/Msg"),d=e("../../common-plugin/Scripts/Utils"),p=e("../Framework/TweenEffect"),_=e("LanguageData"),f=cc._decorator,g=f.ccclass,v=(f.property,[500,1e3,1500,50,2e3,2500,100]),m=function(){function e(e,t){this._index=-1,this._node=null,this._normal=null,this._current=null,this._got=null,this._label=null,this._index=e,this._node=t,this._normal=this._node.getChildByName("st1"),this._current=this._node.getChildByName("st2"),this._got=this._node.getChildByName("st3"),this._node.getChildByName("rewardLabel")&&(this._label=this._node.getChildByName("rewardLabel").getComponent(cc.Label),this._label.node.scale=.7,this._label.node.setPosition(this._node.x,this._node.y-60),this._label.node.setParent(this._node.parent),this._label.string="+"+v[this._index])}return e.prototype.setStatus=function(e){0==e?(this._normal.active=!0,this._current.active=!1,this._got.active=!1,this._label.node.active=!0):1==e?(this._normal.active=!1,this._current.active=!0,this._got.active=!1,this._label.node.active=!0):2==e&&(this._normal.active=!0,this._current.active=!1,this._got.active=!0,this._label.node.active=!1)},e.prototype.update=function(){var e=u.cocosz.dataMgr.LastDailyBonusIndex;6==e&&(e=-1);var t=u.cocosz.dataMgr.LastDailyBonusTime,i=!1;(new Date).toDateString()!=t&&this._index==e+1&&(i=!0),this._index<=e?this.setStatus(2):i?this.setStatus(1):this.setStatus(0)},e}(),y=function(e){function t(){var t=e.call(this,l.PanelName.UISignPanel)||this;return t._mask=null,t._panel=null,t._btnGet=null,t._btnDouble=null,t._btnClose=null,t._day=[],t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._panel=this._page.getChildByName("Panel"),this._mask=this._page.getChildByName("mask");for(var e=["BtnClose","BtnDouble","BtnGet"],t=0;t<e.length;t++){var i=cc.find(e[t],this._panel);i&&(i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this),"BtnGet"==i.name?this._btnGet=i:"BtnDouble"==i.name?(this._btnDouble=i,this._btnDouble.active=u.cocosz.isADON):this._btnClose=i)}for(t=0;t<6;t++){var o=new m(t,this._panel.getChildByName("Day_"+(t+1)));this._day.push(o)}},t.prototype.onOpen=function(){d.utils.umaEvent("gamegamesign"),d.utils.SendEvent("\u9875\u9762-\u7b7e\u5230"),this._initPanel()},t.prototype._initPanel=function(){p.default.panel_open_scale(this._panel),this._updateDayItem()},t.prototype._updateDayItem=function(){for(var e=0;e<6;e++)this._day[e].update()},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){var t=this;return r(this,function(){switch(u.cocosz.audioMgr.playBtnEffect(),e.target.name){case"BtnGet":if(!this._canGetBonus())return h.default.Show(_.t("msg.jryqd")),[2];this._getReward(!1);break;case"BtnDouble":if(!this._canGetBonus())return h.default.Show(_.t("msg.jryqd")),[2];d.utils.SendEvent("\u89c6\u9891-\u53cc\u500d\u7b7e\u5230-\u64ad\u653e"),u.cocosz.watchAD(function(){d.utils.SendEvent("\u89c6\u9891-\u53cc\u500d\u7b7e\u5230-\u6210\u529f"),t._getReward(!0)},function(){d.utils.SendEvent("\u89c6\u9891-\u53cc\u500d\u7b7e\u5230-\u5931\u8d25")});break;case"BtnClose":u.cocosz.uiMgr.closePanel(l.PanelName.UISignPanel)}return[2]})})},t.prototype._getReward=function(e){0==e?(d.utils.umaEvent("gamesignordinary"),d.utils.SendEvent("\u7b7e\u5230-\u666e\u901a")):(d.utils.umaEvent("gamedoublesign"),d.utils.SendEvent("\u7b7e\u5230-\u53cc\u500d"));var t=u.cocosz.dataMgr.LastDailyBonusIndex;6==t&&(t=-1);var i=t+1,o=v[i];e&&(o*=2),3==i||6==i?(h.default.Show(_.t("msg.gxhdzs")+o),u.cocosz.dataMgr.DiamondCount+=o,setTimeout(function(){cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Fly_Coin,iconName:"diamond",frameNodeName:"CoinLabel2"})},500)):(h.default.Show(_.t("msg.gxhdjb")+o),u.cocosz.dataMgr.CoinCount+=o,setTimeout(function(){cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Fly_Coin,iconName:"coin",frameNodeName:"CoinLabel"})},500)),u.cocosz.dataMgr.LastDailyBonusIndex=i,u.cocosz.dataMgr.LastDailyBonusTime=(new Date).toDateString(),u.cocosz.uiMgr.closePanel(l.PanelName.UISignPanel)},t.prototype._canGetBonus=function(){return(new Date).toDateString()!=u.cocosz.dataMgr.LastDailyBonusTime},s([g],t)}(c.default);i.default=y,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg","../Framework/TweenEffect":"TweenEffect","../Framework/UIPage":"UIPage",LanguageData:"LanguageData"}],UITimePage:[function(e,t,i){"use strict";cc._RF.push(t,"5ae23P5tJRKurJ80XOjhemY","UITimePage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../../common-plugin/Scripts/Utils"),d=e("../Framework/TweenEffect"),p=e("../Game/gameDate"),_=cc._decorator,f=_.ccclass,g=(_.property,function(){function e(e,t){this._id=0,this._node=null,this._txt_zxsc=null,this._txt_ylq=null,this._btn=null,this._label_coin=null,this._label_diamond=null,this._label_time=null,this._id=e,this._node=t,this._info=p.default.TimeReward[e],this._txt_zxsc=this._node.getChildByName("txt_zxsc"),this._txt_ylq=this._node.getChildByName("txt_ylq"),this._btn=this._node.getChildByName("btn"),this._btn.on(cc.Node.EventType.TOUCH_END,this.click,this),this._label_coin=this._node.getChildByName("label_coin").getComponent(cc.Label),this._label_coin.string=this._info.coinNum+"",this._label_diamond=this._node.getChildByName("label_diamond").getComponent(cc.Label),this._label_diamond.string=this._info.diamondNum+"",this._label_time=this._node.getChildByName("label_time").getComponent(cc.Label),this._label_time.string=u.cocosz.StoHMS(this._info.time)}return e.prototype.click=function(){var e=u.cocosz.dataMgr.receiveToday;0==e[this._id]&&(u.cocosz.audioMgr.playBtnEffect(),e[this._id]=1,u.cocosz.dataMgr.receiveToday=e,this.update(),u.cocosz.dataMgr.CoinCount+=this._info.coinNum,u.cocosz.dataMgr.DiamondCount+=this._info.diamondNum)},e.prototype.update=function(){u.cocosz.dataMgr.OnlineToday>=this._info.time?u.cocosz.dataMgr.receiveToday[this._id]?(this._btn.active=this._txt_zxsc.active=this._label_time.node.active=!1,this._txt_ylq.active=!0):(this._txt_ylq.active=this._txt_zxsc.active=this._label_time.node.active=!1,this._btn.active=!0):(this._txt_ylq.active=this._btn.active=!1,this._txt_zxsc.active=this._label_time.node.active=!0)},e}()),v=function(e){function t(){var t=e.call(this,l.PanelName.UITimePanel)||this;return t.mask=null,t.panel=null,t.label_online=null,t.itemList=[],t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this.mask=this._page.getChildByName("mask"),this.panel=this._page.getChildByName("panel");for(var e=["BtnBack"],t=0;t<e.length;t++){var i=cc.find(e[t],this.panel);i&&i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this)}this.label_online=this.panel.getChildByName("label_online").getComponent(cc.Label)},t.prototype.onOpen=function(){h.utils.SendEvent("\u9875\u9762-\u5728\u7ebf\u5956\u52b1"),this._initPanel()},t.prototype.onClose=function(){},t.prototype._initPanel=function(){var e=this;d.default.panel_mask_opacity(this.mask),d.default.panel_open_moveY(this.panel);for(var t=0;t<5;t++){var i=this.panel.getChildByName("item"+t);if(i){var o=new g(t,i);this.itemList.push(o)}}cc.tween(this._page).call(function(){e.updateTime()}).delay(1).union().repeatForever().start()},t.prototype.updateTime=function(){this.label_online.string=u.cocosz.StoHMS(u.cocosz.dataMgr.OnlineToday),this.itemList.forEach(function(e){e.update()})},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){return r(this,function(){switch(u.cocosz.audioMgr.playBtnEffect(),e.target.name){case"BtnBack":d.default.panel_close_moveY(this.panel,function(){u.cocosz.uiMgr.closePanel(l.PanelName.UITimePanel)})}return[2]})})},s([f],t)}(c.default);i.default=v,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/TweenEffect":"TweenEffect","../Framework/UIPage":"UIPage","../Game/gameDate":"gameDate"}],UITrySkinPanel:[function(e,t,i){"use strict";cc._RF.push(t,"9408ddmbX5KJqoO4VRkw0P1","UITrySkinPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../../common-plugin/Scripts/Utils"),l=e("../Framework/CocosZ"),u=e("../Framework/Constant"),h=e("../Framework/UIPage"),d=e("../Game/ani"),p=cc._decorator.ccclass,_=function(e){function t(){var t=e.call(this,u.PanelName.UITrySkinPanel)||this;return t._mask=null,t._panel=null,t.aniArr=[],t.btnArr=[],t.skinArr=[],t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._panel=this._page.getChildByName("Panel"),this._mask=this._page.getChildByName("Mask"),this.aniArr[0]=this._panel.getChildByName("ani0"),this.aniArr[1]=this._panel.getChildByName("ani1"),this.aniArr[2]=this._panel.getChildByName("ani2");for(var e=["BtnVideo0","BtnVideo1","BtnVideo2","BtnPass"],t=0;t<e.length;t++){var i=cc.find(e[t],this._panel);i&&(this.btnArr[t]=i,i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this))}},t.prototype.onOpen=function(){var e=this;c.utils.SendEvent("\u9875\u9762-\u76ae\u80a4\u8bd5\u7528"),l.cocosz.pauseCount++;var t=l.cocosz.dataMgr.getRandomLockSkin();if(t.length>0)for(var i=function(i){if(t.length>0){var n=Math.floor(Math.random()*t.length),s=t[n];t.splice(n,1),o.skinArr[i]=s;var a=o.aniArr[i].getComponent(d.default);a.setSkinById(s),a.setWeaponById(l.cocosz.dataMgr.CurRange),o.aniArr[i].opacity=0,l.cocosz.scheduleOnce(function(){e._page&&e.aniArr[i]&&cc.tween(e.aniArr[i]).set({y:500,opacity:255}).to(.4,{y:50},{easing:"sineOut"}).start()},.3*i)}else o.aniArr[i].active=!1,o.btnArr[i].active=!1},o=this,n=0;n<3;n++)i(n);else l.cocosz.uiMgr.closePanel(u.PanelName.UITrySkinPanel)},t.prototype.onClose=function(){l.cocosz.gameMgr.gameStart(l.cocosz.curLevel)},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){var t=this;return r(this,function(i){switch(i.label){case 0:return[4,l.cocosz.audioMgr.playBtnEffect().catch()];case 1:switch(i.sent(),e.target.name){case"BtnVideo0":case"BtnVideo1":case"BtnVideo2":c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u64ad\u653e"),l.cocosz.watchAD(function(){c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u6210\u529f"),"BtnVideo0"==e.target.name?l.cocosz.gameMgr.gameCtr.curUseSkinId=t.skinArr[0]:"BtnVideo1"==e.target.name?l.cocosz.gameMgr.gameCtr.curUseSkinId=t.skinArr[1]:"BtnVideo2"==e.target.name&&(l.cocosz.gameMgr.gameCtr.curUseSkinId=t.skinArr[2]),l.cocosz.uiMgr.closePanel(u.PanelName.UITrySkinPanel)},function(){c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u5931\u8d25"),l.cocosz.uiMgr.closePanel(u.PanelName.UITrySkinPanel)});break;case"BtnPass":l.cocosz.uiMgr.closePanel(u.PanelName.UITrySkinPanel)}return[2]}})})},s([p],t)}(h.default);i.default=_,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/UIPage":"UIPage","../Game/ani":"ani"}],UITurntablePage:[function(e,t,i){"use strict";cc._RF.push(t,"a2b2aQ0OHtIGIW0RibIyjtk","UITurntablePage");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../../common-plugin/Scripts/Utils"),l=e("../Framework/CocosZ"),u=e("../Framework/Constant"),h=e("../Framework/Msg"),d=e("../Framework/UIPage"),p=e("../Game/gameDate"),_=e("../Game/weapon"),f=e("LanguageData"),g=cc._decorator,v=g.ccclass,m=(g.property,function(e){function t(){var t=e.call(this,u.PanelName.UITurntablePanel)||this;return t._panel=null,t._rewardList=null,t._totalLabel=null,t._btnCJ=null,t._btnAD=null,t.startNum=0,t.startIntervalTime=10,t.addTime=1,t.isCJ=!1,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._panel=this._page.getChildByName("panel"),this._rewardList=this._panel.getChildByName("rewardList"),this._totalLabel=this._panel.getChildByName("totalLabel").getComponent(cc.Label);for(var e=["BtnBack","BtnCJ","BtnAD"],t=0;t<e.length;t++){var i=this._panel.getChildByName(e[t]);i&&(i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickHandler,this),"BtnCJ"==e[t]?this._btnCJ=i:"BtnAD"==e[t]&&(this._btnAD=i))}},t.prototype.onOpen=function(){c.utils.umaEvent("gamechoujiang"),c.utils.SendEvent("\u9875\u9762-\u62bd\u5956"),this._panel.scale=0,cc.tween(this._panel).to(.3,{scale:.8},{easing:"backOut"}).start(),cc.tween(this._page.getChildByName("guang")).by(.5,{angle:60,opacity:-150}).by(.5,{angle:60,opacity:150}).union().repeatForever().start(),this._totalLabel.string=(l.cocosz.totalCJTimes>30?30:l.cocosz.totalCJTimes)+"/30",(l.cocosz.totalCJTimes>30||l.cocosz.dataMgr.getGunInfo(10).State>0)&&(this._panel.getChildByName("w_nnp").color=cc.Color.GRAY),this.updateReward(),this.updateBtn()},t.prototype.updateReward=function(){for(var e=0;e<12;e++){var t="reward"+(e+1),i=this._rewardList.getChildByName(t);if(p.default.TurntableReward[e].type==p.RewardType.Gold){var o=i.getChildByName("gold");o&&(o.active=!0),(n=i.getChildByName("label"))&&(n.active=!0,n.zIndex=2,n.setPosition(i.x+n.x,i.y+n.y),n.setParent(this._rewardList),n.getComponent(cc.Label).string="+"+p.default.TurntableReward[e].num)}else if(p.default.TurntableReward[e].type==p.RewardType.Diamond){var n,s=i.getChildByName("diamond");s&&(s.active=!0),(n=i.getChildByName("label"))&&(n.active=!0,n.zIndex=2,n.setPosition(i.x+n.x,i.y+n.y),n.setParent(this._rewardList),n.getComponent(cc.Label).string="+"+p.default.TurntableReward[e].num)}else if(p.default.TurntableReward[e].type==p.RewardType.Skin){var a=cc.instantiate(l.cocosz.resMgr.getRes("skin"+p.default.TurntableReward[e].num,cc.Prefab));a&&(a.scale=.5,a.zIndex=1,a.setParent(this._rewardList),a.setPosition(i.x,i.y-65)),(r=i.getChildByName("nameSpr"))&&(r.active=!0,r.zIndex=2,r.setPosition(i.x+r.x,i.y+r.y),r.setParent(this._rewardList),r.getComponent(cc.Sprite).spriteFrame=l.cocosz.resMgr.getRes("p_"+p.default.TurntableReward[e].num,cc.SpriteFrame)),0!=l.cocosz.dataMgr.getSkinInfo(p.default.TurntableReward[e].num-1).State&&(c=this._rewardList.getChildByName("mask"+(e+1)))&&(c.active=!0,c.zIndex=3)}else if(p.default.TurntableReward[e].type==p.RewardType.Weapon){var r,c,u=new cc.Node,h="w_"+_.default.WeaponName[p.default.TurntableReward[e].num];u.addComponent(cc.Sprite).spriteFrame=l.cocosz.resMgr.getRes(h,cc.SpriteFrame),u.setParent(this._rewardList),u.setPosition(i.x,i.y),(r=i.getChildByName("nameSpr"))&&(r.active=!0,r.zIndex=2,r.setPosition(i.x+r.x,i.y+r.y),r.setParent(this._rewardList),r.getComponent(cc.Sprite).spriteFrame=l.cocosz.resMgr.getRes("w_"+(p.default.TurntableReward[e].num+1),cc.SpriteFrame)),0!=l.cocosz.dataMgr.getGunInfo(p.default.TurntableReward[e].num).State&&(c=this._rewardList.getChildByName("mask"+(e+1)))&&(c.active=!0,c.zIndex=3)}}},t.prototype.CJ=function(){var e=this;c.utils.umaEvent("gamechoujiang"+l.cocosz.useCJTimes),this.isCJ=!0;var t=20;t+=Math.floor(12*Math.random());var i=0,o=this.startNum,n=0;l.cocosz.audioMgr.playEffect("turntable");var s=setInterval(function(){i++,0==e.getTimeCount(i,n)&&(e._rewardList.children[o].children[0].opacity=0,++o>=12&&(o=0),p.default.TurntableReward[o].type==p.RewardType.Skin?0!=l.cocosz.dataMgr.getSkinInfo(p.default.TurntableReward[o].num-1).State&&++o>=12&&(o=0):p.default.TurntableReward[o].type==p.RewardType.Weapon&&0!=l.cocosz.dataMgr.getGunInfo(p.default.TurntableReward[o].num).State&&++o>=12&&(o=0),n++,e._rewardList.children[o].children[0].opacity=255,n>=t&&(e.startNum=o,clearInterval(s),p.default.TurntableReward[o].type==p.RewardType.Gold?(h.default.Show(f.t("msg.gxhdjb")+p.default.TurntableReward[o].num),l.cocosz.dataMgr.CoinCount+=p.default.TurntableReward[o].num):p.default.TurntableReward[o].type==p.RewardType.Diamond?(h.default.Show(f.t("msg.gxhdzs")+p.default.TurntableReward[o].num),l.cocosz.dataMgr.DiamondCount+=p.default.TurntableReward[o].num):p.default.TurntableReward[o].type==p.RewardType.Skin?(h.default.Show(f.t("msg.gxhdxjs")),l.cocosz.dataMgr.CurSkinId=p.default.TurntableReward[o].num-1,cc.game.emit(u.default.E_GAME_LOGIC,{type:u.default.E_CJ_SKIN}),e._rewardList.children[o].children[0].opacity=0,e._rewardList.getChildByName("mask6").active=!0,e._rewardList.getChildByName("mask6").zIndex=3):(h.default.Show(f.t("msg.gxhdxwq")),l.cocosz.dataMgr.curWeapon=p.default.TurntableReward[o].num,cc.game.emit(u.default.E_GAME_LOGIC,{type:u.default.E_CJ_Weapon}),e._rewardList.children[o].children[0].opacity=0,e._rewardList.getChildByName("mask12").active=!0,e._rewardList.getChildByName("mask12").zIndex=3),e.isCJ=!1,l.cocosz.useCJTimes++,l.cocosz.totalCJTimes++,e._totalLabel.string=(l.cocosz.totalCJTimes>30?30:l.cocosz.totalCJTimes)+"/30",30==l.cocosz.totalCJTimes&&0==l.cocosz.dataMgr.getGunInfo(10).State&&(h.default.Show(f.t("msg.gxhdnnp")),l.cocosz.dataMgr.curWeapon=10,e._panel.getChildByName("w_nnp").color=cc.Color.GRAY,cc.game.emit(u.default.E_GAME_LOGIC,{type:u.default.E_CJ_Weapon})),e.updateBtn()))},10)},t.prototype.getTimeCount=function(e,t){for(var i=0,o=0;o<t;o++)i+=o*this.addTime;return(e-i)%(this.startIntervalTime+t*this.addTime)},t.prototype.updateBtn=function(){l.cocosz.isADON&&l.cocosz.useCJTimes>=u.default.commonCJTimes?(this._btnCJ.active=!1,this._btnAD.active=!0):(this._btnCJ.active=!0,this._btnAD.active=!1)},t.prototype._onBtnClickHandler=function(e){return a(this,void 0,void 0,function(){var t=this;return r(this,function(i){switch(i.label){case 0:return[4,l.cocosz.audioMgr.playBtnEffect().catch()];case 1:if(i.sent(),this.isCJ)return[2];switch(e.target.name){case"BtnBack":l.cocosz.uiMgr.closePanel(u.PanelName.UITurntablePanel);break;case"BtnCJ":this.CJ();break;case"BtnAD":c.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u64ad\u653e"),l.cocosz.watchAD(function(){c.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u6210\u529f"),t.CJ()},function(){c.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u5931\u8d25")})}return[2]}})})},s([v],t)}(d.default));i.default=m,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg","../Framework/UIPage":"UIPage","../Game/gameDate":"gameDate","../Game/weapon":"weapon",LanguageData:"LanguageData"}],UIUpgradePanel:[function(e,t,i){"use strict";cc._RF.push(t,"6b4ebcCT0lEhoZZWJGVc0YS","UIUpgradePanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../Framework/UIPage"),l=e("../Framework/Constant"),u=e("../Framework/CocosZ"),h=e("../../common-plugin/Scripts/Utils"),d=e("../Framework/TweenEffect"),p=e("../Game/UpgradeMgr"),_=e("../../common-plugin/Scripts/PlatUtils"),f=e("../Game/gameMgr"),g=cc._decorator,v=g.ccclass,m=(g.property,function(e){function t(){var t=e.call(this,l.PanelName.UIUpgradePanel)||this;return t._mask=null,t._panel=null,t._skill0=null,t._skill1=null,t._skill2=null,t._skill3=null,t._skill4=null,t._btnRefresh=null,t._betterArr=[],t._otherArr=[],t._uiSkillIdArr=[],t._curIndex=-1,t._canClick=!0,t._lockArr=[!1,!1,!1,!1,!1],t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._mask=this._page.getChildByName("Mask"),this._panel=this._page.getChildByName("Panel");for(var e=["skill0","skill1","skill2","skill3","skill4","btnRefresh"],t=0;t<e.length;t++){var i=cc.find(e[t],this._panel);i&&(i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this),"skill0"==i.name?this._skill0=i:"skill1"==i.name?this._skill1=i:"skill2"==i.name?this._skill2=i:"skill3"==i.name?this._skill3=i:"skill4"==i.name?this._skill4=i:"btnRefresh"==i.name&&(this._btnRefresh=i,i.active=u.cocosz.isADON))}var o=u.cocosz.getConfigByKey("skillLockNum");if(Number.isInteger(o))for(t=0;t<5;t++)this._lockArr[t]=t+o>=5},t.prototype.onOpen=function(){h.utils.SendEvent("\u9875\u9762-\u6280\u80fd");for(var e=[p.SkillType.\u53cc\u53d1,p.SkillType.\u5b50\u5f39\u788e\u7247,p.SkillType.\u67aa\u6797\u5f39\u96e8,p.SkillType.\u8c22\u5e55,p.SkillType.\u77ac\u65a9,p.SkillType.\u51b0\u971c\u7cbe\u901a,p.SkillType.\u706b\u7130\u7cbe\u901a,p.SkillType.\u8403\u53d6,p.SkillType.\u518d\u751f,p.SkillType.\u62a4\u7532\u9774\u5b50,p.SkillType.\u75be\u8d70,p.SkillType.\u795e\u5723\u5b88\u62a4,p.SkillType.\u901a\u7075\u5315\u9996,p.SkillType.\u98de\u8f6e,p.SkillType.\u95ea\u7535,p.SkillType.\u71c3\u70e7\u74f6],t=0;t<=34;t++)[p.SkillType.\u96f7\u7535\u7cbe\u901a,p.SkillType.\u9f99\u5375,p.SkillType.\u901a\u7075\u9570\u5200].includes(t)||p.upgradeMgr&&p.upgradeMgr.isValid&&p.upgradeMgr.upgradeSkillArr[t]>=p.upgradeMgr.upgradeSkillMaxLevelArr[t]||(e.includes(t)?this._betterArr.push(t):this._otherArr.push(t));this._initPanel(),_.default.IsWechat&&(h.utils.adManager.hideCustomAd({location:3}),h.utils.adManager.hideCustomAd({location:4}))},t.prototype.onClose=function(){u.cocosz.pauseCount--,_.default.IsWechat&&(h.utils.adManager.showCustomAd({location:3}),h.utils.adManager.showCustomAd({location:4}))},t.prototype._initPanel=function(){d.default.panel_mask_opacity(this._mask),d.default.panel_open_moveY(this._panel),this._curIndex=-1,this._skill_refresh()},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){var t,i,o=this;return r(this,function(n){switch(n.label){case 0:return[4,u.cocosz.audioMgr.playBtnEffect().catch()];case 1:if(n.sent(),!this._canClick)return[2];switch(e.target.name){case"btnRefresh":this._canClick=!1,e.target.getChildByName("share")&&e.target.getChildByName("share").active?(h.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd"),u.cocosz.share(function(){h.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd-\u6210\u529f"),o._skill_refresh(),o._canClick=!0},function(){h.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd-\u5931\u8d25"),o._canClick=!0})):e.target.getChildByName("video")&&e.target.getChildByName("video").active&&(h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u64ad\u653e"),u.cocosz.watchAD(function(){h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u6210\u529f"),o._skill_refresh(),o._canClick=!0},function(){h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u5931\u8d25"),o._canClick=!0}));break;case"skill0":case"skill1":case"skill2":case"skill3":case"skill4":this._canClick=!1,t=function(){"skill0"==e.target.name?o._curIndex=0:"skill1"==e.target.name?o._curIndex=1:"skill2"==e.target.name?o._curIndex=2:"skill3"==e.target.name?o._curIndex=3:"skill4"==e.target.name&&(o._curIndex=4),o.updateFrame(),o._selectSkill()},(i=e.target.getChildByName("lock"))&&i.active?i.getChildByName("share")&&i.getChildByName("share").active?(h.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501"),u.cocosz.share(function(){h.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501-\u6210\u529f"),t&&t()},function(){h.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501-\u5931\u8d25"),o._canClick=!0})):i.getChildByName("video")&&i.getChildByName("video").active?(h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u64ad\u653e"),u.cocosz.watchAD(function(){h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u6210\u529f"),t&&t()},function(){h.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u5931\u8d25"),o._canClick=!0})):t&&t():t&&t()}return[2]}})})},t.prototype._selectSkill=function(){var e=this;this._canClick=!1,this._uiSkillIdArr[this._curIndex]&&p.upgradeMgr&&p.upgradeMgr.isValid&&p.upgradeMgr.getSkill(this._uiSkillIdArr[this._curIndex]),[this._skill0,this._skill1,this._skill2,this._skill3,this._skill4].forEach(function(t,i){i==e._curIndex?e.card_click(t):e.card_recycle(t)}),u.cocosz.scheduleOnce(function(){u.cocosz.uiMgr.closePanel(l.PanelName.UIUpgradePanel),f.gameMgr&&f.gameMgr.playerTs&&f.gameMgr.playerTs.isValid&&f.gameMgr.playerTs.avoidInjury(2)},1.5)},t.prototype._getSkillIDName=function(e){return e+(p.upgradeMgr.upgradeSkillMaxLevelArr[e]>1?"_"+(p.upgradeMgr.upgradeSkillArr[e]+1):"")},t.prototype._skill_load=function(e,t){var i=e.getChildByName("name");if(i){var o=i.getComponent(cc.Sprite);o&&u.cocosz.resMgr.loadAndCacheRes("i18n/tex_zombie/"+u.cocosz.curLanguage+"/zombieSkill_name_"+this._getSkillIDName(t),cc.SpriteFrame,null,function(e,t){o&&o.isValid&&(o.spriteFrame=t)})}var n=e.getChildByName("icon");if(n){var s=n.getComponent(cc.Sprite);s&&u.cocosz.resMgr.loadAndCacheRes("tex_zombie/zombieSkill_icon_"+this._getSkillIDName(t),cc.SpriteFrame,null,function(e,t){s&&s.isValid&&(s.spriteFrame=t)})}var a=e.getChildByName("introduce");if(a){var r=a.getComponent(cc.Sprite);r&&u.cocosz.resMgr.loadAndCacheRes("i18n/tex_zombie/"+u.cocosz.curLanguage+"/zombieSkill_introduce_"+this._getSkillIDName(t),cc.SpriteFrame,null,function(e,t){r&&r.isValid&&(r.spriteFrame=t)})}},t.prototype._skill_refresh=function(){var e;if(this._uiSkillIdArr.length=0,this._betterArr.length)for(var t=Math.min(5-this._uiSkillIdArr.length,this._betterArr.length);t>0;t--){var i=Math.floor(Math.random()*this._betterArr.length);this._betterArr[i]>=0&&(this._uiSkillIdArr.push(this._betterArr[i]),this._betterArr.splice(i,1))}if(this._otherArr.length)for(t=Math.min(5-this._uiSkillIdArr.length,this._otherArr.length);t>0;t--)i=Math.floor(Math.random()*this._otherArr.length),this._otherArr[i]>=0&&(this._uiSkillIdArr.push(this._otherArr[i]),this._otherArr.splice(i,1));for(t=0;t<this._uiSkillIdArr.length;t++)if(2==p.upgradeMgr.upgradeSkillArr[this._uiSkillIdArr[t]]&&!this._lockArr[t])for(var o=this._uiSkillIdArr.length-1;o>t;o--)this._lockArr[o]&&2!=p.upgradeMgr.upgradeSkillArr[this._uiSkillIdArr[o]]&&(e=[this._uiSkillIdArr[o],this._uiSkillIdArr[t]],this._uiSkillIdArr[t]=e[0],this._uiSkillIdArr[o]=e[1]);if(this._uiSkillIdArr[0]>=0){this._skill0.active=!0;var n=this._uiSkillIdArr[0];this._skill_load(this._skill0,n)}else this._skill0.active=!1;this._uiSkillIdArr[1]>=0?(this._skill1.active=!0,n=this._uiSkillIdArr[1],this._skill_load(this._skill1,n)):this._skill1.active=!1,this._uiSkillIdArr[2]>=0?(this._skill2.active=!0,n=this._uiSkillIdArr[2],this._skill_load(this._skill2,n)):this._skill2.active=!1,this._uiSkillIdArr[3]>=0?(this._skill3.active=!0,n=this._uiSkillIdArr[3],this._skill_load(this._skill3,n)):this._skill3.active=!1,this._uiSkillIdArr[4]>=0?(this._skill4.active=!0,n=this._uiSkillIdArr[4],this._skill_load(this._skill4,n)):this._skill4.active=!1,0==this._otherArr.length&&this._btnRefresh&&this._btnRefresh.active&&(this._btnRefresh.active=!1),this.updateFrame()},t.prototype.updateFrame=function(){this._skill0.children[0].active=0==this._curIndex,this._skill1.children[0].active=1==this._curIndex,this._skill2.children[0].active=2==this._curIndex,this._skill3.children[0].active=3==this._curIndex,this._skill4.children[0].active=4==this._curIndex,this._skill0.children[5].active=this._lockArr[0]&&0!=this._curIndex,this._skill1.children[5].active=this._lockArr[1]&&1!=this._curIndex,this._skill2.children[5].active=this._lockArr[2]&&2!=this._curIndex,this._skill3.children[5].active=this._lockArr[3]&&3!=this._curIndex,this._skill4.children[5].active=this._lockArr[4]&&4!=this._curIndex},t.prototype.card_click=function(e){e.zIndex=cc.macro.MAX_ZINDEX,cc.tween(e).to(.5,{x:0,y:200},{easing:"sineIn"}).to(1,{scale:2,opacity:0},{easing:"fade"}).start()},t.prototype.card_recycle=function(e){var t=e.getChildByName("btnUnLock");t&&(t.active=!1),cc.tween(e).to(.5,{opacity:0},{easing:"sineIn"}).start()},s([v],t)}(c.default));i.default=m,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/TweenEffect":"TweenEffect","../Framework/UIPage":"UIPage","../Game/UpgradeMgr":"UpgradeMgr","../Game/gameMgr":"gameMgr"}],UIWeaponLevelPanel:[function(e,t,i){"use strict";cc._RF.push(t,"83dfcUFp79CK5jLHVT/rcgh","UIWeaponLevelPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("../../common-plugin/Scripts/Utils"),l=e("../Framework/CocosZ"),u=e("../Framework/Constant"),h=e("../Framework/Msg"),d=e("../Framework/UIPage"),p=e("../Game/gameDate"),_=e("../Game/weapon"),f=e("LanguageData"),g=cc._decorator.ccclass,v=function(e){function t(){var t=e.call(this,u.PanelName.UIWeaponLevelPanel)||this;return t._panel=null,t.weapon=null,t.weaponId=0,t.isRange=!0,t.isValid()&&t.onLoad(),t}return n(t,e),t.prototype.onLoad=function(){this._panel=this._page.getChildByName("Panel"),this.weapon=this._panel.getChildByName("weapon").getComponent(cc.Sprite);for(var e=["BtnPass","BtnVideo"],t=0;t<e.length;t++){var i=cc.find(e[t],this._panel);i&&i.on(cc.Node.EventType.TOUCH_END,this._onBtnClickedHandler,this)}},t.prototype.onOpen=function(){c.utils.SendEvent("\u9875\u9762-\u6b66\u5668\u5347\u7ea7"),l.cocosz.pauseCount++;var e="",t=0,i=l.cocosz.dataMgr.getGunInfo(l.cocosz.dataMgr.CurRange).Level,o=l.cocosz.dataMgr.getGunInfo(l.cocosz.dataMgr.CurMelee).Level;if(i<3)this.isRange=!0,this.weaponId=l.cocosz.dataMgr.CurRange,e=_.default.WeaponName[this.weaponId],t=i,this.weapon.spriteFrame=l.cocosz.resMgr.getRes("w_"+e,cc.SpriteFrame);else{if(!(o<3))return void l.cocosz.uiMgr.closePanel(u.PanelName.UIWeaponLevelPanel);this.isRange=!1,this.weaponId=l.cocosz.dataMgr.CurMelee,e=_.default.WeaponName[this.weaponId],t=o,this.weapon.spriteFrame=l.cocosz.resMgr.getRes("w_"+e,cc.SpriteFrame)}var n=p.default.Weapon[e],s=cc.find("kuang/txt1",this._panel);if(s&&(g=s.getComponent(cc.RichText))){var a=n.atk[t],r=n.atk[3]-a;g.string="<outline color=black width=2><color=white>"+f.t("try.gjl")+": "+a+"</c><color=green}>"+(r>0?" +"+r:"")+"</c></outline>"}var h=cc.find("kuang/txt2",this._panel);h&&(g=h.getComponent(cc.RichText))&&(a=1/n.atkSpeed[t],r=1/n.atkSpeed[3]-a,g.string="<outline color=black width=2><color=white>"+f.t("try.gjpl")+": "+a+"</c><color=green}>"+(r>0?" +"+r:"")+"</c></outline>");var d=cc.find("kuang/txt3",this._panel);d&&(g=d.getComponent(cc.RichText))&&(a=n.atkRange,g.string="<outline color=black width=2><color=white>"+f.t("try.gjfw")+": "+a+"</c></outline>");var g,v=cc.find("kuang/txt4",this._panel);v&&(g=v.getComponent(cc.RichText))&&(a=n.bulletTotal[t],r=n.bulletTotal[3]-a,g.string="<outline color=black width=2><color=white>"+f.t("try.dyl")+": "+(this.isRange?a:"\u267e")+"</c><color=green}>"+(r>0?" +"+r:"")+"</c></outline>")},t.prototype.onClose=function(){l.cocosz.gameMgr.gameStart(l.cocosz.curLevel)},t.prototype._onBtnClickedHandler=function(e){return a(this,void 0,void 0,function(){var t=this;return r(this,function(i){switch(i.label){case 0:return[4,l.cocosz.audioMgr.playBtnEffect().catch()];case 1:switch(i.sent(),e.target.name){case"BtnPass":l.cocosz.uiMgr.closePanel(u.PanelName.UIWeaponLevelPanel);break;case"BtnVideo":c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u64ad\u653e"),l.cocosz.watchAD(function(){c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u6210\u529f");var e=l.cocosz.dataMgr.getGunInfo(t.weaponId);e.Level=3,l.cocosz.dataMgr.setGunInfo(t.weaponId,e),h.default.Show(f.t("msg.sjcg")),l.cocosz.uiMgr.closePanel(u.PanelName.UIWeaponLevelPanel)},function(){c.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u5931\u8d25"),l.cocosz.uiMgr.closePanel(u.PanelName.UIWeaponLevelPanel)})}return[2]}})})},s([g],t)}(d.default);i.default=v,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg","../Framework/UIPage":"UIPage","../Game/gameDate":"gameDate","../Game/weapon":"weapon",LanguageData:"LanguageData"}],UpgradeMgr:[function(e,t,i){"use strict";cc._RF.push(t,"f4901QXz85C5Y7PEKsAdvsM","UpgradeMgr");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.upgradeMgr=i.SkillType=void 0;var a,r=e("../Framework/CocosZ"),c=e("../Framework/Constant"),l=e("./bullet"),u=e("./gameMgr"),h=e("./jingyan"),d=e("./ZombieBase"),p=cc._decorator,_=p.ccclass,f=p.property;(function(e){e[e["\u6574\u88c5\u5f85\u53d1"]=0]="\u6574\u88c5\u5f85\u53d1",e[e["\u7784\u51c6"]=1]="\u7784\u51c6",e[e["\u5f3a\u5316"]=2]="\u5f3a\u5316",e[e["\u77ac\u65a9"]=3]="\u77ac\u65a9",e[e["\u5f3a\u529b\u5c04\u51fb"]=4]="\u5f3a\u529b\u5c04\u51fb",e[e["\u7a83\u9b42\u5f39\u5939"]=5]="\u7a83\u9b42\u5f39\u5939",e[e["\u79d1\u6280\u5b50\u5f39"]=6]="\u79d1\u6280\u5b50\u5f39",e[e["\u7ad9\u59ff\u5c04\u51fb"]=7]="\u7ad9\u59ff\u5c04\u51fb",e[e["\u5b50\u5f39\u788e\u7247"]=8]="\u5b50\u5f39\u788e\u7247",e[e["\u53cc\u53d1"]=9]="\u53cc\u53d1",e[e["\u8c22\u5e55"]=10]="\u8c22\u5e55",e[e["\u67aa\u6797\u5f39\u96e8"]=11]="\u67aa\u6797\u5f39\u96e8",e[e["\u75be\u8d70"]=12]="\u75be\u8d70",e[e["\u8dd1\u52a8\u5c04\u51fb"]=13]="\u8dd1\u52a8\u5c04\u51fb",e[e["\u610f\u6c14\u98ce\u53d1"]=14]="\u610f\u6c14\u98ce\u53d1",e[e["\u62a4\u7532\u9774\u5b50"]=15]="\u62a4\u7532\u9774\u5b50",e[e["\u78c1\u573a"]=16]="\u78c1\u573a",e[e["\u7075\u80fd\u8865\u7ed9"]=17]="\u7075\u80fd\u8865\u7ed9",e[e["\u5bb9\u5149\u7115\u53d1"]=18]="\u5bb9\u5149\u7115\u53d1",e[e["\u9e70\u773c"]=19]="\u9e70\u773c",e[e["\u751f\u547d\u529b"]=20]="\u751f\u547d\u529b",e[e["\u518d\u751f"]=21]="\u518d\u751f",e[e["\u8fdb\u5316"]=22]="\u8fdb\u5316",e[e["\u8403\u53d6"]=23]="\u8403\u53d6",e[e["\u706b\u7130\u7cbe\u901a"]=24]="\u706b\u7130\u7cbe\u901a",e[e["\u96f7\u7535\u7cbe\u901a"]=25]="\u96f7\u7535\u7cbe\u901a",e[e["\u51b0\u971c\u7cbe\u901a"]=26]="\u51b0\u971c\u7cbe\u901a",e[e["\u53cc\u91cd\u9644\u9b54"]=27]="\u53cc\u91cd\u9644\u9b54",e[e["\u9f99\u5375"]=28]="\u9f99\u5375",e[e["\u901a\u7075\u5315\u9996"]=29]="\u901a\u7075\u5315\u9996",e[e["\u901a\u7075\u9570\u5200"]=30]="\u901a\u7075\u9570\u5200",e[e["\u795e\u5723\u5b88\u62a4"]=31]="\u795e\u5723\u5b88\u62a4",e[e["\u98de\u8f6e"]=32]="\u98de\u8f6e",e[e["\u95ea\u7535"]=33]="\u95ea\u7535",e[e["\u71c3\u70e7\u74f6"]=34]="\u71c3\u70e7\u74f6"})(a=i.SkillType||(i.SkillType={})),i.upgradeMgr=null;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.zombieKillNum=0,t.bossKillId=[],t.jingyanLayer=null,t.jingyanPre=null,t.jingyanRange=200,t._jingyanArr=[5,10,20,25,30,40,50,60,60,70,80,90,100,110,120,130,150,170,200,220,250,280,300,350,400,500,1e3],t.upgradeSkillArr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.upgradeSkillMaxLevelArr=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3],t.skill_14=1,t.skill_18=0,t.skill_magic=0,t._maxLevel=25,t._curLevel=0,t._curMaxJingyan=t._jingyanArr[t.curLevel],t._curJingyan=0,t.canUpgrade=!0,t.skillImgArr=[],t._canAccelerate=!0,t._bishou=null,t.hudun=null,t._zaishengCdTime=0,t._feilun=null,t._posArr=[[[500,0]],[[500,0],[-500,0]],[[500,0],[-300,400],[-300,-400]],[[500,0],[-500,0],[0,500],[0,-500]]],t._shandianCount=0,t._shandianNum=[1,1,3,5],t._shandiCdTime=0,t._fireCount=0,t._fireNum=[1,1,2,3],t._fireCdTime=0,t}return n(t,e),Object.defineProperty(t.prototype,"curLevel",{get:function(){return this._curLevel},set:function(e){e<0?e=0:e>this._maxLevel&&(e=this._maxLevel),e>=this._curLevel&&(this._curLevel=e,u.gameMgr.model6_levelLabel.string=""+this._curLevel,this.upgradeEffect(),r.cocosz.pauseCount++,r.cocosz.uiMgr.openPanel(c.PanelName.UIUpgradePanel),this._curJingyan-=this._curMaxJingyan,this._curMaxJingyan=this._jingyanArr[this.curLevel])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curJingyan",{get:function(){return this._curJingyan},set:function(e){e<0&&(e=0),this._curJingyan=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){i.upgradeMgr=this,cc.game.on(c.default.E_GAME_LOGIC,this._onGameMessageHandler,this),this.jingyanPre=r.cocosz.resMgr.getRes("jingyan",cc.Prefab),this.jingyanLayer=new cc.Node,this.jingyanLayer.name="jingyanLayer",this.jingyanLayer.zIndex=c.ZindexLayer.zinedx_jingyan,this.jingyanLayer.setPosition(cc.Vec2.ZERO),this.jingyanLayer.setParent(this.node)},t.prototype.start=function(){},t.prototype.onDestroy=function(){i.upgradeMgr=null,cc.game.targetOff(this)},t.prototype.update=function(){if(u.gameMgr&&u.gameMgr.model6_jingyanBar){var e=u.gameMgr.model6_jingyanBar.progress,t=this.curJingyan/this._curMaxJingyan;0==t&&(t=.001),u.gameMgr.model6_jingyanBar.progress=cc.misc.lerp(e,t,.2)}this.canUpgrade&&!r.cocosz.isPause&&this.curLevel<this._maxLevel&&this._curJingyan>=this._curMaxJingyan&&(this.curLevel+=1)},t.prototype.isHaveSkill=function(e){return this.upgradeSkillArr[e]>0},t.prototype.setSkillImg=function(e){var t="zombieSkill_icon_"+e+(this.upgradeSkillMaxLevelArr[e]>1?"_"+this.upgradeSkillArr[e]:""),i=r.cocosz.resMgr.getRes(t,cc.SpriteFrame);if(i&&u.gameMgr.model6_skillScrollView_content&&u.gameMgr.model6_skillScrollView_content.isValid&&(!this.skillImgArr[e]&&u.gameMgr.model6_skillScrollView_item&&(this.skillImgArr[e]=cc.instantiate(u.gameMgr.model6_skillScrollView_item),this.skillImgArr[e].active=!0,this.skillImgArr[e].setParent(u.gameMgr.model6_skillScrollView_content),u.gameMgr.model6_skillScrollView_content.width>u.gameMgr.model6_skillScrollView.node.width&&u.gameMgr.model6_skillScrollView.scrollToRight()),this.skillImgArr[e])){var o=this.skillImgArr[e].getComponent(cc.Sprite);o&&(o.spriteFrame=i)}},t.prototype.setSkillCD=function(e,t){if(this.skillImgArr[e]){var i=this.skillImgArr[e].getChildByName("skillCD");if(i){i.active=!0,i.opacity=255,cc.tween(i.children[0].getComponent(cc.Sprite)).set({fillRange:1}).to(t,{fillRange:0}).call(function(){i.opacity=0}).start();var o=t,n=i.children[1].getComponent(cc.Label);cc.tween(i).call(function(){n.string=o.toString(),o--}).delay(1).union().repeat(t).start()}}},t.prototype.getSkill=function(e){var t=this;switch(this.upgradeSkillArr[e]++,this.setSkillImg(e),e){case a.\u6574\u88c5\u5f85\u53d1:u.gameMgr.playerTs&&u.gameMgr.playerTs.curWeapon&&(u.gameMgr.playerTs.curWeapon.bulletNum+=4);break;case a.\u7784\u51c6:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkRate*=1.25);break;case a.\u5f3a\u5316:u.gameMgr.playerTs&&u.gameMgr.playerTs.curWeapon&&(u.gameMgr.playerTs.curWeapon.bulletNum+=2,u.gameMgr.playerTs.atkRate*=1.1);break;case a.\u77ac\u65a9:break;case a.\u5f3a\u529b\u5c04\u51fb:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkRate*=1.2);break;case a.\u7a83\u9b42\u5f39\u5939:break;case a.\u79d1\u6280\u5b50\u5f39:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkSpeedRate-=.1);break;case a.\u7ad9\u59ff\u5c04\u51fb:var i=!0;this.schedule(function(){i&&0==u.gameMgr.playerTs.moveDir.mag()?(i=!1,u.gameMgr.playerTs.atkRate*=1.3):!i&&u.gameMgr.playerTs.moveDir.mag()>0&&(i=!0,u.gameMgr.playerTs.atkRate/=1.3)},.1);break;case a.\u5b50\u5f39\u788e\u7247:break;case a.\u53cc\u53d1:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkBulletNum+=1);break;case a.\u8c22\u5e55:break;case a.\u67aa\u6797\u5f39\u96e8:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkBulletNum*=2);break;case a.\u75be\u8d70:u.gameMgr.playerTs&&(u.gameMgr.playerTs.speedRate*=1.1);break;case a.\u8dd1\u52a8\u5c04\u51fb:var o=!0;this.schedule(function(){o&&u.gameMgr.playerTs.isAtk?(o=!1,u.gameMgr.playerTs.speedRate*=1.2):o||u.gameMgr.playerTs.isAtk||(o=!0,u.gameMgr.playerTs.speedRate/=1.2)},.1);break;case a.\u610f\u6c14\u98ce\u53d1:this.schedule(function(){if(u.gameMgr.playerTs){var e=t.skill_14+.1;e>1.4?e=1.4:e<1&&(e=1),u.gameMgr.playerTs.atkRate*=e/t.skill_14,u.gameMgr.playerTs.speedRate*=e/t.skill_14,t.skill_14=e}},10);break;case a.\u62a4\u7532\u9774\u5b50:break;case a.\u78c1\u573a:this.jingyanRange+=200;break;case a.\u7075\u80fd\u8865\u7ed9:case a.\u5bb9\u5149\u7115\u53d1:this.jingyanRange+=50;break;case a.\u9e70\u773c:this.jingyanRange+=50,cc.tween(u.gameMgr.mainCamera).to(1,{zoomRatio:.6}).start();break;case a.\u751f\u547d\u529b:u.gameMgr.playerTs&&(u.gameMgr.playerTs.totleHp+=1,u.gameMgr.playerTs.HP=u.gameMgr.playerTs.totleHp,this.scheduleOnce(function(){u.gameMgr.playerTs.recoverEffect()},1));break;case a.\u518d\u751f:this.schedule(function(){t._updateZaisheng()},1);break;case a.\u8fdb\u5316:u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkRate*=1.1,u.gameMgr.playerTs.totleHp+=1,u.gameMgr.playerTs.HP+=1,this.scheduleOnce(function(){u.gameMgr.playerTs.recoverEffect()},1));break;case a.\u8403\u53d6:case a.\u706b\u7130\u7cbe\u901a:case a.\u51b0\u971c\u7cbe\u901a:case a.\u53cc\u91cd\u9644\u9b54:break;case a.\u901a\u7075\u5315\u9996:(n=r.cocosz.resMgr.getRes("zombieSkill_bishou",cc.Prefab))&&u.gameMgr&&u.gameMgr.playerTs&&(this._bishou=cc.instantiate(n),this._bishou.setParent(this.node),this._bishou.zIndex=cc.macro.MAX_ZINDEX,this._bishou.active=!1,this.updateBishou());break;case a.\u795e\u5723\u5b88\u62a4:if((n=r.cocosz.resMgr.getRes("zombieSkill_hudun",cc.Prefab))&&u.gameMgr&&u.gameMgr.playerTs){this.hudun=cc.instantiate(n),this.hudun.setParent(u.gameMgr.playerTs.node),this.hudun.setPosition(0,0),this.hudun.zIndex=cc.macro.MAX_ZINDEX-1;break}case a.\u98de\u8f6e:var n;(n=r.cocosz.resMgr.getRes("zombieSkill_feilun",cc.Prefab))&&u.gameMgr&&u.gameMgr.playerTs&&(this._feilun&&this._feilun.isValid&&this._feilun.destroy(),this._feilun=cc.instantiate(n),this._feilun.setParent(u.gameMgr.playerTs.node),this._feilun.setPosition(cc.Vec2.ZERO),this._feilun.active=!0,this._feilun.zIndex=cc.macro.MAX_ZINDEX,this.updateFeilun(this.upgradeSkillArr[a.\u98de\u8f6e]));break;case a.\u95ea\u7535:1==this.upgradeSkillArr[a.\u95ea\u7535]&&this.schedule(this.updateShandian,1);break;case a.\u71c3\u70e7\u74f6:1==this.upgradeSkillArr[a.\u71c3\u70e7\u74f6]&&this.schedule(this.updateFire,1)}},t.prototype._onGameMessageHandler=function(e){var t=this;switch(e.type){case c.default.E_Jingyan_Finish:this.isHaveSkill(a.\u7075\u80fd\u8865\u7ed9)?u.gameMgr&&u.gameMgr.playerTs&&Math.random()<.01&&(u.gameMgr.playerTs.curWeapon.curBullet+=1):this.isHaveSkill(a.\u5bb9\u5149\u7115\u53d1)&&this.skill_18<3&&(0==this.skill_18&&this.accelerate(),this.skill_18++);break;case c.default.E_Zombie_Hart:if(e.node&&e.node.isValid)if(this.isHaveSkill(a.\u77ac\u65a9)&&this.canAddMagic(e.node,a.\u77ac\u65a9))this.skill_effect_3(e.node);else{var i=[];if(this.isHaveSkill(a.\u706b\u7130\u7cbe\u901a)&&this.canAddMagic(e.node,a.\u706b\u7130\u7cbe\u901a)&&i.push(a.\u706b\u7130\u7cbe\u901a),this.isHaveSkill(a.\u51b0\u971c\u7cbe\u901a)&&this.canAddMagic(e.node,a.\u51b0\u971c\u7cbe\u901a)&&i.push(a.\u51b0\u971c\u7cbe\u901a),i.length)switch(i[Math.floor(Math.random()*i.length)]){case a.\u706b\u7130\u7cbe\u901a:this.skill_effect_24(e.node);break;case a.\u51b0\u971c\u7cbe\u901a:this.skill_effect_26(e.node)}}break;case c.default.E_Zombie_Death:if(e.node){if(this.isHaveSkill(a.\u5b50\u5f39\u788e\u7247)&&e.from){var o=30*Math.random();this.createBullet(e.node,30+o,40),this.createBullet(e.node,150+o,40),this.createBullet(e.node,270+o,40)}else this.isHaveSkill(a.\u8403\u53d6)&&u.gameMgr&&u.gameMgr.playerTs&&u.gameMgr.playerTs.HP<u.gameMgr.playerTs.totleHp&&Math.random()<.05&&(u.gameMgr.playerTs.HP+=1,u.gameMgr.playerTs.recoverEffect());var n=e.node.getComponent(d.default);n&&(this.zombieKillNum++,n.isBoss&&(this.bossKillId.push(n.zombieId),0==u.gameMgr.bossArr.length&&u.gameMgr.win()))}break;case c.default.E_Bullet_Last:this.isHaveSkill(a.\u8c22\u5e55)&&u.gameMgr.playerTs&&(this.createBullet(e.node,36,40),this.createBullet(e.node,108,40),this.createBullet(e.node,180,40),this.createBullet(e.node,252,40),this.createBullet(e.node,324,40),this.scheduleOnce(function(){t.createBullet(e.node,72,40),t.createBullet(e.node,144,40),t.createBullet(e.node,216,40),t.createBullet(e.node,288,40),t.createBullet(e.node,360,40)},0));break;case c.default.E_Bullet_Reload:this.isHaveSkill(a.\u7a83\u9b42\u5f39\u5939)&&u.gameMgr.playerTs&&(u.gameMgr.playerTs.atkRate*=1.3,this.scheduleOnce(function(){u.gameMgr.playerTs.atkRate/=1.3},1));break;case c.default.E_Player_Hart:this.isHaveSkill(a.\u610f\u6c14\u98ce\u53d1)&&(this.skill_14=1);break;case c.default.E_Player_Death:this.hudun&&(this.hudun.opacity=0)}},t.prototype.createJingyan=function(e){if(this.jingyanPre&&this.jingyanLayer){var t=u.gameMgr.nodeGet("jingyan",this.jingyanPre),i=t.getComponent(h.default);i&&i.init(),t.setPosition(e),t.setParent(this.jingyanLayer)}},t.prototype.upgradeEffect=function(){if(u.gameMgr.playerTs&&u.gameMgr.playerTs.isValid){var e=r.cocosz.resMgr.getRes("zombieSkill_sjgx",cc.Prefab);if(e){var t=cc.instantiate(e);t.setPosition(cc.Vec2.ZERO),t.setParent(u.gameMgr.playerTs.node),u.gameMgr.playEffect("LevelUp")}}},t.prototype.createBullet=function(e,t,i){if(this.bulletPrefab){var o=cc.v2(1,0).rotateSelf(cc.misc.degreesToRadians(t)),n=cc.instantiate(this.bulletPrefab);n.parent=this.node,n.setPosition(e.getPosition()),n.angle=t;var s=n.getPosition(),a=s.add(o.mul(1e3));cc.tween(n).to(a.sub(s).mag()/2500,{position:cc.v3(a)}).call(function(){var e=n.getComponent(l.default);if(e.boomEffect){var t=cc.instantiate(e.boomEffect);t.parent=e.node.parent,t.setPosition(e.node.getPosition()),t.zIndex=c.ZindexLayer.zindex_bomb;var i=t.getComponent(l.default);if(i.atk=e.atk,i.atker=e.atker,i.id=e.id,u.gameMgr.playEffect("explo",t),e.hitEffect){var o=n.getPosition(),s=cc.instantiate(e.hitEffect);s.parent=n.parent,s.setPosition(o),s.zIndex=c.ZindexLayer.zindex_effect_hit}}n.destroy()}).start();var r=n.getComponent(l.default);r.id=1,r.atker=null,r.atk=i,r.dir=o}},t.prototype.accelerate=function(){var e=this;if(0==this.skill_18){if(!this._canAccelerate)return this._canAccelerate=!0,void(u.gameMgr.playerTs&&(u.gameMgr.playerTs.speedRate/=1.5));this._canAccelerate=!1,u.gameMgr.playerTs&&(u.gameMgr.playerTs.speedRate*=1.5)}this.scheduleOnce(function(){e.skill_18--,e.accelerate()},1)},t.prototype.magic_hart_rate=function(){return this.isHaveSkill(a.\u53cc\u91cd\u9644\u9b54)&&this.skill_magic>1?1.5:1},t.prototype.canAddMagic=function(e,t){if(!e||!e.isValid)return!1;var i=e.getComponent(d.default);if(!i)return!1;if(i.HP<=0)return!1;for(var o=0;o<e.childrenCount;o++)if(e.children[o].name=="zombieSkill_"+a.\u77ac\u65a9)return!1;if(!(t>=0))return!1;if(t==a.\u77ac\u65a9){if(i.isBoss||i.totleHp>0&&i.HP/i.totleHp>.4)return!1}else{for(o=0;o<e.childrenCount;o++)if(e.children[o].name.includes("zombieSkill"))return!1;if(i.isBoss){if(t==a.\u706b\u7130\u7cbe\u901a)return Math.random()<.2;if(t==a.\u51b0\u971c\u7cbe\u901a)return Math.random()<.2}}return!0},t.prototype.skill_effect_3=function(e){if(e&&e.isValid){var t=e.getComponent(d.default);if(t){var i=r.cocosz.resMgr.getRes("zombieSkill_3",cc.Prefab);if(i){var o=cc.instantiate(i);o.setPosition(0,0),o.setParent(e),t.moveDir=cc.Vec2.ZERO,t.canMoveDir=!1,t.updateMove(),cc.tween(t).delay(.5).call(function(){t&&t.isValid&&t.hart(t.HP,null,null,!1,!1,cc.Color.RED)}).delay(.5).call(function(){o&&o.isValid&&o.destroy()}).start()}}}},t.prototype.skill_effect_24=function(e){var t=this;if(e&&e.isValid){var i=e.getComponent(d.default);if(i){var o=r.cocosz.resMgr.getRes("zombieSkill_24",cc.Prefab);if(o){var n=cc.instantiate(o);n.setPosition(0,0),n.setParent(e),n.zIndex=cc.macro.MAX_ZINDEX,i.fire_start(),cc.tween(n).delay(.2).call(function(){i.isValid&&i.HP>0?i.hart(5*t.magic_hart_rate(),null,null,!1,!1,cc.Color.RED):n.destroy()}).union().repeat(20).call(function(){i.fire_end(),n.destroy()}).start(),u.gameMgr.playEffect("ranshao",e,1)}}}},t.prototype.skill_effect_26=function(e){if(e&&e.isValid){var t=e.getComponent(d.default);if(t){var i=r.cocosz.resMgr.getRes("zombieSkill_26",cc.Prefab);if(i){var o=cc.instantiate(i);if(o.setPosition(0,0),o.setParent(e),o.zIndex=cc.macro.MAX_ZINDEX,t.zombieId>=8?o.scale=4:o.scale=2,t.isValid){t.frozenStart();var n=t.isBoss?.5:2;this.scheduleOnce(function(){t&&t.isValid&&t.frozenEnd(),o&&o.isValid&&o.destroy()},n)}u.gameMgr.playEffect("bingdong",e,1)}}}},t.prototype.updateBishou=function(){var e=this;if(this._bishou&&this._bishou.isValid&&u.gameMgr&&u.gameMgr.playerTs)if(u.gameMgr.playerTs.atkTarget&&u.gameMgr.playerTs.atkTarget.isValid){var t=this._bishou.getComponent(l.default);t.isHartMusic=!1,t.hitAudio="hurt",t.atk=50*u.gameMgr.playerTs.atkRate,t.atkedArr=[];var i=u.gameMgr.playerTs.node.getPosition(),o=u.gameMgr.playerTs.atkTarget.getPosition().subSelf(i);o.mag()<400&&o.normalizeSelf().mulSelf(400);var n=i.add(cc.v2(1,0).mulSelf(400).rotateSelf(this._bishou.angle/180*Math.PI)),s=i.add(o),a=o.mag()/800;0==this._bishou.active&&(this._bishou.active=!0,this._bishou.setPosition(i)),cc.tween(this._bishou).bezierTo(a,i,n,s).call(function(){e.updateBishou()}).start()}else this._bishou.active=!1,this.scheduleOnce(function(){e.updateBishou()},1)},t.prototype.updateHudun=function(){var e=this;this.hudun&&this.hudun.active&&(this.hudun.active=!1,u.gameMgr.playEffect("ShieldDestroy"),this.setSkillCD(a.\u795e\u5723\u5b88\u62a4,60),this.scheduleOnce(function(){u.gameMgr&&u.gameMgr.playerTs&&u.gameMgr.playerTs.isValid&&(e.hudun.active=!0,u.gameMgr.playerTs.HP?e.hudun.opacity=255:e.hudun.opacity=0)},60))},t.prototype._updateZaisheng=function(){this._zaishengCdTime>0?this._zaishengCdTime--:r.cocosz.isPause||u.gameMgr.playerTs&&!u.gameMgr.playerTs.isDeath&&u.gameMgr.playerTs.HP<u.gameMgr.playerTs.totleHp&&(u.gameMgr.playerTs.HP+=1,u.gameMgr.playerTs.recoverEffect(),this._zaishengCdTime=90,this.setSkillCD(a.\u518d\u751f,this._zaishengCdTime))},t.prototype.updateFeilun=function(e){if(this._feilun&&this._feilun.isValid&&u.gameMgr&&u.gameMgr.playerTs){cc.tween(this._feilun).by(10,{angle:-1800}).repeatForever().start();for(var t=[1,2,3,4][e],i=function(i){var n=o._feilun.children[i];if(n)if(i<t){if(n.active=!0,3==e){var s=o._feilun.getChildByName("back").getComponent(cc.Sprite).spriteFrame;n.getComponent(cc.Sprite).spriteFrame=s}n.setPosition(o._posArr[e][i][0],o._posArr[e][i][1]),cc.tween(n).call(function(){u.gameMgr.playEffect("chilunStart"),n.getComponent(cc.Collider).enabled=!0}).to(1,{scale:2.5}).delay(8).to(1,{scale:0}).call(function(){n.getComponent(cc.Collider).enabled=!1}).delay(2).union().repeatForever().start();var a=n.getComponent(l.default);a&&(a.isHartMusic=!1,a.hitAudio="chilun",a.atk=80+20*e*u.gameMgr.playerTs.atkRate)}else n.active=!1},o=this,n=0;n<4;n++)i(n)}},t.prototype.updateShandian=function(){if(this._shandiCdTime>0)this._shandiCdTime--;else if(!r.cocosz.isPause){var e=this.upgradeSkillArr[a.\u95ea\u7535];0==this._shandianCount&&(this._shandianCount=this._shandianNum[e]);for(var t=[],i=function(e){var i=!0,o=u.gameMgr.playerTs.atkList[e];o.children.forEach(function(e){"zombieSkill_shandian"==e.name&&(i=!1)}),i&&t.push(o)},o=u.gameMgr.playerTs.atkList.length-1;o>=0;o--)i(o);if(t.length){var n=r.cocosz.resMgr.getRes("zombieSkill_shandian",cc.Prefab);if(n){var s=t.shift();if(s&&s.isValid){this._shandianCount--;var c=cc.instantiate(n);if(c.setPosition(0,-s.height/2*s.scaleY),c.setParent(s),c.zIndex=cc.macro.MAX_ZINDEX,3==e){var l=c.getComponent(sp.Skeleton);l&&l.setSkin("y")}this.schedule(function(){c&&c.isValid&&c.destroy()},1);var h=s.getComponent(d.default);h&&h.isValid&&h.HP>0&&h.hart(200*this.magic_hart_rate(),null,null,!1,!1,cc.Color.RED),u.gameMgr.playEffect("LuoLei",s)}}else r.cocosz.resMgr.getRes("prefab_zombie_skill/zombieSkill_shandian",cc.Prefab)}0==this._shandianCount&&(this._shandiCdTime=3+e,this.setSkillCD(a.\u95ea\u7535,this._shandiCdTime))}},t.prototype.updateFire=function(){if(this._fireCdTime>0)this._fireCdTime--;else if(!r.cocosz.isPause){var e=this.upgradeSkillArr[a.\u71c3\u70e7\u74f6];if(this._fireCount=this._fireNum[e],!r.cocosz.isPause&&u.gameMgr&&u.gameMgr.playerTs&&u.gameMgr.playerTs.atkTarget&&u.gameMgr.playerTs.atkTarget.isValid){var t=r.cocosz.resMgr.getRes("zombieSkill_fire",cc.Prefab);if(t){var i=u.gameMgr.playerTs.atkTarget.getPosition().subSelf(u.gameMgr.playerTs.node.getPosition());i.normalizeSelf().mulSelf(400);for(var o=function(o){var s=((n._fireCount-1)/2-o)*(Math.PI/2),a=u.gameMgr.playerTs.node.getPosition(),r=a.add(cc.v2(i).rotateSelf(s)),h=cc.v2((a.x+r.x)/2,a.y+900),d=cc.instantiate(t);d.children[1].active=3!=e,d.children[2].active=3==e,d.setPosition(a),d.setParent(u.gameMgr.map),d.zIndex=cc.macro.MAX_ZINDEX,cc.tween(d).parallel(cc.tween().bezierTo(1,a,h,r),cc.tween().to(1,{angle:720*(i.x>0?1:-1)})).call(function(){d.zIndex=c.ZindexLayer.zinedx_floorSkill,d.children[1].active=d.children[2].active=!1,d.children[0].active=!0,d.getComponent(cc.Collider).enabled=!0;var t=d.getComponent(l.default);t.isHartMusic=!1,t.atk=11,t.hartInterval=.2;var i=d.children[0].getComponent(sp.Skeleton);i.setSkin(3==e?"l":"h"),i.setAnimation(0,"k",!1),i.setAnimation(0,"ranshao",!0),u.gameMgr.playEffect("Ranshaopingposui",d),u.gameMgr.playEffect("ranshao",d)}).delay(3).to(.3,{opacity:50}).call(function(){d.destroy()}).start()},n=this,s=0;s<this._fireCount;s++)o(s)}this._fireCdTime=4,this.setSkillCD(a.\u71c3\u70e7\u74f6,4)}}},s([f(cc.Prefab)],t.prototype,"bulletPrefab",void 0),s([_],t)}(cc.Component);i.default=g,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./ZombieBase":"ZombieBase","./bullet":"bullet","./gameMgr":"gameMgr","./jingyan":"jingyan"}],Utils:[function(e,t,i){"use strict";cc._RF.push(t,"30bc3m3g/hJ/5QMVAo/j0Cz","Utils");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,n++)o[n]=s[a];return o};Object.defineProperty(i,"__esModule",{value:!0}),i.utils=void 0;var r=e("./AdManager"),c=e("./CommonConfig"),l=e("./WechatTool"),u=e("./PlatUtils"),h=e("./YZ_Tool_Oppo"),d=e("./YZ_Tool_Baidu"),p=e("./YZ_Tool_Native"),_=e("./YZ_Tool_Vivo"),f=e("./YZ_Tool_Douyin"),g=e("./YZ_Constant"),v=e("./YZ_Tool_QQ"),m=e("./YZ_Tool_QTT"),y=e("./YZ_Tool_Xiaomi"),w=e("./AldUtils"),b=e("./YZ_Tool_UC"),I=e("./YZ_Tool_Cocosplay"),S=e("./YZ_Tool_4399"),C=e("./YZ_Tool_IOS"),A=e("./YZ_Tool_Bili"),L=e("./YZ_Tool_Kwai"),T=e("./YZ_Tool_Broswer"),B=e("./YZ_Tool_Wifi"),P=e("./YZ_Tool_Hago"),O=e("./RedBagProgressWidget"),N=e("./CompatibleTool"),k=e("./YZ_Tool_HuaWei"),R=e("./OpenRedBagPanel"),M=e("./YZ_Tool_FaceBook"),D=e("./YzRealNameAuthPanel"),E=e("./YzUserPrivacyPanel"),x=e("./YZ_LocalStorage"),j=e("./YZ_Tool_GoogleWeb"),z=e("./Encrypt/CryptoJS"),G=cc._decorator,U=G.ccclass,V=G.property;i.utils=null;var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DebugLoacalConfig=!1,t.showLogView=!1,t.config=null,t.yzRedBagInfo=null,t.adManager=null,t._wechatTool=null,t.currentLevel=0,t.isRecording=!1,t.rewardCallFunc=null,t.rewardCloseFunc=null,t.rewardValue=0,t.luckBoxShowCount=-1,t.nativeInsertShowCount=0,t.nativeInsertResizeCloseBtnShowCount=0,t.nativeBannerShowCount=0,t.nativeBannerResizeCloseBtnShowCount=0,t.turnTablePanelCloseFunc=null,t.shareRecordPanelCloseFunc=null,t.rewardBoxPanelCloseFunc=null,t.rewardShortCutPanelCloseFunc=null,t.rewardRecGamePanelCloseFunc=null,t.rewardLuckBoxPanelCloseFunc=null,t._bannerCloseTime=0,t._other_config=null,t._oppoTool=null,t._tool_Kwai=null,t._tool_Wifi=null,t._tool_Hago=null,t._tool_Baidu=null,t._tool_Native=null,t._tool_Vivo=null,t._tool_Douyin=null,t._tool_QQ=null,t._tool_XiaoMi=null,t._tool_QTT=null,t._tool_UC=null,t._tool_Cocosplay=null,t._tool_4399=null,t._tool_Ios=null,t._tool_bili=null,t._tool_Broswer=null,t._tool_Huawei=null,t._tool_Facebook=null,t._tool_GoogleWeb=null,t._isConfigInit=!1,t._isServerInit=!1,t._gameEntryTime=0,t._isServerLoadSuccess=!1,t._recommendGamesBanner=null,t._recommendGamesList=null,t._tryGamesWidget=null,t._moreGamesSidePanel=null,t._moreGamesSidePanelBaidu=null,t._recordWidget=null,t._shortcutWidget=null,t._gameBox=null,t._nativeTryGameNode=null,t.tryGameDate=[],t.nativeNeedChange=!0,t._cur_tool=null,t.serverShowLog=!1,t.showLogToConsole=!1,t.overPageShowTime=0,t.overPageInsertAdIsTouch=!1,t.recored_share_count=0,t.shareRecordPanel=null,t._withdrawalWidget=null,t._redBagProgressWidget=null,t._withdrawalPanel=null,t._openRedBagPanel=null,t._rewardRedBagPanel=null,t._rewardRedBagPanelShowCount=0,t._privacyWidget=null,t._privacyPanel=null,t.minScale=1,t.maxScale=1.3,t.runTime=.3,t._lastReportAdTime=0,t._curVivoGamePortalLocation="",t._curGameDrawerAdLocation="",t._isRealNameAuth=!1,t._yzRealNameAuthPanel=null,t._yzLoginPanel=null,t}return n(t,e),Object.defineProperty(t.prototype,"utilsVersion",{get:function(){return"1.6.6"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wechatTool",{get:function(){return this._wechatTool||i.utils.showLog("wechat tool is null"),this._wechatTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oppoTool",{get:function(){return this._oppoTool||i.utils.showLog("oppo tool is null"),this._oppoTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kwaiTool",{get:function(){return this._tool_Kwai||i.utils.showLog("Kwai tool is null"),this._tool_Kwai},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wifiTool",{get:function(){return this._tool_Wifi||i.utils.showLog("Wifi tool is null"),this._tool_Wifi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hagoTool",{get:function(){return this._tool_Hago||i.utils.showLog("Hago tool is null"),this._tool_Hago},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Baidu",{get:function(){return this._tool_Baidu||i.utils.showLog("tool baidu is null"),this._tool_Baidu},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Native",{get:function(){return this._tool_Native||i.utils.showLog("tool native is null"),this._tool_Native},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Vivo",{get:function(){return this._tool_Vivo||i.utils.showLog("tool vivo is null"),this._tool_Vivo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Douyin",{get:function(){return this._tool_Douyin||i.utils.showLog("tool douyin is null"),this._tool_Douyin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_QQ",{get:function(){return this._tool_QQ||i.utils.showLog("tool qq is null"),this._tool_QQ},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_XiaoMi",{get:function(){return this._tool_XiaoMi||i.utils.showLog("tool xiaomi is null"),this._tool_XiaoMi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_QTT",{get:function(){return this._tool_QTT||i.utils.showLog("tool qtt is null"),this._tool_QTT},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_UC",{get:function(){return this._tool_UC||i.utils.showLog("tool uc is null"),this._tool_UC},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Cocosplay",{get:function(){return this._tool_Cocosplay||i.utils.showLog("tool cocos is null"),this._tool_Cocosplay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_4399",{get:function(){return this._tool_4399||i.utils.showLog("tool 4399 is null"),this._tool_4399},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_IOS",{get:function(){return this._tool_Ios||i.utils.showLog("tool ios is null"),this._tool_Ios},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Bili",{get:function(){return this._tool_Ios||i.utils.showLog("tool ios is null"),this._tool_bili},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Broswer",{get:function(){return this._tool_Broswer,this._tool_Broswer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Huawei",{get:function(){return this._tool_Huawei||i.utils.showLog("huawei tool is null"),this._tool_Huawei},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_Facebook",{get:function(){return this._tool_Facebook||i.utils.showLog("facebook tool is null"),this._tool_Facebook},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tool_GoogleWeb",{get:function(){return this._tool_GoogleWeb||i.utils.showLog("googleWeb tool is null"),this._tool_GoogleWeb},enumerable:!1,configurable:!0}),t.prototype._initConfig=function(){var e=this;if(this._isConfigInit)i.utils.showLog("warn:\u914d\u7f6e\u6570\u636e\u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u8bf7\u52ff\u91cd\u590d\u521d\u59cb\u5316!");else if(this.config.otherconfig.localConfig){var t=JSON.stringify(this.config.otherconfig.localConfig.json);i.utils.showLog("\u672c\u5730\u6570\u636e\uff1a"+t),t?(u.default.IsNativeAndroid?(this.initTools(t),this._isConfigInit=this._initLoacalConfig(t),this._isConfigInit&&i.utils.Tool_Native.init()):(this._isConfigInit=this._initLoacalConfig(t),this.initTools(t)),this._other_config=this.config.otherconfig.localConfig.json.other,this.adManager=new r.default,this.adManager.Init(),this._oppoTool&&this._oppoTool.hideDefaultLoadingPage(),u.default.IsKwai&&kwaigame.readyGo(),i.utils.yzRedBagInfo=new c.YzRedBagInfo,i.utils.registerServerInitEvent(function(){i.utils.ServerConfig&&(e.serverShowLog="true"==e.getConfigByKey("is_show_log_view"),e.showLogToConsole="true"==e.getConfigByKey("show_log_to_console"),e.getConfigByKey("red_bag_total_progress")&&(i.utils.yzRedBagInfo.totalProgress=e.getConfigByKey("red_bag_total_progress")),e.getConfigByKey("red_bag_progress_infos")&&(i.utils.yzRedBagInfo.progressInfos=e.getConfigByKey("red_bag_progress_infos")),e.getConfigByKey("red_bag_moneys")&&(i.utils.yzRedBagInfo.withdrawaMoneys=e.getConfigByKey("red_bag_moneys"))),u.default.IsHago&&hg.gameLoadResult&&hg.gameLoadResult({code:0})},this)):i.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e0d\u662f\u5408\u6cd5\u7684json\u6587\u4ef6\uff01")}else i.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u672a\u627e\u5230\uff0c\u8bf7\u68c0\u67e5 CommonUtils \u7ec4\u4ef6\u4e0a\u662f\u5426\u5b58\u5728\uff01")},t.prototype._initLoacalConfig=function(e){return!!this.config&&this.config.init(e)},t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),i.utils=this,i.utils.showLog("\u5e7f\u544a\u7ec4\u4ef6\u7248\u672c:"+this.utilsVersion),this.DebugLoacalConfig=!1,this._gameEntryTime=(new Date).getTime(),this._initConfig()},t.prototype.update=function(e){this._isConfigInit&&this.adManager&&this.adManager.OnUpdate(e)},t.prototype.initTools=function(e){this._isConfigInit||u.default.IsNativeAndroid?u.default.IsNativeAndroid?this._tool_Native=new p.default:u.default.IsWechat?(this._wechatTool=new l.default,this._wechatTool.init(e)):u.default.IsOPPO?(this._oppoTool=new h.default,this._oppoTool.init(e)):u.default.IsBaidu?(this._tool_Baidu=new d.default,this._tool_Baidu.init(e)):u.default.IsVIVO?(this._tool_Vivo=new _.default,this._tool_Vivo.init(e)):u.default.IsDouyin?(this._tool_Douyin=new f.default,this._tool_Douyin.init(e)):u.default.IsQQ?(this._tool_QQ=new v.default,this._tool_QQ.init(e)):u.default.IsQTT?(this._tool_QTT=new m.default,this._tool_QTT.init(e)):u.default.IsXiaoMi?(this._tool_XiaoMi=new y.default,this._tool_XiaoMi.init(e)):u.default.ISUC?(this._tool_UC=new b.default,this._tool_UC.init(e)):u.default.ISCocos?(this._tool_Cocosplay=new I.default,this._tool_Cocosplay.init(e)):u.default.Is4399?(this._tool_4399=new S.default,this._tool_4399.init(e)):u.default.IsNativeIOS?(this._tool_Ios=new C.default,this._tool_Ios.init(e)):u.default.IsBili?(this._tool_bili=new A.default,this._tool_bili.init(e)):u.default.IsKwai?(this._tool_Kwai=new L.default,this._tool_Kwai.init(e)):u.default.IsWiFi?(this._tool_Wifi=new B.default,this._tool_Wifi.init(e)):u.default.IsHago?(this._tool_Hago=new P.default,this._tool_Hago.init(e)):u.default.IsHuaWei?(this._tool_Huawei=new k.default,this._tool_Huawei.init(e)):u.default.IsFaceBook?(this._tool_Facebook=new M.default,this._tool_Facebook.init(e)):u.default.IsGoogleWeb?(this._tool_GoogleWeb=new j.default,this._tool_GoogleWeb.init(e)):u.default.IsTest&&(this._tool_Broswer=new T.default,this._tool_Broswer.init(e)):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.delayCall=function(e,t){this.scheduleOnce(function(){e&&e()},t)},t.prototype.share=function(e){void 0===e&&(e=null),this._isConfigInit?this.cur_tool&&this.cur_tool.share&&this.cur_tool.share(e):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.gameExitOff=function(){this._isConfigInit?u.default.IsNativeAndroid&&cc.systemEvent.targetOff(this):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.recordStart=function(){this._isConfigInit?this.cur_tool&&this.cur_tool.recordStart&&this.cur_tool.recordStart():i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.recordEnd=function(){this._isConfigInit?this.cur_tool&&this.cur_tool.recordEnd&&this.cur_tool.recordEnd():i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.getShareInfo=function(){return this._isConfigInit?this.config.otherconfig.shareTitle&&this.config.otherconfig.shareImgUrl?{title:this.config.otherconfig.shareTitle,imageUrl:this.config.otherconfig.shareImgUrl}:(i.utils.showLog("\u5206\u4eab\u914d\u7f6e\u51fa\u9519\uff01"),null):(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),null)},t.prototype.getInnerRecommendData=function(){return this._isConfigInit?this.ServerConfig&&this.ServerConfig.jump_list&&this.ServerConfig.jump_list.length>0?{jump_refresh_time:this.ServerConfig.icon_jump,jump_list:this.ServerConfig.jump_list}:null:(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),null)},t.prototype.navigateToMiniGame=function(e,t){if(void 0===t&&(t=null),this._isConfigInit)if(u.default.IsWechat){if(e){if(e.is_jump&&"true"==e.is_jump&&e.appid)return void this.wechatTool.navigateToMiniProgram(e.appid,t,e.path);if(e.is_jump&&"false"==e.is_jump&&e.qr_code)return this.wechatTool.previewImage(e.qr_code),void(t&&t(!0))}}else u.default.IsOPPO?e&&e.appid?this.oppoTool.navigateToMiniGame(e.appid,t):(i.utils.showLog("data \u6216\u8005 appid \u4e3anull!"),t&&t(!1)):u.default.IsBaidu?e&&e.appid?i.utils.Tool_Baidu.navigateToMiniGame(e.appid,t):(i.utils.showLog("data \u6216\u8005 appid \u4e3anull!"),t&&t(!1)):u.default.IsNativeAndroid?e?i.utils.Tool_Native.navigateToGame(JSON.stringify(e),t):(i.utils.showLog("data \u6216\u8005 appid \u4e3anull!"),t&&t(!1)):u.default.IsNativeIOS&&(e&&e.appid?this.Tool_IOS.navigateToGame(e.appid,t):(i.utils.showLog("data \u6216\u8005 appid \u4e3anull!"),t&&t(!1)));else i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.isSupportnavigateToMiniGame=function(){return this._isConfigInit?!!(u.default.IsWechat||u.default.IsNativeAndroid||u.default.IsNativeIOS||u.default.IsBaidu)||(u.default.IsOPPO?this.oppoTool.isOverMiniVersion("1044"):u.default.IsDouyin?this.Tool_Douyin.isShowMoreGamesModal()&&"live_stream"!=this.Tool_Douyin._sysInfo.appName:!!u.default.IsQQ&&this._tool_QQ.isOverMinVersion("1.7.1")):(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),!1)},t.prototype.showMsg=function(e){i.utils.Tool_Broswer?console.log(e):this.cur_tool&&this.cur_tool.showToast&&this.cur_tool.showToast(e)},t.prototype.hasShortcutInstalled=function(){return this._isConfigInit?u.default.IsVIVO&&this.Tool_Vivo?this.Tool_Vivo.ShortcutCreated:!(!u.default.IsOPPO||!this.oppoTool)&&this.oppoTool.ShortcutCreated:(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),!0)},t.prototype.canCreateShortcut=function(){return this._isConfigInit?!(!this.cur_tool||!this.cur_tool.canCreateShortcut)&&this.cur_tool.canCreateShortcut():(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),!1)},t.prototype.createShortcut=function(e){this._isConfigInit?this.cur_tool&&this.cur_tool.createShortcut&&this.cur_tool.createShortcut(e):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.commomHttpRequest=function(e,t){var o=this;if(this._isConfigInit){var n=t,s=new XMLHttpRequest;s.timeout=6e3;var a=this._buildServerUrl(e)+"&time_stamp="+(new Date).getTime()+"&reqv="+g.default.SERVER_VERSION;i.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+a),s.open("GET",a),s.send(),s.onreadystatechange=function(){i.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",s.readyState,"; status=",s.status),4==s.readyState&&(200==s.status?n&&(a.indexOf("m=g")>-1||a.indexOf("m=rlevelv3")>-1?n(!0,o.aesDecrypt(s.responseText)):n(!0,s.responseText)):n&&n(!1,""))},s.ontimeout=function(){i.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),n&&n(!1,"")},s.onerror=function(e){i.utils.showLog("\u8bf7\u6c42\u51fa\u9519! err=",JSON.stringify(e)),n&&n(!1,"")}}else i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.aesEncrypt=function(e){var t=z.enc.Utf8.parse("youzhixx12345678"),i=z.enc.Utf8.parse(e);return z.AES.encrypt(i,t,{mode:z.mode.ECB,padding:z.pad.Pkcs7}).toString()},t.prototype.aesDecrypt=function(e){var t=z.enc.Utf8.parse("youzhixx12345678"),i=z.AES.decrypt(e,t,{mode:z.mode.ECB,padding:z.pad.Pkcs7});return z.enc.Utf8.stringify(i).toString()},t.prototype._buildServerUrl=function(e){return u.default.IsOPPO?e=e+"&kyx=true&app_id="+i.utils.config.oppoconfig.packageName+"&channel=oppo&device_uid="+i.utils.oppoTool.uid+"&uid="+i.utils.oppoTool.serviceId+"&source="+this.oppoTool._source+"&game_version="+i.utils.config.oppoconfig.version+"&device_id="+i.utils.oppoTool._device_id:u.default.IsXiaoMi?e=e+"&kyx=true&app_id="+i.utils.config.xiaomiConfig.appID+"&channel=xiaomi&device_uid="+i.utils._tool_XiaoMi.uid+"&uid="+i.utils._tool_XiaoMi.serviceId:u.default.IsWechat?e=e+"&kyx=true&app_id="+i.utils.config.wechatconfig.appID+"&channel=wechat&device_uid="+i.utils.wechatTool.uid+"&uid="+i.utils.wechatTool.serviceId+"&source="+this.wechatTool._source_app_id+"&soure_type="+this.wechatTool._luanchType+"&game_version="+i.utils.config.wechatconfig.version:u.default.IsVIVO?e=e+"&kyx=true&app_id="+i.utils.config.vivoconfig.appID+"&channel=vivo&device_uid="+i.utils._tool_Vivo.uid+"&uid="+i.utils._tool_Vivo.serviceId+"&source="+this._tool_Vivo._source+"&game_version="+i.utils.config.vivoconfig.version:u.default.IsQTT?e=e+"&kyx=true&app_id="+i.utils.config.qttconfig.appID+"&channel=qutoutiao&device_uid="+i.utils._tool_QTT.uid+"&uid="+i.utils._tool_QTT.serviceId:u.default.IsDouyin?e=e+"&kyx=true&app_id="+i.utils.config.douyinconfig.appID+"&channel=toutiao&device_uid="+i.utils.Tool_Douyin.uid+"&uid="+i.utils.Tool_Douyin.serviceId+"&game_version="+i.utils.config.douyinconfig.version:u.default.IsQQ?e=e+"&kyx=true&app_id="+i.utils.config.qqconfig.appID+"&channel=qq&device_uid="+i.utils._tool_QQ.uid+"&uid="+i.utils._tool_QQ.serviceId+"&game_version="+i.utils.config.qqconfig.version:u.default.IsBaidu?e=e+"&kyx=true&app_id="+i.utils.config.baiduconfig.appID+"&channel=baidu&device_uid="+i.utils._tool_Baidu.uid+"&uid="+i.utils._tool_Baidu.serviceId+"&game_version="+i.utils.config.baiduconfig.version:u.default.ISUC?e=e+"&kyx=true&app_id="+i.utils.config.ucConfig.appID+"&channel=uc&device_uid="+i.utils._tool_UC.uid+"&uid="+i.utils._tool_UC.serviceId+"&game_version="+i.utils.config.ucConfig.version:u.default.ISCocos?e=e+"&kyx=true&app_id="+i.utils.config.cocosConfig.appID+"&channel=cocos&device_uid="+i.utils._tool_Cocosplay.uid+"&uid="+i.utils._tool_Cocosplay.serviceId:u.default.IsNativeAndroid?e=e+"&kyx=false&app_id="+i.utils.config.nativeAndroidConfig.appID+"&channel="+i.utils.config.nativeAndroidConfig.channel+"&device_uid="+i.utils.Tool_Native.uid+"&uid="+i.utils.Tool_Native.serviceId+"&game_type=2&game_version="+i.utils.config.nativeAndroidConfig.version:u.default.IsKwai?e=e+"&kyx=true&app_id="+i.utils.config.kwaiConfig.appID+"&channel=kuaishou&device_uid="+i.utils._tool_Kwai.uid+"&uid="+i.utils._tool_Kwai.serviceId+"&game_version="+i.utils.config.kwaiConfig.version:u.default.IsNativeIOS?e=e+"&kyx=false&app_id="+i.utils.config.nativeIoSConfig.appID+"&channel=ios&device_uid="+i.utils.Tool_IOS.uid+"&uid="+i.utils.Tool_IOS.serviceId+"&game_type=2&game_version="+i.utils.config.nativeIoSConfig.version:u.default.IsWiFi?e=e+"&kyx=true&app_id="+i.utils.config.wifiConfig.appID+"&channel=wifi&device_uid="+i.utils._tool_Wifi.uid+"&uid="+i.utils._tool_Wifi.serviceId+"&game_version="+i.utils.config.wifiConfig.version:u.default.IsHago?e=e+"&kyx=true&app_id="+i.utils.config.hagoConfig.appID+"&channel=hago&device_uid="+i.utils._tool_Hago.uid+"&uid="+i.utils._tool_Hago.serviceId+"&game_version="+i.utils.config.hagoConfig.version:u.default.IsHuaWei?e=e+"&kyx=true&app_id="+i.utils.config.huaweiConfig.appID+"&channel=huawei&device_uid="+i.utils.Tool_Huawei.uid+"&uid="+i.utils.Tool_Huawei.serviceId+"&game_version="+i.utils.config.huaweiConfig.version:u.default.IsFaceBook&&(e=e+"&kyx=true&app_id="+i.utils.config.faceBookConfig.appID+"&channel=facebookxyx&device_uid="+i.utils.Tool_Facebook.uid+"&uid="+i.utils.Tool_Facebook.serviceId+"&game_version="+i.utils.config.faceBookConfig.version),e},t.prototype.postData=function(e){this._isConfigInit?this.cur_tool&&this.cur_tool.postData&&this.cur_tool.postData(e):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.registerServerInitEvent=function(e,t){this._isConfigInit?this._isServerInit?e&&e():cc.game.on(g.default.EC_ServerInit,e,t):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.registerServerDataLoadSuccessEvent=function(e,t){this._isServerLoadSuccess?e&&e():cc.game.on(g.default.EC_ServerDataLoadSuccess,e,t)},t.prototype.registerPrivacyCloseEvent=function(e,t){x.default.getItem(g.default.YZ_GAME_YSXY)?e&&e():cc.game.on(g.default.YZ_PrivacyClose,e,t)},t.prototype.postDataByLocation=function(e,t,o){void 0===o&&(o=0),this._isConfigInit?u.default.IsBaidu?this.Tool_Baidu&&this.Tool_Baidu.postData(e):this.cur_tool&&this.cur_tool.postDataByLocation&&this.cur_tool.postDataByLocation(e,t,o):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.postRecommentShowData=function(e){this._isConfigInit?this.cur_tool&&this.cur_tool.postRecommentShowData&&this.cur_tool.postRecommentShowData(e):i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},t.prototype.unregisterServerInitEvent=function(e){cc.game.targetOff(e)},t.prototype.emitServerInitEvent=function(){var e=this;if(this.isShowPrivacyPanel())return this._isServerLoadSuccess=!0,cc.game.emit(g.default.EC_ServerDataLoadSuccess),void i.utils.registerPrivacyCloseEvent(function(){e._isServerInit=!0,cc.game.emit(g.default.EC_ServerInit),cc.game.targetOff(g.default.EC_ServerDataLoadSuccess),cc.game.targetOff(g.default.YZ_PrivacyClose)},this);this._isServerInit=!0,cc.game.emit(g.default.EC_ServerInit)},t.prototype.registerRealNameAuthCloseEvent=function(e,t){this._isServerLoadSuccess?e&&e():cc.game.on(g.default.EC_RealNameAuthPanelClose,e,t)},t.prototype.emitRealNameAuthCloseEvent=function(){cc.game.emit(g.default.EC_RealNameAuthPanelClose)},t.prototype.emitPrivacyCloseEvent=function(){this._isServerInit=!0,cc.game.emit(g.default.YZ_PrivacyClose)},t.prototype.getRecommondGameList=function(){return this._isConfigInit?u.default.IsWechat?this.wechatTool.getRecommondGameList():u.default.IsOPPO?this.oppoTool.getRecommondGameList():u.default.IsBaidu?this.Tool_Baidu.getRecommondGameList():u.default.IsNativeAndroid?this.Tool_Native.getRecommondGameList():u.default.IsDouyin?this.Tool_Douyin.getRecommondGameList():this.Tool_Broswer?this.Tool_Broswer.getRecommondGameList():u.default.IsNativeIOS?this.Tool_IOS.getRecommondGameList():null:(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),null)},t.prototype.isShowRecommondGamesBanner=function(){if(!this._isConfigInit)return i.utils.showLog("\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(i.utils.isSupportnavigateToMiniGame())if(this.ServerConfig&&this.ServerConfig.is_bottom_banner_list){if("true"==this.ServerConfig.is_bottom_banner_list)return!0;i.utils.showLog("is_bottom_banner_list \u53c2\u6570\u4e3afalse\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("\u914d\u7f6e\u4e2d\u6ca1\u6709 is_bottom_banner_list \u53c2\u6570\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");return!1},t.prototype.showRecommendGamesBanner=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.isShowRecommondGamesBanner())if(i.utils.showLog("\u663e\u793a\u81ea\u5b9a\u4e49banner!"),this.config.otherconfig.recommendGamesBanner){var t=cc.instantiate(this.config.otherconfig.recommendGamesBanner);if(t)return this._recommendGamesBanner&&cc.isValid(this._recommendGamesBanner)&&this._recommendGamesBanner.destroy(),this._recommendGamesBanner=t,this._recommendGamesBanner.zIndex=9999,e&&(e.group&&(t.group=e.group),e.scale&&(t.scale=e.scale)),cc.director.getScene().addChild(t,1e3),!0}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecommendGamesBanner, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c!");return!1},t.prototype.hideRecommendGamesBanner=function(){var e=cc.find("RecommendGamesBanner");e&&(e.active=!1)},t.prototype.isShowRecommondGamesList=function(){return this._isConfigInit?!(!this.Tool_Broswer&&(i.utils.isSupportnavigateToMiniGame()?!(this.ServerConfig.is_banner_list&&"true"==this.ServerConfig.is_banner_list&&this.ServerConfig.jump_list&&this.ServerConfig.jump_list.length>0)&&(i.utils.showLog("\u8bf7\u786e\u8ba4\u5b57\u6bb5\uff1ais_banner_list\u3001jump_list \u662f\u5426\u8fbe\u5230\u663e\u793a\u81ea\u5b9a\u4e49banner\u7684\u8981\u6c42!"),1):(i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u5217\u8868\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),1))):(i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1)},t.prototype.showRecommendGamesList=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(this.config.otherconfig.recommendGamesBar){var t=cc.instantiate(this.config.otherconfig.recommendGamesBar);if(t){this._recommendGamesList&&cc.isValid(this._recommendGamesList)&&this._recommendGamesList.destroy(),this._recommendGamesList=t,this._recommendGamesList.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecommendGamesBar, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !");return null},t.prototype.hideRecommendGamesList=function(){this._recommendGamesList&&cc.isValid(this._recommendGamesList)&&this._recommendGamesList.destroy()},t.prototype.isShowTryGamesWidget=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(u.default.IsWechat)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.wechatTool&&i.utils.wechatTool.ServerConfig&&i.utils.wechatTool.ServerConfig.icon_jump){if(i.utils.wechatTool.ServerConfig.icon_jump>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsOPPO)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.oppoTool&&i.utils.oppoTool.ServerConfig&&i.utils.oppoTool.ServerConfig.icon_jump){if(parseInt(i.utils.oppoTool.ServerConfig.icon_jump)>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsBaidu)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_Baidu&&i.utils.Tool_Baidu.ServerConfig&&i.utils.Tool_Baidu.ServerConfig.icon_jump){if(i.utils.Tool_Baidu.ServerConfig.icon_jump>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsNativeAndroid)if(i.utils.Tool_Native&&i.utils.Tool_Native.ServerConfig&&i.utils.Tool_Native.ServerConfig.icon_jump){if(parseInt(i.utils.Tool_Native.ServerConfig.icon_jump)>0)return!0}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709jumpList\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsDouyin)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_Douyin&&i.utils.Tool_Douyin.isShowMoreGamesModal()&&i.utils.Tool_Douyin.ServerConfig&&i.utils.Tool_Douyin.ServerConfig.icon_jump){if(i.utils.Tool_Douyin.ServerConfig.icon_jump>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsQQ)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_QQ&&i.utils.Tool_QQ.ServerConfig&&i.utils.Tool_QQ.ServerConfig.icon_jump){if(i.utils.Tool_QQ.ServerConfig.icon_jump>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsNativeIOS)if(i.utils.Tool_IOS&&i.utils.Tool_IOS.ServerConfig&&i.utils.Tool_IOS.ServerConfig.icon_jump){if(i.utils.Tool_IOS.ServerConfig.icon_jump>0)return!0;i.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");return!1},t.prototype.showTryGamesWidget=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(i.utils.isShowTryGamesWidget()){if(e.location&&this.getConfigByKey("try_game_widget_locations").indexOf(e.location)<0)return i.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u8bd5\u73a9\u6302\u4ef6\uff01"),this._tryGamesWidget&&cc.isValid(this._tryGamesWidget)&&this._tryGamesWidget.destroy(),null;if(this.config.otherconfig.tryGamesWidget){var t=cc.instantiate(this.config.otherconfig.tryGamesWidget);if(t){this._tryGamesWidget&&cc.isValid(this._tryGamesWidget)&&this._tryGamesWidget.destroy(),this._tryGamesWidget=t,this._tryGamesWidget.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 TryGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !")}else i.utils.showLog("warn:\u4e0d\u652f\u6301\u8df3\u8f6c\u7ec4\u4ef6");return null},t.prototype.hideTryGamesWidget=function(){this._tryGamesWidget&&cc.isValid(this._tryGamesWidget)&&this._tryGamesWidget.destroy()},t.prototype.isShowMoreGamesWidget=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(u.default.IsWechat)if(i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsOPPO)if(i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_more_game"))return!("true"==i.utils.oppoTool.ServerConfig.show_oppo_rec&&!i.utils.oppoTool.canShowRecommend()&&(i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5b98\u65b9\u4e92\u63a8\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),1));i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsDouyin)if(u.default.IsAndroid&&i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsBaidu)if(i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsQQ)if(i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else{if(u.default.Is4399)return!0;if(u.default.IsNativeAndroid){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else if(u.default.IsNativeIOS){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else if(u.default.IsVIVO){if("true"==this.getConfigByKey("is_more_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}}return!1},t.prototype.showMoreGamesWidget=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(e.location&&this.getConfigByKey("more_game_widget_locations").indexOf(e.location)<0)return i.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u66f4\u591a\u6e38\u620f\u6302\u4ef6\uff01"),this._moreGamesSidePanel&&cc.isValid(this._moreGamesSidePanel)&&this._moreGamesSidePanel.destroy(),null;if(u.default.IsDouyin){if(i.utils.Tool_Douyin){if(!i.utils.isShowMoreGamesWidget())return i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!"),null;if(!i.utils.Tool_Douyin.isShowMoreGamesModal()){var t=i.utils.Tool_Douyin.showMoreGamesButton(e);return t?(this._moreGamesSidePanel&&this._moreGamesSidePanel.destroy(),this._moreGamesSidePanel=t,e&&(e.group&&(t.group=e.group),null!=e.parent&&(t.parent=e.parent)),this._moreGamesSidePanel):null}var o;if(this.config.otherconfig.moreGamesWidget){if(o=cc.instantiate(this.config.otherconfig.moreGamesWidget)){this._moreGamesSidePanel&&cc.isValid(this._moreGamesSidePanel)&&this._moreGamesSidePanel.destroy(),this._moreGamesSidePanel=o,this._moreGamesSidePanel.zIndex=9999;var n=o.getComponent(cc.Widget);return e&&(e.group&&(o.group=e.group),null!=e.scale&&(o.scale=e.scale),null!=e.top?(n.isAlignTop=!0,n.isAlignBottom=!1,n.top=e.top):null!=e.bottom&&(n.isAlignTop=!1,n.isAlignBottom=!0,n.bottom=e.bottom),null!=e.left?(n.isAlignLeft=!0,n.isAlignRight=!1,n.left=e.left):null!=e.right&&(n.isAlignLeft=!1,n.isAlignRight=!0,n.right=e.right),null!=e.parent&&(o.parent=e.parent)),n.updateAlignment(),o}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 MoreGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01")}}else if(i.utils.isShowMoreGamesWidget())if(this.config.otherconfig.moreGamesWidget){if(o=cc.instantiate(this.config.otherconfig.moreGamesWidget))return this._moreGamesSidePanel&&cc.isValid(this._moreGamesSidePanel)&&this._moreGamesSidePanel.destroy(),this._moreGamesSidePanel=o,this._moreGamesSidePanel.zIndex=9999,n=o.getComponent(cc.Widget),e&&(e.group&&(o.group=e.group),null!=e.scale&&(o.scale=e.scale),null!=e.top?(n.isAlignTop=!0,n.isAlignBottom=!1,n.top=e.top):null!=e.bottom&&(n.isAlignTop=!1,n.isAlignBottom=!0,n.bottom=e.bottom),null!=e.left?(n.isAlignLeft=!0,n.isAlignRight=!1,n.left=e.left):null!=e.right&&(n.isAlignLeft=!1,n.isAlignRight=!0,n.right=e.right),null!=e.parent&&(o.parent=e.parent)),n.updateAlignment(),o}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 MoreGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");else i.utils.showLog("warn:\u4e0d\u53ef\u663e\u793a\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f");return null},t.prototype.hideMoreGamesWidget=function(e){u.default.IsDouyin?(e&&cc.isValid(e)&&e.destroy(),this._moreGamesSidePanel&&this._moreGamesSidePanel.destroy()):(e&&cc.isValid(e)&&e.destroy(),this._moreGamesSidePanel&&cc.isValid(this._moreGamesSidePanel)&&this._moreGamesSidePanel.destroy()),u.default.IsVIVO&&this.Tool_Vivo&&this.Tool_Vivo.hideGamePortal()},t.prototype.showBaiduMoreGamesBtn=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;var t=!1;if(u.default.IsBaidu&&(i.utils.Tool_Baidu&&i.utils.Tool_Baidu.canShowRecommendButton()?t=!0:i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u767e\u5ea6\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")),u.default.IsBaidu&&i.utils.Tool_Baidu){if(t){var o=i.utils.Tool_Baidu.showRecommendationButton(e);return o?(this._moreGamesSidePanelBaidu&&this._moreGamesSidePanelBaidu.destroy(),this._moreGamesSidePanelBaidu=o,this._moreGamesSidePanelBaidu):null}return i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f, \u767e\u5ea6\u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!"),null}},t.prototype.hideBaiduMoreGamesBtn=function(e){u.default.IsBaidu&&e&&null!=e&&e.destroy()},t.prototype.isShowRecordWidget=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(u.default.IsDouyin){if("true"==this.getConfigByKey("show_record"))return!0;i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5f55\u5c4f\u6309\u94ae\uff01")}else if(u.default.IsKwai){if(i.utils.kwaiTool&&i.utils.kwaiTool.checkCanShowRecored()&&"true"==this.getConfigByKey("show_record"))return!0;i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5f55\u5c4f\u6309\u94ae\uff01")}return!1},t.prototype.hideRecordWidget=function(){this._recordWidget&&cc.isValid(this._recordWidget)&&this._recordWidget.destroy()},t.prototype.showRecordWidget=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.isShowRecordWidget())return null;if(this.config.otherconfig.recordWidget){var t=cc.instantiate(this.config.otherconfig.recordWidget);if(t){this._recordWidget&&cc.isValid(this._recordWidget)&&this._recordWidget.destroy(),this._recordWidget=t,this._recordWidget.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecordWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},t.prototype.isShowCreateShortcutWidget=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(this.canCreateShortcut()){if("true"==this.getConfigByKey("is_desktop"))return!0;i.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 is_desktop \u5b57\u6bb5\uff0c \u521b\u5efa\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\u4e0d\u663e\u793a!")}else i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u521b\u5efa\u684c\u9762\u5feb\u6377\u65b9\u5f0f, \u521b\u5efa\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\u4e0d\u663e\u793a\uff01");return!1},t.prototype.showCreateShortcutWidget=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(i.utils.isShowCreateShortcutWidget())if(this.config.otherconfig.shortcutWidget){var o=cc.instantiate(this.config.otherconfig.shortcutWidget);if(o){this._shortcutWidget&&cc.isValid(this._shortcutWidget)&&this._shortcutWidget.destroy(),this._shortcutWidget=o,this._shortcutWidget.zIndex=9999;var n=o.getComponent(cc.Widget),s=o.getComponent("YZ_ShortcutWidget");return s&&(s.Callback=e),t&&(t.group&&(o.group=t.group),null!=t.scale&&(o.scale=t.scale),null!=t.top?(n.isAlignTop=!0,n.isAlignBottom=!1,n.top=t.top):null!=t.bottom&&(n.isAlignTop=!1,n.isAlignBottom=!0,n.bottom=t.bottom),null!=t.left?(n.isAlignLeft=!0,n.isAlignRight=!1,n.left=t.left):null!=t.right&&(n.isAlignLeft=!1,n.isAlignRight=!0,n.right=t.right),null!=t.parent?o.parent=t.parent:cc.director.getScene().addChild(o,1e3)),n.updateAlignment(),o}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 ShortcutWidge, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");else i.utils.showLog("warn:\u4e0d\u663e\u793a\u521b\u5efa\u684c\u9762\u56fe\u6807");return null},t.prototype.hideCreateShortcutWidget=function(e){void 0===e&&(e=null),this._shortcutWidget&&cc.isValid(this._shortcutWidget)&&this._shortcutWidget.destroy()},t.prototype.registerEvent=function(e,t,o){e?t?o?cc.game.on(e,t,o):i.utils.showLog("warn:[Utils.registerEvent] param target is null!"):i.utils.showLog("warn:[Utils.registerEvent] param callback is null!"):i.utils.showLog("warn:[Utils.registerEvent] param eventName is null!")},t.prototype.unregisterEvent=function(e){cc.game.off(e)},t.prototype.emitCommonEvent=function(e){cc.game.emit(e)},t.prototype.showGameBox=function(e){if(void 0===e&&(e=null),u.default.IsWechat){var t=!1;if(i.utils.wechatTool.ServerConfig&&i.utils.wechatTool.ServerConfig.openBox){if("true"!=i.utils.wechatTool.ServerConfig.openBox)return void i.utils.showLog("\u670d\u52a1\u5668\u6e38\u620f\u76d2\u5b50\u914d\u7f6e\u4e3a\u5173\u95ed\u72b6\u6001\uff01");i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6e38\u620f\u76d2\u5b50\u4e3a\u6253\u5f00\u72b6\u6001"),t=!0}else(new Date).getTime()-new Date("2019-10-23").getTime()>0&&(t=!0,i.utils.showLog("\u5f53\u524d\u65f6\u95f4\u5927\u4e8e\u6307\u5b9a\u65f6\u95f4\uff0c\u53ef\u4ee5\u663e\u793a\u6e38\u620f\u76d2\u5b50"));if(!t)return void i.utils.showLog("warn:\u5f53\u524d\u6761\u4ef6\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u6e38\u620f\u76d2\u5b50\u4e0d\u663e\u793a\uff01");var o=cc.instantiate(this.config.otherconfig.gameBox);o?(this._gameBox&&cc.isValid(this._gameBox)&&this._gameBox.destroy(),this._gameBox=o,this._gameBox.zIndex=9999,null!=e.parent&&(o.parent=e.parent)):i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameBox, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01")}},t.prototype.isShowNativeTryGamesWidget=function(){return this._isConfigInit?!!this.Tool_Broswer||!!(this.ServerConfig&&this.ServerConfig.icon_jump_native&&parseInt(this.ServerConfig.icon_jump_native)>0)||(i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump_native\u53c2\u6570\uff0c\u539f\u751f\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"),!1):(i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1)},t.prototype.canShowCrossWidget6=function(){if(!this._isConfigInit)return i.utils.showLog("\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(u.default.IsWechat||u.default.IsOPPO||u.default.IsBaidu||u.default.IsNativeAndroid||u.default.IsNativeIOS)if(i.utils.isSupportnavigateToMiniGame()){if("true"==this.getConfigByKey("is_cross_game"))return!0;i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_cross_game\u53c2\u6570\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsDouyin)if(i.utils.isSupportnavigateToMiniGame()&&i.utils.Tool_Douyin.isShowMoreGamesModal()){if("true"==this.getConfigByKey("is_cross_game"))return!0;i.utils.showLog("warn:is_cross_game\u53c2\u6570\u4e3afalse\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");return!1},t.prototype.showCrossWidget6=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(this.canShowCrossWidget6()){if(this.config.otherconfig.crossWidget6)return cc.instantiate(this.config.otherconfig.crossWidget6);i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 CrossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01")}return null},t.prototype.showFavoriteGuide=function(e){u.default.IsBaidu&&(i.utils._tool_Baidu.canShowFavoriteGuide()?(swan.showFavoriteGuide({type:e?e.type:"tip",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",success:function(e){i.utils.showLog("\u6dfb\u52a0\u6210\u529f\uff1a",e)},fail:function(e){i.utils.showLog("\u6dfb\u52a0\u5931\u8d25\uff1a",e)}}),i.utils.showLog("\u663e\u793a\u6211\u7684\u5c0f\u7a0b\u5e8f\u5f15\u5bfc\u6210\u529f\uff01")):i.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u663e\u793a\u6dfb\u52a0\u6211\u7684\u5c0f\u7a0b\u5e8f\u5f15\u5bfc"))},t.prototype.checkAutoSign=function(){return"true"==this.getConfigByKey("auto_sign")},Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return this.cur_tool&&this.cur_tool.ServerConfig?this.cur_tool.ServerConfig:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cur_tool",{get:function(){return this._cur_tool?this._cur_tool:(u.default.IsWechat?this._cur_tool=i.utils.wechatTool:u.default.IsOPPO?this._cur_tool=i.utils.oppoTool:u.default.IsVIVO?this._cur_tool=i.utils.Tool_Vivo:u.default.IsQQ?this._cur_tool=i.utils.Tool_QQ:u.default.IsDouyin?this._cur_tool=i.utils.Tool_Douyin:u.default.IsBaidu?this._cur_tool=i.utils.Tool_Baidu:u.default.IsQTT?this._cur_tool=i.utils.Tool_QTT:u.default.IsXiaoMi?this._cur_tool=i.utils.Tool_XiaoMi:u.default.ISUC?this._cur_tool=i.utils.Tool_UC:u.default.ISCocos?this._cur_tool=i.utils.Tool_Cocosplay:u.default.IsNativeAndroid?this._cur_tool=i.utils.Tool_Native:u.default.Is4399?this._cur_tool=i.utils.Tool_4399:u.default.IsKwai?this._cur_tool=i.utils._tool_Kwai:u.default.IsNativeIOS?this._cur_tool=i.utils.Tool_IOS:u.default.IsWiFi?this._cur_tool=i.utils._tool_Wifi:u.default.IsHago?this._cur_tool=i.utils._tool_Hago:u.default.IsHuaWei?this._cur_tool=i.utils.Tool_Huawei:u.default.IsFaceBook?this._cur_tool=i.utils.Tool_Facebook:u.default.IsGoogleWeb?this._cur_tool=i.utils.Tool_Facebook:this._cur_tool=i.utils._tool_Broswer,this._cur_tool)},enumerable:!1,configurable:!0}),t.prototype.showLog=function(e){var t;void 0===e&&(e="");for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(this.showLogView||this.serverShowLog)if(this.config.otherconfig.logoutView){if(cc.director.getScene()){var s=cc.director.getScene().getChildByName("LogoutView");s||(s=cc.instantiate(this.config.otherconfig.logoutView),cc.director.getScene().addChild(s,1e3)),(t=s.getComponent("LogOutView")).addLog.apply(t,a([e],o))}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 LogOutView, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");else this.showLogToConsole?console.log.apply(console,a([e],o)):cc.log.apply(cc,a([e],o))},t.prototype.vibrate=function(e){void 0===e&&(e=g.VibrateType.Short),u.default.IsWechat?e==g.VibrateType.Short?wx.vibrateShort({success:function(){},fail:function(){}}):wx.vibrateLong({success:function(){},fail:function(){}}):u.default.IsOPPO?e==g.VibrateType.Short?qg.vibrateShort({success:function(){},fail:function(){}}):qg.vibrateLong({success:function(){},fail:function(){}}):u.default.IsVIVO?e==g.VibrateType.Short?qg.vibrateShort():qg.vibrateLong():u.default.IsQQ?e==g.VibrateType.Short?qq.vibrateShort({success:function(){},fail:function(){}}):qq.vibrateLong({success:function(){},fail:function(){}}):u.default.IsDouyin?e==g.VibrateType.Short?tt.vibrateShort({success:function(){},fail:function(){}}):tt.vibrateLong({success:function(){},fail:function(){}}):u.default.IsBaidu?e==g.VibrateType.Short?swan.vibrateShort({success:function(){},fail:function(){}}):swan.vibrateLong({success:function(){},fail:function(){}}):u.default.IsWiFi?e==g.VibrateType.Short?wuji.vibrateShort({success:function(){},fail:function(){}}):wuji.vibrateLong({success:function(){},fail:function(){}}):u.default.IsNativeAndroid&&(e==g.VibrateType.Short?jsb.reflection.callStaticMethod(i.utils.Tool_Native.jniClassName,"vibrateShort","()V"):jsb.reflection.callStaticMethod(i.utils.Tool_Native.jniClassName,"vibrateLong","()V"))},t.prototype.StartGame=function(e,t){w.default.StartGame(e,t),i.utils.cur_tool&&i.utils.cur_tool.umaOnStart&&i.utils.cur_tool.umaOnStart(e),(u.default.IsDouyin||u.default.IsKwai)&&this.AutoStartRecord(e)},t.prototype.GameWin=function(e,t,o,n){return void 0===t&&(t=0),void 0===n&&(n=!0),w.default.GameWin(e,t,o),i.utils.cur_tool&&i.utils.cur_tool.umaReportedLevel&&i.utils.cur_tool.umaReportedLevel(e,g.LevelStatus.GameWin),u.default.IsKwai&&(i.utils.kwaiTool.isClickEnd=!1),this.recordEnd(),this.AutoShowStatement(e,!0,n)},t.prototype.GameFail=function(e,t,o){return void 0===o&&(o=!0),w.default.GameFail(e,t),i.utils.cur_tool&&i.utils.cur_tool.umaReportedLevel&&i.utils.cur_tool.umaReportedLevel(e,g.LevelStatus.GameFail),this.recordEnd(),this.AutoShowStatement(e,!1,o)},t.prototype.GameSkip=function(e,t){w.default.GameSkip(e,t)},t.prototype.SendEvent=function(e){w.default.SendEvent(e)},t.prototype.umaEvent=function(e,t){i.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5:"+e+"\uff1a"+t),u.default.IsNativeAndroid?i.utils.cur_tool&&i.utils.cur_tool.umaTrackEvent&&i.utils.cur_tool.umaTrackEvent("custom",e,t):i.utils.cur_tool&&i.utils.cur_tool.umaTrackEvent&&i.utils.cur_tool.umaTrackEvent(e,t)},t.prototype.reportOverPageTouchEvent=function(e){var t=this;i.utils.showLog("reportOverPageTouchEvent >>>>>>>"),this.overPageInsertAdIsTouch=!1,this.overPageShowTime=(new Date).getTime();var o=new cc.Node;o.width=2*e.width,o.height=2*e.height,o.on(cc.Node.EventType.TOUCH_START,function(){var e=((new Date).getTime()-t.overPageShowTime)/1e3,n={};n.data=e,i.utils.SendEventNew("\u7ed3\u7b97\u9875\u9762\u70b9\u51fb\u65f6\u95f4","overPageTouch",JSON.stringify(n)),o.destroy(),o.removeFromParent()},e),o._touchListener.swallowTouches=!1,e.addChild(o,cc.macro.MAX_ZINDEX)},t.prototype.SendEventNew=function(e,t,o,n){void 0===t&&(t="default"),void 0===n&&(n=!0),i.utils.showLog("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4e0a\u62a5:"+e+"\uff0c"+t+","+o),i.utils.cur_tool&&i.utils.cur_tool.SendEventNew&&i.utils.cur_tool.SendEventNew(e,t,o,n)},t.UseTool=function(e,t,i){w.default.UseTool(e,t,i)},t.prototype.checkResultShow=function(e){var t=i.utils.currentLevel,o=i.utils.isSuccess,n=i.utils.ServerConfig;if(!n)return i.utils.showLog("warn:\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728,\u53ea\u663e\u793a\u7ed3\u7b97\u5e7f\u544a"),3==e;if(u.default.IsDouyin&&n.auto_record_share_count){var s=n.auto_record_share_count;if(0!=s&&i.utils.recored_share_count>=s)i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5206\u4eab\u6b21\u6570\uff1a"+s+" ,\u5df2\u5230\u4e0a\u9650");else{var a=n.auto_record_interval,r=!1;if(t>0&&0!=a&&(-1==a.indexOf(",")?t%Number(a)==0&&(r=!0):(i.utils.showLog("\u6307\u5b9a\u5173\u5361"+n.auto_record_interval+"\u5206\u4eab\u5f55\u5c4f\uff0c\u5f53\u524d\u5173\u5361\u4e3a\uff1a"+t),a.split(",").forEach(function(e){t==Number(e)&&(r=!0)})),r)){if("all"==n.auto_record_share_type)return 1==e;if("success"==n.auto_record_share_type&&1==i.utils.isSuccess)return 1==e;if("fail"==n.auto_record_share_type&&0==i.utils.isSuccess)return 1==e}}}if(i.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5206\u4eab\u5f55\u5c4f \u5206\u4eab\u5f55\u5c4f\u95f4\u9694\u4e3a\uff1a"+n.auto_record_interval+"  \u5206\u4eab\u7c7b\u578b\u4e3a\uff1a"+n.auto_record_share_type),n.auto_video_interval&&0!=n.auto_video_interval){var c=n.auto_video_interval,l=n.auto_video_show_type;if(t%c==0){if("all"==l)return 2==e;if("success"==l&&1==o)return 2==e;if("fail"==l&&0==o)return 2==e}}if(i.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5f39\u89c6\u9891\u5f39\u89c6\u9891\u95f4\u9694\u4e3a\uff1a"+n.auto_video_interval+" \u5f39\u89c6\u9891\u7c7b\u578b\u4e3a\uff1a"+n.auto_video_show_type),n.auto_rec_insert_interval&&0!=n.auto_rec_insert_interval&&(c=n.auto_rec_insert_interval,l=n.auto_rec_insert_type,t%c==0)){if("all"==l)return 4==e;if("success"==l&&1==o)return 4==e;if("fail"==l&&0==o)return 4==e}return i.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5f39\u4e92\u63a8\u63d2\u5c4f\u95f4\u9694\u4e3a\uff1a"+n.auto_rec_insert_interval+" \u5f39\u89c6\u9891\u7c7b\u578b\u4e3a\uff1a"+n.auto_rec_insert_type),3==e},t.prototype.AutoShowStatement=function(e,t,o){i.utils.currentLevel=e,i.utils.isSuccess=t;var n={type:-1,node:null};if(!o)return i.utils.showLog("isShowAd\u4e3afalse\uff0c\u53ea\u4e0a\u62a5\u4e0d\u663e\u793a\u5e7f\u544a"),n;var s=!1;if(this.checkResultShow(2)){if("false"==this.getConfigByKey("result_auto_show_video"))return;u.default.IsDouyin?(i.utils.showLog("\u670d\u52a1\u5668\u7248\u672c\uff1a",i.utils.config.douyinconfig.version,"\u5f53\u524d\u7248\u672c\uff1a",this.getConfigByKey("version")),i.utils.config.douyinconfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0)):u.default.IsQQ?i.utils.config.qqconfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0):u.default.IsWiFi?i.utils.config.wifiConfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0):u.default.IsBaidu?i.utils.config.baiduconfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0):u.default.IsKwai?i.utils.config.kwaiConfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0):u.default.IsHago?i.utils.config.hagoConfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.adManager.ShowVideo(function(){}),s=!0):u.default.IsNativeAndroid?i.utils.config.nativeAndroidConfig.version!=this.getConfigByKey("version")?(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.ServerConfig&&"reward_video"==this.getConfigByKey("auto_video_type")?i.utils.adManager.ShowVideo(function(){}):i.utils.adManager.showFullScreenVideo(),s=!0):i.utils.showLog("\u4e0e\u670d\u52a1\u5668\u7248\u672c\u4e00\u81f4\uff0c\u4e0d\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"):u.default.IsNativeIOS?i.utils.config.nativeIoSConfig.version!=this.getConfigByKey("version")&&(i.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"),i.utils.ServerConfig&&"reward_video"==this.getConfigByKey("auto_video_type")?i.utils.adManager.ShowVideo(function(){}):i.utils.adManager.showFullScreenVideo(),s=!0):u.default.IsVIVO?(i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5f53\u524d\u663e\u793a\u5f3a\u5f39\u89c6\u9891\uff0c\u4f46\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u3002\u9700\u4fee\u6539\u670d\u52a1\u5668\u914d\u7f6e"),i.utils.adManager.showStatementAds()):(s=!0,i.utils.adManager.ShowVideo(function(){})),s&&(u.default.IsDouyin||u.default.IsQQ||u.default.IsNativeAndroid||u.default.IsNativeIOS)?i.utils.showLog("\u5f53\u524d\u5f3a\u5f39\u4e86\u89c6\u9891\uff0c\u4e0d\u663e\u793a\u63d2\u5c4f\uff01"):n=i.utils.adManager.showStatementAds()}return this.checkResultShow(3)&&(n=i.utils.adManager.showStatementAds()),(u.default.IsDouyin||u.default.IsNativeIOS||u.default.IsBaidu||u.default.IsNativeAndroid)&&(n.type=1,n.node=i.utils.showCrossWidget6()),n},t.prototype.addRedBagCount=function(e){this.yzRedBagInfo.freeRedBagCount++,e&&(this.rewardCloseFunc=e),this.showOpenRedBagPanel({showType:3}),i.utils.showLog("\u83b7\u5f97\u4e00\u4e2a\u73b0\u91d1\u7ea2\u5305")},t.prototype.AutoStartRecord=function(){this.getConfigByKey("auto_record_interval")>0?i.utils.recordStart():i.utils.showLog("warn:\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728auto_record_interva")},t.prototype.showShareRecordPanel=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(this.config.otherconfig.shareRecordPanel){var t=cc.instantiate(this.config.otherconfig.shareRecordPanel);if(t){this.shareRecordPanel&&cc.isValid(this.shareRecordPanel)&&this.shareRecordPanel.destroy(),this.shareRecordPanel=t,this.shareRecordPanel.zIndex=9999;var o=t.getComponent(cc.Widget);return e?(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent?t.parent=e.parent:cc.director.getScene().addChild(this.shareRecordPanel,1e3)):cc.director.getScene().addChild(this.shareRecordPanel,1e3),o.updateAlignment(),t}}else i.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 ShareRecordPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},Object.defineProperty(t.prototype,"otherConfig",{get:function(){return this._other_config||(this._other_config=this.config.otherconfig.localConfig.json.other),this._other_config},enumerable:!1,configurable:!0}),t.prototype.isShowTrySkin=function(e){var t=5;return i.utils.ServerConfig&&this.getConfigByKey("try_skin_level_count")&&(t=this.getConfigByKey("try_skin_level_count")),e%t==0&&(i.utils.ServerConfig&&null!=this.getConfigByKey("try_skin_show_ad_interval")&&e%this.getConfigByKey("try_skin_show_ad_interval")==0&&(i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u95f4\u9694"+this.getConfigByKey("try_skin_show_ad_interval")+"\u5173\u8bd5\u7528\u76ae\u80a4\u5c55\u793a\u63d2\u5c4f\uff01"),i.utils.adManager.ShowInterstitial()),!0)},t.prototype.showSkipBtn=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=g.BannerLocation.None),e){var o=u.default.IsNativeAndroid?3:0;this.getConfigByKey("skip_btn_show_delay")&&(o=this.getConfigByKey("skip_btn_show_delay")),t&&this.getConfigByKey("special_skip_btn_show_delay")&&(o=this.getConfigByKey("special_skip_btn_show_delay")),u.default.IsTest&&(this.ServerConfig.over_page_skip_btn_show_delay=3),i==g.BannerLocation.Over&&this.getConfigByKey("over_page_skip_btn_show_delay")&&(o=this.getConfigByKey("over_page_skip_btn_show_delay")),o>0?(e.opacity=0,e.active=!1,this.scheduleOnce(function(){e&&cc.isValid(e)&&(e.active=!0,e.runAction(cc.fadeIn(.3)))},o)):e.active||(e.active=!0)}},t.prototype.delayShowNode=function(e){if(e){e.opacity=0,e.active=!0;var t=0;this.getConfigByKey("next_btn_show_delay")&&(t=this.getConfigByKey("next_btn_show_delay")),this.scheduleOnce(function(){e&&cc.isValid(e)&&e.runAction(cc.fadeIn(.3))},t)}},t.prototype.isBoxAutoSelectToggle=function(){var e=0,t=i.utils.currentLevel;return this.getConfigByKey("box_auto_select_level")?e=Number(this.getConfigByKey("box_auto_select_level")):i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009"),0!=e&&t%e==0},t.prototype.isResultAutoSelectToggle=function(){var e=0,t=i.utils.currentLevel;return this.getConfigByKey("result_auto_select_level")?e=Number(this.getConfigByKey("result_auto_select_level")):i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009"),0!=e&&t%e==0},t.prototype.isTrySkinAutoSelectToggle=function(){var e=0,t=i.utils.currentLevel;return this.getConfigByKey("skin_auto_select_level")?e=Number(this.getConfigByKey("skin_auto_select_level")):i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009"),0!=e&&t%e==0},Object.defineProperty(t.prototype,"gameVersion",{get:function(){return this.cur_tool&&this.cur_tool.gameVersion?this.cur_tool.gameVersion():"-1"},enumerable:!1,configurable:!0}),t.prototype.controView=function(e){var t,o,n={isSelect:!0,msg:"\u89c2\u770b\u89c6\u9891\u83b7\u5f97\u5956\u52b1",btnType:!0,is_open:!1};if(!i.utils.ServerConfig)return i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728"),n;if("false"==this.getConfigByKey("open_check_btn"))return i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5f00\u542f\u52fe\u9009\uff01"),n;switch(n.is_open=!0,e){case g.ViewLocation.sign:o=this.getConfigByKey("sign_auto_select_level")?this.getConfigByKey("sign_auto_select_level"):0,t="true"!=this.getConfigByKey("ad_tip_sign_random")||Math.random()>=.5,n.msg=t?"\u67e5\u770b\u89c6\u9891\u83b7\u5f97\u53cc\u500d\u5956\u52b1":"\u4e0d\u9700\u8981\u89c6\u9891\u5956\u52b1";break;case g.ViewLocation.trySkin:o=this.getConfigByKey("tryskin_auto_select_level")?this.getConfigByKey("tryskin_auto_select_level"):0,t="true"!=this.getConfigByKey("ad_tip_tryskin_random")||Math.random()>=.5,n.msg=t?"\u67e5\u770b\u89c6\u9891\u8bd5\u7528\u76ae\u80a4":"\u4e0d\u9700\u8981\u89c6\u9891\u8bd5\u7528\u76ae\u80a4";break;case g.ViewLocation.box:o=this.getConfigByKey("box_auto_select_level")?this.getConfigByKey("box_auto_select_level"):0,t="true"!=this.getConfigByKey("ad_tip_box_random")||Math.random()>=.5,n.msg=t?"\u67e5\u770b\u89c6\u9891\u83b7\u5f97\u4e94\u500d\u5956\u52b1":"\u4e0d\u9700\u8981\u89c6\u9891\u5956\u52b1";break;case g.ViewLocation.successBox:o=this.getConfigByKey("success_box_auto_select_level")?this.getConfigByKey("success_box_auto_select_level"):0;break;case g.ViewLocation.failBox:o=this.getConfigByKey("fail_box_auto_select_level")?this.getConfigByKey("fail_box_auto_select_level"):0;break;case g.ViewLocation.winPanel:o=this.getConfigByKey("win_panel_auto_select_level")?this.getConfigByKey("win_panel_auto_select_level"):0;break;case g.ViewLocation.turntable:o=this.getConfigByKey("turntable_auto_select_level")?this.getConfigByKey("turntable_auto_select_level"):0}return 0==o?n.isSelect=!1:1==o?n.isSelect=!0:2==o&&(n.isSelect=Math.random()>=.5),n.btnType=t==n.isSelect,n},t.prototype.canShowNextVideo=function(e){if(i.utils.ServerConfig&&this.getConfigByKey("next_auto_video_interval")){var t=Number(this.getConfigByKey("next_auto_video_interval"));if(t&&0!=t)if(e%t==0)if(u.default.IsDouyin){if(this.getConfigByKey("version")!=i.utils.config.douyinconfig.version)return!0}else if(u.default.IsBaidu){if(this.getConfigByKey("version")!=i.utils.config.baiduconfig.version)return!0}else{if(!u.default.ISUC)return!0;if(this.getConfigByKey("version")!=i.utils.config.ucConfig.version)return!0}else if(u.default.Is4399&&0!=(t=3)&&e%t==0)return this.true}return!1},t.prototype.canShowRedBag=function(){return this._isConfigInit?!!this.Tool_Broswer||!!(this.ServerConfig&&this.yzRedBagInfo&&this.ServerConfig.show_red_bag&&"true"==this.ServerConfig.show_red_bag)||(i.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u7ea2\u5305\u7ec4\u4ef6\uff01"),!1):(i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1)},t.prototype.hideWithdrawalWidget=function(){this._withdrawalWidget&&cc.isValid(this._withdrawalWidget)&&this._withdrawalWidget.destroy()},t.prototype.showWithdrawalWidget=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.canShowRedBag())return null;if(this.config.otherconfig.withdrawalWidget){var t=cc.instantiate(this.config.otherconfig.withdrawalWidget);if(t){this._withdrawalWidget&&cc.isValid(this._withdrawalWidget)&&this._withdrawalWidget.destroy(),this._withdrawalWidget=t,this._withdrawalWidget.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 WithdrawalWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},t.prototype.hideRedBagProgressWidget=function(){this._redBagProgressWidget&&cc.isValid(this._redBagProgressWidget)&&this._redBagProgressWidget.destroy()},t.prototype.showRedBagProgressWidget=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.canShowRedBag())return null;if(this.config.otherconfig.redBagProgressWidget){var t=cc.instantiate(this.config.otherconfig.redBagProgressWidget);if(t){this._redBagProgressWidget&&cc.isValid(this._redBagProgressWidget)&&this._redBagProgressWidget.destroy(),this._redBagProgressWidget=t,this._redBagProgressWidget.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.location&&t.getComponent(O.default).init(e),e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RedBagProgressWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},t.prototype.showWithdrawalPanel=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.canShowRedBag())return null;if(this.config.otherconfig.withdrawalPanel){var t=cc.instantiate(this.config.otherconfig.withdrawalPanel);return t?(this._withdrawalPanel&&cc.isValid(this._withdrawalPanel)&&this._withdrawalPanel.destroy(),this._withdrawalPanel=t,cc.director.getScene().addChild(this._withdrawalPanel,9999)):i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 WithdrawalPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null}},t.prototype.showOpenRedBagPanel=function(e){if(void 0===e&&(e=null),e&&e.closeCallFunc&&(this.rewardCloseFunc=e.closeCallFunc),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),this.rewardCloseFunc&&this.rewardCloseFunc(),null;if(!this.canShowRedBag())return this.rewardCloseFunc&&this.rewardCloseFunc(),null;if(e&&e.location&&e.location===g.BannerLocation.Home){if(this.yzRedBagInfo.progress<this.yzRedBagInfo.totalProgress&&!this.yzRedBagInfo.isFreeRedBag)return i.utils.showLog("\u5f53\u524d\u7ea2\u5305\u8fdb\u5ea6\u4e0d\u6ee1\u8db3\u6761\u4ef6\u4e14\u6ca1\u6709\u514d\u8d39\u7ea2\u5305\u9886\u53d6\uff0c\u9996\u9875\u4e0d\u663e\u793a\u62c6\u7ea2\u5305\u7a97\u53e3"),this.rewardCloseFunc&&this.rewardCloseFunc(),null;this.yzRedBagInfo.isFreeRedBag||(e.showType=2)}if(this.config.otherconfig.openRedBagPanel){var t=cc.instantiate(this.config.otherconfig.openRedBagPanel);return t?(this._openRedBagPanel&&cc.isValid(this._openRedBagPanel)&&this._openRedBagPanel.destroy(),this._openRedBagPanel=t,e&&e.showType&&this._openRedBagPanel.getComponent(R.default).initData(e.showType),cc.director.getScene().addChild(t,9999)):i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 OpenRedBagPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null}},t.prototype.showRewardRedBagPanel=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.canShowRedBag())return null;if(this._rewardRedBagPanelShowCount++,this._rewardRedBagPanelShowCount%3==0){if(this.config.otherconfig.rewardRedBagPanel){var t=cc.instantiate(this.config.otherconfig.rewardRedBagPanel);return t?(this._rewardRedBagPanel&&cc.isValid(this._rewardRedBagPanel)&&this._rewardRedBagPanel.destroy(),this._rewardRedBagPanel=t,cc.director.getScene().addChild(this._rewardRedBagPanel,9999)):i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 OpenRedBagPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"),null}}else i.utils.showLog("\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97\u672a\u8fbe\u5230\u670d\u52a1\u5668\u914d\u7f6e\u7684\u95f4\u9694\u9650\u5236\uff01")},t.prototype.isVerticalRecommentPanel=function(){if(!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),!1;if(this.Tool_Broswer)return!0;if(u.default.IsWechat)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.wechatTool&&i.utils.wechatTool.ServerConfig&&i.utils.wechatTool.ServerConfig.is_vertical_game){if("true"==i.utils.wechatTool.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsOPPO)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.oppoTool&&i.utils.oppoTool.ServerConfig&&i.utils.oppoTool.ServerConfig.is_vertical_game){if("true"==i.utils.oppoTool.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsDouyin)if(u.default.IsAndroid&&i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_Douyin&&i.utils.Tool_Douyin.ServerConfig&&i.utils.Tool_Douyin.ServerConfig.is_vertical_game){if("true"==i.utils.Tool_Douyin.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsBaidu)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_Baidu&&i.utils.Tool_Baidu.ServerConfig&&i.utils.Tool_Baidu.ServerConfig.is_vertical_game){if("true"==i.utils.Tool_Baidu.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsQQ)if(i.utils.isSupportnavigateToMiniGame())if(i.utils.Tool_QQ&&i.utils.Tool_QQ.ServerConfig&&i.utils.Tool_QQ.ServerConfig.is_vertical_game){if("true"==i.utils.Tool_QQ.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else i.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else{if(u.default.Is4399)return!0;if(u.default.IsNativeAndroid)if(i.utils.Tool_Native&&i.utils.Tool_Native.ServerConfig&&i.utils.Tool_Native.ServerConfig.is_vertical_game){if("true"==i.utils.Tool_Native.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");else if(u.default.IsNativeIOS)if(i.utils.Tool_IOS&&i.utils.Tool_IOS.ServerConfig&&i.utils.Tool_IOS.ServerConfig.is_vertical_game){if("true"==i.utils.Tool_IOS.ServerConfig.is_vertical_game)return!0;i.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}else i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}return!1},t.prototype.showVerticalRecommentPanel=function(e){if(void 0===e&&(e=null),!this._isConfigInit)return i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(!this.isVerticalRecommentPanel())return null;if(this.config.otherconfig.verticalRecommentPanel){var t=cc.instantiate(this.config.otherconfig.verticalRecommentPanel);if(t){t.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent),null!=e.position&&t.setPosition(N.default.position(e.position.x,e.position.y))),o.updateAlignment(),t}}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 verticalRecommentPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");return null},t.prototype.isShowPrivacyWidget=function(){return!!this.Tool_Broswer||"true"==this.getConfigByKey("is_privacy")||(i.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_privacy\u53c2\u6570\uff0c\u66f4\u7528\u6237\u534f\u8bae\u6302\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"),!1)},t.prototype.showPrivacyWidget=function(e){if(void 0===e&&(e=null),i.utils.isShowPrivacyWidget()){if(this.config.otherconfig.privacyWidget){this._privacyWidget&&cc.isValid(this._privacyWidget)&&this._privacyWidget.destroy();var t=cc.instantiate(this.config.otherconfig.privacyWidget);this._privacyWidget=t,this._privacyWidget.zIndex=9999;var o=t.getComponent(cc.Widget);return e&&(e.color&&(t.children[0].color=e.color),e.group&&(t.group=e.group),null!=e.scale&&(t.scale=e.scale),null!=e.top?(o.isAlignTop=!0,o.isAlignBottom=!1,o.top=e.top):null!=e.bottom&&(o.isAlignTop=!1,o.isAlignBottom=!0,o.bottom=e.bottom),null!=e.left?(o.isAlignLeft=!0,o.isAlignRight=!1,o.left=e.left):null!=e.right&&(o.isAlignLeft=!1,o.isAlignRight=!0,o.right=e.right),null!=e.parent&&(t.parent=e.parent)),o.updateAlignment(),t.on(cc.Node.EventType.TOUCH_END,function(){u.default.IsNativeAndroid?i.utils.Tool_Native&&i.utils.Tool_Native.showPrivacyAgreement():i.utils.showPrivacyPanel({is_widget_click:"true",group:t.group})},this),t}i.utils.showLog("warn:\u9690\u79c1\u653f\u7b56\u6302\u4ef6\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01")}else i.utils.showLog("warn:\u4e0d\u53ef\u663e\u793a\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f");return null},t.prototype.hidePrivacyWidget=function(){this._privacyWidget&&cc.isValid(this._privacyWidget)&&this._privacyWidget.destroy()},t.prototype.isShowPrivacyPanel=function(){if(u.default.IsHuaWei||u.default.IsXiaoMi)return!0;if(this.getConfigByKey("is_privacy_panel")){if("true"==this.getConfigByKey("is_privacy_panel"))return!0;i.utils.showLog("warn:is_privacy_panel\u53c2\u6570\u4e3afalse\uff0c\u7528\u6237\u9690\u79c1\u653f\u7b56\u5f39\u7a97\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01")}return!1},t.prototype.showPrivacyPanel=function(e){var t=this;void 0===e&&(e=null),i.utils.showLog("showPrivacyPanel>>>");var o=function(o){if(t.config.otherconfig.privacyPanel){t._privacyPanel&&cc.isValid(t._privacyPanel)&&t._privacyPanel.destroy();var n=cc.instantiate(t.config.otherconfig.privacyPanel);n.getComponent(E.default).showDesc=o,t._privacyPanel=n,t._privacyPanel.zIndex=9999;var s=n.getComponent(cc.Widget),a="\u6df1\u5733\u5e02\u4f18\u667a\u4fe1\u606f\u6280\u672f\u6709\u9650\u516c\u53f8";e&&e.subject&&(a=e.subject);var r=cc.find("Panel/subject",n).getComponent(cc.Label).string;r=r.replace("subject",a),cc.find("Panel/subject",n).getComponent(cc.Label).string=r,e?(e.group&&(n.group=e.group),null!=e.scale&&(n.scale=e.scale),null!=e.top?(s.isAlignTop=!0,s.isAlignBottom=!1,s.top=e.top):null!=e.bottom&&(s.isAlignTop=!1,s.isAlignBottom=!0,s.bottom=e.bottom),null!=e.left?(s.isAlignLeft=!0,s.isAlignRight=!1,s.left=e.left):null!=e.right&&(s.isAlignLeft=!1,s.isAlignRight=!0,s.right=e.right),null!=e.parent?n.parent=e.parent:cc.find("Canvas").addChild(n,cc.macro.MAX_ZINDEX)):cc.find("Canvas").addChild(n,cc.macro.MAX_ZINDEX),s.updateAlignment()}else i.utils.showLog("warn:\u9690\u79c1\u653f\u7b56\u5f39\u7a97\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01")};if(e&&e.is_widget_click)o(!0);else{if(x.default.getItem(g.default.YZ_GAME_YSXY))return i.utils.emitPrivacyCloseEvent(),void i.utils.showLog("\u5df2\u7ecf\u540c\u610f\u8fc7\u9690\u79c1\u534f\u8bae\uff0c\u4e0d\u663e\u793a\u9690\u79c1\u534f\u8bae\u5f39\u7a97\uff01");i.utils.registerServerDataLoadSuccessEvent(function(){o()},this)}},t.prototype.showScaleAction=function(e,t,o,n,s){if(void 0===t&&(t=null),void 0===o&&(o=!0),void 0===n&&(n=!0),void 0===s&&(s=g.BannerLocation.None),o){if(!cc.isValid(t)||!cc.isValid(e))return}else if(!cc.isValid(e))return;var a=e;if("true"==this.getConfigByKey("change_btn_position")&&1==o){var r=!0;if(s==g.BannerLocation.Over&&"false"==this.getConfigByKey("over_page_change_btn")&&(r=!1,i.utils.showLog("\u7ed3\u7b97\u9875\u9762\u6309\u94ae\u914d\u7f6e\u4e0d\u5207\u6362\u4f4d\u7f6e\uff01")),r){var c=Math.floor(2*Math.random()+1),l=e.position,u=t.position;c%2==0?(t.position=l,e.position=u):(a=e,t.position=u,e.position=l),a=t.position.y>e.position.y?t:e}}if("true"==this.getConfigByKey("btn_show_scale")){if(s==g.BannerLocation.Over&&"false"==this.getConfigByKey("over_page_scale_btn"))return void i.utils.showLog("\u7ed3\u7b97\u9875\u9762\u6309\u94ae\u914d\u7f6e\u4e0d\u7f29\u653e\u6309\u94ae\uff01");e&&(e.stopAllActions(),e.scale=1),t&&(t.stopAllActions(),t.scale=1);var h,d=cc.sequence(cc.scaleTo(this.runTime,this.maxScale),cc.scaleTo(this.runTime,this.minScale));if(a.runAction(d.repeatForever()),n)if(e&&(h=e.parent.getChildByName("hand"))&&(h.destroy(),h.removeFromParent()),t&&(h=t.parent.getChildByName("hand"))&&(h.destroy(),h.removeFromParent()),this.config.otherconfig.handPrefab){var p=cc.instantiate(this.config.otherconfig.handPrefab);p.x=a.x+a.width/2,p.y=a.y-135,a.parent.addChild(p,cc.macro.MAX_ZINDEX+1,"hand")}}},t.prototype.reportNativeAdClick=function(){((new Date).getTime()-this._lastReportAdTime)/1e3>3?(this._lastReportAdTime=(new Date).getTime(),cc.game.emit(g.default.YZ_NativeAdClick),this.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb\uff01")):this.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff01")},t.prototype.canShowOverPageAdBtn=function(){return!(!this.ServerConfig||!this.ServerConfig.show_over_page_ad_btn||"true"!=this.ServerConfig.show_over_page_ad_btn)},t.prototype.showRecBanner=function(){i.utils.adManager.checkShowAdTime()?this.cur_tool&&this.cur_tool.showRecBanner&&this.cur_tool.showRecBanner():i.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},t.prototype.showGamePortal=function(){i.utils.adManager.checkShowAdTime()?this.cur_tool&&this.cur_tool.showGamePortal&&this.cur_tool.showGamePortal():i.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},t.prototype.showVivoGamePortalWidget=function(e){if(void 0===e&&(e=null),this._isConfigInit){if(u.default.IsVIVO)if(i.utils.adManager.checkShowAdTime())if("true"===this.getConfigByKey("vivo_game_protal")){if(e&&e.location&&this.getConfigByKey("vivo_game_protal_locations").indexOf(e.location)<0)return i.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aVIVO\u4e5d\u5bab\u683c\u6302\u4ef6\uff01"),void(this.Tool_Vivo&&this.Tool_Vivo.hideGamePortal());this.Tool_Vivo&&this.Tool_Vivo.showGamePortal(e.top)}else i.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aVIVO\u4e5d\u5bab\u683c\u6302\u4ef6\uff01");else i.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")}else i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!")},t.prototype.hideVivoGamePortalWidget=function(){this.Tool_Vivo&&this.Tool_Vivo.hideGamePortal()},t.prototype.showOppoGameDrawerAdWidget=function(e){if(void 0===e&&(e=null),this._isConfigInit){if(u.default.IsOPPO)if(i.utils.adManager.checkShowAdTime())if("true"===this.getConfigByKey("oppo_game_drawer")){if(e&&e.location&&this.getConfigByKey("oppo_game_drawer_locations").indexOf(e.location)<0)return i.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8\u62bd\u5c49\u76d2\u5b50\uff01"),void(this.oppoTool&&this.oppoTool.hideGameDrawerAd());this.oppoTool&&this.oppoTool.showGameDrawerAd(e)}else i.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8\u62bd\u5c49\u76d2\u5b50\uff01");else i.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")}else i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!")},t.prototype.hideOppoGameDrawerAdWidget=function(){this.oppoTool&&this.oppoTool.hideGameDrawerAd()},t.prototype.showOppoRecBanner=function(e){if(void 0===e&&(e=null),this._isConfigInit){if(u.default.IsOPPO)if(i.utils.adManager.checkShowAdTime())if("true"===this.getConfigByKey("oppo_rec_banner")){if(e&&e.location&&this.getConfigByKey("oppo_rec_banner_locations").indexOf(e.location)<0)return i.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8Banner\uff01"),void(this.oppoTool&&this.oppoTool.hideOppoRecBanner());this.oppoTool&&this.oppoTool.showOppoNewRecBanner(e)}else i.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8Banner\uff01");else i.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")}else i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!")},t.prototype.hideOppoRecBanner=function(){this.oppoTool&&this.oppoTool.hideOppoRecBanner()},t.prototype.realNameAuth=function(e,t,o){i.utils.showLog("\u8fdb\u884c\u5b9e\u540d\u5236\u8ba4\u8bc1\uff1a#code="+e+" #name="+t),i.utils.cur_tool&&i.utils.cur_tool.realNameAuth&&i.utils.cur_tool.realNameAuth(e,t,o)},t.prototype.GameExit=function(){this.cur_tool&&this.cur_tool.GameExit&&this.cur_tool.GameExit()},t.prototype.showYzRealNameAuthPanel=function(e){if(void 0===e&&(e=null),i.utils.showLog("\u663e\u793a\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97!"),this._isConfigInit){if(this.getRealNameAuthLocalData()&&"1"==this.getRealNameAuthLocalData()&&(this._isRealNameAuth=!0),this._isRealNameAuth)return i.utils.showLog("\u5df2\u7ecf\u8fdb\u884c\u8fc7\u5b9e\u540d\u5236\u8ba4\u8bc1,\u4e0d\u663e\u793a\u5f39\u7a97\uff01"),void this.emitRealNameAuthCloseEvent();var t=-1;if((u.default.IsNativeAndroid||u.default.IsNativeIOS)&&(t=0),this.getConfigByKey("show_real_name_auth")&&(t=parseInt(this.getConfigByKey("show_real_name_auth"))),-1==t)return i.utils.showLog("\u670d\u52a1\u5668\u63a7\u5236\u4e0d\u663e\u793a\u5b9e\u540d\u5236\u5f39\u7a97\uff01"),void this.emitRealNameAuthCloseEvent();if(!u.default.IsNativeAndroid){if(this.config.otherconfig.yzRealNameAuthPanel){this._yzRealNameAuthPanel&&cc.isValid(this._yzRealNameAuthPanel)&&this._yzRealNameAuthPanel.destroy();var o=cc.instantiate(this.config.otherconfig.yzRealNameAuthPanel);return-2==t&&(o.getComponent(D.default)._isOffLine=!0,t=0),this._yzRealNameAuthPanel=o,this._yzRealNameAuthPanel.zIndex=9999,e?(e.group&&(o.group=e.group),null!=e.scale&&(o.scale=e.scale),this.scheduleOnce(function(){null!=e.parent?o.parent=e.parent:cc.find("Canvas").addChild(o)},1e3*t)):this.scheduleOnce(function(){cc.find("Canvas").addChild(o)},1e3*t),o}return i.utils.showLog("warn:\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01"),null}this.scheduleOnce(function(){i.utils.Tool_Native.showRealNameAuthPanel(t+"")},t)}else i.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!")},t.prototype.setRealNameAuthLocalData=function(e){x.default.setItem("yz_game_real_name",""+e)},t.prototype.getRealNameAuthLocalData=function(){var e=x.default.getItem("yz_game_real_name");return e||(e=0),e},t.prototype.getConfigByKey=function(e){return this._isConfigInit?e&&this.ServerConfig&&e in this.ServerConfig?this.ServerConfig[e]:(this.showLog("warn:\u5b57\u6bb5\uff1a"+e+" \u672a\u914d\u7f6e\uff01"),""):(i.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!"),"")},t.prototype.login=function(e,t){var i=this;if(this.showLog("=====login===="),e&&(u.default.IsDouyin,cc.game.targetOff(g.default.ST_LOGIN_SUCCESS),cc.game.on(g.default.ST_LOGIN_SUCCESS,e,this)),t){var o=function(){t(),i.showLoginPanel()};cc.game.targetOff(g.default.ST_LOGIN_FAIL),cc.game.on(g.default.ST_LOGIN_FAIL,o,this)}else o=function(){i.showLoginPanel()},cc.game.targetOff(g.default.ST_LOGIN_FAIL),cc.game.on(g.default.ST_LOGIN_FAIL,o,this);this.cur_tool&&this.cur_tool.login?this.cur_tool.login():(cc.game.targetOff(g.default.ST_LOGIN_SUCCESS),cc.game.targetOff(g.default.ST_LOGIN_FAIL),e&&e())},t.prototype.showLoginPanel=function(){if(this.config.otherconfig.yzLoginPanel){var e=cc.instantiate(this.config.otherconfig.yzLoginPanel);if(e)return this._yzLoginPanel&&cc.isValid(this._yzLoginPanel)&&this._yzLoginPanel.destroy(),this._yzLoginPanel=e,cc.find("Canvas").addChild(e,cc.macro.MAX_ZINDEX),e}else i.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 YzLoginPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01")},t.prototype.generateUUID=function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)})},s([V({displayName:"\u7ec4\u4ef6\u7248\u672c",readonly:!0})],t.prototype,"utilsVersion",null),s([V({displayName:"\u6d4b\u8bd5\u672c\u5730\u6570\u636e",tooltip:"\u52fe\u9009\u6b64\u9009\u9879\u5219\u4f7f\u7528\u672c\u5730\u914d\u7f6e\uff0c\u5426\u5219\u4f1a\u8bf7\u6c42\u670d\u52a1\u5668\u914d\u7f6e!"})],t.prototype,"DebugLoacalConfig",void 0),s([V({displayName:"\u663e\u793a\u65e5\u5fd7\u6846",tooltip:"\u52fe\u9009\u6b64\u9009\u9879\u5219\u4f1a\u663e\u793a\u65e5\u5fd7\u6846\uff0c\u7528\u4e8e\u8c03\u8bd5!"})],t.prototype,"showLogView",void 0),s([V({type:c.default,displayName:"\u914d\u7f6e\u4fe1\u606f"})],t.prototype,"config",void 0),s([U],t)}(cc.Component);i.default=W,cc._RF.pop()},{"./AdManager":"AdManager","./AldUtils":"AldUtils","./CommonConfig":"CommonConfig","./CompatibleTool":"CompatibleTool","./Encrypt/CryptoJS":"CryptoJS","./OpenRedBagPanel":"OpenRedBagPanel","./PlatUtils":"PlatUtils","./RedBagProgressWidget":"RedBagProgressWidget","./WechatTool":"WechatTool","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage","./YZ_Tool_4399":"YZ_Tool_4399","./YZ_Tool_Baidu":"YZ_Tool_Baidu","./YZ_Tool_Bili":"YZ_Tool_Bili","./YZ_Tool_Broswer":"YZ_Tool_Broswer","./YZ_Tool_Cocosplay":"YZ_Tool_Cocosplay","./YZ_Tool_Douyin":"YZ_Tool_Douyin","./YZ_Tool_FaceBook":"YZ_Tool_FaceBook","./YZ_Tool_GoogleWeb":"YZ_Tool_GoogleWeb","./YZ_Tool_Hago":"YZ_Tool_Hago","./YZ_Tool_HuaWei":"YZ_Tool_HuaWei","./YZ_Tool_IOS":"YZ_Tool_IOS","./YZ_Tool_Kwai":"YZ_Tool_Kwai","./YZ_Tool_Native":"YZ_Tool_Native","./YZ_Tool_Oppo":"YZ_Tool_Oppo","./YZ_Tool_QQ":"YZ_Tool_QQ","./YZ_Tool_QTT":"YZ_Tool_QTT","./YZ_Tool_UC":"YZ_Tool_UC","./YZ_Tool_Vivo":"YZ_Tool_Vivo","./YZ_Tool_Wifi":"YZ_Tool_Wifi","./YZ_Tool_Xiaomi":"YZ_Tool_Xiaomi","./YzRealNameAuthPanel":"YzRealNameAuthPanel","./YzUserPrivacyPanel":"YzUserPrivacyPanel"}],VerticalRecommentPanel:[function(e,t,i){"use strict";cc._RF.push(t,"e9374miWaFPkomPvJdFnlTk","VerticalRecommentPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./PlatUtils"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recommendNode=null,t._isInit=!1,t._gameList=[],t._data=null,t._curIndex=0,t}var i;return n(t,e),i=t,t.prototype.onLoad=function(){this._recommendNode=cc.find("Panel/RecommendGamesNode",this.node),this._recommendNode.active=!1;for(var e=0;e<this._recommendNode.childrenCount;e++){var t=this._recommendNode.children[e].getComponent("GameItem");this._gameList.push(t)}},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._initWidget=function(){if(!this._isInit){var e=!0;if(a.utils.isVerticalRecommentPanel()){if(c.default.IsDouyin&&(a.utils.Tool_Douyin.isShowMoreGamesModal()||this.node.destroy()),this._data=a.utils.getRecommondGameList(),this.node.parent.getComponentsInChildren(i).length>1){for(var t=[],o=this._data.length-1;o>=0;o--)t.push(this._data[o]);this._data=t}this._data?this._data.length>0?(this._isInit=!0,this._initData(),this._recommendNode.active=!0,this.schedule(this._initData,3)):(console.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0"),e=!1):(console.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!"),e=!1)}e||this.node.destroy()}},t.prototype._initData=function(){var e=this;this._gameList.forEach(function(t){if(e._curIndex>e._data.length-1&&(e._curIndex=0),t.init(e._data[e._curIndex],r.SubLocation.isVerticalPanel),l.default.engineVersion>=220)cc.tween(t.node).repeat(5,cc.tween().to(.03,{angle:85}).to(.03,{angle:90}).to(.03,{angle:95}).to(.03,{angle:90})).start();else{var i=cc.repeat(cc.sequence(cc.rotateTo(.03,-85),cc.rotateTo(.03,-90),cc.rotateTo(.03,-95),cc.rotateTo(.03,-90)),5);t.node.runAction(i)}e._curIndex++})},i=s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],WechatTool:[function(e,t,i){"use strict";cc._RF.push(t,"6f2a5wLPkNFZ7hhnEj8fY4B","WechatTool");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,"https://apps.youlesp.com/gss?"),p="",_="",f=function(){function e(){this._serverConfig=null,this._gameBoxServerConfig=null,this._uid="0",this._service_uid="0",this._sysInfo=null,this._shareCallback=null,this._isShare=!1,this._lastUpdateTime=0,this._appIdList=[],this._jumpIds="",this._luanchType="",this.clue_token="",this.wx_code="",this._source_app_id="",this._luanchData="",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this.isReportActive=!1,this.passCount=0,this.playCount=0}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameBoxServerConfig",{get:function(){return this._gameBoxServerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"!=this._uid?this._uid:(this._login(),"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this._login(),"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.init=function(e){var t=this;if(a.default.IsWechat){try{this._sysInfo=wx.getSystemInfoSync(),r.utils.showLog("\u5fae\u4fe1\u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo))}catch(s){}try{this._luanchData=l.default.getItem(c.default.ST_LUANCH_DATA),this._luanchType=l.default.getItem(c.default.ST_LUANCH_TYPE);var i=wx.getLaunchOptionsSync();if(i&&r.utils.showLog(">>\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a"+JSON.stringify(i)),this._luanchData&&this._luanchType)r.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u7c7b\u578b\uff1a"+this._luanchType),r.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u53c2\u6570\uff1a"+this._luanchData);else if(i){if(i.scene&&(r.utils.showLog("\u83b7\u53d6\u5230\u542f\u52a8\u573a\u666f\u503c\uff1a"+i.scene),this._luanchType=i.scene,l.default.setItem(c.default.ST_LUANCH_TYPE,this._luanchType)),i.query){var o=JSON.stringify(i.query);this._luanchData=o,l.default.setItem(c.default.ST_LUANCH_DATA,this._luanchData),r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a"+o)}i.referrerInfo&&"{}"!=JSON.stringify(i.referrerInfo)&&(r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u6765\u6e90\u4fe1\u606f\uff1a"+JSON.stringify(i.referrerInfo)),i.referrerInfo.appId&&(r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\u7684appId\uff1a"+i.referrerInfo.appId),this._source_app_id=i.referrerInfo.appId))}}catch(u){r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\u5f02\u5e38")}if(e){var n=JSON.parse(e);n&&n.wechat&&(p=JSON.stringify(n.wechat)),n&&n.gamebox&&(_=JSON.stringify(n.gamebox))}this._loadConfig(),wx.showShareMenu(),wx.onShareAppMessage(this._getShareInfo.bind(this)),wx.onShow(function(){cc.log("OnShow"),t._isShare&&(t._isShare=!1,t._shareCallback&&t._shareCallback(!0,"\u5206\u4eab\u6210\u529f!")),t._checkForUpdate(),r.utils.emitCommonEvent(c.default.EC_OnShow)}),wx.onHide(function(){cc.log("onHide"),r.utils.emitCommonEvent(c.default.EC_OnHide)}),this._checkForUpdate()}},e.prototype._checkForUpdate=function(){if(a.default.IsWechat){if((new Date).getTime()-this._lastUpdateTime<5e3)return void cc.log("\u68c0\u67e5\u66f4\u65b0\u592a\u9891\u7e41!");if(this._lastUpdateTime=(new Date).getTime(),this.isOverMinVersion("1.9.90")){cc.log("\u68c0\u67e5\u66f4\u65b0......");var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){e.hasUpdate?cc.log("\u6709\u65b0\u7248\u672c\u9700\u8981\u66f4\u65b0!"):cc.log("\u6ca1\u6709\u65b0\u7248\u672c\uff01")}),e.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){cc.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\uff01")})}}},e.prototype._buildServerUrl=function(){var e="";if(r.utils.config.wechatconfig&&r.utils.config.wechatconfig.appID){var t=r.utils.config.wechatconfig.appID,i=this._jumpIds?this._jumpIds:r.utils.config.wechatconfig.jumpId;e=d+"kyx=true&app_id="+t+"&channel=wechat&jump_id="+i}else cc.log("\u5fae\u4fe1 APPID\u914d\u7f6e\u51fa\u9519\uff01");return e},e.prototype._buildGameBoxServerUrl=function(){return"https://apps.youlesp.com/gbs?m=ghome&index=0&type=1"},e.prototype._loadConfig=function(){var e=this;if(a.default.IsWechat){cc.log("\u52a0\u8f7d\u670d\u52a1\u5668\u914d\u7f6e.......");var t=d+"m=g";r.utils.commomHttpRequest(t,function(i,o){if(i){if(cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",o),o){var n=JSON.parse(o);n?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=n:cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");if(e._serverConfig)if(e._serverConfig.shares&&e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares&&e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img),"false"==e._serverConfig.is_local_pos_id){cc.log("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aID"),r.utils.config.wechatconfig.insertId=e.ServerConfig.intersititia_pos_id||r.utils.config.wechatconfig.insertId,r.utils.config.wechatconfig.videoId=e.ServerConfig.video_pos_id||r.utils.config.wechatconfig.videoId,r.utils.config.wechatconfig.boxId=e._serverConfig.box_pos_id||r.utils.config.wechatconfig.boxId,r.utils.config.wechatconfig.bannerBoxId=e._serverConfig.banner_box_pos_id||r.utils.config.wechatconfig.bannerBoxId,r.utils.config.wechatconfig.nativeBannerId=e._serverConfig.native_banner_pos_id||r.utils.config.wechatconfig.nativeBannerId,r.utils.config.wechatconfig.nativeInsertIds=e._serverConfig.native_intersititial_pos_id||r.utils.config.wechatconfig.nativeInsertIds;for(var s=["home","game","level","skin","pause","over"],a=0;a<s.length;a++)e.ServerConfig.banner_pos_id[s[a]]&&r.utils.config.wechatconfig.setBannerId(c.BannerLocationToEnum(s[a]),e.ServerConfig.banner_pos_id[s[a]]);if(e.ServerConfig.native_customad_configs)for(a=0;a<e.ServerConfig.native_customad_configs.length;a++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u6a21\u7248\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_customad_configs[a].location,">>>>",JSON.stringify(e.ServerConfig.native_customad_configs[a])),r.utils.config.wechatconfig.setCustomAdInfo(e.ServerConfig.native_customad_configs[a].location,e.ServerConfig.native_customad_configs[a])}else cc.log("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");else e._serverConfig=JSON.parse(p);if(r.utils.emitServerInitEvent(),e._serverConfig&&e._serverConfig.openBox){if("true"!=e._serverConfig.openBox)return void cc.log("\u670d\u52a1\u5668\u6e38\u620f\u76d2\u5b50\u914d\u7f6e\u4e3a\u5173\u95ed\u72b6\u6001\uff01");t=e._buildGameBoxServerUrl(),r.utils.commomHttpRequest(t,function(t,i){if(t){if(cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._gameBoxServerConfig=o:cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._gameBoxServerConfig||(e._gameBoxServerConfig=JSON.parse(_))})}})}},e.prototype.navigateToMiniProgram=function(e,t,i){if(a.default.IsWechat){var o=t;wx.navigateToMiniProgram({appId:e.indexOf(":")>-1?e.split(":")[0]:e,path:i||"",success:function(){o&&o(!0)},fail:function(t){cc.log("\u8df3\u8f6c\u5931\u8d25! id="+e+"; res="+JSON.stringify(t)),o&&o(!1)}})}},e.prototype.getSystemInfo=function(){if(a.default.IsWechat)return wx.getSystemInfoSync()},e.prototype.previewImage=function(e){a.default.IsWechat&&wx.previewImage({urls:[e]})},e.prototype.share=function(e){void 0===e&&(e=null),a.default.IsWechat&&(this._shareCallback=e,this._isShare=!0,wx.shareAppMessage(this._getShareInfo()))},e.prototype.postData=function(e){if(a.default.IsWechat){var t=d+"m=rjump&jump_app_id="+e;cc.log("\u4e0a\u62a5\u6570\u636e, url=",t),r.utils.commomHttpRequest(t,function(e){e?cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})}},e.prototype.postDataByLocation=function(e,t,i){if(void 0===i&&(i=0),a.default.IsWechat){var o=d+"m=rjump&jump_app_id="+e+"&location="+t+"&status="+i;r.utils.commomHttpRequest(o,function(e){e?cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})}},e.prototype.postRecommentShowData=function(e){if(a.default.IsWechat){var t=d+"m=rjumpshow&location="+e;r.utils.commomHttpRequest(t,function(e){e?cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype._getShareInfo=function(){return a.default.IsWechat?{title:r.utils.config.otherconfig.shareTitle,imageUrl:r.utils.config.otherconfig.shareImgUrl}:{}},e.prototype.isOverMinVersion=function(e){var t=wx.getSystemInfoSync().SDKVersion;return this._compareVersion(t,e)>=0},e.prototype._compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var i=Math.max(e.length,t.length);e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(var o=0;o<i;o++){var n=parseInt(e[o]),s=parseInt(t[o]);if(n>s)return 1;if(n<s)return-1}return 0},e.prototype.getRecommondGameList=function(){return a.default.IsWechat&&r.utils.wechatTool&&r.utils.wechatTool.ServerConfig?r.utils.wechatTool.ServerConfig.jump_list:null},e.prototype.checkAppId=function(e){return r.utils.config.wechatconfig.jumpId.indexOf(e)>-1||(cc.log("appId :",e,"\u4e0d\u518d\u914d\u7f6e\u5217\u8868\u4e2d!"),!1)},e.prototype._login=function(){var e=(new Date).getTime(),t=(e-this._loginTime)/1e3;if(t>0&&t<this._loginInterval)r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2");else{this._loginTime=e;var i=this;this._uid=l.default.getItem(c.default.ST_UID),this._uid=this._uid?this._uid:"0",this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",r.utils.showLog("\u83b7\u53d6\u672c\u5730\u4fdd\u5b58\u7684uid="+this._uid+"\uff0c\u670d\u52a1\u5668UID="+this._service_uid),"0"==this._uid&&wx.login({success:function(e){e.code?(i.wx_code=e.code,i.reportLogin(e.code)):r.utils.showLog("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg)},fail:function(){},complete:function(){i.reportLogin()}})}},e.prototype.reportLogin=function(e){return void 0===e&&(e=""),n(this,void 0,void 0,function(){var t,i,o,n,a=this;return s(this,function(){return this.isReport?[2]:(this.isReport=!0,t=this,i=(new Date).getTime(),(o=(i-this._reportLoginTime)/1e3)>0&&o<this._reportLoginInterval?(r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2"),[2]):(this._reportLoginTime=i,n=d+"m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo))+"&code="+e,r.utils.commomHttpRequest(n,function(e,i){if(e&&i){r.utils.showLog("#data="+i);var o=JSON.parse(i);o.uid&&(t._service_uid=""+o.uid,t.isReportActive||(t.isReportActive=!0,a.reportAttributedEvent(c.AttributedType.Active,c.AttributedKey.Active,c.AttributedValue.Active)),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid)),o.device_uid&&(t._uid=""+o.device_uid,l.default.setItem(c.default.ST_UID,t._uid)),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid+" #device_id="+t._uid)}a.isReport=!1}),[2]))})})},e.prototype.postLevel=function(e,t,i){if(a.default.IsWechat){t==c.LevelStatus.GameWin?(this.passCount++,this.passCount===r.utils.getConfigByKey("pass_level_count_active")&&this.reportAttributedEvent(c.AttributedType.GameAddiction,c.AttributedKey.GameAddiction,c.AttributedValue.PassLevelCountAction)):t===c.LevelStatus.GameStart&&(this.playCount++,this.playCount==r.utils.getConfigByKey("play_level_count_active")&&this.reportAttributedEvent(c.AttributedType.GameAddiction,c.AttributedKey.GameAddiction,c.AttributedValue.PlayLevelCountAction));var o=d+"m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsWechat){var t=d+"m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsWechat&&wx.showToast({title:e,icon:"none",duration:2e3,success:function(e){console.log(""+e)},fail:function(){console.log("showToast\u8c03\u7528\u5931\u8d25")}})},e.prototype.reportAttributedEvent=function(e,t,i){if("1069"==this._luanchType||"1036"==this._luanchType||"1065"==this._luanchType)if(r.utils.showLog("\u4e0a\u62a5\u5f52\u56e0\u4e8b\u4ef6\uff1a  #eventType="+e+"#eventKey="+t+"#eventValue="+i),e==c.AttributedType.Active&&l.default.getItem(c.default.ST_IS_REPORT_USER_ACTIVE))r.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u6fc0\u6d3b\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");else if(e==c.AttributedType.GameAddiction&&l.default.getItem(c.default.ST_IS_REPORT_GAME_ADDICTION))r.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u5173\u952e\u884c\u4e3a\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");else{var o=new XMLHttpRequest;o.timeout=15e3;var n={};n.app_id=r.utils.config.wechatconfig.appID,n.channel="wechat_kyx",n.uid=this._service_uid,n.event_type=e,n.event_key=t,n.event_value=i,n.app_version=r.utils.config.wechatconfig.version,n.code=this.wx_code,n.luanchDate=encodeURI(this._luanchData),r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u53c2\u6570:"+JSON.stringify(n));var s=JSON.stringify(n);r.utils.showLog("\u5f52\u56e0 > json_data="+r.utils.aesEncrypt(s));var a="https://track.youletd.com/wechatcounterpart/dockingreturn?json="+r.utils.aesEncrypt(s)+"&time_stamp="+(new Date).getTime();r.utils.showLog("\u5f52\u56e0\u670d\u52a1\u5668\u5730\u5740:"+a),o.open("GET",a),o.send(),o.onreadystatechange=function(){r.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",o.readyState,"; status=",o.status),4==o.readyState&&(200==o.status?(e==c.AttributedType.Active&&l.default.setItem(c.default.ST_IS_REPORT_USER_ACTIVE,"true"),e==c.AttributedType.GameAddiction&&l.default.setItem(c.default.ST_IS_REPORT_GAME_ADDICTION,"true"),r.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u6210\u529f\uff1a",o.responseText)):r.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u5931\u8d25\uff01"))},o.ontimeout=function(){r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u8d85\u65f6!")},o.onerror=function(){r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u5931\u8d25!")}}else r.utils.showLog("luanchType="+this._luanchType+",\u4e0d\u8fdb\u884c\u5f52\u56e0\u4e0a\u62a5")},e.prototype.umaOnStart=function(e){this.checkUmeng()&&wx.uma.stage.onStart({stageId:e,stageName:"\u7b2c"+e+"\u5173"})},e.prototype.checkUmeng=function(){return!!wx.uma||(r.utils.showLog("\u672a\u5bf9\u63a5\u53cb\u76dfSDK"),!1)},e.prototype.umaReportedLevel=function(e,t){this.checkUmeng()&&wx.uma.stage.onEnd({stageId:e,stageName:"\u7b2c"+e+"\u5173",event:t})},e.prototype.umaTrackEvent=function(e,t){this.checkUmeng()&&wx.uma.trackEvent(e,t)},o([h],e)}();i.default=f,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],WithdrawalNode:[function(e,t,i){"use strict";cc._RF.push(t,"ba4b6OkUPVGs6rVbTzptHpa","WithdrawalNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.balanceLbl=null,t}return n(t,e),t.prototype.onLoad=function(){this.balanceLbl=this.node.getComponentInChildren(cc.Label)},t.prototype.init=function(){a.utils.yzRedBagInfo.balance>0?this.balanceLbl.string="\xa5"+a.utils.yzRedBagInfo.balance:this.balanceLbl.string="\xa50.00"},t.prototype.showWithdrawalPanel=function(){a.utils.SendEvent("\u7ea2\u5305\u63d0\u73b0\u6846-\u70b9\u51fb\u63d0\u73b0\u6309\u94ae\uff01"),a.utils.showWithdrawalPanel()},t.prototype.onEnable=function(){var e=this;a.utils.SendEvent("\u7ea2\u5305\u63d0\u73b0\u6846-\u5c55\u793a\u6210\u529f\uff01"),this.init(),cc.game.on("YZ_RED_BAG_BALANCE_CHANGE",function(){e.init()},this)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this),cc.game.targetOff(this)},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],WithdrawalPanel:[function(e,t,i){"use strict";cc._RF.push(t,"4495aojZMBHxqGZ7aIISklf","WithdrawalPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._closeBtn=null,t._withdrawalBtn=null,t._moneyItemNodes=null,t._panel=null,t._balanceLbl=null,t._redBagInfo=null,t._location=r.SubLocation.isMoreGame,t._selectedMoneyItemIndex=-1,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this._panel=this.node.getChildByName("Panel"),this._moneyItemNodes=this._panel.getChildByName("WithdrawalPriceNodes").children,this._balanceLbl=this._panel.getChildByName("balanceLabel").getComponent(cc.Label),this._redBagInfo=a.utils.yzRedBagInfo;var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.5:cc.winSize.width/1080,this._panel.scale=e,this._initWidget()},t.prototype._initWidget=function(){var e=this;this._redBagInfo.balance>0&&(this._balanceLbl.string=this._redBagInfo.balance+"\u5143");for(var t=function(t){var o=a.utils.yzRedBagInfo.withdrawaMoneys[t];o&&(i._moneyItemNodes[t].getChildByName("PriceLbl").getComponent(cc.Label).string=o+"\u5143",i._moneyItemNodes[t].on(cc.Node.EventType.TOUCH_START,function(){e.selectedMoneyNode(t)},i))},i=this,o=0;o<4;o++)t(o)},t.prototype.selectedMoneyNode=function(e){var t=this;this._redBagInfo.balance>=a.utils.yzRedBagInfo.withdrawaMoneys[e]?(this._selectedMoneyItemIndex=e,this._moneyItemNodes.forEach(function(i,o){e!=o&&(t._moneyItemNodes[o].getChildByName("selectedBg").active=!1)}),this._moneyItemNodes[e].getChildByName("selectedBg").active=!0):a.utils.showMsg("\u5f53\u524d\u4f59\u989d\u4e0d\u8db3\uff01")},t.prototype.withDrawalMoney=function(){console.log("money"),this._selectedMoneyItemIndex>-1||a.utils.showMsg("\u8bf7\u9009\u62e9\u8981\u63d0\u73b0\u7684\u91d1\u989d\uff01")},t.prototype._updatePanel=function(){a.utils.postRecommentShowData(this._location),this._initWidget()},t.prototype.init=function(){},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},t.prototype.onCloseBtnHandler=function(){this.hide()},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],WithdrawalWidget:[function(e,t,i){"use strict";cc._RF.push(t,"eb1bdqkx91OqbOB6rlUrN5w","WithdrawalWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.withdrawalPanel=null,t._withdrawalNode=null,t._isInit=!1,t}return n(t,e),t.prototype.onLoad=function(){this._withdrawalNode=this.getComponentInChildren("WithdrawalNode"),this._withdrawalNode.node.active=!1},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype._initWidget=function(){this._withdrawalNode.node.active=!0},s([l(cc.Prefab)],t.prototype,"withdrawalPanel",void 0),s([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{"./Utils":"Utils"}],YZ_ActionScale:[function(e,t,i){"use strict";cc._RF.push(t,"8ecccKnp/lLRYK/tCxltDQL","YZ_ActionScale");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRunAction=!0,t}return n(t,e),t.prototype.onLoad=function(){this.isRunAction&&this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1),cc.scaleTo(1,.5))))},s([r],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],YZ_BaiduRecommendWidget:[function(e,t,i){"use strict";cc._RF.push(t,"898daN/0uRPRqRybYS4LfhK","YZ_BaiduRecommendWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./CompatibleTool"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widget=null,t}return n(t,e),t.prototype.onLoad=function(){this._widget=this.getComponent(cc.Widget)},t.prototype.onEnable=function(){this.getComponent(cc.Sprite).enabled=!1,a.default.IsBaidu&&a.default.IsBaidu&&r.utils.Tool_Baidu&&r.utils.Tool_Baidu.canShowRecommendButton()?a.default.IsBaidu&&r.utils.Tool_Baidu&&r.utils.Tool_Baidu.canShowRecommendButton()&&(this._widget?r.utils.Tool_Baidu.showRecommendationButton(c.default.position(this._widget.left,this._widget.top)):r.utils.showLog("baidu recommend button widget component is null")):(r.utils.showLog("\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6!"),this.node.destroy())},t.prototype.onDisable=function(){a.default.IsBaidu&&r.utils.Tool_Baidu&&r.utils.Tool_Baidu.canShowRecommendButton()},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_Constant:[function(e,t,i){"use strict";cc._RF.push(t,"ca28dw/QkVP9IpkNRINo1+D","YZ_Constant");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.BannerLocationToEnum=i.BannerLocationToString=i.AttributedValue=i.AttributedKey=i.AttributedType=i.AldEventType=i.AldStageType=i.ViewLocation=i.BannerLocation=i.VibrateType=i.SubLocation=i.LevelStatus=i.YZ_Reward=i.RewardType=i.BeForGameOverAdId=void 0;var n,s=cc._decorator,a=s.ccclass;s.property,function(e){e.None="none",e.SharePanel="share_panel",e.GoldBox="gold_box",e.Turntable="turntable",e.CreateShortCut="create_short_cut",e.RecGame="rec_game",e.LuckBox="luck_box",e.SyncShow="sync_show",e.CustomAd="custom_ad"}(i.BeForGameOverAdId||(i.BeForGameOverAdId={})),function(e){e.Gold="gold",e.Skin="Skin"}(n=i.RewardType||(i.RewardType={}));var r,c=function(){function e(){this.rewardType=n.Gold,this.rewardValue=0}return o([a("YZ_Reward")],e)}();i.YZ_Reward=c,function(e){e.GameStart="start",e.GameWin="complete",e.GameFail="fail",e.GameSkip="skip"}(i.LevelStatus||(i.LevelStatus={})),function(e){e.isReward="isReward",e.isQCross="isQCross",e.isMoreGame="isMoreGame",e.isStatement="isStatement",e.isTryGame="isTryGame",e.isYzBanner="isYzBanner",e.isScrollbar="isScrollbar",e.isGameExitDialog="isGameExitDialog",e.isBoxInsertAd="isBoxInsertAd",e.isBeforGameOverAd="isBeforGameOverAd",e.isVerticalPanel="isVerticalPanel"}(i.SubLocation||(i.SubLocation={})),function(e){e.Short="short",e.Long="long"}(i.VibrateType||(i.VibrateType={})),function(e){e[e.None=0]="None",e[e.Home=1]="Home",e[e.Level=2]="Level",e[e.Skin=3]="Skin",e[e.Game=4]="Game",e[e.Pause=5]="Pause",e[e.Over=6]="Over"}(r=i.BannerLocation||(i.BannerLocation={})),function(e){e[e.None=0]="None",e[e.sign=1]="sign",e[e.trySkin=2]="trySkin",e[e.box=3]="box",e[e.over=4]="over",e[e.failBox=5]="failBox",e[e.successBox=6]="successBox",e[e.winPanel=7]="winPanel",e[e.turntable=8]="turntable"}(i.ViewLocation||(i.ViewLocation={})),function(e){e.Start="StartGame",e.Running="Running",e.GameWin="GameWin",e.GameFail="GameFail"}(i.AldStageType||(i.AldStageType={})),function(e){e.TrailSkinClick="\u76ae\u80a4\u8bd5\u7528\u70b9\u51fb",e.TrailSkinSuccess="\u76ae\u80a4\u8bd5\u7528\u6210\u529f",e.TrailSkinFail="\u76ae\u80a4\u8bd5\u7528\u5931\u8d25",e.SkipLevelClick="\u70b9\u51fb\u8df3\u8fc7\u5173\u5361",e.SkipLevelSuccess="\u8df3\u8fc7\u5173\u5361\u6210\u529f",e.SkipLevelFail="\u8df3\u8fc7\u5173\u5361\u5931\u8d25",e.GameOverDoubleGoldClick="\u70b9\u51fb\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01",e.GameOverDoubleGoldSuccess="\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01\u6210\u529f",e.GameOverDoubleGoldFail="\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01\u5931\u8d25",e.SignDoubleGoldClick="\u70b9\u51fb\u7b7e\u5230\u53cc\u500d\u9886\u53d6",e.SignDoubleGoldSuccess="\u7b7e\u5230\u53cc\u500d\u9886\u53d6\u6210\u529f",e.SignDoubleGoldFail="\u7b7e\u5230\u53cc\u500d\u9886\u53d6\u5931\u8d25",e.GameOverDoubleStarClick="\u70b9\u51fb\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f",e.GameOverDoubleStarSuccess="\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f\u6210\u529f",e.GameOverDoubleStarFail="\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f\u5931\u8d25",e.GameVersion="\u6e38\u620f\u7248\u672c",e.LoadSkinScene="\u8fdb\u5165\u76ae\u80a4\u573a\u666f",e.PaySkin="\u8d2d\u4e70\u76ae\u80a4\u6210\u529f"}(i.AldEventType||(i.AldEventType={})),function(e){e[e.Active=0]="Active",e[e.GameAddiction=25]="GameAddiction"}(i.AttributedType||(i.AttributedType={})),function(e){e.Active="active",e.GameAddiction="game_addiction"}(i.AttributedKey||(i.AttributedKey={})),function(e){e.Active="active",e.UserClickInsertAdAction="user_click_insert_ad_action",e.PlayLevelCountAction="play_level_count_action",e.PassLevelCountAction="pass_level_count_action",e.InsertAdFirstShowAction="insert_ad_first_show_action",e.GameTimeAction="game_time_action"}(i.AttributedValue||(i.AttributedValue={})),i.BannerLocationToString=function(e){return["none","home","level","skin","game","pause","over"][e]},i.BannerLocationToEnum=function(e){for(var t=["none","home","level","skin","game","pause","over"],i=0;i<t.length;i++)if(t[i]==e)return i;return r.None};var l=function(){function e(){}return e.SERVER_VERSION="v1",e.ST_UID="UID",e.ST_SERVICE_UID="SERVICE_UID",e.ST_SOURCE="SOURCE",e.ST_RED_BAG_PROGRESS="YZ_RED_BAG_PROGRESS",e.ST_RED_BAG_TOTAL_PROGRESS="YZ_RED_BAG_TOTAL_PROGRESS",e.ST_RED_BAG_BALANCE="YZ_RED_BAG_BALANCE",e.ST_RED_BAG_TOTAL_MONEY="YZ_RED_BAG_TOTAL_MONEY",e.ST_FREE_RED_BAG_TIME="YZ_ST_FREE_RED_BAG_TIME",e.ST_LAST_OPEN_LEVEL="YZ_ST_LAST_OPEN_LEVEL",e.ST_GET_BOX_REWARD_COUNT="YZ_GET_BOX_REWARD_COUNT",e.YZ_EventCommon="YZ_EventCommon",e.YZ_PrivacyClose="YZ_PrivacyClose",e.EC_ServerInit="ServerInit",e.EC_RealNameAuthPanelClose="RealNameAuthPanelClose",e.EC_ServerDataLoadSuccess="ServerDataLoadSuccess",e.YZ_NativeAdClick="YZ_NativeAdClick",e.EC_OnHide="EventOnHide",e.EC_OnShow="EventOnShow",e.YZ_GAME_YSXY="YZ_GAME_YSXY",e.ST_IS_REPORT_USER_ACTIVE="ST_IS_REPORT_USER_ACTIVE",e.ST_IS_REPORT_GAME_ADDICTION="ST_IS_REPORT_GAME_ADDICTION",e.ST_LUANCH_TYPE="ST_LUANCH_TYPE",e.ST_LUANCH_DATA="ST_LUANCH_DATA",e.ST_LOGIN_SUCCESS="ST_LOGIN_SUCCESS",e.ST_LOGIN_FAIL="ST_LOGIN_FAIL",e.ST_DEVICE_ID="ST_DEVICE_ID",e.ST_UUID="ST_UUID",e.ST_YOUWAN_UID="ST_YOUWAN_UID",e.ST_GET_DEVICE_ID="ST_GET_DEVICE_ID",o([a],e)}();i.default=l,cc._RF.pop()},{}],YZ_EventManager:[function(e,t,i){"use strict";cc._RF.push(t,"39336BNY/5OsrydQVP6dfn3","YZ_EventManager");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./YZ_Constant"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.registerEvent=function(e,t,i){cc.game.on(e,t,i)},t.unregisterEvent=function(e){cc.game.targetOff(e)},t.emitCommonEvent=function(e){cc.game.emit(a.default.YZ_EventCommon,e)},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./YZ_Constant":"YZ_Constant"}],YZ_GameExitDialog:[function(e,t,i){"use strict";cc._RF.push(t,"7baa9fWodJKboupAtfBvLnG","YZ_GameExitDialog");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._jumpList=null,t._items=[],t._pageView=null,t._pageItem=null,t._pageRecItem=null,t._btnCanel=null,t._btnOk=null,t._panel=null,t.nativeData=null,t._nativeIsShow=!1,t}return n(t,e),t.prototype.onLoad=function(){this._panel=this.node.getChildByName("Panel"),this._pageView=this._panel.getChildByName("PageView").getComponent(cc.PageView),this._pageItem=this._pageView.content.getChildByName("Panel"),this._pageRecItem=this._pageItem.children[0],this._pageView.content.removeAllChildren(),this._btnCanel=this._panel.getChildByName("btnCancel"),this._btnOk=this._panel.getChildByName("btnOk"),a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group);var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.7:cc.winSize.width/1080,this._panel.scale=e},t.prototype.start=function(){this._jumpList=a.utils.getRecommondGameList(),this._jumpList&&this._jumpList.length>0&&this._initWidget()},t.prototype.hideLastNode=function(){for(var e=5;e>2;e--)this._items[e].node.active=!1},t.prototype.onBtnCanelHandler=function(){a.utils.showLog("\u70b9\u51fb\u53d6\u6d88\u6309\u94ae\uff01"),this.node.destroy()},t.prototype.onBtnOkHandler=function(){a.utils.showLog("\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\uff01"),a.utils.Tool_Native.GameExit()},t.prototype._initWidget=function(){a.utils.postRecommentShowData(r.SubLocation.isGameExitDialog);var e=Math.floor(this._jumpList.length/6);a.utils.showLog("qcrosswidget >>> totalPage = "+e);for(var t=0,i=0;i<e;i++){var o=cc.instantiate(this._pageItem);o.removeAllChildren(),this._pageView.addPage(o);for(var n=0;n<6&&this._jumpList[t];n++){var s=cc.instantiate(this._pageRecItem);o.addChild(s),s.getComponent("QCrossWidgetItem")._location=r.SubLocation.isStatement;var c=this._jumpList[t];s.getComponent("QCrossWidgetItem").init(c),t++}}this.autoRefrshPageView()},t.prototype.autoRefrshPageView=function(){var e=this;this.unscheduleAllCallbacks();var t=3;a.utils.ServerConfig&&a.utils.ServerConfig.statement_auto_refresh&&(t=a.utils.ServerConfig.statement_auto_refresh),a.utils.showLog("\u9000\u51fa\u5f39\u7a97\u7ec4\u4ef6"+t+"\u79d2\u81ea\u52a8\u5237\u65b0"),this.schedule(function(){var t=e._pageView.getPages().length,i=e._pageView.getCurrentPageIndex();0==(i=i<t&&i+1!==t?i+1:0)?e._pageView.scrollToPage(i,0):e._pageView.scrollToPage(i,2)},t)},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],YZ_ListView:[function(e,t,i){"use strict";cc._RF.push(t,"ab5e3FTZ+ZMjIuRaK60SQz/","YZ_ListView");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./YZ_Constant"),r=e("./CompatibleTool"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scrollView=null,t._content=null,t._itemObj=null,t._visibleCount=5,t._totalCount=0,t._itemSize=cc.size(0,0),t._spaceX=0,t._bannerSize=cc.size(0,0),t._itemArray=[],t._curOffsetX=0,t._minOffsetX=0,t._maxOffsetX=0,t._startIndex=0,t._scrollDir=0,t._recommendData=null,t._dataDirty=!1,t._isInit=!1,t._isScorllBar=!1,t._location=null,t._itemPosX=0,t._itemtmp=null,t._itemToCenterLength=0,t._percent=1,t._canAutoScroll=!0,t._autoScrollInterval=2.5,t._timeTmp=0,t}return n(t,e),t.prototype.onLoad=function(){this._scrollView=this.getComponent(cc.ScrollView),this._content=this._scrollView.content,this._itemObj=cc.find("GamePage",this._content),this._itemSize=this._itemObj.getContentSize(),this._startIndex=0,this._bannerSize=this.node.getContentSize()},t.prototype.onEnable=function(){this._scrollView.node.on("scrolling",this.OnScroll,this),this._scrollView.node.on("scroll-ended",this.onScrollEnded,this)},t.prototype.onDisable=function(){this._scrollView.node.targetOff(this)},t.prototype.update=function(e){if(this._isInit){if(this._scrollView&&this._scrollView.isScrolling)for(var t=0;t<this._itemArray.length;t++)this._itemtmp=this._itemArray[t],this._itemToCenterLength=Math.abs(this._itemtmp.x+this._content.x-.5*this._bannerSize.width),this._itemSize.width-this._itemToCenterLength>0?this._percent=(this._itemSize.width-this._itemToCenterLength)/this._itemSize.width:this._isScorllBar||(this._itemtmp.scale=1);this.autoScroll(e)}this._dataDirty&&(this._dataDirty=!1,this._updateContent())},t.prototype.init=function(e,t){void 0===t&&(t=!1),e&&(this._recommendData=e,this._totalCount=e.length,this._dataDirty=!0,this._isScorllBar=t,this._isScorllBar?(this._location=a.SubLocation.isScrollbar,this._autoScrollInterval=.3):this._location=a.SubLocation.isYzBanner)},t.prototype._updateContent=function(){var e=this._recommendData.length;this._content.setContentSize(cc.size(this._itemSize.width*e,this._itemSize.height)),this.InitObjs()},t.prototype.InitObjs=function(){for(var e=null,t=0;t<this._totalCount;t++)(e=cc.instantiate(this._itemObj)).x=.5*this._spaceX+.5*this._itemSize.width+this._itemSize.width*t+this._spaceX*t,e.y=0,e.getComponentInChildren("GameItem").init(this._recommendData[t],this._location),this._content.addChild(e),this._itemArray.push(e);var i=this._totalCount-this._visibleCount;this._maxOffsetX=(this._spaceX+this._itemSize.width)*i*-1,this._itemObj.destroy(),this._isInit=!0},t.prototype.OnScroll=function(){this._content.stopAllActions(),this._canAutoScroll=!1,this._scrollView.getScrollOffset().x<this._curOffsetX?this._scrollDir=-1:this._scrollDir=1,this._curOffsetX=this._scrollView.getScrollOffset().x,0==this._scrollView.getScrollOffset().x?this._arriveLeft():this._scrollView.getScrollOffset().x==this._maxOffsetX&&this._arriveRight()},t.prototype.onScrollEnded=function(){var e;e=Math.abs(this._curOffsetX)%(this._itemSize.width+this._spaceX)>.5*(this._itemSize.width+this._spaceX)?Math.ceil(Math.abs(this._curOffsetX)/(this._itemSize.width+this._spaceX)):Math.floor(Math.abs(this._curOffsetX)/(this._itemSize.width+this._spaceX));var t=(this._itemSize.width+this._spaceX)*e*-1;this._curOffsetX=t,this.scroll(t,.3)},t.prototype._arriveLeft=function(){this._scrollView.setContentPosition(r.default.position(this._maxOffsetX,0)),this._curOffsetX=this._maxOffsetX,this._startIndex=(this._visibleCount+this._startIndex)%this._totalCount,this.refreshItem()},t.prototype._arriveRight=function(){this._scrollView.setContentPosition(r.default.position(0,0)),this._curOffsetX=0,this._startIndex=(this._startIndex+this._totalCount-this._visibleCount)%this._totalCount,this.refreshItem()},t.prototype.refreshItem=function(){for(var e=0,t=0;t<this._totalCount;t++)e=(this._totalCount-this._startIndex+t)%this._totalCount,this._itemArray[t].x=.5*this._spaceX+.5*this._itemSize.width+this._spaceX*e+this._itemSize.width*e},t.prototype.autoScroll=function(e){if(this._canAutoScroll){if(this._timeTmp+=e,this._timeTmp>=this._autoScrollInterval){this._timeTmp=0;var t=this._curOffsetX-this._itemSize.width-this._spaceX;this._curOffsetX=t,this._scrollDir=-1,this._isScorllBar?this.scroll(t,0):this.scroll(t,.5)}}else this._timeTmp=0},t.prototype.scroll=function(e,t){var i=this;this._content.runAction(cc.sequence(cc.moveTo(t,r.default.position(e,0)),cc.callFunc(function(){i._canAutoScroll=!0,1==i._scrollDir&&0==i._curOffsetX?i._arriveLeft():-1==i._scrollDir&&i._curOffsetX==i._maxOffsetX&&i._arriveRight()})))},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./YZ_Constant":"YZ_Constant"}],YZ_LocalStorage:[function(e,t,i){"use strict";cc._RF.push(t,"78cbbcjXnpBU6Z8VJIEcJdY","YZ_LocalStorage");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,a=(n.property,function(){function e(){}return e.getItem=function(e,t){return cc.sys.localStorage.getItem(e)||t||null},e.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},e.clearItems=function(){cc.sys.localStorage.clear()},o([s],e)}());i.default=a,cc._RF.pop()},{}],YZ_NativeAdObject:[function(e,t,i){"use strict";cc._RF.push(t,"88f79Gj1WdPsIy+Pm6Ss9ar","YZ_NativeAdObject");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./Utils"),a=cc._decorator,r=a.ccclass,c=(a.property,function(){function e(){this._nativeObj=null,this._nativeAdData=null,this.is_reportClick=!1,this.is_reportShow=!1}return Object.defineProperty(e.prototype,"data",{get:function(){return this._nativeAdData},set:function(e){this._nativeAdData=e},enumerable:!1,configurable:!0}),e.prototype.reportAdShow=function(){this._nativeAdData&&!this.is_reportShow&&(this.is_reportShow=!0,s.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u5c55\u793a! adId:",this._nativeAdData.adId),this._nativeObj&&this._nativeObj.reportAdShow({adId:this._nativeAdData.adId}))},e.prototype.reportAdClick=function(e){void 0===e&&(e=2),this.is_reportClick=!0,this._nativeAdData&&(s.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb! adId:",this._nativeAdData.adId),this._nativeObj&&(this._nativeObj.reportAdClick({adId:this._nativeAdData.adId}),2==e&&(n.default.IsOPPO?s.utils.oppoTool.countNativeInserClick():n.default.IsVIVO&&s.utils.Tool_Vivo.countNativeInserClick())))},o([r],e)}());i.default=c,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_NativeBanner:[function(e,t,i){"use strict";cc._RF.push(t,"a2a680a5EJDfKlZKlM8P3Vv","YZ_NativeBanner");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./CompatibleTool"),u=e("./YouWanSDK/EventAdInfo"),h=e("./YouWanSDK/YouWanAnalytics"),d=cc._decorator,p=d.ccclass,_=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._icon=null,t._hW_icon=null,t._sourceLable=null,t._titleLabel=null,t._desLabel=null,t._btnLabel=null,t._widget=null,t._closeBtn=null,t._nativeAd=null,t._data=null,t._dataDirty=!1,t._panel_widget=null,t._closeBtn_widget=null,t._mask_widget=null,t._st_Panel=null,t._st_Icon=null,t._st_TitleLabel=null,t._st_DesLabel=null,t._st_BtnLabel=null,t._st_Widget=null,t._st_Img=null,t._st_CloseBtn=null,t._st_BtnDown=null,t._st_adMask=null,t._st_down_btn_default_img=null,t.nativeBannerInfo=null,t._st_TitleLabel_Widget=null,t._st_DesLabel_Widget=null,t._st_Img_Widget=null,t._st_CloseBtn_Widget=null,t._st_BtnDown_Widget=null,t._st_adMask_Widget=null,t._st_Icon_widget=null,t._bg_mask=null,t._alignType="",t._xmMask=null,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return r.utils.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){r.utils.otherConfig&&r.utils.otherConfig.group&&(this.node.group=r.utils.otherConfig.group),cc.game.addPersistRootNode(this.node),this._panel=this.node.getChildByName("Panel"),this._icon=this._panel.getChildByName("Icon").getComponent(cc.Sprite),this._hW_icon=this._panel.getChildByName("HuaweiIcon").getComponent(cc.Sprite),this._titleLabel=this._panel.getChildByName("TitleLabel").getComponent(cc.Label),this._desLabel=this._panel.getChildByName("DesLabel").getComponent(cc.Label),this._sourceLable=this._panel.getChildByName("source").getComponent(cc.Label);var e=this._panel.getChildByName("Btn_Download");this._btnLabel=e.getComponentInChildren(cc.Label),this._widget=this.getComponent(cc.Widget),this._panel_widget=this._panel.getComponent(cc.Widget),this._closeBtn=this._panel.getChildByName("Btn_Close"),this._closeBtn_widget=this._closeBtn.getComponent(cc.Widget),this._mask_widget=this._panel.getChildByName("Mask").getComponent(cc.Widget),this._widget.left=0,this._widget.right=0,this._widget.bottom=0,this._st_Panel=this.node.getChildByName("Panel_Statement"),this._st_Widget=this._st_Panel.getComponent(cc.Widget),this._bg_mask=this.node.getChildByName("bgMask"),this._st_Icon=this._st_Panel.getChildByName("IconMask").getChildByName("Icon").getComponent(cc.Sprite),this._st_TitleLabel=this._st_Panel.getChildByName("TitleLabel").getComponent(cc.Label),this._st_DesLabel=this._st_Panel.getChildByName("DesLabel").getComponent(cc.Label),this._st_BtnDown=this._st_Panel.getChildByName("Btn_Download"),this._st_Img=this._st_Panel.getChildByName("adImage").getComponent(cc.Sprite),this._st_CloseBtn=this._st_Panel.getChildByName("Btn_Close"),this._st_adMask=this._st_Panel.getChildByName("Mask"),this._st_down_btn_default_img=this._st_BtnDown.getComponent(cc.Sprite).spriteFrame,this._st_TitleLabel_Widget=this._st_TitleLabel.getComponent(cc.Widget),this._st_DesLabel_Widget=this._st_DesLabel.getComponent(cc.Widget),this._st_Img_Widget=this._st_Img.getComponent(cc.Widget),this._st_CloseBtn_Widget=this._st_CloseBtn.getComponent(cc.Widget),this._st_BtnDown_Widget=this._st_BtnDown.getComponent(cc.Widget),this._st_adMask_Widget=this._st_adMask.getComponent(cc.Widget),this._st_Icon_widget=this._st_Panel.getChildByName("IconMask").getComponent(cc.Widget),a.default.IsXiaoMi&&(this._panel.getChildByName("Xm_Mark").active=!0,this._mask_widget.node.active=!1);var t=1;cc.winSize.height<cc.winSize.width?(this._widget.left=.25*cc.winSize.width,this._widget.right=.25*cc.winSize.width,this._titleLabel.node.width=400,t=cc.winSize.width/1920):t=cc.winSize.width/1080,this.node.scale=t},t.prototype.onShow=function(){cc.game.emit("HuaWeiOnShow")},t.prototype.onEnable=function(){var e=this;this._st_Panel.targetOff(this),this._panel.targetOff(this),cc.game.targetOff(this),a.default.IsHuaWei&&(console.log("\u6ce8\u518c\u76d1\u542c\u4e8b\u4ef6 >>>>>."),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("HuaWeiOnShow >>>>>>"),e._reportAdShow()},this)),(a.default.IsOPPO||a.default.IsVIVO||a.default.IsHuaWei||a.default.IsXiaoMi)&&(this._st_Panel.on(cc.Node.EventType.TOUCH_START,function(){e._reportAdClick()},this),this._panel.on(cc.Node.EventType.TOUCH_START,function(){e._reportAdClick()},this),cc.game.on(c.default.YZ_NativeAdClick,function(){e._reportAdClick()},this))},t.prototype.onDisable=function(){(a.default.IsOPPO||a.default.IsVIVO||a.default.IsHuaWei||a.default.IsXiaoMi)&&(this._st_Panel.targetOff(this),this._panel.targetOff(this)),cc.game.targetOff(this)},t.prototype.init=function(e,t,i){this._nativeAd=e,this._data=t,this._dataDirty=!0,this.nativeBannerInfo=i,"true"==this.nativeBannerInfo.show_st_banner?this.nativeBannerInfo.st_banner_style>-1?this._data.imgUrlList&&this._data.imgUrlList.length>0?(this._panel.active=!1,this._st_Panel.active=!0):(this._panel.active=!1,this._st_Panel.active=!1):(this._panel.active=!1,this._st_Panel.active=!0):(this._panel.active=!0,this._st_Panel.active=!1)},t.prototype.update=function(){this._data&&this._dataDirty&&(this._dataDirty=!1,this._updateContent()),this._data||(this._st_Panel.active=!1,this._panel.active=!1)},t.prototype._updateContent=function(){var e=this;if(this._data){if(this._reportAdShow(),a.default.IsHuaWei&&(this._data.icon=""),r.utils.nativeBannerShowCount++,"true"==this.nativeBannerInfo.show_st_banner&&this.nativeBannerInfo.st_banner_style>-1?(1==this.nativeBannerInfo.st_banner_style||2==this.nativeBannerInfo.st_banner_style?(this.nativeBannerInfo.st_banner_width>-1?this._st_Panel.width=this.nativeBannerInfo.st_banner_width:this._st_Panel.width=821.4,this.nativeBannerInfo.st_banner_height>-1?this._st_Panel.height=this.nativeBannerInfo.st_banner_height:this._st_Panel.height=589,this._st_Widget.updateAlignment(),this._st_adMask_Widget.updateAlignment(),this._st_CloseBtn_Widget.updateAlignment(),this._st_BtnDown_Widget.updateAlignment(),this._st_Icon_widget.updateAlignment()):(this._st_Panel.width=821.4,this._st_Panel.height=589,this._st_Widget.updateAlignment(),this._st_adMask_Widget.updateAlignment(),this._st_CloseBtn_Widget.updateAlignment(),this._st_BtnDown_Widget.updateAlignment(),this._st_Icon_widget.updateAlignment()),0==this.nativeBannerInfo.st_banner_style||1==this.nativeBannerInfo.st_banner_style?(r.utils.showLog("//\u5355\u56fe\u7247\u6837\u5f0f\uff0c\u62c9\u4f38\u56fe\u7247\uff0c\u5e76\u4e14\u9690\u85cf\u6807\u9898\u548c\u63cf\u8ff0"),this._st_Img_Widget.top=0,this._st_Img_Widget.bottom=0,this._st_Img_Widget.isAlignTop=!0,this._st_Img_Widget.isAlignBottom=!0,this._st_Img_Widget.updateAlignment(),this._st_DesLabel.node.active=!1,this._st_TitleLabel.node.active=!1,this._st_Icon_widget.updateAlignment()):2==this.nativeBannerInfo.st_banner_style?(r.utils.showLog("\u9ed8\u8ba4\u6837\u5f0f\u81ea\u5b9a\u4e49\u5bbd\u9ad8:\u5c55\u793a\u6807\u9898\u548c\u63cf\u8ff0"),this._st_DesLabel.node.active=!0,this._st_TitleLabel.node.active=!0,this._st_DesLabel_Widget.updateAlignment(),this._st_TitleLabel_Widget.updateAlignment(),this._st_Img_Widget.isAlignTop=!0,this._st_Img_Widget.isAlignBottom=!0,this._st_Img_Widget.top=this._st_TitleLabel.node.height+this._st_TitleLabel_Widget.top,this._st_Img_Widget.bottom=this._st_DesLabel_Widget.node.height+this._st_DesLabel_Widget.bottom,this._st_Img_Widget.updateAlignment(),this._st_Icon_widget.updateAlignment()):(this._st_Img_Widget.isAlignTop=!0,this._st_Img_Widget.isAlignBottom=!0,this._st_Img_Widget.updateAlignment(),this._st_DesLabel.node.active=!0,this._st_TitleLabel.node.active=!0,this._st_Icon_widget.updateAlignment())):"true"==this.nativeBannerInfo.show_st_banner&&(r.utils.showLog("\u7ed3\u7b97banner\u4f7f\u7528\u9ed8\u8ba4\u6837\u5f0f\uff01"),this._st_Panel.width=821.4,this._st_Panel.height=589,this._st_Img_Widget.isAlignTop=!1,this._st_Img_Widget.isAlignBottom=!1,this._st_Img_Widget.updateAlignment(),this._st_DesLabel.node.active=!0,this._st_TitleLabel.node.active=!0,this._st_Widget.updateAlignment(),this._st_adMask_Widget.updateAlignment(),this._st_CloseBtn_Widget.updateAlignment(),this._st_BtnDown_Widget.updateAlignment(),this._st_Icon_widget.updateAlignment()),this._st_CloseBtn.scale=this.nativeBannerInfo.st_banner_scale<1?this._st_CloseBtn.scale*this.nativeBannerInfo.st_banner_scale:1,this._st_adMask.scale=this.nativeBannerInfo.st_banner_scale<1?this._st_adMask.scale*this.nativeBannerInfo.st_banner_scale:1,this._st_CloseBtn.active="true"==this.nativeBannerInfo.st_banner_close_but_show,this._st_CloseBtn.opacity=this.nativeBannerInfo.st_banner_close_but_alpha,this.ServerConfig.first_native_banner_delayed_count_close?r.utils.nativeBannerShowCount>3&&this.ServerConfig.first_native_banner_delayed_count_close&&(r.utils.nativeBannerResizeCloseBtnShowCount++,r.utils.nativeBannerResizeCloseBtnShowCount%this.ServerConfig.native_banner_delayed_count_close==0&&(r.utils.showLog("\u539f\u751fbanner\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f"+this.ServerConfig.intersititia_close_but_size),this.nativeBannerInfo.st_banner_close_but_range&&(this._st_CloseBtn.setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_range,this.nativeBannerInfo.st_banner_close_but_range)),this._st_CloseBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_size,this.nativeBannerInfo.st_banner_close_but_size))))):this.nativeBannerInfo.st_banner_close_but_range&&(this._st_CloseBtn.setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_range,this.nativeBannerInfo.st_banner_close_but_range)),this._st_CloseBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_size,this.nativeBannerInfo.st_banner_close_but_size))),this.nativeBannerInfo.st_banner_down_but_show?(this._st_BtnDown.active=!0,this.nativeBannerInfo.st_banner_down_btn_image?(r.utils.showLog("this.nativeBannerInfo.st_banner_down_btn_image",this.nativeBannerInfo.st_banner_down_btn_image),l.default.LoadRes(this.nativeBannerInfo.st_banner_down_btn_image,function(t,i){!t&&cc.isValid(e)&&e._st_BtnDown&&(e._st_BtnDown.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),e.nativeBannerInfo.st_banner_down_but_margin_top?(e._st_BtnDown_Widget.top=-(e._st_BtnDown.getContentSize().height+e.nativeBannerInfo.st_banner_down_but_margin_top),e._st_BtnDown_Widget.updateAlignment()):(e._st_BtnDown_Widget.top=-e._st_BtnDown.getContentSize().height,e._st_BtnDown_Widget.updateAlignment()))})):(this._st_BtnDown.getComponent(cc.Sprite).spriteFrame=this._st_down_btn_default_img,this.nativeBannerInfo.st_banner_down_but_margin_top&&(this._st_BtnDown_Widget.top-=this.nativeBannerInfo.st_banner_down_but_margin_top,this._st_BtnDown_Widget.updateAlignment())),2==this.nativeBannerInfo.st_banner_down_but_show?this._st_BtnDown.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1)).repeatForever()):this._st_BtnDown.stopAllActions(),this._st_BtnDown.scale=this.node.scale):(this._st_BtnDown.active=!1,this._st_BtnDown.stopAllActions()),this._closeBtn.active="true"==this.nativeBannerInfo.banner_close_but_show,this._closeBtn.opacity=this.nativeBannerInfo.banner_close_but_alpha,this.ServerConfig.first_native_banner_delayed_count_close?r.utils.nativeBannerShowCount>3&&this.ServerConfig.first_native_banner_delayed_count_close&&r.utils.nativeBannerResizeCloseBtnShowCount%this.ServerConfig.native_banner_delayed_count_close==0&&(r.utils.showLog("\u539f\u751fbanner\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f"+this.ServerConfig.intersititia_close_but_size),this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range,this.nativeBannerInfo.banner_close_but_range)),this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size,this.nativeBannerInfo.banner_close_but_size))):(this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range,this.nativeBannerInfo.banner_close_but_range)),this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size,this.nativeBannerInfo.banner_close_but_size))),"false"==this.nativeBannerInfo.show_st_banner?(this._panel_widget.isAlignTop=!1,this._panel_widget.bottom=0,this._panel.setContentSize(cc.size(this.node.getContentSize().width,this.nativeBannerInfo.banner_show_height<160?160:this.nativeBannerInfo.banner_show_height)),this._panel_widget.updateAlignment(),this._closeBtn_widget.updateAlignment(),this._mask_widget.updateAlignment()):(this._st_Panel.scale=this.nativeBannerInfo.st_banner_scale?this.nativeBannerInfo.st_banner_scale:1,this._st_Widget.bottom=this.nativeBannerInfo.st_banner_bottom?this.nativeBannerInfo.st_banner_bottom:0,this._st_Widget.updateAlignment()),"top"===this.nativeBannerInfo._alignType&&("true"==this.nativeBannerInfo.show_st_banner?(this.node.height=this._st_Panel.height,this.node.width=this._st_Panel.width,this._st_CloseBtn_Widget.updateAlignment(),this._st_adMask_Widget.updateAlignment()):(this.node.height=this.nativeBannerInfo.banner_show_height<160?160:this.nativeBannerInfo.banner_show_height,this._panel_widget.updateAlignment(),this._closeBtn_widget.updateAlignment(),this._mask_widget.updateAlignment()),this._widget.isAlignTop=!0,this._widget.isAlignBottom=!1,this._widget.updateAlignment()),"true"==this.nativeBannerInfo.show_st_banner)if(r.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u4e3a\u7ed3\u7b97banner >>>>>"),this.nativeBannerInfo.st_banner_bg_mask_opacity>0?(this._bg_mask.opacity=this.nativeBannerInfo.st_banner_bg_mask_opacity,this._bg_mask.setContentSize(cc.size(this.node.getContentSize().width,this._st_Panel.height)),this._st_adMask.active=!1):this._bg_mask.active=!1,this._st_TitleLabel.string=this._data.title?this._data.title:"",this._st_DesLabel.string=this._data.desc?this._data.desc:"",this._data.imgUrlList&&this._data.imgUrlList.length>0)this._st_Icon.node.active=!1,this._st_Img.node.active=!0,l.default.LoadRes(this._data.imgUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._st_Img&&(e._st_Img.spriteFrame=new cc.SpriteFrame(i))});else if(a.default.IsOPPO&&this._data.iconUrlList&&this._data.iconUrlList.length>0)if(this._st_Icon.node.active=!0,this._st_Img.node.active=!1,0==this.nativeBannerInfo.st_banner_style||1==this.nativeBannerInfo.st_banner_style){r.utils.showLog("\u5355\u56fe\u7247\u6837\u5f0f-\u6ca1\u6709\u5927\u56fe\uff0c\u663e\u793a\u9ed8\u8ba4\u539f\u751f\u6837\u5f0fbanner"),this._titleLabel.string=this._data.title,this._desLabel.string=this._data.desc,this._btnLabel.string=this._data.clickBtnTxt?this._data.clickBtnTxt:"\u67e5\u770b\u8be6\u60c5";var t=a.default.IsOPPO?this._data.iconUrlList[0]:this._data.icon;l.default.LoadRes(t,function(t,i){!t&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(i))}),this._st_Panel.active=!1,this._panel.active=!0}else l.default.LoadRes(this._data.iconUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._st_Icon&&(e._st_Icon.spriteFrame=new cc.SpriteFrame(i))});else(a.default.IsVIVO||a.default.IsHuaWei)&&this._data.icon&&(this._st_Icon.node.active=!0,this._st_Img.node.active=!1,l.default.LoadRes(this._data.icon,function(t,i){!t&&cc.isValid(e)&&e._st_Icon&&(e._st_Icon.spriteFrame=new cc.SpriteFrame(i))}));else this._titleLabel.string=this._data.title?this._data.title:"",this._desLabel.string=this._data.desc?this._data.desc:"",this._btnLabel.string=this._data.clickBtnTxt?this._data.clickBtnTxt:"\u67e5\u770b\u8be6\u60c5",a.default.IsHuaWei&&(this._sourceLable.string=this._data.source?this._data.source:"",this._panel.getChildByName("Hw_Mark").active=!0,this._mask_widget.node.active=!1),t="",(t=a.default.IsOPPO?this._data.iconUrlList[0]:this._data.icon)?l.default.LoadRes(t,function(t,i){!t&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(i))}):this._data.imgUrlList&&this._data.imgUrlList.length>0&&l.default.LoadRes(this._data.imgUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._icon&&(a.default.IsHuaWei?(e._icon.node.active=!1,e._hW_icon.node.active=!0,e._hW_icon.spriteFrame=new cc.SpriteFrame(i)):e._icon.spriteFrame=new cc.SpriteFrame(i))});a.default.IsHuaWei&&(this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range,this.nativeBannerInfo.banner_close_but_range)),this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size,this.nativeBannerInfo.banner_close_but_size))),0!=this.nativeBannerInfo.st_banner_down_but_margin_top&&(this._st_BtnDown_Widget.top=this.nativeBannerInfo.st_banner_down_but_margin_top,this._st_BtnDown_Widget.updateAlignment()),this.nativeBannerInfo.st_banner_down_but_show>0?(this._st_BtnDown.active=!0,2===this.nativeBannerInfo.st_banner_down_but_show?this._st_BtnDown.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)).repeatForever()):this._st_BtnDown.stopAllActions()):(this._st_BtnDown.active=!1,this._st_BtnDown.stopAllActions())}},t.prototype.onBtnClickHandler=function(e){switch(e.target.name){case"Btn_Close":this.node.active=!1,a.default.IsOPPO&&r.utils.oppoTool.countBannerCloseCount(),r.utils._bannerCloseTime=(new Date).getTime();break;case"Btn_Download":case"bgMask":this._reportAdClick()}},t.prototype._reportAdShow=function(){this._data&&this._nativeAd&&(!this._data.isReportShow||a.default.IsHuaWei?(h.default.EventAdWithObj(u.YwAdType.NATIVE_BANNER,u.YwAdStatus.SHOW_SUCCESS,new u.AdEventParameter(this._data.adId)),this._data.isReportShow=!0,r.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u6761\u5c55\u793a\uff01adId:"+this._data.adId),this._nativeAd.reportAdShow({adId:this._data.adId}),r.utils.SendEvent("\u4e0a\u62a5\u539f\u751fBanner\u5e7f\u544a\u5c55\u793a,\u4f4d\u7f6e:"+this.nativeBannerInfo.location)):r.utils.showLog("\u5f53\u524d\u5e7f\u544a\u5df2\u7ecf\u8fc7\u4e0a\u62a5\u5c55\u793a\uff01adId:"+this._data.adId,"\uff0c\u5f53\u524d\u4e0d\u505a\u4e0a\u62a5"))},t.prototype._reportAdClick=function(){this._data&&(r.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u6761\u70b9\u51fb! adId:"+this._data.adId),this._nativeAd&&(this._data.isReportClick&&!a.default.IsHuaWei||(h.default.EventAdWithObj(u.YwAdType.NATIVE_BANNER,u.YwAdStatus.CLICK,new u.AdEventParameter(this._data.adId)),this._data.isReportClick=!0,this._nativeAd.reportAdClick({adId:this._data.adId,isAutoDownload:!0}),a.default.IsHuaWei&&this.downLoadAd()),this._data=null,"true"!=this.nativeBannerInfo.banner_click_refresh||a.default.IsHuaWei?(cc.game.targetOff(this),this.node.active=!1):(r.utils.showLog("\u70b9\u51fb\u4e4b\u540e-\u5148\u9690\u85cf\u5e7f\u544a-\u518d\u5237\u65b0\u5e7f\u544a\u6761\uff01"),r.utils.adManager.HideBanner(this.nativeBannerInfo.location),r.utils.adManager.ShowBanner(this.nativeBannerInfo.location,{isRefresh:!0}))))},t.prototype.downLoadAd=function(){},s([p],t)}(cc.Component));i.default=_,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YouWanSDK/EventAdInfo":"EventAdInfo","./YouWanSDK/YouWanAnalytics":"YouWanAnalytics"}],YZ_NativeInsert:[function(e,t,i){"use strict";cc._RF.push(t,"1d5251l+dNFU5/8GQ0IW26S","YZ_NativeInsert");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./CompatibleTool"),l=e("./YZ_Constant"),u=e("./YouWanSDK/EventAdInfo"),h=e("./YouWanSDK/YouWanAnalytics"),d=cc._decorator,p=d.ccclass,_=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._sourceLable=null,t._titleLabel=null,t._desLabel=null,t._icon=null,t._mask=null,t._btnLabel=null,t._closeBtn=null,t._img=null,t._hideInstallBtn=null,t._nativeAd=null,t._data=null,t._dataDirty=!1,t._btnDownLoad=null,t._defaultCloseSize=60,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return r.utils.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){r.utils.otherConfig&&r.utils.otherConfig.group&&(this.node.group=r.utils.otherConfig.group),cc.game.addPersistRootNode(this.node),this._panel=this.node.getChildByName("Panel"),this._icon=this._panel.getChildByName("Icon").getComponent(cc.Sprite),this._img=this._panel.getChildByName("Img").getComponent(cc.Sprite),this._titleLabel=this._panel.getChildByName("TitleLabel").getComponent(cc.Label),this._desLabel=this._panel.getChildByName("DesLabel").getComponent(cc.Label),this._mask=this.node.getChildByName("Mask"),this._sourceLable=this._panel.getChildByName("Img").getChildByName("source").getComponent(cc.Label),this._btnDownLoad=this._panel.getChildByName("Btn_Download"),this._btnLabel=this._btnDownLoad.getComponentInChildren(cc.Label),this._hideInstallBtn=this._panel.getChildByName("Btn_HideInstall"),this._closeBtn=this._hideInstallBtn.getChildByName("Btn_Close");var e=this,t=this._panel.getChildByName("bg").getComponent(cc.Sprite),i=r.utils.ServerConfig.native_intersititial_bg_img;i&&!this.bgTexture&&c.default.LoadRes(i,function(i,o){if(!i&&cc.isValid(e)&&e._panel){var n=e._panel.getChildByName("bg").getContentSize();e.bgTexture=new cc.SpriteFrame(o),t.spriteFrame=e.bgTexture,e._panel.getChildByName("bg").setContentSize(n)}});var o=this._panel.getChildByName("Btn_Install").getChildByName("Background").getComponent(cc.Sprite),n=r.utils.ServerConfig.native_intersititial_btn_img;n&&!this.btnTexture&&c.default.LoadRes(n,function(t,i){if(!t&&cc.isValid(e)&&e._panel){var n=e._panel.getChildByName("Btn_Install").getContentSize();e.btnTexture=new cc.SpriteFrame(i),o.spriteFrame=e.btnTexture,e._panel.getChildByName("Btn_Install").setContentSize(n)}});var s=1;cc.winSize.height<cc.winSize.width?(s=cc.winSize.width/1920*.7,this._panel.scale=s):(this._panel.getComponent(cc.Widget).isAlignBottom=!0,this._panel.getComponent(cc.Widget).bottom=378,this._panel.getComponent(cc.Widget).updateAlignment(),s=cc.winSize.width/1080,this._panel.scale=s),a.default.IsXiaoMi&&(this._panel.getChildByName("Xm_Mask").active=!0)},t.prototype.onEnable=function(){var e=this;a.default.IsHuaWei&&(r.utils.showLog("\u6ce8\u518c\u539f\u751f\u63d2\u5c4f\u76d1\u542c\u4e8b\u4ef6 >>>>>."),cc.game.targetOff(this),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("HuaWeiOnShow >>>>>>"),e._reportAdShow()},this)),(a.default.IsOPPO||a.default.IsVIVO||a.default.IsHuaWei||a.default.IsXiaoMi)&&(this._panel.on(cc.Node.EventType.TOUCH_START,function(){e._reportAdClick()},this),cc.game.on(l.default.YZ_NativeAdClick,function(){e._reportAdClick()},this))},t.prototype.onDestroy=function(){a.default.IsHuaWei&&(cc.game.targetOff(this),r.utils.adManager.ShowBanner())},t.prototype.init=function(e,t){this._nativeAd=e,this._data=t,this._dataDirty=!0},t.prototype.update=function(){this._data&&this._dataDirty&&(this._panel.active=!0,this._mask.active=!0,this._dataDirty=!1,this._updateContent()),this._data||(this._panel.active=!1,this._mask.active=!1)},t.prototype._updateContent=function(){var e=this;if(this._data){if(this._reportAdShow(),r.utils.nativeInsertShowCount++,this.ServerConfig.first_interstitial_delayed_level_close)if(r.utils.nativeInsertShowCount>3&&this.ServerConfig.interstitial_delayed_level_close){if(r.utils.nativeInsertResizeCloseBtnShowCount++,r.utils.nativeInsertResizeCloseBtnShowCount%this.ServerConfig.interstitial_delayed_level_close==0){r.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f"+this.ServerConfig.intersititia_close_but_size);var t=this.ServerConfig.intersititia_close_but_size?this.ServerConfig.intersititia_close_but_size:this._defaultCloseSize;this._hideInstallBtn.setContentSize(cc.size(t,t))}}else r.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5173\u95ed\u6309\u94ae,\u4e0d\u6ee1\u8db3\u670d\u52a1\u5668\u6761\u4ef6\uff0c\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u5927\u5c0f\uff01"),this._hideInstallBtn.setContentSize(cc.size(this._defaultCloseSize,this._defaultCloseSize));else t=this.ServerConfig.intersititia_close_but_size?this.ServerConfig.intersititia_close_but_size:this._defaultCloseSize,this._hideInstallBtn.setContentSize(cc.size(t,t));this._closeBtn.getChildByName("Background").opacity=0,this._hideInstallBtn.opacity=this.ServerConfig.intersititia_close_but_alpha?this.ServerConfig.intersititia_close_but_alpha:255;var i=this.ServerConfig.intersititia_close_but_range?this.ServerConfig.intersititia_close_but_range:this._defaultCloseSize;this._closeBtn.setContentSize(cc.size(i,i)),this._titleLabel.string=this._data.title?this._data.title:"",this._desLabel.string=this._data.desc?this._data.desc:"",this._btnLabel.string=this._data.clickBtnTxt?this._data.clickBtnTxt:"\u67e5\u770b\u8be6\u60c5",this._data.imgUrlList&&this._data.imgUrlList.length>0?(this._titleLabel.node.active=!0,this._icon.node.active=!1,this._img.node.active=!0,this._desLabel.node.active=!0,c.default.LoadRes(this._data.imgUrlList[0],function(t,i){r.utils.showLog("\u52a0\u8f7d\u56fe\u7247\u4fe1\u606f ...."+t),!t&&cc.isValid(e)&&e._img&&(e._img.spriteFrame=new cc.SpriteFrame(i))})):a.default.IsOPPO&&this._data.iconUrlList&&this._data.iconUrlList.length>0?(this._titleLabel.node.active=!0,this._icon.node.active=!0,this._img.node.active=!1,this._desLabel.node.active=!0,c.default.LoadRes(this._data.iconUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(i))})):(a.default.IsVIVO||a.default.IsHuaWei)&&this._data.icon&&(this._titleLabel.node.active=!0,this._icon.node.active=!0,this._img.node.active=!1,this._desLabel.node.active=!0,c.default.LoadRes(this._data.icon,function(t,i){!t&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(i))})),this._hideInstallBtn.active=!1,this._closeBtn.active=!1,this.scheduleOnce(function(){e._closeBtn.active=!0,e._hideInstallBtn.active=!0},this.ServerConfig.intersititia_close_delay_time||0),a.default.IsHuaWei&&(this._sourceLable.string=this._data.source?this._data.source:"")}},t.prototype.onBtnClickHandler=function(e){switch(console.log("event.target.name:",e.target.name),e.target.name){case"Btn_Close":this._panel.active=!1,this._mask.active=!1;break;case"Btn_HideInstall":case"Img":case"Btn_Install":this._reportAdClick();break;case"Btn_Download":if(r.utils.ServerConfig.native_intersititial_click_range&&2==r.utils.ServerConfig.native_intersititial_click_range)return void r.utils.showLog("\u670d\u52a1\u5668native_intersititial_click_range\u914d\u7f6e\u4e3a2\uff0c\u53ea\u80fd\u70b9\u51fb\u5b89\u88c5\u6309\u94ae\u7b97\u5b89\u88c5");this._reportAdClick()}},t.prototype._reportAdShow=function(){this._data&&this._nativeAd&&this._panel.active&&(h.default.EventAdWithObj(u.YwAdType.NATIVE_INTERSITITIAL,u.YwAdStatus.SHOW_SUCCESS,new u.AdEventParameter(this._data.adId)),r.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a! adId:"+this._data.adId+" #active="+this.node.active),this._nativeAd.reportAdShow({adId:this._data.adId}))},t.prototype._reportAdClick=function(){this._data&&(r.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u70b9\u51fb! adId:"+this._data.adId),this._nativeAd&&(h.default.EventAdWithObj(u.YwAdType.NATIVE_INTERSITITIAL,u.YwAdStatus.CLICK,new u.AdEventParameter(this._data.adId)),this._nativeAd.reportAdClick({adId:this._data.adId}),this.ServerConfig.intersititial_click_close&&"true"!=this.ServerConfig.intersititial_click_close||(this._panel.active=!1,this._mask.active=!1),this._closeBtn.active=!0,this._hideInstallBtn.active=!0,this._closeBtn.setContentSize(cc.size(this.ServerConfig.intersititia_close_but_range,this.ServerConfig.intersititia_close_but_range)),a.default.IsOPPO?r.utils.oppoTool.countNativeInserClick():a.default.IsVIVO&&r.utils.Tool_Vivo.countNativeInserClick(),a.default.IsHuaWei&&(this.node.destroy(),this.downLoadAd())))},t.prototype.downLoadAd=function(){},s([p],t)}(cc.Component));i.default=_,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YouWanSDK/EventAdInfo":"EventAdInfo","./YouWanSDK/YouWanAnalytics":"YouWanAnalytics"}],YZ_NativeItem:[function(e,t,i){"use strict";cc._RF.push(t,"4d6dayccIRMgY+T3fKuAWmH","YZ_NativeItem");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./CompatibleTool"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nativeAdTiltle=null,t._nativeAdIcon=null,t._nativeAdDesc=null,t._nativeAdImg=null,t._closeBtn=null,t._downBtn=null,t._noImageView=null,t._nativeAd=null,t.isShow=!1,t.showType=1,t.params=null,t.content=null,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.content=this.node.children[0],this._noImageView=this.content.getChildByName("NoImageView"),this._nativeAdTiltle=this._noImageView.getChildByName("title").getComponent(cc.Label),this._nativeAdIcon=this._noImageView.getChildByName("icon").getComponent(cc.Sprite),this._nativeAdDesc=this._noImageView.getChildByName("desc").getComponent(cc.Label),this._nativeAdImg=this.content.getChildByName("image").getComponent(cc.Sprite),this._closeBtn=this.content.getChildByName("closeBtn"),this.params?this.params.parent&&(this.node.width=this.node.parent.width,this.node.height=this.node.parent.height):r.utils.ServerConfig.st_native_ad_height&&(this.node.height=r.utils.ServerConfig.st_native_ad_height),this.content.active=!1,cc.game.on(c.default.YZ_NativeAdClick,function(){e.reportAdClick()},this)},t.prototype.onDisable=function(){cc.game.targetOff(this),this.node.destroy()},t.prototype.update=function(){this._nativeAd&&!this.isShow&&(this.isShow=!0,this.showNativeAd())},t.prototype.init=function(e){r.utils.showLog("\u521d\u59cb\u5316\u5355\u4e2a\u539f\u751f\u5e7f\u544a>>>"),this._nativeAd=e},t.prototype.showNativeAd=function(){var e=this;r.utils.ServerConfig.st_native_ad_is_hide_banner&&"true"==r.utils.ServerConfig.st_native_ad_is_hide_banner&&(r.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u7ed3\u7b97\u539f\u751f\u5e7f\u544a\u540e\u9690\u85cfbanner >>>"),r.utils.adManager.HideBanner(c.BannerLocation.Game)),r.utils.ServerConfig.st_native_ad_show_rec_banner&&"true"==r.utils.ServerConfig.st_native_ad_show_rec_banner&&r.utils.showRecBanner();var t=this._nativeAd.data,i=t.title,o=t.desc;i.length>6&&(i=i.slice(0,6),i+="..."),o.length>18&&(o=o.slice(0,17),o+="..."),this._nativeAdTiltle.string=i,this._nativeAdDesc.string=o,t.imgUrlList&&t.imgUrlList.length>0?(this._noImageView.active=!1,this._nativeAdImg.node.active=!0,l.default.LoadRes(t.imgUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._nativeAdImg&&(e._nativeAdImg.spriteFrame=new cc.SpriteFrame(i),e._nativeAdImg.node.active=!0,e.content.active=!0)})):a.default.IsOPPO&&t.iconUrlList&&t.iconUrlList.length>0?(this._nativeAdImg.node.active=!1,this._noImageView.active=!0,l.default.LoadRes(t.iconUrlList[0],function(t,i){!t&&cc.isValid(e)&&e._nativeAdIcon&&(e._nativeAdIcon.spriteFrame=new cc.SpriteFrame(i),e.content.active=!0)})):a.default.IsVIVO&&t.icon&&(this._nativeAdImg.node.active=!1,this._noImageView.active=!0,l.default.LoadRes(t.icon,function(t,i){!t&&cc.isValid(e)&&e._nativeAdIcon&&(e._nativeAdIcon.spriteFrame=new cc.SpriteFrame(i),e.content.active=!0)})),this.node.active=!0,this.reportAdShow(),this.params&&this.params.callBack&&this.params.callBack()},t.prototype.onBtnClickHandler=function(e){switch(e.target.name){case"closeBtn":this.node.active=!1;break;case"Btn_Download":this.reportAdClick()}},t.prototype.reportAdShow=function(){r.utils.showLog("reportAdShow"),this._nativeAd&&this._nativeAd.reportAdShow()},t.prototype.reportAdClick=function(){this._nativeAd?this._nativeAd.reportAdClick():r.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01")},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],YZ_NativeSplashView:[function(e,t,i){"use strict";cc._RF.push(t,"7c993lt1o1ElLWwtSylDE9T","YZ_NativeSplashView");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./CompatibleTool"),r=e("./PlatUtils"),c=e("./Utils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._sourceLable=null,t._titleLabel=null,t._desLabel=null,t._icon=null,t._btnLabel=null,t._img=null,t._timeLabel=null,t._nativeAd=null,t._data=null,t._dataDirty=!1,t._btnDownLoad=null,t.ratio=1,t.canSkip=!0,t}return n(t,e),Object.defineProperty(t.prototype,"ServerConfig",{get:function(){return c.utils.ServerConfig},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){c.utils.otherConfig&&c.utils.otherConfig.group&&(this.node.group=c.utils.otherConfig.group),cc.winSize.height<cc.winSize.width?(this.ratio=cc.winSize.width/1920*.75,this._panel=this.node.getChildByName("LandscapePanel")):(this.ratio=cc.winSize.width/1080,this._panel=this.node.getChildByName("PortraitPanel")),this._panel.active=!0,"false"==c.utils.getConfigByKey("native_splash_can_skip")&&(this.canSkip=!1),this._panel.scale=this.ratio,this._icon=this._panel.getChildByName("Icon").getComponent(cc.Sprite),this._img=this._panel.getChildByName("Img").getComponent(cc.Sprite),this._titleLabel=this._panel.getChildByName("TitleLabel").getComponent(cc.Label),this._desLabel=this._panel.getChildByName("DesLabel").getComponent(cc.Label),this._sourceLable=this._img.node.getChildByName("source").getComponent(cc.Label),this._btnDownLoad=this._panel.getChildByName("Btn_Download"),this._btnLabel=this._btnDownLoad.getComponentInChildren(cc.Label),this._timeLabel=this._panel.getChildByName("time").children[0].getComponent(cc.Label),r.default.IsHuaWei&&qg.onShow(this._reportAdShow.bind(this)),"true"==c.utils.getConfigByKey("native_splash_full_cilck")&&(this._btnDownLoad.active=!0)},t.prototype.onDestroy=function(){r.default.IsHuaWei&&(qg.offShow(this._reportAdShow),this._nativeAd.destroy(),cc.director.emit("SplashViewOff"))},t.prototype.init=function(e,t){this._nativeAd=e,this._data=t,this._dataDirty=!0},t.prototype.update=function(){this._data&&this._dataDirty&&(this._panel.active=!0,this._dataDirty=!1,this._updateContent()),this._data||(this._panel.active=!1)},t.prototype._updateContent=function(){var e=this;if(this._data){if(this._reportAdShow(),r.default.IsHuaWei&&(this._data.icon=""),c.utils.showLog("data:",JSON.stringify(this._data)),this._titleLabel.string=this._data.title?this._data.title:"",this._desLabel.string=this._data.desc?this._data.desc:"",this._panel.getChildByName("Btn_Install").getComponentInChildren(cc.Label).string=this._data.clickBtnTxt?this._data.clickBtnTxt:"\u67e5\u770b\u8be6\u60c5",this._data.imgUrlList&&this._data.imgUrlList.length>0){this._titleLabel.node.active=!0,this._icon.node.active=!1,this._img.node.active=!0,this._desLabel.node.active=!0;var t=5,i=setInterval(function(){0==--t?e._timeLabel.string="\u8df3\u8fc7":-1==t?(clearInterval(i),e.node.destroy()):e._timeLabel.string="\u70b9\u51fb\u8df3\u8fc7"+t+"s"},1e3);c.utils.showLog("\u6709\u56fe\u7247\uff0c\u4f18\u5148\u663e\u793a\u56fe\u7247"),a.default.LoadRes(this._data.imgUrlList[0],function(t,i){c.utils.showLog("\u52a0\u8f7d\u56fe\u7247\u4fe1\u606f ...."+t),!t&&cc.isValid(e)&&e._img&&(e._img.spriteFrame=new cc.SpriteFrame(i))})}else r.default.IsHuaWei&&this._data.icon?(c.utils.showLog("\u6ca1\u6709\u56fe\u7247\uff0c\u663e\u793aicon"),this._titleLabel.node.active=!0,this._icon.node.active=!0,this._img.node.active=!1,this._desLabel.node.active=!0,a.default.LoadRes(this._data.icon,function(t,i){!t&&cc.isValid(e)&&e._icon&&(e._icon.spriteFrame=new cc.SpriteFrame(i))})):c.utils.showLog("\u4ec0\u4e48\u90fd\u6ca1\u6709!!!");r.default.IsHuaWei&&(this._sourceLable.string=this._data.source?this._data.source:"")}},t.prototype.onBtnClickHandler=function(e){switch(e.target.name){case"time":this.canSkip?this.node.destroy():"\u8df3\u8fc7"==this._timeLabel.string&&this.node.destroy();break;case"Btn_Close":this.node.destroy();break;case"Img":case"Icon":case"Btn_Install":case"Btn_Download":this._reportAdClick()}},t.prototype._reportAdShow=function(){this._data&&this._nativeAd&&this._panel.active&&(c.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a! adId:"+this._data.adId+" #active="+this.node.active),this._nativeAd.reportAdShow({adId:this._data.adId}))},t.prototype._reportAdClick=function(){this._data&&(c.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u70b9\u51fb! adId:"+this._data.adId),this._nativeAd&&(this._nativeAd.reportAdClick({adId:this._data.adId}),this._panel.active=!1,r.default.IsOPPO?c.utils.oppoTool.countNativeInserClick():r.default.IsVIVO&&c.utils.Tool_Vivo.countNativeInserClick(),r.default.IsHuaWei&&(this.node.destroy(),this.downLoadAd())))},t.prototype.downLoadAd=function(){},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_RecommendGamesBanner:[function(e,t,i){"use strict";cc._RF.push(t,"32806+THFFPQKdtQ7WAonI9","YZ_RecommendGamesBanner");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./PlatUtils"),c=e("./YZ_Constant"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._listView=null,t._isInit=!1,t.closeBtn=null,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this._listView=this.getComponentInChildren("YZ_ListView"),this._listView.node.active=!1,this.closeBtn=cc.find("bg/close",this.node)},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){e._initWidget(),e.closeBtn.on(cc.Node.EventType.TOUCH_START,function(){e.node.destroy()})},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this),this.closeBtn.targetOff(this)},t.prototype._initWidget=function(){if(!this._isInit)if(a.utils.isShowRecommondGamesBanner()){var e=a.utils.getRecommondGameList();e?e.length>0?e.length>=6?(this._isInit=!0,this._listView.init(e),this._listView.node.active=!0,a.utils.postRecommentShowData(c.SubLocation.isYzBanner),r.default.IsOPPO&&(a.utils.oppoTool.countYzBannerShowCount(),a.utils.adManager.hideKyxBanner())):cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u5c0f\u4e8e6"):cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0"):cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!")}else this.node.destroy()},s([u],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],YZ_RecordWidget:[function(e,t,i){"use strict";cc._RF.push(t,"70e24eWKbRDM7QiZpIr5ChZ","YZ_RecordWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._normalBtn=null,t._actionBtn=null,t._isRecording=!1,t._originScale=1,t}return n(t,e),t.prototype.onLoad=function(){this._panel=this.node.getChildByName("Panel"),this._panel.active=!1;var e=this._panel.getChildByName("Background");this._normalBtn=e.getChildByName("normalBtn"),this._actionBtn=e.getChildByName("actionBtn"),this._originScale=this._actionBtn.scale},t.prototype._onGameMessage=function(e){switch(e.type){case"YZ_RecordStart":case"YZ_RecordEnd":this._updateState()}},t.prototype.onEnable=function(){var e=this;cc.game.on("YZ_CommonMessage",this._onGameMessage,this),a.utils.registerServerInitEvent(function(){e._panel.on(cc.Node.EventType.TOUCH_END,function(e){e.stopPropagation(),a.utils.isRecording?(a.utils.isSuccess=void 0,a.utils.cur_tool&&null!=a.utils.cur_tool.isClickEnd&&(a.utils.cur_tool.isClickEnd=!0),a.utils.recordEnd()):a.utils.recordStart()},e),e._updateState(),a.utils.isShowRecordWidget()?e._panel.active=!0:(a.utils.showLog("\u4e0d\u652f\u6301\u5f55\u5c4f!"),e.node.destroy())},this),a.utils.cur_tool&&null!=a.utils.cur_tool.isAutoShare&&(a.utils.cur_tool.isAutoShare=!0)},t.prototype.onDisable=function(){cc.game.targetOff(this)},t.prototype._updateState=function(){a.utils.isRecording?(this._normalBtn.active=!1,this._actionBtn.active=!0,this._actionBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,.8*this._originScale),cc.scaleTo(.3,this._originScale))))):(this._normalBtn.active=!0,this._actionBtn.stopAllActions(),this._actionBtn.active=!1)},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],YZ_ShakeNode:[function(e,t,i){"use strict";cc._RF.push(t,"e2425kaMhpN4aU6KcM8BiLX","YZ_ShakeNode");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){this.schedule(this.shake,3)},t.prototype.shake=function(){var e=cc.repeat(cc.sequence(cc.rotateTo(.03,5),cc.rotateTo(.03,0),cc.rotateTo(.03,-5),cc.rotateTo(.03,0)),5);this.node.runAction(e)},s([r],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],YZ_ShortcutWidget:[function(e,t,i){"use strict";cc._RF.push(t,"8491fv6UfpAeK3G0lwwfFJo","YZ_ShortcutWidget");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./CompatibleTool"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._panel=null,t._handImg=null,t._callback=null,t}return n(t,e),Object.defineProperty(t.prototype,"Callback",{set:function(e){this._callback=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._panel=this.node.getChildByName("Panel"),this._panel.active=!1,this._handImg=cc.find("Panel/handImg",this.node),this._handImg.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,r.default.position(0,-50)),cc.moveBy(.5,r.default.position(0,50)))))},t.prototype.onEnable=function(){var e=this;a.utils.registerServerInitEvent(function(){a.utils.isShowCreateShortcutWidget()?e._panel.active=!0:e.node.destroy()},this)},t.prototype.onDisable=function(){a.utils.unregisterServerInitEvent(this)},t.prototype.onBtnClickHandler=function(e){var t=this;switch(e.target.name){case"Btn_Shortcut":a.utils.canCreateShortcut()&&a.utils.createShortcut(function(e){e?(a.utils.showLog("\u5feb\u6377\u65b9\u5f0f\u521b\u5efa\u6210\u529f\uff01"),t._callback&&t._callback(!0)):(a.utils.showLog("\u5feb\u6377\u65b9\u5f0f\u521b\u5efa\u5931\u8d25\uff01"),t._callback&&t._callback(!1))})}},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./Utils":"Utils"}],YZ_StatementRecommentAd:[function(e,t,i){"use strict";cc._RF.push(t,"a1f40rCFtlOVJUTsMlC9yMj","YZ_StatementRecommentAd");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./AldUtils"),c=e("./YZ_Constant"),l=e("./List"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._jumpList=null,t._items=[],t.listView=null,t._pageItem=null,t._pageRecItem=null,t._recListNode=null,t.nativeData=null,t._nativeAd=null,t.showNativeAd=!0,t.yzItem=null,t._nativeIsShow=!1,t.autoScorll=!1,t}return n(t,e),t.prototype.onLoad=function(){this._recListNode=this.node.getChildByName("RecList"),this.listView=this._recListNode.getChildByName("ScrollView").getComponent(l.default),this._nativeAd=this.node.getChildByName("nativeAd"),r.default.SendEvent("\u663e\u793a\u7ed3\u7b97\b\u63a8\u8350\u7ec4\u4ef6")},t.prototype.start=function(){this.showNativeAd?(this._recListNode.active=!1,this.yzItem=this._nativeAd.getComponent("YZ_NativeItem"),this.yzItem.showType=1,a.utils.adManager.createNativeAd(null,this.yzItem),a.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u8c03\u7528\u539f\u751f\u5e7f\u544a\u300a\u300a\u300a\u300a\u300a\u300a\u300a")):(this._recListNode.active=!0,this._jumpList=a.utils.getRecommondGameList(),this._jumpList&&this._jumpList.length>0?(this._initWidget(),this.listView.numItems=this._jumpList.length):(cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!"),this.node.destroy()))},t.prototype.hideLastNode=function(){for(var e=5;e>2;e--)this._items[e].node.active=!1},t.prototype.update=function(e){this.yzItem&&this.yzItem.content&&this.yzItem.content.active&&!this._nativeIsShow&&(this._nativeIsShow=!1,this._recListNode.active=!1),this.autoScorll&&!this.listView.scrollView.isScrolling()&&(this.listView.content.y+=150*e,this.listView._onScrolling())},t.prototype.onListRender=function(e,t){var i=e.getComponent("QCrossWidgetItem");i._location=c.SubLocation.isStatement,i.getComponent("QCrossWidgetItem").init(this._jumpList[t])},t.prototype._initWidget=function(){var e=this;a.utils.ServerConfig.st_recomment_is_hide_banner&&"true"==a.utils.ServerConfig.st_recomment_is_hide_banner&&(a.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u540e\u9690\u85cfbanner >>>"),a.utils.adManager.HideBanner(c.BannerLocation.Game),a.utils.adManager.HideBanner(c.BannerLocation.Over)),this.scheduleOnce(function(){e.autoScorll=!0},1),a.utils.postRecommentShowData(c.SubLocation.isStatement)},s([h],t)}(cc.Component));i.default=d,cc._RF.pop()},{"./AldUtils":"AldUtils","./List":"List","./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],YZ_Tool_4399:[function(e,t,i){"use strict";cc._RF.push(t,"e9a1c/LeeFGVaaFV6tot5cB","YZ_Tool_4399");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./Utils"),a=cc._decorator,r=a.ccclass,c=(a.property,function(){function e(){this._4399=window.h5api,this._sysInfo={},this._serverConfig=null}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.init=function(){n.default.Is4399&&(s.utils.showLog("4399 h5 \u5e73\u53f0\u521d\u59cb\u5316\u5b8c\u6210 >>"),s.utils.emitServerInitEvent())},e.prototype.share=function(e){this._4399.share(),e&&e(!0,"")},e.prototype.showRecommend=function(){this._4399.showRecommend()},o([r],e)}());i.default=c,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_Tool_Baidu:[function(e,t,i){"use strict";cc._RF.push(t,"d56dd0lh79AeZGOtNmRUU2Q","YZ_Tool_Baidu");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,"https://report.youletd.com/gss?"),p="",_=function(){function e(){this._recorder=null,this._recommendationButton=null,this._videoPath=null,this._serverConfig=null,this._shareCallback=null,this.swan=window.swan,this._sysInfo={},this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.baiduconfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("baidu\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;console.log(i,i-t._reportLoginTime,o),o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,console.log("self._service_uid:"+t._service_uid),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){var t=this;if(a.default.IsBaidu){if(e){var i=JSON.parse(e);i&&i.baidu&&(p=JSON.stringify(i.baidu))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._sysInfo=this.swan.getSystemInfoSync(),this._sysInfo?r.utils.showLog("\u767e\u5ea6\u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ",JSON.stringify(this._sysInfo)):r.utils.showLog("\u7cfb\u7edf\u4fe1\u606f\u83b7\u53d6\u5931\u8d25!"),this._loadConfig(),this.canRecord()&&(this._recorder=this.swan.getVideoRecorderManager(),this._recorder&&(this._recorder.onStart(function(e){r.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u56de\u8c03: ",e),r.utils.isRecording=!0,cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordStart"})}),this._recorder.onStop(function(e){r.utils.showLog("\u7ed3\u675f\u5f55\u5c4f\u56de\u8c03: ",e.videoPath),r.utils.isRecording=!1,t._videoPath=e.videoPath,cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordEnd"})}),this._recorder.onError(function(e){r.utils.isRecording=!1,e&&(r.utils.showLog("\u5f55\u5c4f\u51fa\u9519 : ",e.errCode,e.errMsg),cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordEnd"}))}))),this.swan.showShareMenu(),this.swan.onShareAppMessage(function(){return t._getShareInfo()})}},e.prototype._loadConfig=function(){var e=this;a.default.IsBaidu&&r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o:r.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.baiduconfig.bannerId=e._serverConfig.banner_pos_id,r.utils.config.baiduconfig.videoId=e._serverConfig.video_pos_id):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"):e._serverConfig=JSON.parse(p),r.utils.emitServerInitEvent()})},e.prototype.showRecommendationButton=function(e){var t=this,i=e;return a.default.IsBaidu&&this.canShowRecommendButton()?(r.utils.showLog("\u521b\u5efa\u5e76\u663e\u793a"),this._recommendationButton=this.swan.createRecommendationButton({type:"list",style:{left:-300,top:-300}}),this._recommendationButton&&(this._recommendationButton.onLoad(function(){t._recommendationButton.show(),t._setRecommendBtnStyle(t._recommendationButton,i)}),this._recommendationButton.onError(function(e){e&&r.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6309\u94ae\u51fa\u9519 : ",e.errCode,e.errMsg)}),this._recommendationButton.load()),this._recommendationButton):null},e.prototype._setRecommendBtnStyle=function(e,t){if(e){var i=0,o=0;t&&(r.utils.showLog("params:",t),t.left?i=t.left/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth:t.right&&(i=this._sysInfo.screenWidth-t.right/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth-e.style.width),t.top?o=t.top/cc.view.getDesignResolutionSize().height*this._sysInfo.screenHeight:t.bottom&&(o=this._sysInfo.screenHeight-t.bottom/cc.view.getDesignResolutionSize().height*this._sysInfo.screenHeight-e.style.height)),r.utils.showLog("top:"+o+"; left:"+i),e.style.top=o,e.style.left=i}},e.prototype.hideRecommendationButton=function(){a.default.IsBaidu&&this.canShowRecommendButton()&&this._recommendationButton&&this._recommendationButton.hide()},e.prototype.recordStart=function(){a.default.IsBaidu&&this.canRecord()&&(r.utils.showLog("\u5f00\u59cb\u5f55\u5c4f"),this._recorder&&this._recorder.start({duration:120}))},e.prototype.recordEnd=function(){a.default.IsBaidu&&this.canRecord()&&(r.utils.showLog("\u7ed3\u675f\u5f55\u5c4f"),this._recorder&&this._recorder.stop())},e.prototype.shareVideo=function(){if(a.default.IsBaidu&&this._videoPath){var e=this;this.swan.shareVideo({videoPath:this._videoPath,success:function(){r.utils.showLog("\u5206\u4eab\u6210\u529f"),e._videoPath="",e._shareCallback&&e._shareCallback(!0)},fail:function(){e._videoPath="",r.utils.showLog("\u5206\u4eab\u5931\u8d25"),e._shareCallback&&e._shareCallback(!1,"\u5206\u4eab\u5931\u8d25!")}})}},e.prototype.shareImage=function(){a.default.IsBaidu&&this.swan.shareAppMessage(this._getShareInfo())},e.prototype.share=function(e){a.default.IsBaidu&&(this._shareCallback=e,this._videoPath?this.shareVideo():this.shareImage())},e.prototype._getShareInfo=function(){if(a.default.IsBaidu){var e=r.utils.getShareInfo(),t=this;if(e)return{title:e.title,imageUrl:e.imageUrl,success:function(){t._shareCallback&&t._shareCallback(!0),r.utils.showLog("\u5206\u4eab\u6210\u529f!")},fail:function(){t._shareCallback&&t._shareCallback(!1,"\u5206\u4eab\u5931\u8d25!"),r.utils.showLog("\u5206\u4eab\u5931\u8d25!")}}}return{}},e.prototype.canRecord=function(){return!!a.default.IsBaidu&&!!this._sysInfo&&this._compareVersion(this._sysInfo.SDKVersion,"1.4.1")&&a.default.IsAndroid},e.prototype.canShowRecommendButton=function(){return!!a.default.IsBaidu&&!!this._sysInfo&&this._compareVersion(this._sysInfo.SDKVersion,"1.5.2")&&a.default.IsAndroid},e.prototype.canShowFavoriteGuide=function(){return!!a.default.IsBaidu&&!!this._sysInfo&&this._compareVersion(this._sysInfo.SDKVersion,"1.7.2")},e.prototype._compareVersion=function(e,t){return parseInt(e.split(".").join(""))>=parseInt(t.split(".").join(""))},e.prototype.navigateToMiniGame=function(e,t){if(a.default.IsBaidu){var i=t;if(!e)return r.utils.showLog("\u8df3\u8f6cID\u4e3anull"),void(i&&i(!1));this.swan.navigateToMiniProgram({appKey:e,path:"",extraData:{},success:function(){r.utils.showLog("\u8df3\u8f6c\u6210\u529f\uff01"),i&&i(!0)},fail:function(){r.utils.showLog("\u8df3\u8f6c\u5931\u8d25!"),i&&i(!1)}})}},e.prototype.postData=function(e){if(a.default.IsBaidu){var t=r.utils.config.baiduconfig.appID,i=d+" + m=jump + &app_id="+t+"&uid=0&channel=baidu&jump_app_id="+e;r.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",i),r.utils.commomHttpRequest(i,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})}},e.prototype.getRecommondGameList=function(){return a.default.IsBaidu&&r.utils.Tool_Baidu&&r.utils.Tool_Baidu.ServerConfig?r.utils.Tool_Baidu.ServerConfig.jump_list:null},e.prototype.postLevel=function(e,t,i){if(a.default.IsBaidu){var o=d+"m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsBaidu){var t=d+"m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsBaidu&&swan.showToast({title:e,icon:"none",duration:2e3,success:function(e){console.log(""+e)},fail:function(){console.log("showToast\u8c03\u7528\u5931\u8d25")}})},o([h],e)}();i.default=_,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Bili:[function(e,t,i){"use strict";cc._RF.push(t,"31682EOkrNLt67Wx9gIkGHK","YZ_Tool_Bili");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./Utils"),a=cc._decorator,r=a.ccclass,c=(a.property,function(){function e(){this._sysInfo={},this._serverConfig=null}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.init=function(){n.default.IsBili&&(s.utils.showLog("\u54d4\u54e9 \u5e73\u53f0\u521d\u59cb\u5316\u5b8c\u6210 >>"),this.initSystemInfo(),s.utils.emitServerInitEvent())},e.prototype.share=function(e){void 0===e&&(e=null),bl.shareAppMessage({title:s.utils.config.otherconfig.shareTitle,imageUrl:s.utils.config.otherconfig.shareImgUrl,success:function(){s.utils.showLog("bili \u5206\u4eab\u6210\u529f\uff01"),e&&e(!0)},fail:function(){s.utils.showLog("bili \u5206\u4eab\u5931\u8d25\uff01"),e&&e(!1,"\u5206\u4eab\u5931\u8d25\uff01")}})},e.prototype.initSystemInfo=function(){n.default.IsBili&&(this._sysInfo=bl.getSystemInfoSync())},o([r],e)}());i.default=c,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_Tool_Broswer:[function(e,t,i){"use strict";cc._RF.push(t,"50a6elLlt5J/6iLrubWYrAU","YZ_Tool_Broswer"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./PlatUtils"),n=e("./Utils"),s="",a=function(){function e(){this._serverConfig=null,this._nativeInsertAdClickTimes=0,this._img_url="app/editor/static/img/logo-with-text.png",this._shortcutCreated=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NativeInsertAdClickTimes",{get:function(){return this._nativeInsertAdClickTimes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShortcutCreated",{get:function(){return this._shortcutCreated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"img_url",{get:function(){return window.location.href+this._img_url},enumerable:!1,configurable:!0}),e.prototype.getRecommondGameList=function(){return[{id:"30213731",name:"\u6d4b\u8bd5\u4e00",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u4e8c",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u4e09",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u56db",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u4e94",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u516d",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u4e03",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u516b",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd5\u4e5d",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd510",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd511",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd512",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd513",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url},{id:"30213731",name:"\u6d4b\u8bd514",appid:"com.yzxx.hcrttt.kyx.nearme.gamecenter",logo:this.img_url,icon:this.img_url}]},e.prototype.init=function(e){if(e){var t=JSON.parse(e);t&&t.oppo&&(s=JSON.stringify(t.oppo))}var i=this,o=new XMLHttpRequest;o.open("GET",this.img_url),o.send(),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u6b63\u5e38"),i._loadConfig()),4==o.readyState&&404==o.status&&(console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u4e0d\u5b58\u5728\u5207\u6362\u56fe\u7247\u8def\u5f84"),i._img_url="app/editor/static/preview-templates/splash.png",i._loadConfig())},o.ontimeout=function(){console.log("\u6d4b\u8bd5\u56fe\u7247\u52a0\u8f7d\u8d85\u65f6\u5207\u6362\u56fe\u7247\u8def\u5f84"),i._img_url="app/editor/static/preview-templates/splash.png",i._loadConfig()},o.onerror=function(e){console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u5f02\u5e38\uff1a"+e+"\u5207\u6362\u56fe\u7247\u8def\u5f84"),i._img_url="app/editor/static/preview-templates/splash.png",i._loadConfig()}},e.prototype._loadConfig=function(){this._serverConfig=JSON.parse(s),this._serverConfig.icon_jump=5,this._serverConfig.jump_list=this.getRecommondGameList(),n.utils.emitServerInitEvent()},e.prototype.sendEvent=function(e){o.default.IsTest&&n.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6 "+e)},e.prototype.postLevel=function(e,t){o.default.IsTest&&n.utils.showLog("\u5173\u5361"+e+","+t)},e.prototype.realNameAuth=function(e,t,i){if(n.utils._isConfigInit){var o=i,s=new XMLHttpRequest;s.timeout=6e3;var a={kyx:!1,app_id:"6103b73b864a9558e6d65af8",channel:"m233",device_uid:0,uid:"482501611",game_type:2,device_data:"",game_version:"1.0.0",reqv:"",app_list:""};a.id_card=e,a.real_name=t;var r=JSON.stringify(a),c="https://apps.youlesp.com/gss?m=realNameAuth&time_stamp="+(new Date).getTime()+"&json_data="+n.utils.aesEncrypt(r);n.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+c),s.open("GET",c),s.send(),s.onreadystatechange=function(){n.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",s.readyState,"; status=",s.status),4==s.readyState&&(200==s.status?o&&o(!0,n.utils.aesDecrypt(s.responseText)):o&&o(!1,"")),s.status},s.ontimeout=function(){n.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),o&&o(!1,"")},s.onerror=function(){o&&o(!1,"")}}else n.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},e}();i.default=a,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils"}],YZ_Tool_Cocosplay:[function(e,t,i){"use strict";cc._RF.push(t,"78b0a0l4K9L7IdiXn8LR/YS","YZ_Tool_Cocosplay");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._sysInfo={},this._serverConfig=null,this._shareCallback=null,this._isShare=!1,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this.nickName=""}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("cocos\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,console.log("self._service_uid:"+t._service_uid),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){var t=this;if(a.default.ISCocos){if(GameSDK.setOnInitCB(function(e){0==e.error&&(r.utils.showLog("\u521d\u59cb\u5316\u6210\u529f"),t._uid=e.userId,t.nickName=e.nickName)}),r.utils.showLog("utils.config.cocosConfig.appID:"+r.utils.config.cocosConfig.appID),GameSDK.init(r.utils.config.cocosConfig.appID),AdSDK.init(),e){var i=JSON.parse(e);i&&i.cocos&&(d=JSON.stringify(i.cocos))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0";try{this._sysInfo=GameSDK.getSystemInfoSync(),r.utils.showLog("cocos \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo))}catch(o){r.utils.showLog("cocos \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!")}this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.ISCocos&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o:r.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?(e._serverConfig.shares&&(e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img)),e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID")):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.getSystemInfo=function(){if(a.default.ISCocos)return this._sysInfo},e.prototype.share=function(e){void 0===e&&(e=null)},e.prototype.isOverMinVersion=function(e){var t=this._sysInfo.SDKVersion;return this._compareVersion(t,e)>=0},e.prototype._compareVersion=function(e,t){if(!e||!t)return-1;e=e.split("."),t=t.split(".");for(var i=Math.max(e.length,t.length);e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(var o=0;o<i;o++){var n=parseInt(e[o]),s=parseInt(t[o]);if(n>s)return 1;if(n<s)return-1}return 0},e.prototype.postLevel=function(e,t,i){if(a.default.ISCocos){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Douyin:[function(e,t,i){"use strict";cc._RF.push(t,"89709ZaetdOYJH13/E/pJCv","YZ_Tool_Douyin");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._recorder=null,this._videoPath=null,this._shareCallback=null,this.recorderStarTime=0,this.isAutoShare=!0,this.isClickEnd=!1,this.isNewsArticleLite=!1,this.tt=window.tt,this._serverConfig=null,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._jumpIds="",this._sysInfo=null,this.is_auto_share_video=!1,this.recored_share_count=0,this.appLaunchOptions=[]}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.douyinconfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("douying\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.login=function(){var e=this;r.utils.showLog("douying login"),tt.login({withRealNameAuthenticationInfo:!0,success:function(){r.utils.showLog("\u767b\u5f55\u6210\u529f"),tt.getUserInfo({withRealNameAuthenticationInfo:!0,success:function(t){r.utils.showLog("getUserInfo \u8c03\u7528\u6210\u529f",t.userInfo),t.userInfo&&(t.userInfo.realNameAuthenticationStatus&&"uncertified"==t.userInfo.realNameAuthenticationStatus?(r.utils.showLog("getUserInfo \u7528\u6237\u672a\u8fdb\u884c\u5b9e\u540d\u5236\uff01"),e.realNameAuth()):t.userInfo.realNameAuthenticationStatus&&"certified"==t.userInfo.realNameAuthenticationStatus?(r.utils.showLog("getUserInfo \u7528\u6237\u5df2\u5b9e\u540d\u5236\uff01"),cc.game.emit(c.default.ST_LOGIN_SUCCESS)):cc.game.emit(c.default.ST_LOGIN_FAIL))},fail:function(e){r.utils.showLog("getUserInfo \u8c03\u7528\u5931\u8d25",e.errMsg)}})},fail:function(){cc.game.emit(c.default.ST_LOGIN_FAIL),e.showToast("\u767b\u5f55\u5931\u8d25\uff01")}})},e.prototype.realNameAuth=function(){var e=this;r.utils.showLog("douying realNameAuth"),tt.authenticateRealName({success:function(){r.utils.showLog("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u6210\u529f"),cc.game.emit(c.default.ST_LOGIN_SUCCESS)},fail:function(t){e.showToast("\u5b9e\u540d\u5236\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),cc.game.emit(c.default.ST_LOGIN_FAIL),r.utils.showLog("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u5931\u8d25",t.errMsg)}})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){var t=this;if(a.default.IsDouyin){if(e){var i=JSON.parse(e);i&&i.toutiao&&(r.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:"+JSON.stringify(i.toutiao)),d=JSON.stringify(i.toutiao))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._sysInfo=this.tt.getSystemInfoSync(),r.utils.showLog("\u6296\u97f3\u5e73\u53f0\u4fe1\u606f\uff1a"+JSON.stringify(this._sysInfo)),this._sysInfo&&this._sysInfo.appName&&"news_article_lite"==this._sysInfo.appName&&(this.isNewsArticleLite=!0),this._loadConfig();var o=this;this._recorder=this.tt.getGameRecorderManager(),this._recorder&&(this._recorder.onStart(function(){o._videoPath="",t.isClickEnd=!1,t.is_auto_share_video=!1,r.utils.isRecording=!0,console.log("\u5f55\u5c4f\u5f00\u59cb>>>"),r.utils.showLog("\u5f55\u5c4f\u5f00\u59cb"),t.recorderStarTime=(new Date).getTime(),cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordStart"})}),this._recorder.onStop(function(e){r.utils.showLog("\u5f55\u5c4f\u7ed3\u675f :"+e.videoPath),r.utils.isRecording=!1,cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordEnd"});var i=((new Date).getTime()-t.recorderStarTime)/1e3;i>3?(o._videoPath=e.videoPath,r.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5927\u4e8e3\u79d2",i),t.isAutoShare?t.isClickEnd?(t.shareVideo(),t._shareCallback=null,t.is_auto_share_video=!0):r.utils.checkResultShow(1)?(r.utils.showLog("\u6ee1\u8db3\u81ea\u52a8\u5206\u4eab\u6761\u4ef6\uff0c\u5f39\u51fa\u5206\u4eab\u7a97\u53e3\uff01"),null==r.utils.rewardCloseFunc&&(r.utils.rewardValue=0,r.utils.showShareRecordPanel())):i>100&&null==r.utils.rewardCloseFunc&&(r.utils.rewardValue=0,r.utils.showShareRecordPanel()):t.isAutoShare=!0):(t.isClickEnd&&t.tt.showToast({title:"\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2!",icon:"fail",duration:2e3,success:function(e){console.log(""+e)},fail:function(){console.log("showToast\u8c03\u7528\u5931\u8d25")}}),o._videoPath="",r.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff0c\u5f55\u5f55\u5c4f\u5730\u5740\u7f6e\u7a7a\uff01"))})),this.tt.showShareMenu({withShareTicket:!1}),this.tt.onShareAppMessage(function(){return o._getShareInfo()}),r.utils.registerServerInitEvent(function(){t.ServerConfig.add_favorite&&setTimeout(function(){r.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u6dfb\u52a0\u641c\u85cf!!"),t.showFavoriteGuide()},1e3*t.ServerConfig.add_favorite)},this)}},e.prototype.showFavoriteGuide=function(){this.tt.showFavoriteGuide?this.tt.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",position:this.ServerConfig.favorite_type?this.ServerConfig.favorite_type:"bottom",success:function(){r.utils.showLog("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f")},fail:function(e){r.utils.showLog("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25:ero="+JSON.stringify(e))}}):r.utils.showLog("\u5f53\u524d\u5934\u6761\u7248\u672c\u4e0d\u652f\u6301\u6dfb\u52a0\u6536\u85cf\uff01")},e.prototype.loadJumpIds=function(){var e=this;return new Promise(function(t,i){cc.loader.load("game.json",function(o,n){o||(n.ttNavigateToMiniGameAppIdList.forEach(function(t){e._jumpIds+=t+","}),e._jumpIds.substring(0,e._jumpIds.lastIndexOf(",")),t()),i(o)})})},e.prototype._loadConfig=function(){var e=this;a.default.IsDouyin&&r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=g&jump_id="+this._jumpIds,function(t,i){if(t&&i){r.utils.showLog("\u6296\u97f3\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i);var o=JSON.parse(i);r.utils.DebugLoacalConfig?r.utils.showLog("\u8c03\u8bd5\u6a21\u5f0f\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o}else r.utils.showLog("\u6296\u97f3\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e.ServerConfig?("false"==e.ServerConfig.is_local_pos_id&&(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aID"),r.utils.config.douyinconfig.bannerId=e.ServerConfig.banner_pos_id,r.utils.config.douyinconfig.insertId=e.ServerConfig.intersititia_pos_id,r.utils.config.douyinconfig.videoId=e.ServerConfig.video_pos_id),e._serverConfig.shares&&e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares&&e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img)):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.recordStart=function(){a.default.IsDouyin&&this._recorder&&this._recorder.start({duration:this.ServerConfig.record_duration?this.ServerConfig.record_duration:120})},e.prototype.recordEnd=function(){a.default.IsDouyin&&this._recorder.stop()},e.prototype.share=function(e){a.default.IsDouyin&&(this._shareCallback=e,this._videoPath&&!r.utils.isRecording?this.shareVideo():this.shareImage())},e.prototype.shareVideo=function(){if(a.default.IsDouyin&&this._videoPath){var e=this;this.tt.shareAppMessage({channel:"video",extra:{videoPath:e._videoPath},success:function(){cc.log("\u89c6\u9891\u5206\u4eab\u6210\u529f!"),e._shareCallback&&e._shareCallback(!0)},fail:function(t){cc.log("\u89c6\u9891\u5206\u4eab\u5931\u8d25!",JSON.stringify(t)),e._videoPath="";var i="\u5206\u4eab\u5931\u8d25!";t&&t.errMsg&&(-1!=(i=t.errMsg).indexOf("fail")?(console.log(e._sysInfo),i="XiGua"==e._sysInfo.appName?"\u5206\u4eab\u5931\u8d25!":"\u5206\u4eab\u5931\u8d25\uff0c\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed\uff01"):i="\u5206\u4eab\u5931\u8d25!"),e._shareCallback&&e._shareCallback(!1,i),e.is_auto_share_video&&(e.is_auto_share_video=!1,e.tt.showToast({title:i,icon:"fail",duration:2e3,success:function(e){console.log(""+e)},fail:function(){console.log("showToast\u8c03\u7528\u5931\u8d25")}}))}})}},e.prototype.shareImage=function(){if(a.default.IsDouyin){var e=r.utils.getShareInfo();if(r.utils.showLog("\u5206\u4eab\u56fe\u7247\uff1atitle:"+e.title+"; imageUrl:"+e.imageUrl),e){var t=this;this.tt.shareAppMessage({title:e.title,imageUrl:e.imageUrl,success:function(){r.utils.showLog("\u56fe\u7247\u5206\u4eab\u6210\u529f!"),t._shareCallback&&t._shareCallback(!0)},fail:function(e){r.utils.showLog("\u56fe\u7247\u5206\u4eab\u5931\u8d25!"+JSON.stringify(e)),t._shareCallback&&t._shareCallback(!1)}})}}},e.prototype.showMoreGamesButton=function(e){if(a.default.IsDouyin){var t=0,i=0,o=0,n=0;return cc.view.getDesignResolutionSize().width<1080?(o=188/1080*this._sysInfo.screenWidth,n=223/1080*this._sysInfo.screenWidth):(o=188/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth,n=223/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth),e&&(e.left?t=e.left/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth:e.right&&(t=this._sysInfo.screenWidth-e.right/cc.view.getDesignResolutionSize().width*this._sysInfo.screenWidth-o),e.top?i=e.top/cc.view.getDesignResolutionSize().height*this._sysInfo.screenHeight:e.bottom&&(i=this._sysInfo.screenHeight-e.bottom/cc.view.getDesignResolutionSize().height*this._sysInfo.screenHeight-n)),r.utils.showLog("\u66f4\u591a\u6e38\u620f\u6309\u94ae\u53c2\u6570\uff1aleft:"+t+"; top:"+i+"; width:"+o+"; height:"+n),this.tt.createMoreGamesButton({type:"image",image:"img/more_game.png",style:{left:t,top:i,width:o,height:n,lineHeight:40,backgroundColor:"#ff0000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:0,borderColor:"#ff0000"},appLaunchOptions:[],onNavigateToMiniGame:function(e){r.utils.showLog("\u8df3\u8f6c\u5176\u4ed6\u5c0f\u6e38\u620f"+e),e&&e.errCode}})}},e.prototype._getShareInfo=function(){if(a.default.IsDouyin){var e=r.utils.getShareInfo();if(e)return{title:e.title,imageUrl:e.imageUrl,success:function(){r.utils.showLog("\u5206\u4eab\u6210\u529f!")},fail:function(){r.utils.showLog("\u5206\u4eab\u5931\u8d25!")}}}return{}},e.prototype.isOverMiniVersion=function(e){return!(!a.default.IsDouyin||!this._sysInfo||null==e)&&this._compareVersion(this._sysInfo.SDKVersion,e)},e.prototype._compareVersion=function(e,t){return parseInt(e.split(".").join(""))>=parseInt(t.split(".").join(""))},e.prototype.isShowMoreGamesModal=function(){return!(!a.default.IsAndroid||!this.tt.showMoreGamesModal)||(r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u6296\u97f3\u66f4\u591a\u6e38\u620f\u5f39\u7a97\uff01"),!1)},e.prototype.showMoreGamesModal=function(){a.default.IsAndroid?this.tt.showMoreGamesModal({appLaunchOptions:[],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}}):r.utils.showMsg("\u5f53\u524d\u5e73\u53f0\u6682\u65f6\u4e0d\u652f\u6301\u8df3\u8f6c")},e.prototype.getRecommondGameList=function(){return a.default.IsDouyin&&this.ServerConfig?this.ServerConfig.jump_list:null},e.prototype.postLevel=function(e,t,i){if(a.default.IsDouyin){var o="https://report.youletd.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsDouyin){var t="https://report.youletd.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsDouyin&&tt.showToast({title:e,icon:"none",duration:2e3,success:function(e){console.log(""+e)},fail:function(){console.log("showToast\u8c03\u7528\u5931\u8d25")}})},e.prototype.GameExit=function(){tt.exitMiniProgram({success:function(e){console.log("\u8c03\u7528\u6210\u529f",e.data)},fail:function(e){console.log("\u8c03\u7528\u5931\u8d25",e.errMsg)}})},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_FaceBook:[function(e,t,i){"use strict";cc._RF.push(t,"789d3SaOtJD+5GQDhT0yUOx","YZ_Tool_FaceBook");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._sysInfo=null,this._serverConfig=null,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.faceBookConfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<this._loginInterval?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("facebook\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",this.reportLogin(),[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n="https://apps.youlesp.com/gss?m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(e){if(r.utils.showLog("init faceBook"),a.default.IsFaceBook){if(e){var t=JSON.parse(e);t&&t.facebook&&(d=JSON.stringify(t.facebook))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.IsFaceBook&&r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("faceBook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?r.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("faceBook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("facebook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.faceBookConfig.videoId=e._serverConfig.video_pos_id||r.utils.config.faceBookConfig.videoId,r.utils.config.faceBookConfig.insertId=e._serverConfig.intersititia_pos_id||r.utils.config.faceBookConfig.insertId,r.utils.config.faceBookConfig.bannerId=e._serverConfig.banner_pos_id||r.utils.config.faceBookConfig.bannerId):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.isOverMiniVersion=function(e){return!!(a.default.IsFaceBook&&this._sysInfo&&this._sysInfo.platformVersionCode)&&this._sysInfo.platformVersionCode>=e},e.prototype.postLevel=function(e,t,i){if(a.default.IsFaceBook){var o="https://report.youletd.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsFaceBook){var t="https://report.youletd.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_GoogleWeb:[function(e,t,i){"use strict";cc._RF.push(t,"d1a1e6qqmtF8b2CiqXLnmdD","YZ_Tool_GoogleWeb"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Utils"),n=function(){function e(){this._serverConfig=null}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._loadConfig()},e.prototype._loadConfig=function(){o.utils.emitServerInitEvent()},e.prototype.sendEvent=function(){},e.prototype.postLevel=function(){},e}();i.default=n,cc._RF.pop()},{"./Utils":"Utils"}],YZ_Tool_Hago:[function(e,t,i){"use strict";cc._RF.push(t,"4ad1bMIfxJE77RoQPrXJJW4","YZ_Tool_Hago");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this.hg=hg,this._sysInfo=null,this._serverConfig=null,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.hagoConfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<this._loginInterval?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",this.reportLogin(),[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n="http://apps.youlesp.com/gss?m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(e){if(r.utils.showLog("init hago"),a.default.IsHago){if(e){var t=JSON.parse(e);t&&t.hago&&(d=JSON.stringify(t.hago))}this._sysInfo=this.hg.getSystemInfoSync(),this._sysInfo&&(r.utils.showLog("Hago \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo)),"en-us"==this._sysInfo.language?i18n.init("en"):"pt-br"==this._sysInfo.language?i18n.init("pt"):i18n.init(this._sysInfo.language)),this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.IsHago&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?r.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.hagoConfig.videoId=e._serverConfig.video_pos_id):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.isOverMiniVersion=function(e){return!!(a.default.IsHago&&this._sysInfo&&this._sysInfo.platformVersionCode)&&this._sysInfo.platformVersionCode>=e},e.prototype.postLevel=function(e,t,i){if(a.default.IsHago){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsHago){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_HuaWei:[function(e,t,i){"use strict";cc._RF.push(t,"7a4893Gs+9OpLSK3fRFXNCD","YZ_Tool_HuaWei");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=e("./UMengSDK/quickGame/uma.min.js"),h=cc._decorator,d=h.ccclass,p=(h.property,""),_=function(){function e(){this.qg=window.qg,this._sysInfo=null,this._serverConfig=null,this._nativeInsertAdClickTimes=0,this._shortcutCreated=!1,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._source="",this._luanchType="",this._luanchData="",this.isReportActive=!1,this.yz_conversion_type="",this.passCount=0,this.playCount=0,this._is_login=!1,this._isShowLogin=!1,this._loging=!1,this.isRequestLogin=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NativeInsertAdClickTimes",{get:function(){return this._nativeInsertAdClickTimes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShortcutCreated",{get:function(){return this._shortcutCreated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<this._loginInterval?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,this._uid="0",this.reportLogin(),[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n="http://apps.youlesp.com/gss?m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid),"activate"==e.yz_conversion_type&&t.reportUserActive(),"login"==e.yz_conversion_type&&e._is_login&&(r.utils.showLog("\u7528\u6237\u5b8c\u6210\u767b\u9646\u884c\u4e3a!"),e.reportUserActive()))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.reportUserActive=function(){r.utils.showLog("\u4e0a\u62a5\u7528\u6237\u6fc0\u6d3b\uff01\uff01"),this.isReportActive||(this.isReportActive=!0,this.reportAttributedEvent(c.AttributedType.Active,c.AttributedKey.Active,c.AttributedValue.Active))},e.prototype.init=function(e){if(a.default.IsHuaWei){if(this.umaInit(),e){var t=JSON.parse(e);t&&t.huawei&&(p=JSON.stringify(t.huawei))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._sysInfo=this.qg.getSystemInfoSync(),this._sysInfo&&r.utils.showLog("huawei \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo));var i=this.qg.getLaunchOptionsSync();if(this._luanchData=l.default.getItem(c.default.ST_LUANCH_DATA),this._luanchType=l.default.getItem(c.default.ST_LUANCH_TYPE),this._luanchData&&this._luanchType)r.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u7c7b\u578b\uff1a"+this._luanchType),r.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u53c2\u6570\uff1a"+this._luanchData);else if(i)try{if(i.referrerInfo&&"{}"!=JSON.stringify(i.referrerInfo)){var o=i.referrerInfo;r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\u4fe1\u606f\uff1a"+JSON.stringify(o)),this._luanchType=o.type,l.default.setItem(c.default.ST_LUANCH_TYPE,this._luanchType)}if(i.query&&"{}"!=JSON.stringify(i.query)){var n=JSON.parse(i.query),s=JSON.stringify(n);this._luanchData=s,this.yz_conversion_type=n.yz_conversion_type,l.default.setItem(c.default.ST_LUANCH_DATA,this._luanchData),r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a"+s+" \u56de\u4f20\u7c7b\u578b\uff1a"+this.yz_conversion_type)}}catch(u){r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\u5f02\u5e38")}this._loadConfig(),this._nativeInsertAdClickTimes=l.default.getItem("NativeInsertAdClickTimes"),l.default.getItem("LastDateTime")!=(new Date).toDateString()&&(this._nativeInsertAdClickTimes=0,l.default.setItem("NativeInsertAdClickTimes",0))}},e.prototype._loadConfig=function(){var e=this;a.default.IsHuaWei&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?r.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");if(e._serverConfig){if(e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.huaweiConfig.bannerId=e._serverConfig.banner_pos_id,r.utils.config.huaweiConfig.insertId=e._serverConfig.intersititia_pos_id,r.utils.config.huaweiConfig.videoId=e._serverConfig.video_pos_id,r.utils.config.huaweiConfig.nativeInsertIds=e.ServerConfig.native_intersititial_pos_id,r.utils.config.huaweiConfig.nativeBannerIds=e.ServerConfig.native_banner_pos_id,r.utils.config.huaweiConfig.nativeTryGameIds=e.ServerConfig.native_trygame_pos_id,r.utils.config.huaweiConfig.nativeSplashId=e.ServerConfig.native_splash_id):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"),e.ServerConfig.native_banner_configs)for(var n=0;n<e.ServerConfig.native_banner_configs.length;n++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_banner_configs[n].location,">>>>",JSON.stringify(e.ServerConfig.native_banner_configs[n])),r.utils.config.huaweiConfig.setNativeBannerInfo(e.ServerConfig.native_banner_configs[n].location,e.ServerConfig.native_banner_configs[n]);e.ServerConfig.yz_conversion_type&&(e.yz_conversion_type=e.ServerConfig.yz_conversion_type,r.utils.showLog("\u56de\u4f20\u7c7b\u578b\uff1a"+e.yz_conversion_type)),e.ServerConfig.is_login&&"false"==e.ServerConfig.is_login&&(e._is_login=!0),e._isShowLogin=!0,e.isRequestLogin&&e.login()}else e._serverConfig=JSON.parse(p);cc.director.emit("IsDataInit"),r.utils.emitServerInitEvent()})},e.prototype.isOverMiniVersion=function(e){return!!(a.default.IsHuaWei&&this._sysInfo&&this._sysInfo.platformVersionCode)&&this._sysInfo.platformVersionCode>=e},e.prototype.createShortcut=function(e){var t=e;if(a.default.IsHuaWei&&this.canCreateShortcut()){var i=this;i.qg.installShortcut({success:function(){r.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01"),i._shortcutCreated=!0,t&&t(!0)},fail:function(e){i._shortcutCreated=!0,cc.log("vivo\u521b\u5efa\u5931\u8d25err"+e),t&&t(!1)},complete:function(){}})}else cc.log("\u4e0d\u80fd\u521b\u5efa"),t&&t(!1)},e.prototype.canCreateShortcut=function(){return!!a.default.IsHuaWei&&this.isOverMiniVersion("1041")},e.prototype.countNativeInserClick=function(){this._nativeInsertAdClickTimes++,l.default.setItem("NativeInsertAdClickTimes",this._nativeInsertAdClickTimes)},e.prototype.share=function(e){this.isOverMiniVersion("1052")?(this.qg.share(),e&&e(!0)):e&&e(!1,"\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301")},e.prototype.checkHasShortCut=function(e){var t=this;this.qg.hasShortcutInstalled({success:function(i){r.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=",i),0==i?(t._shortcutCreated=!1,e&&e(!1)):(t._shortcutCreated=!0,e&&e(!0))},fail:function(){r.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01")},complete:function(){r.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01")}})},e.prototype.postLevel=function(e,t,i){if(a.default.IsHuaWei){"subscribe"==this.yz_conversion_type&&(r.utils.showLog("\u7528\u6237\u5b8c\u6210\u67d0\u9879\u670d\u52a1/\u9891\u9053\u8ba2\u9605\u884c\u4e3a"),this.reportUserActive()),t==c.LevelStatus.GameWin?(this.passCount++,this.passCount===r.utils.getConfigByKey("pass_level_count_active")&&this.reportAttributedEvent(c.AttributedType.GameAddiction,c.AttributedKey.GameAddiction,c.AttributedValue.PassLevelCountAction)):t===c.LevelStatus.GameStart&&(this.playCount++,this.playCount==r.utils.getConfigByKey("play_level_count_active")&&this.reportAttributedEvent(c.AttributedType.GameAddiction,c.AttributedKey.GameAddiction,c.AttributedValue.PlayLevelCountAction));var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsHuaWei){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsHuaWei&&qg.showToast({message:e,duration:2e3})},e.prototype.reportAttributedEvent=function(e,t,i){if("deeplink"==this._luanchType)if(r.utils.showLog("\u4e0a\u62a5\u5f52\u56e0\u4e8b\u4ef6\uff1a  #eventType="+e+"#eventKey="+t+"#eventValue="+i),e==c.AttributedType.Active&&l.default.getItem(c.default.ST_IS_REPORT_USER_ACTIVE))r.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u6fc0\u6d3b\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");else if(e==c.AttributedType.GameAddiction&&l.default.getItem(c.default.ST_IS_REPORT_GAME_ADDICTION))r.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u5173\u952e\u884c\u4e3a\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");else{var o=new XMLHttpRequest;o.timeout=15e3;var n={};n.app_id=r.utils.config.huaweiConfig.appID,n.channel="huawei_kyx",n.uid=this._service_uid,n.event_type=e,n.event_key=t,n.event_value=i,n.app_version=r.utils.config.huaweiConfig.version,n.luanchDate=encodeURI(this._luanchData),r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u53c2\u6570:"+JSON.stringify(n));var s=JSON.stringify(n);r.utils.showLog("\u5f52\u56e0 > json_data="+r.utils.aesEncrypt(s));var a="https://track.youletd.com/wechatcounterpart/dockingreturn?json="+r.utils.aesEncrypt(s)+"&time_stamp="+(new Date).getTime();r.utils.showLog("\u5f52\u56e0\u670d\u52a1\u5668\u5730\u5740:"+a),o.open("GET",a),o.send(),o.onreadystatechange=function(){r.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",o.readyState,"; status=",o.status),4==o.readyState&&(200==o.status?(e==c.AttributedType.Active&&l.default.setItem(c.default.ST_IS_REPORT_USER_ACTIVE,"true"),e==c.AttributedType.GameAddiction&&l.default.setItem(c.default.ST_IS_REPORT_GAME_ADDICTION,"true"),r.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u6210\u529f\uff1a",o.responseText)):r.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u5931\u8d25\uff01"))},o.ontimeout=function(){r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u8d85\u65f6!")},o.onerror=function(){r.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u5931\u8d25!")}}else r.utils.showLog("luanchType="+this._luanchType+",\u4e0d\u8fdb\u884c\u5f52\u56e0\u4e0a\u62a5")},e.prototype.GameExit=function(){if(a.default.IsHuaWei){r.utils.showLog("GameExit");try{qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})}catch(e){cc.log(e)}}},e.prototype.login=function(){var e=this;if(r.utils.showLog("huawei login"),this.isRequestLogin=!0,this._isShowLogin&&!this._loging){if(this._loging=!0,this._is_login)return this._loging=!1,this.showToast("\u767b\u5f55\u6210\u529f\uff01"),cc.game.emit(c.default.ST_LOGIN_SUCCESS),r.utils.showLog("\u5df2\u7ecf\u767b\u5f55\u8fc7\u4e0d\u518d\u91cd\u65b0\u767b\u5f55\uff01"),void("login"==this.yz_conversion_type&&this.reportUserActive());this.qg.gameLogin({forceLogin:1,appid:r.utils.config.huaweiConfig.appID,success:function(t){e._loging=!1,e.showToast("\u767b\u5f55\u6210\u529f\uff01"),cc.game.emit(c.default.ST_LOGIN_SUCCESS),r.utils.showLog("Game login success:"+t),e._is_login=!0,"login"==e.yz_conversion_type&&(r.utils.showLog("\u7528\u6237\u5b8c\u6210\u767b\u9646\u884c\u4e3a!"),e.reportUserActive())},fail:function(t,i){e._loging=!1,e.showToast("\u767b\u5f55\u5931\u8d25\uff01"),cc.game.emit(c.default.ST_LOGIN_FAIL),r.utils.showLog("Game login fail:"+t+", code:"+i)}}),this.isRequestLogin=!1}},e.prototype.umaInit=function(){this.checkUmeng()?(r.utils.showLog("umeng init #id="+r.utils.config.huaweiConfig.umengId),u.init({appKey:r.utils.config.huaweiConfig.umengId,useOpenid:!1,debug:!0})):r.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>")},e.prototype.umaOnStart=function(e){this.checkUmeng()&&qg.uma.stage.onStart({stageId:e,stageName:"\u7b2c"+e+"\u5173"})},e.prototype.checkUmeng=function(){return!!r.utils.config.huaweiConfig.umengId},e.prototype.umaReportedLevel=function(e,t){this.checkUmeng()&&qg.uma.stage.onEnd({stageId:e,stageName:"\u7b2c"+e+"\u5173",event:t})},e.prototype.umaTrackEvent=function(e,t){this.checkUmeng()&&qg.uma.trackEvent(e,t)},o([d],e)}();i.default=_,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./UMengSDK/quickGame/uma.min.js":"uma.min","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_IOS:[function(e,t,i){"use strict";cc._RF.push(t,"b78fctBdVZLkqQe7msmCH01","YZ_Tool_IOS");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./Utils"),a=e("./YZ_Constant"),r=e("./YZ_LocalStorage"),c=cc._decorator,l=c.ccclass,u=(c.property,""),h=function(){function e(){this.className="JNIHelper",this._serverConfig=null,this._uid="0",this._service_uid="0",this.moreGameShowType=0,this.showGameExitDialogType=0,this.appList="",this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._gameExitDialogNode=null,this.deviceInfo=""}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return s.utils.config.nativeIoSConfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)s.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n="https://apps.youlesp.com/gss?m=login&device_data="+encodeURI(this.deviceInfo);s.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);s.utils.showLog("data="+o),s.utils.showLog("result="+n),s.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,s.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),r.default.setItem(a.default.ST_SERVICE_UID,t._service_uid))}}else s.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(e){if(n.default.IsNativeIOS){if(e){var t=JSON.parse(e);t&&t.ios&&(s.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:"+JSON.stringify(t.ios)),u=JSON.stringify(t.ios))}this._service_uid=r.default.getItem(a.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._loadConfig()}},e.prototype.showGameExitDialog=function(){if(!s.utils._isConfigInit)return s.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(this._gameExitDialogNode&&cc.isValid(this._gameExitDialogNode))s.utils.showLog("\u9000\u51fa\u7a97\u53e3\u8fd8\u5728\u3002");else if(s.utils.config.otherconfig.gameExitDialog){var e=cc.instantiate(s.utils.config.otherconfig.gameExitDialog);e&&(this._gameExitDialogNode&&cc.isValid(this._gameExitDialogNode)&&this._gameExitDialogNode.destroy(),this._gameExitDialogNode=e,this._gameExitDialogNode.group="default",cc.director.getScene().addChild(this._gameExitDialogNode,9999))}else s.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameExitDialog, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !")},e.prototype.GameExit=function(){if(n.default.IsNativeIOS){cc.log("AdAgentNative GameExit");try{jsb.reflection.callStaticMethod(this.className,"gameExit")}catch(e){cc.log(e)}}},e.prototype.getMoreGameShowType=function(){try{this.moreGameShowType=jsb.reflection.callStaticMethod(this.className,"getMoreGameShowType","()I")}catch(e){s.utils.showLog(e)}},e.prototype.getDeviceInfo=function(){try{this.deviceInfo=jsb.reflection.callStaticMethod(this.className,"getDeviceInfo","()Ljava/lang/String;"),s.utils.showLog("\u83b7\u53d6\u539f\u751f\u5e73\u53f0\u624b\u673a\u8bbe\u5907\u4fe1\u606f\uff1a"+this.deviceInfo)}catch(e){s.utils.showLog(e)}},e.prototype.showMoreGames=function(){if(n.default.IsNativeIOS){s.utils.showLog("AdAgentNative showMoreGame");try{jsb.reflection.callStaticMethod(this.className,"showNativeMoreGame","()V")}catch(e){cc.log(e)}}},e.prototype._loadConfig=function(){var e=this;n.default.IsNativeIOS&&s.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(s.utils.showLog("\u539f\u751fIOS\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?s.utils.DebugLoacalConfig?s.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(s.utils.showLogView=!0)):s.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else s.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(s.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),s.utils.config.nativeIoSConfig.bannerId=e._serverConfig.banner_pos_id,s.utils.config.nativeIoSConfig.insertId=e._serverConfig.intersititia_pos_id,s.utils.config.nativeIoSConfig.videoId=e._serverConfig.video_pos_id):(e._serverConfig.video_pos_id=s.utils.config.nativeIoSConfig.videoId,e._serverConfig.banner_pos_id=s.utils.config.nativeIoSConfig.bannerId,e._serverConfig.intersititia_pos_id=s.utils.config.nativeIoSConfig.insertId,s.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID")):e._serverConfig=JSON.parse(u),s.utils.showLog("\u6267\u884cIOS >>> \u521d\u59cb\u5316"),jsb.reflection.callStaticMethod(e.className,"init:",JSON.stringify(e._serverConfig)),s.utils.emitServerInitEvent()})},e.prototype.commomHttpRequest=function(e,t){if(s.utils._isConfigInit){var i=t,o=new XMLHttpRequest;o.timeout=6e3;var n=e+"&kyx=false&app_id="+s.utils.config.nativeAndroidConfig.appID+"&channel="+s.utils.config.nativeAndroidConfig.channel+"&device_uid="+s.utils.Tool_Native.uid+"&uid="+s.utils.Tool_Native.serviceId+"&game_type=2&time_stamp="+(new Date).getTime();s.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+n),o.open("POST",n),o.send("app_list="+this.appList),o.onreadystatechange=function(){s.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",o.readyState,"; status=",o.status),4==o.readyState&&200==o.status&&i&&i(!0,o.responseText),200!=o.status&&i&&i(!1,"")},o.ontimeout=function(){s.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),i&&i(!1,"")},o.onerror=function(){i&&i(!1,"")}}else s.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},e.prototype.setLocalConfig=function(e){try{s.utils.showLog("\u8bbe\u7f6e\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e"+e),jsb.reflection.callStaticMethod(this.className,"setLocalConfig","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.getNativeData=function(){var e="";try{e=jsb.reflection.callStaticMethod(this.className,"getLocalConfig"),s.utils.showLog("\u83b7\u53d6\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e : "+e)}catch(t){s.utils.showLog(t)}return e},e.prototype.navigateToGame=function(e){if(n.default.IsNativeIOS)try{jsb.reflection.callStaticMethod(this.className,"navigateToGame:",e)}catch(t){s.utils.showLog(t)}},e.prototype.getRecommondGameList=function(){return n.default.IsNativeIOS&&s.utils.Tool_IOS&&s.utils.Tool_IOS.ServerConfig?s.utils.Tool_IOS.ServerConfig.jump_list:null},e.prototype.postLevel=function(e,t,i){if(n.default.IsNativeIOS){var o="https://report.youletd.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;s.utils.commomHttpRequest(o,function(e){e?s.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):s.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(n.default.IsNativeIOS){var t="https://report.youletd.com/gss?m=revent&event="+encodeURI(e);s.utils.commomHttpRequest(t,function(e){e?s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){n.default.IsNativeIOS&&(console.log("showToast >>>>>"),jsb.reflection.callStaticMethod(this.className,"showToast:",e))},e.prototype.realNameAuth=function(e,t,i){if(s.utils._isConfigInit){var o=i,n=new XMLHttpRequest;n.timeout=15e3;var r="https://apps.youlesp.com/gss?m=realNameAuth&time_stamp="+(new Date).getTime(),c={kyx:!1};c.app_id=s.utils.config.nativeIoSConfig.appID,c.channel="ios",c.device_uid=this.uid,c.uid=this.serviceId,c.game_type=2,c.device_data=this.deviceInfo,c.game_version=s.utils.config.nativeIoSConfig.version,c.reqv=a.default.SERVER_VERSION,c.app_list=this.appList,c.id_card=e,c.real_name=t,s.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+r),s.utils.showLog("\u8bf7\u6c42\u53c2\u6570:"+JSON.stringify(c));var l=JSON.stringify(c);n.open("POST",r),n.send("json_data="+s.utils.aesEncrypt(l)),s.utils.showLog("json_data=:"+s.utils.aesEncrypt(l)),n.onreadystatechange=function(){s.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",n.readyState,"; status=",n.status),4==n.readyState&&(200==n.status?o&&o(!0,s.utils.aesDecrypt(n.responseText)):o&&o(!1,"")),n.status},n.ontimeout=function(){s.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),o&&o(!1,"")},n.onerror=function(){o&&o(!1,"")}}else s.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},o([l],e)}();i.default=h,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Kwai:[function(e,t,i){"use strict";cc._RF.push(t,"8a530Okg5dP5L+U8tqkTRVh","YZ_Tool_Kwai");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._recorder=null,this._videoPath=null,this._shareCallback=null,this.recorderStarTime=0,this.isAutoShare=!0,this.isClickEnd=!1,this._serverConfig=null,this._sysInfo={},this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this.kwaigame=kwaigame,this._canShowRecord=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.kwaiConfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("baidu\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){if(a.default.IsKwai){if(e){var t=JSON.parse(e);t&&t.kwai&&(r.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:"+JSON.stringify(t.kwai)),d=JSON.stringify(t.kwai))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._loadConfig(),this.initRecord()}},e.prototype.readyGo=function(){this.kwaigame.readyGo()},e.prototype._loadConfig=function(){var e=this;a.default.IsKwai&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o:r.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?(e._serverConfig.shares&&e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares&&e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img),e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.kwaiConfig.videoId=e._serverConfig.video_pos_id,r.utils.config.kwaiConfig.insertId=e._serverConfig.intersititia_pos_id||r.utils.config.kwaiConfig.insertId):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID")):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.initRecord=function(){var e=this;this.checkCanShowRecored()?(this._recorder=this.kwaigame.createMediaRecorder(),this._recorder&&(this._recorder.init({callback:function(t){if(t)return r.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u5931\u8d25: "+JSON.stringify(t)),void(e._recorder=null);r.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u6210\u529f")}}),this._recorder.onError({listener:function(e){r.utils.isRecording=!1,cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordEnd"}),r.utils.showLog("\u5f55\u5c4f\u7ec8\u6b62: "+JSON.stringify(e))}}))):r.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5f55\u5c4f\u7ec4\u4ef6\uff01")},e.prototype.share=function(e){a.default.IsKwai&&(this._shareCallback=e,this.recorderStarTime>0?this.shareVideo():this.shareImage())},e.prototype.checkCanShowRecored=function(){return this.kwaigame.isSupport(this.kwaigame.Support.features.Recorder)},e.prototype.shareVideo=function(){var e=this;if(this._recorder){if(!this._canShowRecord)return void(this._shareCallback&&this._shareCallback(!1,"\u5f55\u5c4f\u65f6\u95f4\u4e0d\u8db3!"));this._recorder.publishVideo({callback:function(t){if(t)return r.utils.showLog("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(t)),void(e._shareCallback&&e._shareCallback(!1,"\u5206\u4eab\u5f55\u5c4f\u5931\u8d25!"));e._canShowRecord=!1,r.utils.showLog("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),e._shareCallback&&e._shareCallback(!0,"\u5206\u4eab\u5f55\u5c4f\u6210\u529f!")}})}else this.checkCanShowRecored()?r.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5f55\u5c4f\u7ec4\u4ef6\uff01"):r.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u5931\u8d25\uff01"),this._shareCallback&&this._shareCallback(!1,"\u5206\u4eab\u5f55\u5c4f\u5931\u8d25!")},e.prototype.recordStart=function(){var e=this;this._recorder&&this._recorder.start({callback:function(t){if(t)return r.utils.isRecording=!1,void r.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(t));e._canShowRecord=!1,r.utils.isRecording=!0,e.recorderStarTime=(new Date).getTime(),cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordStart"}),r.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u6210\u529f")}})},e.prototype.recordEnd=function(){var e=this;this._recorder&&this._recorder.stop({callback:function(t){if(r.utils.isRecording=!1,cc.game.emit("YZ_CommonMessage",{type:"YZ_RecordEnd"}),e._canShowRecord=!1,t)r.utils.showLog("\u505c\u6b62\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(t));else{r.utils.showLog("\u505c\u6b62\u5f55\u5c4f\u6210\u529f");var i=((new Date).getTime()-e.recorderStarTime)/1e3;i>3?(e._canShowRecord=!0,r.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5927\u4e8e3\u79d2",i," isClickEnd=",e.isClickEnd),e.isAutoShare?e.isClickEnd?(e.shareVideo(),e._shareCallback=null):r.utils.checkResultShow(1)?(r.utils.showLog("\u6ee1\u8db3\u81ea\u52a8\u5206\u4eab\u6761\u4ef6\uff0c\u5f39\u51fa\u5206\u4eab\u7a97\u53e3\uff01"),null==r.utils.rewardCloseFunc&&(r.utils.rewardValue=0,r.utils.showShareRecordPanel())):i>100&&null==r.utils.rewardCloseFunc&&(r.utils.rewardValue=0,r.utils.showShareRecordPanel()):e.isAutoShare=!0):(e.isClickEnd,r.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff0c\u5f55\u5f55\u5c4f\u5730\u5740\u7f6e\u7a7a\uff01"))}}})},e.prototype.shareImage=function(){this.kwaigame.shareToMsg(this._getShareInfo())},e.prototype._getShareInfo=function(){var e=this,t={};return t.title=r.utils.config.otherconfig.shareTitle,t.desc=r.utils.config.otherconfig.shareDesc?r.utils.config.otherconfig.shareDesc:r.utils.config.otherconfig.shareTitle,t.iconUrl=r.utils.config.otherconfig.shareIcon?r.utils.config.otherconfig.shareIcon:r.utils.config.otherconfig.shareImgUrl,t.imageUrl=r.utils.config.otherconfig.shareImgUrl,t.extension={isShare:"share"},t.response=function(t){r.utils.showLog("\u5206\u4eab\u5b8c\u6210: "+JSON.stringify(t)),e._shareCallback&&e._shareCallback(!0,"\u5206\u4eab\u6210\u529f!")},t},e.prototype.postLevel=function(e,t,i){if(a.default.IsKwai){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsKwai){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype._compareVersion=function(e,t){return parseInt(e.split(".").join(""))>=parseInt(t.split(".").join(""))},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Native:[function(e,t,i){"use strict";cc._RF.push(t,"60a05J5l1dBI6a10/Es1IiB","YZ_Tool_Native");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./PlatUtils"),s=e("./Utils"),a=e("./YZ_Constant"),r=e("./YZ_LocalStorage"),c=cc._decorator,l=c.ccclass,u=(c.property,""),h="http://apps.youlesp.com/gss?",d="http://report.youlesp.com/gss?",p=function(){function e(){this.className="",this._serverConfig=null,this._uid="0",this._service_uid="0",this.moreGameShowType=0,this.showGameExitDialogType=0,this.appList="",this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._gameExitDialogNode=null,this.deviceInfo="",this._reloadTimes=6,this._curloadTimes=0}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return s.utils.config.nativeAndroidConfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)s.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n=h+"m=loginv2&device_data="+encodeURI(this.deviceInfo);s.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);s.utils.showLog(n),n.uid&&(t._service_uid=""+n.uid,s.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),r.default.setItem(a.default.ST_SERVICE_UID,t._service_uid)),n.config&&(e._serverConfig=s.utils.aesDecrypt(n.config),e.setLocalConfig(JSON.stringify(e._serverConfig)))}}else s.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(){var e=this;if(n.default.IsNativeAndroid){if(!(u=this.getNativeData()))return void s.utils.showLog("\u6ca1\u6709\u83b7\u53d6\u5230\u672c\u5730\u6570\u636e\uff0c\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25\uff01");var t=JSON.parse(u);this.deviceInfo=t.device_info,this.moreGameShowType=t.more_game_type,this.showGameExitDialogType=t.show_game_exit_dialog,this.appList=t.app_list,this._service_uid=r.default.getItem(a.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._loadConfig(),n.default.IsNativeAndroid&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){t.keyCode!=cc.macro.KEY.escape&&t.keyCode!=cc.macro.KEY.back||n.default.IsNativeAndroid&&(1==e.showGameExitDialogType?e.showGameExitDialog():e.GameExit())},this)}},e.prototype.showGameExitDialog=function(){if(!s.utils._isConfigInit)return s.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!"),null;if(this._gameExitDialogNode&&cc.isValid(this._gameExitDialogNode))s.utils.showLog("\u9000\u51fa\u7a97\u53e3\u8fd8\u5728\u3002");else if(s.utils.config.otherconfig.gameExitDialog){var e=cc.instantiate(s.utils.config.otherconfig.gameExitDialog);e&&(this._gameExitDialogNode&&cc.isValid(this._gameExitDialogNode)&&this._gameExitDialogNode.destroy(),this._gameExitDialogNode=e,this._gameExitDialogNode.group="default",cc.director.getScene().addChild(this._gameExitDialogNode,9999))}else s.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameExitDialog, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !")},e.prototype.GameExit=function(){if(n.default.IsNativeAndroid){cc.log("AdAgentNative GameExit");try{jsb.reflection.callStaticMethod(this.jniClassName,"gameExit","()V")}catch(e){cc.log(e)}}},e.prototype.getMoreGameShowType=function(){try{this.moreGameShowType=jsb.reflection.callStaticMethod(this.jniClassName,"getMoreGameShowType","()I")}catch(e){s.utils.showLog(e)}},e.prototype.getDeviceInfo=function(){try{this.deviceInfo=jsb.reflection.callStaticMethod(this.jniClassName,"getDeviceInfo","()Ljava/lang/String;"),s.utils.showLog("\u83b7\u53d6\u539f\u751f\u5e73\u53f0\u624b\u673a\u8bbe\u5907\u4fe1\u606f\uff1a"+this.deviceInfo)}catch(e){s.utils.showLog(e)}},e.prototype.showMoreGames=function(){if(n.default.IsNativeAndroid){s.utils.showLog("AdAgentNative showMoreGame");try{jsb.reflection.callStaticMethod(this.jniClassName,"showNativeMoreGame","()V")}catch(e){cc.log(e)}}},e.prototype._loadConfig=function(){var e=this;if(n.default.IsNativeAndroid){var t="m=g&device_data="+encodeURI(this.deviceInfo)+"&real_name_auth="+s.utils.getRealNameAuthLocalData();this.commomHttpRequest(h+t,function(t,i){e._curloadTimes++;var o=!1;if(t){if(s.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var n=JSON.parse(i);n?s.utils.DebugLoacalConfig?s.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=n,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(s.utils.showLogView=!0),n.more_game_type&&(e.moreGameShowType=n.more_game_type),n.show_game_exit_dialog&&(e.showGameExitDialogType=n.show_game_exit_dialog)):s.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else s.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25\uff01"),e._curloadTimes<e._reloadTimes&&(s.utils.showLog("\u8bf7\u6c42\u5f02\u5e38\uff0c\u91cd\u65b0\u62c9\u53d6\u914d\u7f6e!"),o=!0);e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?s.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"):s.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"):e._serverConfig=JSON.parse(u),o?e._loadConfig():(!o||e._curloadTimes>=e._reloadTimes)&&(e.setLocalConfig(JSON.stringify(e._serverConfig)),s.utils.emitServerInitEvent())})}},e.prototype.commomHttpRequest=function(e,t){if(s.utils._isConfigInit){var i=t,o=new XMLHttpRequest;o.timeout=6e3;var n=e+"&kyx=false&app_id="+s.utils.config.nativeAndroidConfig.appID+"&channel="+s.utils.config.nativeAndroidConfig.channel+"&device_uid="+s.utils.Tool_Native.uid+"&uid="+s.utils.Tool_Native.serviceId+"&game_type=2&time_stamp="+(new Date).getTime()+"&game_version="+s.utils.config.nativeAndroidConfig.version+"&reqv="+a.default.SERVER_VERSION;s.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+n),o.open("POST",n),o.send("app_list="+this.appList),o.onreadystatechange=function(){s.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",o.readyState,"; status=",o.status),4==o.readyState&&(200==o.status?i&&i(!0,s.utils.aesDecrypt(o.responseText)):i&&i(!1,"")),o.status},o.ontimeout=function(){s.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),i&&i(!1,"")},o.onerror=function(){i&&i(!1,"")}}else s.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},e.prototype.setLocalConfig=function(e){try{s.utils.showLog("\u8bbe\u7f6e\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e"+e),jsb.reflection.callStaticMethod(this.jniClassName,"setLocalConfig","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.getNativeData=function(){var e="";try{e=jsb.reflection.callStaticMethod(this.jniClassName,"getLocalConfig","()Ljava/lang/String;"),s.utils.showLog("\u83b7\u53d6\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e : "+e)}catch(t){s.utils.showLog(t)}return e},e.prototype.navigateToGame=function(e){if(n.default.IsNativeAndroid)try{jsb.reflection.callStaticMethod(this.jniClassName,"navigateToGame","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},Object.defineProperty(e.prototype,"jniClassName",{get:function(){if(this.className)return this.className;try{this.className=jsb.reflection.callStaticMethod("aa.b.c.a","a","()Ljava/lang/String;")}catch(e){}return this.className},enumerable:!1,configurable:!0}),e.prototype.getRecommondGameList=function(){return n.default.IsNativeAndroid&&s.utils.Tool_Native&&s.utils.Tool_Native.ServerConfig?s.utils.Tool_Native.ServerConfig.jump_list:null},e.prototype.postLevel=function(e,t,i){if(n.default.IsNativeAndroid){var o=d+"m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;s.utils.commomHttpRequest(o,function(e){e?s.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):s.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.postRecommentShowData=function(e){if(n.default.IsNativeAndroid){var t=h+"m=rjumpshow&location="+e;s.utils.commomHttpRequest(t,function(e){e?s.utils.showLog("\u4e0a\u62a5\u4e92\u63a8\u7ec4\u4ef6\u663e\u793a\u4f4d\u7f6e\u6210\u529f\uff01"):s.utils.showLog("\u4e0a\u62a5\u4e92\u63a8\u7ec4\u4ef6\u663e\u793a\u4f4d\u7f6e\u5931\u8d25\uff01")}.bind(this))}},e.prototype.postDataByLocation=function(e,t,i){if(void 0===i&&(i=0),n.default.IsNativeAndroid){var o=d+"m=rjump&jump_app_id="+e+"&location="+t+"&status="+i;s.utils.commomHttpRequest(o,function(e){e?s.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f"):s.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(n.default.IsNativeAndroid){var t=d+"m=revent&event="+encodeURI(e);s.utils.commomHttpRequest(t,function(e){e?s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEventNew=function(e,t,i,o){var a=this;if(void 0===t&&(t="default"),void 0===o&&(o=!0),n.default.IsNativeAndroid){var r=d+"m=reventv2&event="+encodeURI(e)+"&event_id="+t;i&&(r+="&event_data="+encodeURI(i)),s.utils.showLog("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4e0a\u62a5URL\uff1a"+r),s.utils.commomHttpRequest(r,function(e,t){e?(s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"),o&&a.callBackToEvent(t)):(s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01"),o&&a.callBackToEvent("false"))})}},e.prototype.sendEventV3=function(e,t,i){var o=this;if(void 0===t&&(t="default"),n.default.IsNativeAndroid){var a=d+"m=reventv2&event="+encodeURI(e)+"&event_id="+t;i&&(a+="&event_data="+encodeURI(i)),s.utils.commomHttpRequest(a,function(e,t){e?(s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"),o.callBackToEvent(t)):(s.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01"),o.callBackToEvent("false"))})}},e.prototype.callBackToEvent=function(e){if(n.default.IsNativeAndroid)try{jsb.reflection.callStaticMethod(this.jniClassName,"callBackToEvent","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.showToast=function(e){if(n.default.IsNativeAndroid)try{jsb.reflection.callStaticMethod(this.jniClassName,"showToast","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.showPrivacyAgreement=function(){try{jsb.reflection.callStaticMethod(this.jniClassName,"showPrivacyAgreement","()V")}catch(e){s.utils.showLog(e)}},e.prototype.showRealNameAuthPanel=function(e){try{jsb.reflection.callStaticMethod(this.jniClassName,"showRealNameAuthPanel","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.realNameAuthResult=function(e){try{jsb.reflection.callStaticMethod(this.jniClassName,"realNameAuthResult","(Ljava/lang/String;)V",e)}catch(t){s.utils.showLog(t)}},e.prototype.realNameAuth=function(e,t,i){if(s.utils._isConfigInit){var o=i,n=new XMLHttpRequest;n.timeout=15e3;var r="https://apps.youlesp.com/gss?m=realNameAuth&time_stamp="+(new Date).getTime(),c={kyx:!1};c.app_id=s.utils.config.nativeAndroidConfig.appID,c.channel=s.utils.config.nativeAndroidConfig.channel,c.device_uid=s.utils.Tool_Native.uid,c.uid=s.utils.Tool_Native.serviceId,c.game_type=2,c.device_data=this.deviceInfo,c.game_version=s.utils.config.nativeAndroidConfig.version,c.reqv=a.default.SERVER_VERSION,c.app_list=this.appList,c.id_card=e,c.real_name=t,s.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:"+r),s.utils.showLog("\u8bf7\u6c42\u53c2\u6570:"+JSON.stringify(c));var l=JSON.stringify(c);n.open("POST",r),n.send("json_data="+s.utils.aesEncrypt(l)),s.utils.showLog("json_data=:"+s.utils.aesEncrypt(l)),n.onreadystatechange=function(){s.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",n.readyState,"; status=",n.status),4==n.readyState&&(200==n.status?o&&o(!0,s.utils.aesDecrypt(n.responseText)):o&&o(!1,"")),n.status},n.ontimeout=function(){s.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!"),o&&o(!1,"")},n.onerror=function(){o&&o(!1,"")}}else s.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!")},e.prototype.umaOnStart=function(e){this.checkUmeng()&&this.umaTrackEvent("level","um_plus_game_level",{game_level:e,game_states:"0"})},e.prototype.checkUmeng=function(){return!0},e.prototype.umaReportedLevel=function(e,t){if(this.checkUmeng()){var i=1;t==a.LevelStatus.GameFail&&(i=-1),this.umaTrackEvent("level","um_plus_game_level",{game_level:e,game_states:""+i})}},e.prototype.umaTrackEvent=function(e,t,i){if(void 0===e&&(e="custom"),this.checkUmeng())try{i&&(i=JSON.stringify(i)),jsb.reflection.callStaticMethod(this.jniClassName,"umaTrackEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)}catch(o){s.utils.showLog(o)}},o([l],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Oppo:[function(e,t,i){"use strict";cc._RF.push(t,"45157YJvkRH65MMXKEo3sat","YZ_Tool_Oppo");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YouWanSDK/YouWanAnalytics"),l=e("./YZ_Constant"),u=e("./YZ_LocalStorage"),h=e("./UMengSDK/quickGame/uma.min.js"),d=cc._decorator,p=d.ccclass,_=(d.property,"http://report.youlesp.com/gss?"),f="",g=function(){function e(){this.qg=qg,this._sysInfo=null,this._source="",this._serverConfig=null,this._nativeInsertAdClickTimes=0,this._insertAdShowCounts=0,this._bannerAdCloseCounts=0,this._yzBannerShowCounts=0,this._shortcutCreated=!1,this._uid="0",this._service_uid=0,this._device_id="",this._uuid="",this._yw_uid=-1,this._reloadTimes=6,this._curloadTimes=0,this._loginTime=0,this._loginInterval=30,this.isGetDeviceId=!0,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._rec_is_banner=!1,this._rec_game_banner=null,this._rec_game_portal=null,this._gameDrawerAd=null,this.isReportDevice=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.oppoconfig.version},Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NativeInsertAdClickTimes",{get:function(){return this._nativeInsertAdClickTimes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"insertAdShowCounts",{get:function(){return this._insertAdShowCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bannerAdCloseCounts",{get:function(){return this._bannerAdCloseCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yzBannerShowCounts",{get:function(){return this._yzBannerShowCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShortcutCreated",{get:function(){return this._shortcutCreated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"!=this._uid?this._uid:(this._login(),"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return 0!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype.init=function(e){var t=this;if(a.default.IsOPPO){if(this.umaInit(),this._sysInfo=qg.getSystemInfoSync(),this.SysInfo&&r.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo)),e){var i=JSON.parse(e);i&&i.oppo&&(f=JSON.stringify(i.oppo))}if(this._yw_uid=parseInt(u.default.getItem(l.default.ST_YOUWAN_UID,"-1")),this._device_id=u.default.getItem(l.default.ST_DEVICE_ID),this._device_id||cc.game.on(l.default.YZ_PrivacyClose,function(){t.initDeviceId()},this),this.isOverMiniVersion("1050")){var o=qg.getLaunchOptionsSync();o&&console.log("options>>>",JSON.stringify(o)),o&&o.referrerInfo&&o.referrerInfo.package&&(r.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\uff1a"+o.referrerInfo.package),this._source=o.referrerInfo.package)}else r.utils.showLog("\u5c0f\u7a0b\u5e8f\u7248\u672c\u4f4e\u4e8e1050\uff0c\u83b7\u53d6\u4e0d\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\uff01");this._login();var n=r.utils.config.oppoconfig.appID+"_";this._nativeInsertAdClickTimes=u.default.getItem(n+"NativeInsertAdClickTimes"),this._insertAdShowCounts=u.default.getItem(n+"NativeInsertAdShowCount"),this._bannerAdCloseCounts=u.default.getItem(n+"ST_BannerAdCloseCounts"),this._yzBannerShowCounts=u.default.getItem(n+"YZBannerShowCounts");var s=u.default.getItem(n+"LastDateTime"),c=new Date;s!=c.toDateString()&&(this._nativeInsertAdClickTimes=0,this._insertAdShowCounts=0,this._bannerAdCloseCounts=0,this._yzBannerShowCounts=0,u.default.setItem(n+"YZBannerShowCounts",0),u.default.setItem(n+"NativeInsertAdClickTimes",0),u.default.setItem(n+"NativeInsertAdShowCount",0),u.default.setItem(n+"LastDateTime",c.toDateString()),u.default.setItem(l.default.ST_GET_DEVICE_ID,"0")),r.utils.registerServerInitEvent(function(){t.isOverMiniVersion("1044")&&t.checkHasShortCut(function(e){!e&&r.utils.ServerConfig&&r.utils.ServerConfig.start_auto_create_short_cut_time&&(r.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c"+r.utils.ServerConfig.start_auto_create_short_cut_time+"\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),r.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),setTimeout(function(){t.createShortcut(function(e){e?r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01"):r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01")})},1e3*r.utils.ServerConfig.start_auto_create_short_cut_time))})},this)}this._loadConfig()},e.prototype._saveConfig=function(){},e.prototype._loadConfig=function(){var e=this;if(a.default.IsOPPO){var t="m=g&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest("http://apps.youlesp.com/gss?"+t,function(t,i){e._curloadTimes++;var o=!1;if(r.utils.showLog("\u7b2c"+e._curloadTimes+"\u6b21\u62c9\u53d6\u670d\u52a1\u5668\u914d\u7f6e!"),t){if(r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var n=JSON.parse(i);n?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=n,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!"),e._curloadTimes<e._reloadTimes&&(r.utils.showLog("\u91cd\u65b0\u62c9\u53d6\u914d\u7f6e!"),o=!0);if(e._serverConfig){if(1==e._curloadTimes&&(e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.oppoconfig.bannerId=e.ServerConfig.banner_pos_id,r.utils.config.oppoconfig.insertId=e.ServerConfig.intersititia_pos_id,r.utils.config.oppoconfig.videoId=e.ServerConfig.video_pos_id,r.utils.config.oppoconfig.nativeInsertIds=e.ServerConfig.native_intersititial_pos_id,r.utils.config.oppoconfig.nativeBannerIds=e.ServerConfig.native_banner_pos_id,r.utils.config.oppoconfig.nativeTryGameIds=e.ServerConfig.native_trygame_pos_id,r.utils.config.oppoconfig.recGameBannerId=e.ServerConfig.rec_game_banner_id,r.utils.config.oppoconfig.recPortalId=e.ServerConfig.rec_portal_id,r.utils.config.oppoconfig.recGameDrawerId=e.ServerConfig.rec_game_drawer_id||r.utils.config.oppoconfig.recGameDrawerId,r.utils.config.oppoconfig.nativeSingleAdIds=e.ServerConfig.native_single_pos_id||r.utils.config.oppoconfig.nativeSingleAdIds,r.utils.config.oppoconfig.intersitialAdConfigs=e.ServerConfig.intersitial_configs||r.utils.config.oppoconfig.intersitialAdConfigs,r.utils.config.oppoconfig.bannerAdConfigs=e.ServerConfig.banner_configs||r.utils.config.oppoconfig.bannerAdConfigs):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"),e.ServerConfig.get_device_id&&"false"==e.ServerConfig.get_device_id&&(e.isGetDeviceId=!1),e.ServerConfig.native_banner_configs))for(var s=0;s<e.ServerConfig.native_banner_configs.length;s++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_banner_configs[s].location,">>>>",JSON.stringify(e.ServerConfig.native_banner_configs[s])),r.utils.config.oppoconfig.setNativeBannerInfo(e.ServerConfig.native_banner_configs[s].location,e.ServerConfig.native_banner_configs[s])}else e._serverConfig=JSON.parse(f);1==e._curloadTimes&&r.utils.emitServerInitEvent(),o&&e._loadConfig()})}},e.prototype.isOverMiniVersion=function(e){return!(!a.default.IsOPPO||!this._sysInfo)&&(r.utils.showLog("curPlatVersion = "+this._sysInfo.platformVersion+"miniVersion = "+e+(this._sysInfo.platformVersion>=e)),this._sysInfo.platformVersion>=e)},e.prototype.checkHasShortCut=function(e){var t=this;this.qg.hasShortcutInstalled({success:function(i){r.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=",i),0==i?(t._shortcutCreated=!1,e&&e(!1)):(t._shortcutCreated=!0,e&&e(!0))},fail:function(){r.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01")},complete:function(){r.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01")}})},e.prototype.hideDefaultLoadingPage=function(){a.default.IsOPPO&&qg.loadingComplete({complete:function(){}})},e.prototype.countNativeInserClick=function(){this._nativeInsertAdClickTimes++,u.default.setItem(r.utils.config.oppoconfig.appID+"_NativeInsertAdClickTimes",this._nativeInsertAdClickTimes)},e.prototype.countInserShowCount=function(){this._insertAdShowCounts++,u.default.setItem(r.utils.config.oppoconfig.appID+"_NativeInsertAdShowCount",this._insertAdShowCounts)},e.prototype.countBannerCloseCount=function(){this._bannerAdCloseCounts++,u.default.setItem(r.utils.config.oppoconfig.appID+"_ST_BannerAdCloseCounts",this._bannerAdCloseCounts)},e.prototype.countYzBannerShowCount=function(){this._yzBannerShowCounts++,u.default.setItem(r.utils.config.oppoconfig.appID+"_YZBannerShowCounts",this._yzBannerShowCounts)},e.prototype.navigateToMiniGame=function(e,t){if(a.default.IsOPPO){var i=t;qg.navigateToMiniGame({pkgName:e,success:function(){r.utils.showLog("\u8df3\u8f6c\u6210\u529f\uff01"),i&&i(!0)},fail:function(){r.utils.showLog("\u8df3\u8f6c\u5931\u8d25\uff01"),i&&i(!1)}})}},e.prototype.canCreateShortcut=function(){return!!a.default.IsOPPO&&this.isOverMiniVersion("1040")},e.prototype.createShortcut=function(e){if(a.default.IsOPPO){var t=e,i=this;qg.installShortcut({success:function(){r.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01"),i._shortcutCreated=!0,t&&t(!0)},fail:function(){r.utils.showLog("createShortcut >>>fail"),t&&t(!1)},complete:function(){r.utils.showLog("createShortcut >>>complete")}})}},e.prototype.postData=function(e){if(a.default.IsOPPO){var t=_+"m=rjump&jump_app_id="+e;r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.postGameSourece=function(e){if(a.default.IsOPPO){var t=r.utils.config.oppoconfig.appID,i=(this._uid,r.utils.config.oppoconfig.channel?r.utils.config.oppoconfig.channel.toLowerCase():"oppo"),o=_+"kyx=true&app_id="+t+"&channel="+i+"&uid="+this._uid+"&source="+e;r.utils.showLog("\u4e0a\u62a5\u6e38\u620f\u6765\u6e90\u6570\u636e, url="+o),r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype._login=function(){var e=this,t=(new Date).getTime(),i=(t-this._loginTime)/1e3;if(i>0&&i<this._loginInterval)r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2");else{this._loginTime=t;var o=this;this._uid=u.default.getItem(l.default.ST_UID),this._uid=this._uid?this._uid:"0",this._service_uid=u.default.getItem(l.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:0,r.utils.showLog("\u83b7\u53d6\u672c\u5730\u4fdd\u5b58\u7684uid="+this._uid+"\uff0c\u670d\u52a1\u5668UID="+this._service_uid),"0"==this._uid?this.isOverMiniVersion("1040")?qg.login({success:function(e){e.data.uid&&(o._uid=""+e.data.uid,r.utils.showLog("\u767b\u5f55\u6210\u529f! uid="+o._uid),u.default.setItem(l.default.ST_UID,o._uid))},fail:function(){r.utils.showLog("\u767b\u5f55\u5931\u8d25!")},complete:function(){e.reportLogin()}}):(r.utils.showLog("\u5feb\u6e38\u620f\u5e73\u53f0\u7248\u672c\u4f4e\u4e8e1040\uff0c\u65e0\u6cd5\u767b\u5f55\u53d6UID\uff0c\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668ID"),this.reportLogin()):u.default.getItem(l.default.YZ_GAME_YSXY)&&this.initDeviceId()}},e.prototype.initDeviceId=function(){var e=this;r.utils.showLog("oppo initDeviceId!  #isGetDeviceId="+this.isGetDeviceId);var t=u.default.getItem(l.default.ST_GET_DEVICE_ID,"0");this.isGetDeviceId&&qg.getDeviceId&&0==t?(u.default.setItem(l.default.ST_GET_DEVICE_ID,"1"),qg.getDeviceId({success:function(t){r.utils.showLog("getDeviceId success: deviceId="+t.deviceId),e._device_id=t.deviceId,u.default.setItem(l.default.ST_DEVICE_ID,t.deviceId),e.reportDevice()},fail:function(e,t){r.utils.showLog("getDeviceId fail, code = "+t)}})):this.reportDevice()},e.prototype.reportLogin=function(){return n(this,void 0,void 0,function(){var e,t,i,o,n=this;return s(this,function(){return r.utils.showLog("reportLogin >>>>>>>>>>>"),this.isReport?[2]:(this.isReport=!0,e=this,t=(new Date).getTime(),(i=(t-this._reportLoginTime)/1e3)>0&&i<this._reportLoginInterval?(r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2"),[2]):(this._reportLoginTime=t,o="http://apps.youlesp.com/gss?m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo)),r.utils.commomHttpRequest(o,function(t,i){if(t&&i){var o=JSON.parse(i);o.uid&&(e._service_uid=o.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+e._service_uid),u.default.setItem(l.default.ST_SERVICE_UID,e._service_uid))}n.isReport=!1}),[2]))})})},e.prototype.getRecommondGameList=function(){return a.default.IsOPPO&&r.utils.oppoTool&&r.utils.oppoTool.ServerConfig?r.utils.oppoTool.ServerConfig.jump_list:null},e.prototype.showMsg=function(e){a.default.IsOPPO&&qg.showToast({title:""+e,icon:"none",duration:2e3})},e.prototype.showToast=function(e){a.default.IsOPPO&&qg.showToast({title:e,icon:"none",duration:2e3})},e.prototype.postDataByLocation=function(e,t,i){if(void 0===i&&(i=0),a.default.IsOPPO){var o=_+"m=rjump&jump_app_id="+e+"&location="+t+"&status="+i;r.utils.commomHttpRequest(o,function(e,t){if(e){var i=JSON.parse(t);r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f"),i&&i.jump_list&&i.jump_list.length>0&&(r.utils.oppoTool.ServerConfig.jump_list=i.jump_list)}else r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.postRecommentShowData=function(e){if(a.default.IsOPPO){var t=_+"m=rjumpshow&location="+e;r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.postLevel=function(e,t,i){if(a.default.IsOPPO){var o=_+"m=rlevelv3&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;t==l.LevelStatus.GameStart&&(o+="&device_data="+encodeURI(JSON.stringify(this._sysInfo))),r.utils.commomHttpRequest(o,function(e,i){if(e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01"),e&&t==l.LevelStatus.GameStart){if(e&&t==l.LevelStatus.GameStart){if(r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(this._serverConfig=o,this._serverConfig.is_show_log_view&&"true"==this._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");if(this._serverConfig){if(1==this._curloadTimes&&(this._serverConfig.is_local_pos_id&&"false"==this._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid 22"),r.utils.config.oppoconfig.bannerId=this.ServerConfig.banner_pos_id,r.utils.config.oppoconfig.insertId=this.ServerConfig.intersititia_pos_id,r.utils.config.oppoconfig.videoId=this.ServerConfig.video_pos_id,r.utils.config.oppoconfig.nativeInsertIds=this.ServerConfig.native_intersititial_pos_id,r.utils.config.oppoconfig.nativeBannerIds=this.ServerConfig.native_banner_pos_id,r.utils.config.oppoconfig.nativeTryGameIds=this.ServerConfig.native_trygame_pos_id,r.utils.config.oppoconfig.recGameBannerId=this.ServerConfig.rec_game_banner_id,r.utils.config.oppoconfig.recPortalId=this.ServerConfig.rec_portal_id,r.utils.config.oppoconfig.intersitialAdConfigs=this.ServerConfig.intersitial_configs||r.utils.config.oppoconfig.intersitialAdConfigs,r.utils.config.oppoconfig.bannerAdConfigs=this.ServerConfig.banner_configs||r.utils.config.oppoconfig.bannerAdConfigs):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"),this.ServerConfig.native_banner_configs)){r.utils.config.oppoconfig.nativeBannerInfos.length=0;for(var n=0;n<this.ServerConfig.native_banner_configs.length;n++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:"+this.ServerConfig.native_banner_configs[n].location,">>>>",JSON.stringify(this.ServerConfig.native_banner_configs[n])),r.utils.config.oppoconfig.setNativeBannerInfo(this.ServerConfig.native_banner_configs[n].location,this.ServerConfig.native_banner_configs[n])}}else this._serverConfig=JSON.parse(f)}}.bind(this))}},e.prototype.canShowRecommend=function(){return!!this.isOverMiniVersion("1076")},e.prototype.canShowNewRecommend=function(){return!!this.isOverMiniVersion("1090")},e.prototype.showOppoRecBanner=function(e){var t=this;if(!this.canShowRecommend())return r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01"),!1;r.utils.config.oppoconfig.recGameBannerId?(this._rec_is_banner=!0,this._rec_game_banner&&this.hideOppoRecBanner(),this._rec_game_banner=this.qg.createGameBannerAd({adUnitId:r.utils.config.oppoconfig.recGameBannerId}),this._rec_game_banner.onLoad(function(){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!")}),this._rec_game_banner.onError(function(e){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!",e.errCode+","+e.errMsg),t._rec_game_banner.destroy(),t._rec_game_banner=null}),this._rec_game_banner.show().then(function(){t.showRecHideNativeAd(),r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01"),e&&r.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a"+e)}).catch(function(e){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:"+e.errCode+","+e.errMsg)})):r.utils.showLog("OPPO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01")},e.prototype.showRecHideNativeAd=function(){this.ServerConfig&&this.ServerConfig.show_rec_hide_native_ad&&"false"==this.ServerConfig.show_rec_hide_native_ad?r.utils.showLog("\u4e92\u63a8\u5c55\u793a\u6210\u529f\u4e4b\u540e\u4e0d\u6267\u884c\u9690\u85cf\u539f\u751f\u5e7f\u544a"):(r.utils.adManager.HideBanner(0),r.utils.adManager.HideSingleNativeAd(),r.utils.adManager.hideNativeTryGameWidget(),r.utils.showLog("\u4e92\u63a8\u5c55\u793a\u6210\u529f\u4e4b\u540e\u9690\u85cf\u539f\u751f\u5e7f\u544a"))},e.prototype.showOppoNewRecBanner=function(e){var t=this;if(void 0===e&&(e=null),!this.canShowNewRecommend())return r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u65b0\u4e92\u63a8Banner\uff01"),!1;if(r.utils.config.oppoconfig.recGameBannerId){this._rec_is_banner=!1,this._rec_game_banner&&this.hideOppoRecBanner();var i={};e&&("vertical"===e.orientation?(null!=e.left?i.left=e.left/cc.winSize.width*this.SysInfo.screenWidth:null!=e.right&&(i.left=this.SysInfo.screenWidth-155-e.right/cc.winSize.width*this.SysInfo.screenWidth),null!=e.bottom?i.top=this.SysInfo.screenHeight-720-e.bottom/cc.winSize.height*this.SysInfo.screenHeight:i.top=e.top/cc.winSize.height*this.SysInfo.screenHeight):(null!=e.left?i.left=e.left/cc.winSize.width*this.SysInfo.screenWidth:null!=e.right&&(i.left=this.SysInfo.screenWidth-720-e.right/cc.winSize.width*this.SysInfo.screenWidth),null!=e.bottom?i.top=this.SysInfo.screenHeight-200-e.bottom/cc.winSize.height*this.SysInfo.screenHeight:i.top=e.top/cc.winSize.height*this.SysInfo.screenHeight)),i.orientation=e.orientation?e.orientation:"horizontal",r.utils.showLog("rec banner style>>>>>",JSON.stringify(i)),this._rec_game_banner=this.qg.createGameBannerAd({adUnitId:r.utils.config.oppoconfig.recGameBannerId,style:i}),this._rec_game_banner.onLoad(function(){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!")}),this._rec_game_banner.onError(function(e){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!",e.errCode+","+e.errMsg),t._rec_game_banner.destroy(),t._rec_game_banner=null}),this._rec_game_banner.show().then(function(){t.showRecHideNativeAd(),r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01"),location&&r.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a"+location)}).catch(function(e){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:"+e.errCode+","+e.errMsg)})}else r.utils.showLog("OPPO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01")},e.prototype.hideOppoRecBanner=function(e){var t=this;this._rec_game_banner&&(this._rec_game_banner.destroy().then(function(){e&&e(),r.utils.showLog("OPPO \u4e92\u63a8banner \u9690\u85cf\u6210\u529f\uff01")}).catch(function(e){r.utils.showLog("OPPO \u4e92\u63a8banner \u9690\u85cf\u5931\u8d25:"+e.errCode+","+e.errMsg),t._rec_game_banner.hide()}),this._rec_game_banner=null)},e.prototype.showOppoGamePortal=function(){var e=this;if(!this.canShowRecommend())return r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01"),!1;r.utils.adManager.checkShowAdTime()?r.utils.config.oppoconfig.recPortalId?this._rec_game_portal?this._rec_game_portal.load().then(function(){e.showRecHideNativeAd(),r.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u6210\u529f\uff01")}).catch(function(t){e._rec_game_portal.destroy(),e._rec_game_portal=null,r.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u5931\u8d25:"+t.errCode+","+t.errMsg)}):(this._rec_game_portal=this.qg.createGamePortalAd({adUnitId:r.utils.config.oppoconfig.recPortalId}),this._rec_game_portal.load().then(function(){e.showRecHideNativeAd(),r.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u6210\u529f\uff01")}).catch(function(t){e._rec_game_portal.destroy(),e._rec_game_portal=null,r.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u5931\u8d25:"+t.errCode+","+t.errMsg)}),this._rec_game_portal.onLoad(function(){r.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e._rec_game_portal.show().then(function(){r.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a-\u663e\u793a\u6210\u529f\uff01")}).catch(function(t){e._rec_game_portal.destroy(),e._rec_game_portal=null,r.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a-\u663e\u793a\u5931\u8d25:"+t.errCode+","+t.errMsg)})}),this._rec_game_portal.onClose(function(){r.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5173\u95ed")})):r.utils.showLog("OPPO \u4e92\u63a8\u4e5d\u5bab\u683c ID\u672a\u914d\u7f6e\uff01"):r.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01")},e.prototype.sendEvent=function(e){if(a.default.IsOPPO){var t=_+"m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showGameDrawerAd=function(e){var t=this;if(r.utils.config.oppoconfig.recGameDrawerId)if(this.canShowNewRecommend()){this._gameDrawerAd&&this.hideGameDrawerAd();var i={};null!=e.bottom?i.top=this.SysInfo.screenHeight-490-e.bottom/cc.winSize.height*this.SysInfo.screenHeight:i.top=e.top/cc.winSize.height*this.SysInfo.screenHeight,r.utils.showLog(" rec game drawer style >>>"+JSON.stringify(i)),this._gameDrawerAd=this.qg.createGameDrawerAd({adUnitId:r.utils.config.oppoconfig.recGameDrawerId,style:i}),this._gameDrawerAd.onShow(function(){r.utils.showLog("showGameDrawerAd success"),this.showRecHideNativeAd()}),this._gameDrawerAd.show().then(function(){r.utils.showLog("showGameDrawerAd success"),t.showRecHideNativeAd()}).catch(function(e){r.utils.showLog("showGameDrawerAd fail with:"+e.errCode+","+e.errMsg)})}else r.utils.showLog("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1090\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API");else r.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e\u4e92\u63a8\u62bd\u5c49\u6837\u5f0f\u7684ID\uff0c\u8bf7\u53cd\u9988\u7ed9\u8fd0\u8425\uff01")},e.prototype.hideGameDrawerAd=function(e){this._gameDrawerAd&&(this._gameDrawerAd.destroy().then(function(){e&&e(),r.utils.showLog("hideGameDrawerAd success")}).catch(function(e){r.utils.showLog("hideGameDrawerAd fail with:"+e.errCode+","+e.errMsg),this._gameDrawerAd.hide()}),this._gameDrawerAd=null)},e.prototype.umaInit=function(){this.checkUmeng()?h.init({appKey:r.utils.config.oppoconfig.umengId,useOpenid:!1,debug:!1}):r.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>")},e.prototype.umaOnStart=function(e){this.checkUmeng()&&qg.uma.stage.onStart({stageId:e,stageName:"\u7b2c"+e+"\u5173"})},e.prototype.checkUmeng=function(){return!!r.utils.config.oppoconfig.umengId},e.prototype.umaReportedLevel=function(e,t){this.checkUmeng()&&qg.uma.stage.onEnd({stageId:e,stageName:"\u7b2c"+e+"\u5173",event:t})},e.prototype.umaTrackEvent=function(e,t){this.checkUmeng()&&qg.uma.trackEvent(e,t)},e.prototype.GameExit=function(){if(a.default.IsOPPO){r.utils.showLog("tool oppo GameExit");try{qg.exitApplication({success:function(){console.log("\u9000\u51fa\u6210\u529f\uff01")},fail:function(){console.log("\u9000\u51fa\u5931\u8d25\uff01")},complete:function(){console.log("\u9000\u51fa\u6267\u884c\u5b8c\u6210\uff01")}})}catch(e){cc.log("GameExit erro:",JSON.stringify(e))}}},e.prototype.reportDevice=function(){var e=this;this.isReportDevice||(this.isReportDevice=!0,c.default.login(function(){e.isReportDevice=!1}))},o([p],e)}();i.default=g,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./UMengSDK/quickGame/uma.min.js":"uma.min","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage","./YouWanSDK/YouWanAnalytics":"YouWanAnalytics"}],YZ_Tool_QQ:[function(e,t,i){"use strict";cc._RF.push(t,"a73e9wwNNVCyra8sZ9EPiRC","YZ_Tool_QQ");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._serverConfig=null,this._sysInfo={},this._shortcutCreated=!1,this._shareCallback=null,this._isShare=!1,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShortcutCreated",{get:function(){return this._shortcutCreated},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.qqconfig.version},Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("qq\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,console.log("self._service_uid:"+t._service_uid),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){var t=this;if(a.default.IsQQ){if(e){var i=JSON.parse(e);i&&i.qq&&(d=JSON.stringify(i.qq))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0";try{this._sysInfo=qq.getSystemInfoSync(),r.utils.showLog("QQ \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ",JSON.stringify(this.SysInfo))}catch(o){r.utils.showLog("QQ \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!")}this._loadConfig(),qq.showShareMenu(),qq.onShareAppMessage(this._getShareInfo.bind(this)),qq.onShow(function(e){r.utils.showLog("OnShow: ",e),t._isShare&&(t._isShare=!1,t._shareCallback&&t._shareCallback(!0,"\u5206\u4eab\u6210\u529f!"))}),r.utils.registerServerInitEvent(function(){t.canCreateShortcut()&&r.utils.ServerConfig&&r.utils.ServerConfig.start_auto_create_short_cut_time&&(r.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),r.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c"+r.utils.ServerConfig.start_auto_create_short_cut_time+"\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),setTimeout(function(){t.createShortcut(function(e){e?r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01"):r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01")})},1e3*r.utils.ServerConfig.start_auto_create_short_cut_time)),r.utils.ServerConfig&&r.utils.ServerConfig.auto_add_favorites&&"true"==r.utils.ServerConfig.auto_add_favorites&&(r.utils.showLog("\u81ea\u52a8\u6dfb\u52a0\u5230\u641c\u85cf"),t.addFavorites()),r.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u5b8c\u6210,\u9a8c\u8bc1\u662f\u5426\u767b\u9646\uff01",r.utils.ServerConfig.add_recent_color_sign),r.utils.ServerConfig&&r.utils.ServerConfig.add_recent_color_sign&&(1==r.utils.ServerConfig.add_recent_color_sign?t.addColorSign():qq.checkSession({success:function(){r.utils.showLog("session_key \u672a\u8fc7\u671f\uff0c\u5e76\u4e14\u5728\u672c\u751f\u547d\u5468\u671f\u4e00\u76f4\u6709\u6548"),t.addRecentColorSign()},fail:function(){qq.login({success:function(e){e.code?(r.utils.showLog("\u767b\u5f55\u6210\u529f\uff01"),t.addRecentColorSign()):r.utils.showLog("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg)}})}}))},this)}},e.prototype.addRecentColorSign=function(){r.utils.showLog("\u8c03\u7528\u6dfb\u52a0\u5f69\u7b7e>>>>>>>"),qq.addRecentColorSign({query:"a=1&b=2",success:function(e){r.utils.showLog("addRecentColorSign success: ",e)},fail:function(e){r.utils.showLog("addRecentColorSign fail: ",e)},complete:function(e){r.utils.showLog("addRecentColorSign complete: ",e)}})},e.prototype._loadConfig=function(){var e=this;a.default.IsQQ&&r.utils.commomHttpRequest("https://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o:r.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?(e._serverConfig.shares&&(e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img)),e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.qqconfig.bannerId=e._serverConfig.banner_pos_id,r.utils.config.qqconfig.insertId=e._serverConfig.intersititia_pos_id,r.utils.config.qqconfig.videoId=e._serverConfig.video_pos_id,r.utils.config.qqconfig.boxId=e._serverConfig.box_pos_id,r.utils.config.qqconfig.bannerBoxId=e._serverConfig.banner_box_pos_id):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID")):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.getSystemInfo=function(){if(a.default.IsQQ)return this._sysInfo},e.prototype.share=function(e){void 0===e&&(e=null),a.default.IsQQ&&(this._shareCallback=e,this._isShare=!0,qq.shareAppMessage(this._getShareInfo()))},e.prototype.postData=function(e){if(a.default.IsQQ){var t="https://apps.youlesp.com/gs?m=jump&app_id="+r.utils.config.qqconfig.appID+"&uid=0&channel=qq&jump_app_id="+e;r.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",t),r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})}},e.prototype._getShareInfo=function(){return a.default.IsQQ?{title:r.utils.config.otherconfig.shareTitle,imageUrl:r.utils.config.otherconfig.shareImgUrl}:{}},e.prototype.isOverMinVersion=function(e){var t=this._sysInfo.SDKVersion;return this._compareVersion(t,e)>=0},e.prototype._compareVersion=function(e,t){if(!e||!t)return-1;e=e.split("."),t=t.split(".");for(var i=Math.max(e.length,t.length);e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(var o=0;o<i;o++){var n=parseInt(e[o]),s=parseInt(t[o]);if(n>s)return 1;if(n<s)return-1}return 0},e.prototype.postLevel=function(e,t,i){if(a.default.IsQQ){if(t==c.LevelStatus.GameWin){if(this.ServerConfig.rankey){var o=this.ServerConfig.rankey?this.ServerConfig.rankey:"ranklevel",n=e;qq.setUserCloudStorage({KVDataList:[{key:o,value:n}],success:function(){r.utils.showLog("\u5173\u5361\u8bb0\u5f55\u6210\u529f")},fail:function(){r.utils.showLog("\u5173\u5361\u8bb0\u5f55\u5931\u8d25")},complete:function(){r.utils.showLog("\u5173\u5361\u8bb0\u5f55\u8c03\u7528\u5b8c\u6210")}})}var s=this.ServerConfig.subscribe_interval;if(s)try{parseInt(e)%s==0&&qq.subscribeAppMsg({subscribe:!0,success:function(e){r.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u6210\u529f",e)},fail:function(e){r.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u5931\u8d25",e)}})}catch(u){r.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u5f02\u5e38")}}var l="https://report.youletd.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(l,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsQQ){var t="https://report.youletd.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsQQ&&qq.showToast({title:e,icon:"none",duration:2e3})},e.prototype.canCreateShortcut=function(){return console.log("canCreateShortcut ",this.isOverMinVersion("1.7.1")),!(!a.default.IsQQ||!a.default.IsAndroid)&&this.isOverMinVersion("1.7.1")},e.prototype.createShortcut=function(e){var t=this,i=e;a.default.IsQQ&&this.canCreateShortcut()?qq.saveAppToDesktop({success:function(){r.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01"),t._shortcutCreated=!0,i&&i(!0)},fail:function(e){r.utils.showLog("qq\u521b\u5efa\u684c\u9762\u5931\u8d25err"+e),i&&i(!1)},complete:function(){}}):(r.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u521b\u5efa\u684c\u9762"),i&&i(!1))},e.prototype.addFavorites=function(){if(r.utils.showLog("addFavorites >>>>"),"1"!=l.default.getItem("qq_favorites")){var e="\u597d\u6e38\u620f\u54e6",t="";r.utils.config.otherconfig&&(r.utils.config.otherconfig.shareTitle&&(e=r.utils.config.otherconfig.shareTitle),r.utils.config.otherconfig.shareImgUrl&&(t=r.utils.config.otherconfig.shareImgUrl)),qq.addToFavorites({title:e,imageUrl:t,query:"a=1&b=2",success:function(e){r.utils.showLog("addToFavorites success",e),l.default.setItem("qq_favorites","1")},fail:function(e){r.utils.showLog("addToFavorites fail",e)},complete:function(e){r.utils.showLog("addToFavorites info",e)}})}else r.utils.showLog("had addToFavorites")},e.prototype.addColorSign=function(){qq.addColorSign({success:function(e){r.utils.showLog("addColorSign success",e)},fail:function(e){r.utils.showLog("addColorSign fail",e)},complete:function(e){r.utils.showLog("addColorSign info",e)}})},e.prototype.GameExit=function(){if(a.default.IsQQ){r.utils.showLog("tool qq GameExit");try{qq.exitMiniProgram()}catch(e){cc.log(e)}}},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_QTT:[function(e,t,i){"use strict";cc._RF.push(t,"22febPJ0XROobrXFFsoOvDe","YZ_Tool_QTT");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.QTT_REPORT_TYPE=void 0;var a,r=e("./PlatUtils"),c=e("./Utils"),l=e("./YZ_Constant"),u=e("./YZ_LocalStorage"),h=cc._decorator,d=h.ccclass,p=(h.property,""),_=e("./md5.js"),f=function(){function e(){this.platForm="",this.qttGame=window.qttGame,this._serverConfig=null,this.ticket="",this._ip="192.168.0.1",this._sign="",this.serverPath="http://apps.youlesp.com/gss?",this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this.iframe=null,this.form=null,this._isReady=!1,this._isLogin=!1,this._isLoad=!1,this._isStart=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"!=this._service_uid?this._uid:(this._login(),"0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t,i,o,n;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(c.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,i=this,c.utils.showLog("qtt\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",o=this.getUrl(),console.log("qtt\u83b7\u53d6\u7528\u6237\u7684\u5730\u5740\u4e3a\uff1a"+o),(n=new XMLHttpRequest).timeout=6e3,n.open("get",o),n.send(),n.onreadystatechange=function(){if(c.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",n.readyState,"; status=",n.status),4==n.readyState&&200==n.status){console.log("\u8bf7\u6c42\u6210\u529f"),console.log(n.responseText);var e=n.responseText,t=JSON.parse(e);console.log(t),c.utils.showLog("\u83b7\u53d6\u6570\u636e\u6210\u529f1"),i._uid=t.data.open_id,i.postServerData(a.ready),u.default.setItem(l.default.ST_UID,i._uid),console.log(i._uid)}n.status},n.ontimeout=function(){c.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!")},n.onerror=function(e){c.utils.showLog("\u8bf7\u6c42\u51fa\u9519! err=",JSON.stringify(e))},[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?c.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,c.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);c.utils.showLog("data="+o),c.utils.showLog("result="+n),c.utils.showLog("result.uid="+n.uid),n.ip&&(e._ip=n.ip),n.uid&&(t._service_uid=""+n.uid,c.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),u.default.setItem(l.default.ST_SERVICE_UID,t._service_uid))}}else c.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){var t=this;if(c.utils.showLog("qtt \u521d\u59cb\u5316>>",e),e){var i=JSON.parse(e);i&&i.qutoutiao&&(p=JSON.stringify(i.qutoutiao))}cc.game.on(a.ready,function(){t.postServerData(a.login)},this),cc.game.on(a.login,function(){t.postServerData(a.load)},this),this._uid=u.default.getItem(l.default.ST_UID),this._uid=this._uid?this._uid:"0",this.postServerData(a.ready),this._service_uid=u.default.getItem(l.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this.platForm=this.GetRequest("platform"),this.ticket=this.GetRequest("ticket"),this.ticket&&this.platForm,this.loadServerData()},e.prototype.postGameOverData=function(e){r.default.IsQTT&&(this.qttGame.completeTask(),this.qttGame.userInfo({role:"\u8da3\u5934\u6761",region:"\u533a\u57df1",level:e,ce:"1000000",round:"1",revenue:"100000",extend_info:{age:"18"}}));var t=Math.floor((new Date).getTime()/1e3),i={app_id:c.utils.config.qttconfig.appID,open_id:this.uid,ip:this._ip,round:e,game_time:t};this.getSign(i);var o=new FormData;o.append("app_id",i.app_id),o.append("open_id",i.open_id),o.append("ip",i.ip),o.append("round",i.round),o.append("game_time",i.game_time),o.append("sign",this._sign),this.post(i)},e.prototype.post=function(e){for(var t in this.form?this.form.innerHTML="":this.form=document.createElement("form"),this.iframe||(this.iframe=document.createElement("iframe")),this.form.action="https://newidea4-gamecenter-backend.1sapp.com/x/open/report/round",this.form.enctype="application/x-www-form-urlencoded",this.form.method="post",this.iframe.name="form",this.iframe.id="form",this.form.target="form",e){var i=document.createElement("textarea");i.name=t,i.value=e[t],this.form.appendChild(i)}document.body.appendChild(this.iframe),this.iframe.appendChild(this.form),this.form.submit()},e.prototype.getUserInfo=function(){this.qttGame.getUserInfo(c.utils.config.qttconfig.appKey,c.utils.config.qttconfig.appID,this.ticket,this.platForm).then(function(e){c.utils.showLog("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f #userInfo=",JSON.stringify(e))}).catch(function(){})},e.prototype.GetRequest=function(e){var t=location.search,i=new Object;if(-1!=t.indexOf("?"))for(var o=t.substr(1).split("&"),n=0;n<o.length;n++)i[o[n].split("=")[0]]=unescape(o[n].split("=")[1]);return i[e]},e.prototype.loadServerData=function(){var e=this;this.uid||(cc.error("\u7528\u6237ID\u4e3a\u7a7a>>>"),this._uid="0"),c.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(c.utils.showLog("loadServerUserdate #ret=",t," #data=",i),t)if(i){c.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i);var o=JSON.parse(i);o?c.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(c.utils.showLogView=!0,c.utils.showLog())):c.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}else c.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(c.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),c.utils.showLog("\u8da3\u5934\u6761\u6ca1\u6709\u5e7f\u544aid")):c.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"):e._serverConfig=JSON.parse(p),c.utils.emitServerInitEvent()})},e.prototype.postLevel=function(e,t,i){if(r.default.IsQTT){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;c.utils.commomHttpRequest(o,function(e){e?c.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):c.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this)),t==l.LevelStatus.GameStart&&this.postServerData(a.start),t==l.LevelStatus.GameWin&&this.postGameOverData(Number(e))}},e.prototype.getSign=function(e){var t=this.sign(e);e.sign=t,this.checkSign(e),this._sign=t},e.prototype.getUrl=function(){var e=this.getParams(),t={app_id:c.utils.config.qttconfig.appID,platform:e.platform,ticket:e.ticket,time:Math.floor((new Date).getTime()/1e3)},i=this.sign(t);return t.sign=i,this._sign=i,"https://newidea4-gamecenter-backend.1sapp.com/x/open/user/ticket?app_id="+t.app_id+"&platform="+e.platform+"&ticket="+e.ticket+"&time="+t.time+"&sign="+t.sign},e.prototype.getParams=function(){var e,t;return window.location.href.split("&").forEach(function(i){-1!=i.indexOf("platform")&&(e=i.split("=")[1]),-1!=i.indexOf("ticket")&&(t=i.split("=")[1])}),{platform:e,ticket:t}},e.prototype.sign=function(e){delete e.sign,e.app_key=c.utils.config.qttconfig.appKey;var t=[];for(var i in e)t.push(i);t.sort();var o="";return t.forEach(function(t){o+=t,o+=e[t]}),console.log("\u539f\u4e32\uff1a"+o),delete e.app_key,_(o)},e.prototype.checkSign=function(e){var t=e.sign;return t?t!==this.sign(e)?(console.log("sign error"),!1):(console.log("ok"),!0):(console.log("sign error"),!1)},e.prototype.postServerData=function(e,t){if(console.log("\u8da3\u5934\u6761\u6570\u636e\u4e0a\u62a5\uff1a"+e,this._uid),this.uid||"0"==this._uid){switch(e){case a.ready:if(this._isReady)return void console.log("\u5df2\u7ecf\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");break;case a.login:if(this._isLogin)return void console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");break;case a.load:if(this._isLoad)return void console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");break;case a.start:if(this._isStart)return void console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6")}var i=c.utils.config.qttconfig.appID,o=c.utils.config.qttconfig.gamename,n=t||{};if(this.qttGame&&this.qttGame.reportData){switch(e){case a.ready:this._isReady=!0;break;case a.login:this._isLogin=!0;break;case a.load:this._isLoad=!0;break;case a.start:this._isStart=!0}this.qttGame.reportData({type:e,open_id:this.uid,app_id:i,game_name:o,extend_info:n}),console.log("\u8da3\u5934\u6761\u6210\u529f\u53d1\u9001\u4e8b\u4ef6\uff1a"+e),cc.game.emit(e)}else{var s=this;console.log("\u8da3\u5934\u6761\u53d1\u9001\uff1a"+e+"\u5931\u8d25"),setTimeout(function(){s.postServerData(e,t)},100)}}else cc.error("\u7528\u6237ID\u4e0d\u5b58\u5728 ,\u4e0d\u4e0a\u62a5\u6570\u636e>>>")},e.prototype.sendEvent=function(e){if(r.default.IsQTT){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);c.utils.commomHttpRequest(t,function(e){e?c.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):c.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},o([d],e)}();i.default=f,function(e){e.ready="ready",e.login="login",e.load="load",e.start="start",e.newRole="newRole",e.newUser="newUser",e.upgrade="upgrade",e.userInfo="userInfo",e.abnormal="abnormal"}(a=i.QTT_REPORT_TYPE||(i.QTT_REPORT_TYPE={})),cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage","./md5.js":"md5"}],YZ_Tool_UC:[function(e,t,i){"use strict";cc._RF.push(t,"908fa2v3cZJL7agUZVt0aZX","YZ_Tool_UC");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this.uc=window.uc,this._sysInfo={},this._serverConfig=null,this._shareCallback=null,this._isShare=!1,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.ucConfig.version},Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("uc\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,console.log("self._service_uid:"+t._service_uid),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){if(a.default.ISUC){if(e){var t=JSON.parse(e);t&&t.uc&&(d=JSON.stringify(t.uc))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0";try{if(this._sysInfo=this.uc.getSystemInfoSync(),"string"==typeof this._sysInfo)try{this._sysInfo=JSON.parse(this._sysInfo)}catch(i){}r.utils.showLog("uc \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo))}catch(i){r.utils.showLog("uc \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!")}this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.ISUC&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig?e._serverConfig.shares&&(e._serverConfig.shares.sy_title&&(r.utils.config.otherconfig.shareTitle=e._serverConfig.shares.sy_title),e._serverConfig.shares.sy_img&&(r.utils.config.otherconfig.shareImgUrl=e._serverConfig.shares.sy_img)):e._serverConfig=JSON.parse(d),r.utils.emitServerInitEvent()})},e.prototype.getSystemInfo=function(){if(a.default.ISUC)return this._sysInfo},e.prototype.share=function(e){if(void 0===e&&(e=null),a.default.ISUC){this._shareCallback=e,this._isShare=!0;var t={title:r.utils.config.otherconfig.shareTitle,imageUrl:r.utils.config.otherconfig.shareImgUrl,success:this._shareCallback,fail:this._shareCallback};this.uc.shareAppMessage(t)}},e.prototype.isOverMinVersion=function(e){var t=this._sysInfo.SDKVersion;return this._compareVersion(t,e)>=0},e.prototype._compareVersion=function(e,t){if(!e||!t)return-1;e=e.split("."),t=t.split(".");for(var i=Math.max(e.length,t.length);e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(var o=0;o<i;o++){var n=parseInt(e[o]),s=parseInt(t[o]);if(n>s)return 1;if(n<s)return-1}return 0},e.prototype.postLevel=function(e,t,i){if(a.default.ISUC){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.ISUC){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Vivo:[function(e,t,i){"use strict";cc._RF.push(t,"1dff8tBGB9Mvb2SYUr4tUpV","YZ_Tool_Vivo");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=e("./UMengSDK/quickGame/uma.min.js"),h=cc._decorator,d=h.ccclass,p=(h.property,""),_="http://apps.youlesp.com/gss?",f=function(){function e(){this.qg=window.qg,this._sysInfo=null,this._serverConfig=null,this._nativeInsertAdClickTimes=0,this._shortcutCreated=!1,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1,this._source="",this._rec_game_banner=null,this._rec_game_portal=null}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NativeInsertAdClickTimes",{get:function(){return this._nativeInsertAdClickTimes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShortcutCreated",{get:function(){return this._shortcutCreated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<this._loginInterval?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",this.reportLogin(),[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n=_+"m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(e){var t=this;if(a.default.IsVIVO){if(this.umaInit(),qg.isStartupByShortcut({success:function(e){e?(r.utils.showLog("\u901a\u8fc7\u684c\u9762\u56fe\u6807\u542f\u52a8\u5e94\u7528"),t._source="shortCut"):r.utils.showLog("\u4e0d\u662f\u901a\u8fc7\u684c\u9762\u56fe\u6807\u542f\u52a8\u5e94\u7528")}}),e){var i=JSON.parse(e);i&&i.vivo&&(p=JSON.stringify(i.vivo))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",this._sysInfo=this.qg.getSystemInfoSync(),this._sysInfo&&r.utils.showLog("VIVO \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: "+JSON.stringify(this.SysInfo)),this._loadConfig(),this._nativeInsertAdClickTimes=l.default.getItem("NativeInsertAdClickTimes"),l.default.getItem("LastDateTime")!=(new Date).toDateString()&&(this._nativeInsertAdClickTimes=0,l.default.setItem("NativeInsertAdClickTimes",0)),this.isOverMiniVersion("1041")&&r.utils.registerServerInitEvent(function(){t.checkHasShortCut(function(e){!e&&r.utils.ServerConfig&&r.utils.ServerConfig.start_auto_create_short_cut_time&&(r.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),r.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c"+r.utils.ServerConfig.start_auto_create_short_cut_time+"\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01"),setTimeout(function(){t.createShortcut(function(e){e?r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01"):r.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01")})},1e3*r.utils.ServerConfig.start_auto_create_short_cut_time))})},this)}},e.prototype._buildServerUrl=function(){if(a.default.IsVIVO){var e="";return r.utils.config.vivoconfig&&r.utils.config.vivoconfig.appID?e=_+"kyx=true&app_id="+r.utils.config.vivoconfig.appID.trim()+"&channel=vivo":r.utils.showLog("VIVO APPID\u914d\u7f6e\u51fa\u9519\uff01"),e}return null},e.prototype._loadConfig=function(){var e=this;a.default.IsVIVO&&r.utils.commomHttpRequest(_+"m=g",function(t,i){if(t){if(r.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?r.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");if(e._serverConfig){if(e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.vivoconfig.bannerId=e._serverConfig.banner_pos_id,r.utils.config.vivoconfig.insertId=e._serverConfig.intersititia_pos_id,r.utils.config.vivoconfig.videoId=e._serverConfig.video_pos_id,r.utils.config.vivoconfig.nativeInsertIds=e.ServerConfig.native_intersititial_pos_id,r.utils.config.vivoconfig.nativeBannerIds=e.ServerConfig.native_banner_pos_id,r.utils.config.vivoconfig.nativeTryGameIds=e.ServerConfig.native_trygame_pos_id,r.utils.config.vivoconfig.recGameBannerId=e.ServerConfig.rec_game_banner_id,r.utils.config.vivoconfig.recPortalId=e.ServerConfig.rec_portal_id,r.utils.config.vivoconfig.nativeSingleAdIds=e.ServerConfig.native_single_pos_id||r.utils.config.vivoconfig.nativeSingleAdIds):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"),e.ServerConfig.native_banner_configs)for(var n=0;n<e.ServerConfig.native_banner_configs.length;n++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_banner_configs[n].location,">>>>",JSON.stringify(e.ServerConfig.native_banner_configs[n])),r.utils.config.vivoconfig.setNativeBannerInfo(e.ServerConfig.native_banner_configs[n].location,e.ServerConfig.native_banner_configs[n]);if(e.ServerConfig.native_customad_configs)for(n=0;n<e.ServerConfig.native_customad_configs.length;n++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u6a21\u7248\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_customad_configs[n].location,">>>>",JSON.stringify(e.ServerConfig.native_customad_configs[n])),r.utils.config.vivoconfig.setCustomAdInfo(e.ServerConfig.native_customad_configs[n].location,e.ServerConfig.native_customad_configs[n])}else e._serverConfig=JSON.parse(p);r.utils.emitServerInitEvent()})},e.prototype.isOverMiniVersion=function(e){return!!(a.default.IsVIVO&&this._sysInfo&&this._sysInfo.platformVersionCode)&&this._sysInfo.platformVersionCode>=e},e.prototype.createShortcut=function(e){var t=e;if(a.default.IsVIVO&&this.canCreateShortcut()){var i=this;i.qg.installShortcut({success:function(){r.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01"),i._shortcutCreated=!0,t&&t(!0)},fail:function(e){i._shortcutCreated=!0,cc.log("vivo\u521b\u5efa\u5931\u8d25err"+e),t&&t(!1)},complete:function(){}})}else cc.log("\u4e0d\u80fd\u521b\u5efa"),t&&t(!1)},e.prototype.canCreateShortcut=function(){return!!a.default.IsVIVO&&this.isOverMiniVersion("1041")},e.prototype.countNativeInserClick=function(){this._nativeInsertAdClickTimes++,l.default.setItem("NativeInsertAdClickTimes",this._nativeInsertAdClickTimes)},e.prototype.share=function(e){this.isOverMiniVersion("1052")?(this.qg.share(),e&&e(!0)):e&&e(!1,"\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301")},e.prototype.checkHasShortCut=function(e){var t=this;this.qg.hasShortcutInstalled({success:function(i){r.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=",i),0==i?(t._shortcutCreated=!1,e&&e(!1)):(t._shortcutCreated=!0,e&&e(!0))},fail:function(){r.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01")},complete:function(){r.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01")}})},e.prototype.postLevel=function(e,t,i){if(a.default.IsVIVO){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsVIVO){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsVIVO&&qg.showToast({message:e,duration:2e3})},e.prototype.canShowRecommend=function(){return!(!this.qg.createBoxBannerAd||!this.qg.createBoxPortalAd)},e.prototype.showRecBanner=function(e){var t=this;if(!this.canShowRecommend())return r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01"),!1;r.utils.config.vivoconfig.recGameBannerId?this._rec_game_banner?this._rec_game_banner.show().then(function(){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01"),e&&r.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a"+e)}).catch(function(e){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:"+e.errCode+","+e.errMsg)}):(this._rec_game_banner=this.qg.createBoxBannerAd({adUnitId:r.utils.config.vivoconfig.recGameBannerId}),this._rec_game_banner.onLoad(function(){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!")}),this._rec_game_banner.show().then(function(){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01")}).catch(function(e){r.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:"+e.errCode+","+e.errMsg)}),this._rec_game_banner.onError(function(e){r.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!",e.errCode+","+e.errMsg),t._rec_game_banner.destroy(),t._rec_game_banner=null})):r.utils.showLog("VIVO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01")},e.prototype.hideRecBanner=function(){var e=this;this._rec_game_banner&&this._rec_game_banner.hide().then(function(){r.utils.showLog("VIVO \u4e92\u63a8banner \u9690\u85cf\u6210\u529f\uff01")}).catch(function(t){r.utils.showLog("VIVO \u4e92\u63a8banner \u9690\u85cf\u5931\u8d25:"+t.errCode+","+t.errMsg),e._rec_game_banner.destroy(),e._rec_game_banner=null})},e.prototype.showGamePortal=function(e){var t=this;if(void 0===e&&(e=200),!this.canShowRecommend())return r.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01"),!1;r.utils.config.vivoconfig.recPortalId?(this._rec_game_portal&&this.hideGamePortal(),this._rec_game_portal=this.qg.createBoxPortalAd({posId:r.utils.config.vivoconfig.recPortalId,image:"",marginTop:e/cc.winSize.height*this.SysInfo.screenHeight}),this._rec_game_portal.onError(function(e){r.utils.showLog("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))}),this._rec_game_portal.onClose(function(){r.utils.showLog("close _rec_game_portal"),t._rec_game_portal.isDestroyed||t._rec_game_portal.show()}),this._rec_game_portal.show().then(function(){r.utils.showLog("show success _rec_game_portal")})):r.utils.showLog("VIVO \u4e92\u63a8\u4e5d\u5bab\u683c ID\u672a\u914d\u7f6e\uff01")},e.prototype.hideGamePortal=function(){this._rec_game_portal&&this._rec_game_portal.hide().then(function(){r.utils.showLog("hideGamePortal success")}).catch(function(e){r.utils.showLog("hideGamePortal fail with:"+e.errCode+","+e.errMsg)})},e.prototype.umaInit=function(){this.checkUmeng()?u.init({appKey:r.utils.config.vivoconfig.umengId,useOpenid:!1,debug:!1}):r.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>")},e.prototype.umaOnStart=function(e){this.checkUmeng()&&qg.uma.stage.onStart({stageId:e,stageName:"\u7b2c"+e+"\u5173"})},e.prototype.checkUmeng=function(){return!!r.utils.config.vivoconfig.umengId},e.prototype.umaReportedLevel=function(e,t){this.checkUmeng()&&qg.uma.stage.onEnd({stageId:e,stageName:"\u7b2c"+e+"\u5173",event:t})},e.prototype.umaTrackEvent=function(e,t){this.checkUmeng()&&qg.uma.trackEvent(e,t)},o([d],e)}();i.default=f,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./UMengSDK/quickGame/uma.min.js":"uma.min","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Wifi:[function(e,t,i){"use strict";cc._RF.push(t,"63487/lBO1JVpZpP8G/P+T8","YZ_Tool_Wifi");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._serverConfig=null,this._sysInfo={},this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),e.prototype.gameVersion=function(){return r.utils.config.wifiConfig.version},Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<30?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("qq\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",[2])})})},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-t._reportLoginTime)/1e3;o>0&&o<30?r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+t._reportLoginInterval+"\u79d2"):(t._reportLoginTime=i,r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=login&device_data=0",function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,console.log("self._service_uid:"+t._service_uid),r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1}))}},e.prototype.init=function(e){if(a.default.IsWiFi){if(e){var t=JSON.parse(e);t&&t.wifi&&(d=JSON.stringify(t.wifi))}this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0";try{this._sysInfo=wuji.getSystemInfoSync(),r.utils.showLog("\u8fde\u5c1a \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ",JSON.stringify(this.SysInfo))}catch(i){r.utils.showLog("\u8fde\u5c1a \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!")}this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.IsWiFi&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ",i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):e._serverConfig=o:r.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");e._serverConfig||(e._serverConfig=JSON.parse(d)),r.utils.emitServerInitEvent()})},e.prototype.getSystemInfo=function(){if(a.default.IsWiFi)return this._sysInfo},e.prototype.postData=function(e){if(a.default.IsWiFi){var t="http://apps.youlesp.com/gs?m=jump&app_id="+r.utils.config.wifiConfig.appID+"&uid=0&channel=qq&jump_app_id="+e;r.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=",t),r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")})}},e.prototype.isOverMinVersion=function(e){var t=this._sysInfo.SDKVersion;return this._compareVersion(t,e)>=0},e.prototype._compareVersion=function(e,t){if(!e||!t)return-1;e=e.split("."),t=t.split(".");for(var i=Math.max(e.length,t.length);e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(var o=0;o<i;o++){var n=parseInt(e[o]),s=parseInt(t[o]);if(n>s)return 1;if(n<s)return-1}return 0},e.prototype.postLevel=function(e,t,i){if(a.default.IsWiFi){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsWiFi){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.showToast=function(e){a.default.IsWiFi&&wuji.showToast({title:e,icon:"none",duration:2e3})},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Tool_Xiaomi:[function(e,t,i){"use strict";cc._RF.push(t,"6d424x/eXlC8Je3WUcyH/u4","YZ_Tool_Xiaomi");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function r(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,o,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return c([e,t])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(r){s=[6,r],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./PlatUtils"),r=e("./Utils"),c=e("./YZ_Constant"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=(u.property,""),p=function(){function e(){this._sysInfo=null,this._serverConfig=null,this._nativeInsertAdClickTimes=0,this._insertAdShowCounts=0,this._bannerAdCloseCounts=0,this._yzBannerShowCounts=0,this._uid="0",this._service_uid="0",this._loginTime=0,this._loginInterval=30,this._reportLoginTime=0,this._reportLoginInterval=30,this.isReport=!1}return Object.defineProperty(e.prototype,"SysInfo",{get:function(){return this._sysInfo||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ServerConfig",{get:function(){return this._serverConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NativeInsertAdClickTimes",{get:function(){return this._nativeInsertAdClickTimes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"insertAdShowCounts",{get:function(){return this._insertAdShowCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bannerAdCloseCounts",{get:function(){return this._bannerAdCloseCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yzBannerShowCounts",{get:function(){return this._yzBannerShowCounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serviceId",{get:function(){return"0"!=this._service_uid?this._service_uid:(this.reportLogin(),"0")},enumerable:!1,configurable:!0}),e.prototype._login=function(){return n(this,void 0,void 0,function(){var e,t;return s(this,function(){return e=(new Date).getTime(),(t=(e-this._loginTime)/1e3)>0&&t<this._loginInterval?(r.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a"+this._loginInterval+"\u79d2"),[2]):(this._loginTime=e,r.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0"),this._uid="0",this.reportLogin(),[2])})})},e.prototype.countNativeInserClick=function(){this._nativeInsertAdClickTimes++,l.default.setItem(r.utils.config.xiaomiConfig.appID+"_NativeInsertAdClickTimes",this._nativeInsertAdClickTimes)},e.prototype.countInserShowCount=function(){this._insertAdShowCounts++,l.default.setItem(r.utils.config.xiaomiConfig.appID+"_NativeInsertAdShowCount",this._insertAdShowCounts)},e.prototype.countBannerCloseCount=function(){this._bannerAdCloseCounts++,l.default.setItem(r.utils.config.xiaomiConfig.appID+"_ST_BannerAdCloseCounts",this._bannerAdCloseCounts)},e.prototype.countYzBannerShowCount=function(){this._yzBannerShowCounts++,l.default.setItem(r.utils.config.xiaomiConfig.appID+"_YZBannerShowCounts",this._yzBannerShowCounts)},e.prototype.reportLogin=function(){var e=this;if(!this.isReport){this.isReport=!0;var t=this,i=(new Date).getTime(),o=(i-this._reportLoginTime)/1e3;if(o>0&&o<this._reportLoginInterval)r.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a"+this._reportLoginInterval+"\u79d2");else{this._reportLoginTime=i;var n="http://apps.youlesp.com/gss?m=login&device_data="+encodeURI(JSON.stringify(this._sysInfo));r.utils.commomHttpRequest(n,function(i,o){if(i){if(o){var n=JSON.parse(o);r.utils.showLog("data="+o),r.utils.showLog("result="+n),r.utils.showLog("result.uid="+n.uid),n.uid&&(t._service_uid=""+n.uid,r.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid="+t._service_uid),l.default.setItem(c.default.ST_SERVICE_UID,t._service_uid))}}else r.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");e.isReport=!1})}}},e.prototype.init=function(e){if(a.default.IsXiaoMi){if(e){var t=JSON.parse(e);t&&t.xiaomi&&(d=JSON.stringify(t.xiaomi))}if(this._service_uid=l.default.getItem(c.default.ST_SERVICE_UID),this._service_uid=this._service_uid?this._service_uid:"0",qg.getUpdateManager){var i=qg.getUpdateManager();i.onCheckForUpdate(function(e){r.utils.showLog("onCheckForUpdate",e.hasUpdate)}),i.onUpdateReady(function(){i.applyUpdate()}),i.onUpdateFailed(function(){r.utils.showMsg("\u81ea\u52a8\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u91cd\u542f\u6e38\u620f\uff01")})}this.getSystemInfo(),this._loadConfig()}},e.prototype._loadConfig=function(){var e=this;a.default.IsXiaoMi&&r.utils.commomHttpRequest("http://apps.youlesp.com/gss?m=g",function(t,i){if(t){if(r.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = "+i),i){var o=JSON.parse(i);o?r.utils.DebugLoacalConfig?r.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"):(e._serverConfig=o,e._serverConfig.is_show_log_view&&"true"==e._serverConfig.is_show_log_view&&(r.utils.showLogView=!0)):r.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!")}}else r.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");if(e._serverConfig){if(e._serverConfig.is_local_pos_id&&"false"==e._serverConfig.is_local_pos_id?(r.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid"),r.utils.config.xiaomiConfig.insertId=e._serverConfig.intersititia_pos_id,r.utils.config.xiaomiConfig.videoId=e._serverConfig.video_pos_id,r.utils.config.xiaomiConfig.nativeInsertIds=e.ServerConfig.native_intersititial_pos_id,r.utils.config.xiaomiConfig.nativeBannerIds=e.ServerConfig.native_banner_pos_id,r.utils.config.xiaomiConfig.nativeTryGameIds=e.ServerConfig.native_trygame_pos_id,r.utils.config.xiaomiConfig.bannerId=e._serverConfig.banner_pos_id):r.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"),e.ServerConfig.native_banner_configs)for(var n=0;n<e.ServerConfig.native_banner_configs.length;n++)r.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:"+e.ServerConfig.native_banner_configs[n].location,">>>>",JSON.stringify(e.ServerConfig.native_banner_configs[n])),r.utils.config.xiaomiConfig.setNativeBannerInfo(e.ServerConfig.native_banner_configs[n].location,e.ServerConfig.native_banner_configs[n])}else e._serverConfig=JSON.parse(d);r.utils.emitServerInitEvent()})},e.prototype.isOverMiniVersion=function(e){return!!(a.default.IsXiaoMi&&this._sysInfo&&this._sysInfo.platformVersionCode)&&this._sysInfo.platformVersionCode>=e},e.prototype.postLevel=function(e,t,i){if(a.default.IsXiaoMi){var o="http://report.youlesp.com/gss?m=rlevel&level_id="+e+"&level_name="+encodeURI(i)+"&status="+t;r.utils.commomHttpRequest(o,function(e){e?r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01"):r.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01")}.bind(this))}},e.prototype.sendEvent=function(e){if(a.default.IsXiaoMi){var t="http://report.youlesp.com/gss?m=revent&event="+encodeURI(e);r.utils.commomHttpRequest(t,function(e){e?r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01"):r.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01")}.bind(this))}},e.prototype.getSystemInfo=function(){a.default.IsXiaoMi&&(this._sysInfo=qg.getSystemInfoSync(),r.utils.showLog("\u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f\u6210\u529f\uff1a"+JSON.stringify(this._sysInfo)))},e.prototype.GameExit=function(){a.default.IsXiaoMi&&qg.exitApplication({success:function(){r.utils.showLog("exit Game success")},fail:function(){r.utils.showLog("exit Game fail")}})},o([h],e)}();i.default=p,cc._RF.pop()},{"./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YZ_Turntable:[function(e,t,i){"use strict";cc._RF.push(t,"51051Ce0K5D5bDuItdfCQ7T","YZ_Turntable");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=e("./CompatibleTool"),l=e("./YZ_LocalStorage"),u=cc._decorator,h=u.ccclass,d=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spinBtn=null,t.wheelSp=null,t.greaSprite=null,t.firstSpriteFrame=null,t.secondSpriteFrame=null,t.lastSpriteFrame=null,t.effectAudio=null,t.panel=null,t.videoIcon=null,t.spriteDouble=null,t.spritePass=null,t.tirpNode=null,t.checked=null,t.closeBtn=null,t.videoBtn=null,t.resultMsg=null,t.turnCountLbl=null,t.luckBox=null,t.countBar=null,t.normalBtn=null,t.normalCloseBtn=null,t.topCloseBtn=null,t.maxSpeed=12,t.duration=3,t.acc=.1,t.targetID=0,t.springback=!1,t.wheelState=0,t.curSpeed=0,t.spinTime=0,t.gearNum=8,t.defaultAngle=.5,t.gearAngle=360/t.gearNum,t.finalAngle=0,t.effectFlag=0,t.audioID=0,t.decAngle=0,t._turntableCount=0,t._turntablePlayCount=0,t.luckBoxCount=4,t._updateProgress=!1,t._progress=0,t.defaultProgress=1e-8,t.rewardCallFunc=null,t.gearInfo=[200,100,300,400,800,500,1e3,4e3],t}return n(t,e),Object.defineProperty(t.prototype,"turntableCount",{get:function(){return this._turntableCount},set:function(e){this._turntableCount=e,l.default.setItem("turntable_times",(new Date).toDateString()),l.default.setItem("turntable_counts",this._turntableCount)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"turntablePlayCount",{get:function(){return this._turntablePlayCount},set:function(e){var t=this;this.luckBoxCount-e==0&&(this.luckBox.node.active=!0,e=0,this.countBar.progress=this.defaultProgress,this.luckBox.setAnimation(1,"dakai",!1),this.scheduleOnce(function(){if(a.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u83b7\u53d6\u7d2f\u8ba14\u6b21\u5927\u5956\uff01"),t.showMsg(t.gearInfo[7]),t.rewardCallFunc){var e=new r.YZ_Reward;e.rewardValue=t.gearInfo[7],t.rewardCallFunc(e)}},.6),this.scheduleOnce(function(){t.luckBox.setAnimation(1,"kd",!1)},2),this.scheduleOnce(function(){t.luckBox.node.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.callFunc(function(){t.luckBox.node.active=!1,t.luckBox.node.scale=2})))},4)),this._turntablePlayCount=e,l.default.setItem("turntablePlayCount",this._turntablePlayCount),this._progress=e/this.luckBoxCount,this.turnCountLbl.string=this.luckBoxCount-e+"",this.turnCountLbl.node.runAction(cc.sequence(cc.scaleTo(.3,1.8),cc.scaleTo(.3,1)))},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,o){var n=this;this.rewardCallFunc=t,i.length>0&&(this.gearInfo=i),o&&(a.utils.showLog("\u914d\u7f6e\u4e3a\u670d\u52a1\u5668\u7684\u5956\u52b1\u56fe\u7247\uff1a",o),c.default.LoadRes(o,function(e,t){!e&&cc.isValid(n)&&n.greaSprite&&(n.greaSprite.spriteFrame=new cc.SpriteFrame(t))}))},t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),this.wheelSp.node.rotation=this.defaultAngle,a.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956-\u663e\u793a\u6210\u529f\uff01"),this.initCount(),this.turntableCount<=0?(this.normalBtn.active=!1,this.videoBtn.active=!0,this.normalCloseBtn.active=!0,a.utils.showScaleAction(this.videoBtn,null,!1,!1)):(this.normalCloseBtn.active=!1,a.utils.showScaleAction(this.normalBtn,null,!1,!1)),a.utils.showSkipBtn(this.closeBtn,!0),this.rewardCallFunc=a.utils.rewardCallFunc,cc.winSize.height<cc.winSize.width?a.utils.adManager.HideBanner(r.BannerLocation.Game):a.utils.adManager.ShowBanner(r.BannerLocation.Game)},t.prototype.startTurnTable=function(){var e=this;if(0===this.wheelState){if(this.turntableCount<=0)return this.checked.active||this.spinBtn.active?void a.utils.adManager.ShowVideo(function(t){t?(e.turntableCount=1,e.startTurnTable(),a.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u83b7\u53d6\u5956\u52b1-\u6210\u529f\uff01")):(a.utils.showMsg("\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u53ef\u4ee5\u83b7\u53d6\u4e00\u6b21\u62bd\u5956\u673a\u4f1a\uff01"),a.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u89c6\u9891\u64ad\u653e-\u5931\u8d25\uff01"),e.onClose())}):void this.onClose();this.turntableCount=0,this.targetID=this.getTargetId(),this.decAngle=720,this.wheelState=1,this.curSpeed=0,this.spinTime=0}},t.prototype.onCheck=function(){this.checked.active=!this.checked.active,this.spritePass.active=!this.checked.active,this.spriteDouble.active=this.checked.active,this.videoIcon.active=this.checked.active},t.prototype.onClose=function(){var e=this;this.panel.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onEnable=function(){this.panel.scale=0;var e;e=cc.winSize.height<cc.winSize.width?.6:cc.winSize.width/1080,this.panel.runAction(cc.scaleTo(.3,e).easing(cc.easeBackOut()))},t.prototype.onDestroy=function(){a.utils.turnTablePanelCloseFunc?(a.utils.turnTablePanelCloseFunc(),a.utils.turnTablePanelCloseFunc=null):(a.utils.rewardCloseFunc&&a.utils.rewardCloseFunc(),a.utils.rewardCloseFunc=null),a.utils.adManager.HideBanner(r.BannerLocation.Game)},t.prototype.checkBtnSpriteFrame=function(){this.turntableCount<=0?(this.normalBtn.active=!1,this.videoBtn.active=!0,this.normalCloseBtn.active=!0,a.utils.showScaleAction(this.videoBtn,null,!1,!1)):this.normalCloseBtn.active=!1},t.prototype.initCount=function(){var e=l.default.getItem("turntable_counts");l.default.getItem("turntable_times")!=(new Date).toDateString()?this.turntableCount=1:this._turntableCount=e,this.countBar.progress=this.defaultProgress,this.turntablePlayCount=l.default.getItem("turntablePlayCount")?l.default.getItem("turntablePlayCount"):0,this.countBar.progress=this.turntablePlayCount/this.luckBoxCount,a.utils.showLog("\u5f53\u524d\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a",this.turntableCount)},t.prototype.test=function(){0===this.wheelState&&(this.targetID=this.getTargetId(),cc.log("\u7ed3\u679c\uff1a",this.targetID),this.decAngle=720,this.wheelState=1,this.curSpeed=0,this.spinTime=0)},t.prototype.getTargetId=function(){var e=Math.random(),t=(Math.random(),0);return e<.01?t=1:e<.04?t=.9:e<.1?t=.5:e<.2?t=.7:e<1&&(t=.1*Math.floor(4*Math.random())),Math.floor(8*t)},t.prototype.showMsg=function(e){var t=cc.instantiate(this.resultMsg);cc.find("kuang/goldLbl",t).getComponent(cc.Label).string=""+e,t.active=!0,t.scale=.3,this.node.addChild(t),t.runAction(cc.scaleTo(.3,this.panel.scale).easing(cc.easeBackOut())),this.scheduleOnce(function(){t.destroy(),t.removeFromParent()},1.2)},t.prototype.showRes=function(){var e=this;if(this.showMsg(this.gearInfo[this.targetID]),this.scheduleOnce(function(){e.turntablePlayCount++},1),this.rewardCallFunc){var t=new r.YZ_Reward;t.rewardValue=this.gearInfo[this.targetID],this.rewardCallFunc(t)}this.checkBtnSpriteFrame()},t.prototype.update=function(e){if(this.countBar.progress<this._progress&&(this.countBar.progress+=e),0!==this.wheelState)if(this.effectFlag+=this.curSpeed,this.effectFlag>=this.gearAngle&&(this.audioID=cc.audioEngine.playEffect(this.effectAudio,!1),this.effectFlag=0),1==this.wheelState)if(this.spinTime+=e,this.wheelSp.node.rotation=this.wheelSp.node.rotation+this.curSpeed,this.curSpeed<=this.maxSpeed)this.curSpeed+=this.acc;else{if(this.spinTime<this.duration)return;this.finalAngle=360-this.targetID*this.gearAngle+this.defaultAngle,this.maxSpeed=this.curSpeed,this.springback&&(this.finalAngle+=this.gearAngle),this.wheelSp.node.rotation=this.finalAngle,this.wheelState=2}else if(2==this.wheelState){var t=this.wheelSp.node.rotation,i=t-this.finalAngle;if(this.curSpeed=this.maxSpeed*((this.decAngle-i)/this.decAngle)+.2,this.wheelSp.node.rotation=t+this.curSpeed,this.decAngle-i<=0)if(this.wheelState=0,this.wheelSp.node.rotation=this.finalAngle,this.springback){var o=cc.rotateBy(.6,-this.gearAngle),n=cc.sequence(cc.delayTime(.2),o,cc.callFunc(this.showRes,this));this.wheelSp.node.runAction(n)}else this.showRes()}},s([d(cc.Node)],t.prototype,"spinBtn",void 0),s([d(cc.Sprite)],t.prototype,"wheelSp",void 0),s([d(cc.Sprite)],t.prototype,"greaSprite",void 0),s([d(cc.SpriteFrame)],t.prototype,"firstSpriteFrame",void 0),s([d(cc.SpriteFrame)],t.prototype,"secondSpriteFrame",void 0),s([d(cc.SpriteFrame)],t.prototype,"lastSpriteFrame",void 0),s([d({type:cc.AudioClip})],t.prototype,"effectAudio",void 0),s([d(cc.Node)],t.prototype,"panel",void 0),s([d(cc.Node)],t.prototype,"videoIcon",void 0),s([d(cc.Node)],t.prototype,"spriteDouble",void 0),s([d(cc.Node)],t.prototype,"spritePass",void 0),s([d(cc.Node)],t.prototype,"tirpNode",void 0),s([d(cc.Node)],t.prototype,"checked",void 0),s([d(cc.Node)],t.prototype,"closeBtn",void 0),s([d(cc.Node)],t.prototype,"videoBtn",void 0),s([d(cc.Node)],t.prototype,"resultMsg",void 0),s([d(cc.Label)],t.prototype,"turnCountLbl",void 0),s([d(sp.Skeleton)],t.prototype,"luckBox",void 0),s([d(cc.ProgressBar)],t.prototype,"countBar",void 0),s([d(cc.Node)],t.prototype,"normalBtn",void 0),s([d(cc.Node)],t.prototype,"normalCloseBtn",void 0),s([d(cc.Node)],t.prototype,"topCloseBtn",void 0),s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],YouWanAnalytics:[function(e,t,i){"use strict";cc._RF.push(t,"cf318034rlIIL7zgdSzzaJ/","YouWanAnalytics");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../PlatUtils"),s=e("../Utils"),a=e("../YZ_Constant"),r=e("../YZ_LocalStorage"),c=e("./EventAdInfo"),l=cc._decorator,u=l.ccclass,h=(l.property,function(){function e(){}return Object.defineProperty(e,"_yw_uid",{get:function(){return parseInt(r.default.getItem(a.default.ST_YOUWAN_UID,"-1"))},enumerable:!1,configurable:!0}),e.login=function(e){var t=this;if(s.utils.config.otherconfig.yw_app_id){var i={};this.getDeviceInfo(i),this.getStaticParame(i),this.connect(this.LOGIN_URL,i,function(i,o){i?(t.showLog("\u767b\u5f55\u6210\u529f! >>result:"+JSON.stringify(o)+" #uid="+o.uid),r.default.setItem(a.default.ST_YOUWAN_UID,o.uid)):t.showLog("\u767b\u5f55\u5931\u8d25!"),e&&e(i,o)})}else this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01")},e.EventAd=function(e,t){var i=this;if(s.utils.config.otherconfig.yw_app_id){if(n.default.IsOPPO){var o=new c.default(e,t),a={};this.getStaticParame(a),a.ad_data=[],a.ad_data[0]=o.toJsonData(),this.connect(this.EVENT_AD_URL,a,function(e){e?i.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u6210\u529f:"+JSON.stringify(o.toJsonData())):i.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u5931\u8d25:"+JSON.stringify(o.toJsonData()))})}}else this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01")},e.EventAdWithObj=function(e,t,i){var o=this;if(s.utils.config.otherconfig.yw_app_id){if(n.default.IsOPPO){var a=new c.default(e,t,i),r={};this.getStaticParame(r),r.ad_data=[],r.ad_data[0]=a.toJsonData(),this.connect(this.EVENT_AD_URL,r,function(e){e?o.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u6210\u529f:"+JSON.stringify(a.toJsonData())):o.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u5931\u8d25:"+JSON.stringify(a.toJsonData()))})}}else this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01")},e.getStaticParame=function(e){e.app_id=s.utils.config.otherconfig.yw_app_id,e.sdk_version=s.utils.utilsVersion,e.app_type=1,-1!=this._yw_uid&&(e.uid=this._yw_uid),e.country="CN",e.uuid=r.default.getItem(a.default.ST_UUID,"")||s.utils.generateUUID(),n.default.IsOPPO&&(e.channel="oppo",e.app_version=s.utils.config.oppoconfig.version)},e.getDeviceInfo=function(e){var t={};n.default.IsOPPO&&(t=s.utils.oppoTool.SysInfo,e.pkg=s.utils.config.oppoconfig.packageName,e.device_id=s.utils.oppoTool._device_id,e.kernel_version=t.platformVersionCode,e.device_model=t.model,e.device_manufactory=t.brand,e.screen_height=t.screenHeight,e.screen_width=t.screenWidth,e.language=t.language,e.os="Android",t.system.indexOf(" ")>-1?e.os_version_release=t.system.substr(t.system.indexOf(" ")+1):e.os_version_release=t.system)},e.connect=function(e,t,i){var o=this,n=new XMLHttpRequest;n.timeout=6e3,n.open("POST",e+"?time_stamp="+(new Date).getTime()),n.send("data="+JSON.stringify(t)),this.showLog("connect\uff1a#url="+e),this.showLog("connect\uff1a #parame=="+JSON.stringify(t)),n.onreadystatechange=function(){if(o.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=",n.readyState,"; status=",n.status+" ; responseText=",n.responseText),4==n.readyState)if(200==n.status){if(n.responseText)try{var e=JSON.parse(n.responseText);0==e.code?i&&i(!0,e.data||""):i&&i(!1)}catch(s){o.showLog("connect erro\uff1a#msg="+s)}}else o.showLog("connect erro\uff1a #parame=="+JSON.stringify(t)),i&&i(!1)},n.ontimeout=function(){o.showLog("connect timeout!"),i&&i(!1)},n.onerror=function(){o.showLog("connect onerror!"),i&&i(!1)}},e.showLog=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];s.utils.showLog("[YouWan] --- "+e,t)},e.LOGIN_URL="http://as.youlesp.com/as/login",e.EVENT_AD_URL="http://e.youlesp.com/ae/ad",o([u],e)}());i.default=h,cc._RF.pop()},{"../PlatUtils":"PlatUtils","../Utils":"Utils","../YZ_Constant":"YZ_Constant","../YZ_LocalStorage":"YZ_LocalStorage","./EventAdInfo":"EventAdInfo"}],YzCustomAdPanel:[function(e,t,i){"use strict";cc._RF.push(t,"3913b/5d+JET5bTvhP+7Ou3","YzCustomAdPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exitBtn=null,t.closeCallFunc=null,t.closeCount=1,t.closeBtnClickCount=0,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group),a.utils.adManager.showCustomAd({location:100});var e;e=cc.winSize.height<cc.winSize.width?cc.winSize.width/1920*.75:cc.winSize.width/1080,a.utils.getConfigByKey("custom_panel_close_count")&&(this.closeCount=a.utils.getConfigByKey("custom_panel_close_count")),cc.find("Panel",this.node).scale=e,this.exitBtn.runAction(cc.fadeIn(3))},t.prototype.onExitBtnClickListener=function(){a.utils.showLog("\u9000\u51fa\u6e38\u620f\u6a21\u7248\u5f39\u7a97\uff01"),this.closeBtnClickCount++,this.closeCount==this.closeBtnClickCount&&(cc.director.emit("CloseCustomADPanel"),this.node.destroy(),a.utils.adManager.hideCustomAd({location:100}),this.closeCallFunc&&this.closeCallFunc())},s([l({type:cc.Node})],t.prototype,"exitBtn",void 0),s([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{"./Utils":"Utils"}],YzLoginPanel:[function(e,t,i){"use strict";cc._RF.push(t,"8cae4S0CzlIDZZOb48XMdWd","YzLoginPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=e("./YZ_Constant"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ratio=1,t.okBtn=null,t.successFunc=null,t.failFunc=null,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group);var e=cc.find("Panel",this.node);this.okBtn=cc.find("OKBtn",e),cc.winSize.height<cc.winSize.width?this.ratio=cc.winSize.width/1920*.75:this.ratio=cc.winSize.width/1080,cc.find("Panel",this.node).scale=this.ratio},t.prototype.onDestroy=function(){cc.game.targetOff(this)},t.prototype.onOKClickListener=function(){var e=this;this.okBtn.getComponent(cc.Button).interactable=!1,cc.game.targetOff(this),cc.game.on(r.default.ST_LOGIN_SUCCESS,function(){a.utils.showLog("\u767b\u5f55\u6210\u529f\uff01"),e.successFunc&&e.successFunc(),e.node.destroy()},this),cc.game.on(r.default.ST_LOGIN_FAIL,function(){e.failFunc&&e.failFunc(),e.okBtn.getComponent(cc.Button).interactable=!0},this),a.utils.login(null,null)},t.prototype.onCloseClickListener=function(){a.utils.GameExit()},s([l],t)}(cc.Component));i.default=u,cc._RF.pop()},{"./Utils":"Utils","./YZ_Constant":"YZ_Constant"}],YzRealNameAuthPanel:[function(e,t,i){"use strict";cc._RF.push(t,"48ce4dCA2JKc6UIPzo4VU0e","YzRealNameAuthPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./Utils"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.edit_real_name=null,t.edit_id_card=null,t.realNameAuthPanel=null,t.msgNode=null,t.exitPanel=null,t.toVerifyPanel=null,t.offLinePanel=null,t.edit_default_color=null,t._isOffLine=!1,t.realNameAuthLandscapePanel=null,t.regName=/^[\u4e00-\u9fa5]{2,4}$/,t.regIdNo=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,t._clickTime=0,t}return n(t,e),t.prototype.onLoad=function(){a.utils.otherConfig&&a.utils.otherConfig.group&&(this.node.group=a.utils.otherConfig.group);var e=0;cc.winSize.height<cc.winSize.width?(this.realNameAuthPanel=cc.find("Panel/RealNameAuthLandscapePanel",this.node),e=cc.winSize.width/1920*.75):(this.realNameAuthPanel=cc.find("Panel/RealNameAuthPanel",this.node),e=cc.winSize.width/1080),this.exitPanel=cc.find("Panel/ExitPanel",this.node),this.toVerifyPanel=cc.find("Panel/ToVerifyPanel",this.node),this.offLinePanel=cc.find("Panel/OfflinePanel",this.node),this.edit_id_card=this.realNameAuthPanel.getChildByName("editIdCard").getComponent(cc.EditBox),this.edit_real_name=this.realNameAuthPanel.getChildByName("editRealName").getComponent(cc.EditBox),this.msgNode=cc.find("Panel/MsgNode",this.node),this.edit_default_color=this.edit_real_name.fontColor,null==this.edit_default_color&&(this.edit_default_color=new cc.Color(0,0,0,63)),cc.find("Panel",this.node).scale=e,this._isOffLine?this.showOfferLine():this.realNameAuthPanel.active=!0},t.prototype.start=function(){},t.prototype.onDestroy=function(){a.utils.emitRealNameAuthCloseEvent()},t.prototype.onExitBtnClickListener=function(){a.utils.showLog("\u9000\u51fa\u6e38\u620f\uff01"),a.utils.GameExit()},t.prototype.onBackAuthBtnClickListener=function(){this.toVerifyPanel.active=!1,this.exitPanel.active=!1,this.realNameAuthPanel.active=!0},t.prototype.showExitPanel=function(){this.toVerifyPanel.active=!1,this.realNameAuthPanel.active=!1,this.offLinePanel.active=!1,this.exitPanel.active=!0},t.prototype.showOfferLine=function(){this.toVerifyPanel.active=!1,this.exitPanel.active=!1,this.realNameAuthPanel.active=!1,this.offLinePanel.active=!0},t.prototype.onPostBtnClickListener=function(){var e=this,t=(new Date).getTime();if((t-this._clickTime)/1e3<2)this.showMsg("\u8bf7\u52ff\u9891\u7e41\u63d0\u4ea4\uff01");else{if(this._clickTime=t,!this.regName.test(this.edit_real_name.string))return this.showMsg("\u771f\u5b9e\u59d3\u540d\u586b\u5199\u6709\u8bef!"),this.edit_real_name.fontColor=cc.Color.RED,this.edit_real_name.setFocus(),!1;if(this.edit_real_name.fontColor=this.edit_default_color,!this.regIdNo.test(this.edit_id_card.string))return this.edit_id_card.fontColor=cc.Color.RED,this.showMsg("\u8eab\u4efd\u8bc1\u53f7\u586b\u5199\u6709\u8bef!"),this.edit_id_card.setFocus(),!1;this.edit_id_card.fontColor=this.edit_default_color,a.utils.realNameAuth(this.edit_id_card.string,this.edit_real_name.string,function(t,i){if(a.utils.showLog("\u5b9e\u540d\u8ba4\u8bc1\u7ed3\u675f\uff1a#result="+JSON.stringify(i)),t)if(i){var o=JSON.parse(i);switch(o.code){case 1:e.showMsg(o.msg);break;case 0:"0"==o.nonage?a.utils.setRealNameAuthLocalData("2"):a.utils.setRealNameAuthLocalData("1"),a.utils._isRealNameAuth=!0,o.msg&&e.showMsg(o.msg),e.scheduleOnce(function(){e.node.destroy()},.5);break;case 2:a.utils.setRealNameAuthLocalData("2"),e.showOfferLine()}}else e.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01");else e.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01")})}},t.prototype.showMsg=function(e){var t=cc.instantiate(this.msgNode);t.getChildByName("msgLabel").getComponent(cc.Label).string=""+e,this.node.addChild(t,cc.macro.MAX_ZINDEX),t.active=!0,t.runAction(cc.sequence(cc.delayTime(.8),cc.moveBy(.3,cc.v2(0,80)),cc.callFunc(function(){t.destroy()})))},s([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./Utils":"Utils"}],YzUserPrivacyPanel:[function(e,t,i){"use strict";cc._RF.push(t,"d0717GZecVL5p3tNcXpk9rY","YzUserPrivacyPanel");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./CompatibleTool"),r=e("./PlatUtils"),c=e("./Utils"),l=e("./YZ_Constant"),u=e("./YZ_LocalStorage"),h=cc._decorator,d=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._userPrivacyInfo=null,t._checkExit=null,t._mainPanel=null,t._userPrivacyDesc=null,t.showDesc=!1,t.ratio=1,t.imgCount=7,t.scale=1.5,t.imgPath="http://xcx.youletd.com/xcx/h5/privacyImg/",t.companyInfoNode=null,t.is_btn_jump_desc=!1,t}return n(t,e),t.prototype.onLoad=function(){(r.default.IsWechat||r.default.IsQQ||r.default.IsDouyin||r.default.IsBaidu)&&(this.imgPath="https://xcx.youletd.com/xcx/h5/privacyImg/"),this._userPrivacyInfo=cc.find("PrivacyDesc",this.node),this._checkExit=cc.find("CheckPanel",this.node),this._mainPanel=cc.find("Panel",this.node),this.showDesc&&(this._mainPanel.active=!1,this._checkExit.active=!1,this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").active=!1,this.showDescPanel()),cc.winSize.height<cc.winSize.width?(this.ratio=cc.winSize.width/1920*.75,this.imgCount=5,this.imgPath+="h_",this.scale=1.4):(this.ratio=cc.winSize.width/1080,this.imgPath+="p_"),this._mainPanel.scale=this.ratio,this._checkExit.scale=this.ratio,this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").scale=this.ratio,this._userPrivacyInfo.getChildByName("view").getChildByName("closeImg").scale=this.ratio,this._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").scale=this.ratio,this.companyInfoNode=this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("ContactInfo");var e="\u6df1\u5733\u5e02\u4f18\u667a\u4fe1\u606f\u6280\u672f\u6709\u9650\u516c\u53f8",t="\u8054\u7cfb\u90ae\u7bb1\uff1ayouzhixx@163.com";c.utils.ServerConfig.company&&(e=c.utils.ServerConfig.company.subject,t=c.utils.ServerConfig.company.contact),this.companyInfoNode.getChildByName("subject").getComponent(cc.Label).string=e,this.companyInfoNode.getChildByName("contact").getComponent(cc.Label).string=t},t.prototype.onOKClickListener=function(){u.default.setItem(l.default.YZ_GAME_YSXY,"isOK"),this.node.destroy(),c.utils.emitPrivacyCloseEvent()},t.prototype.onCloseClickListener=function(){r.default.IsHuaWei?c.utils.GameExit():this._checkExit.active&&(r.default.IsQQ||r.default.IsOPPO||r.default.IsXiaoMi)?c.utils.GameExit():(this._checkExit.active=!this._checkExit.active,this._mainPanel.active=!this._mainPanel.active)},t.prototype.onClosePrivacyDesc=function(){if(this.showDesc)this.node.destroy();else{this._userPrivacyInfo.active=!1;for(var e=this._userPrivacyInfo.getComponent(cc.ScrollView).content.children,t=0;t<e.length;t++)e[t].active=!1}},t.prototype.onJumpDescBtnClickListner=function(){this.is_btn_jump_desc=!0,this.showDescPanel()},t.prototype.showDescPanel=function(){var e=this;this._userPrivacyInfo.active=!0,this._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").active=!0,this.scheduleOnce(function(){(new cc.Node).addComponent(cc.Sprite);for(var t=function(t){var i=new cc.Node;i.addComponent(cc.Sprite),e._userPrivacyInfo.getComponent(cc.ScrollView).content.addChild(i),a.default.LoadRes(e.imgPath+t+".png",function(o,n){!o&&cc.isValid(e)?(i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),i.height*=e.scale*e.ratio,i.width*=e.scale*e.ratio,t>=1&&(e._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").active=!1),t>=e.imgCount&&(e.companyInfoNode.zIndex=e.imgCount,e.companyInfoNode.active=!0,e.is_btn_jump_desc&&(e._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").zIndex=e.imgCount+1,e._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").active=!0))):c.utils.showMsg("\u9690\u79c1\u534f\u8bae\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5173\u95ed\u7a97\u53e3\u91cd\u65b0\u6253\u5f00")})},i=1;i<=e.imgCount;i++)t(i)},.5)},s([d],t)}(cc.Component));i.default=p,cc._RF.pop()},{"./CompatibleTool":"CompatibleTool","./PlatUtils":"PlatUtils","./Utils":"Utils","./YZ_Constant":"YZ_Constant","./YZ_LocalStorage":"YZ_LocalStorage"}],ZombieBase:[function(e,t,i){"use strict";cc._RF.push(t,"4f9b3rBNdNPy6WqLrNu03ZA","ZombieBase");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a,r=e("../../common-plugin/Scripts/PlatUtils"),c=e("../Framework/CocosZ"),l=e("../Framework/Constant"),u=e("../Game/gameDate"),h=e("../Game/gameMgr"),d=e("../Game/person"),p=e("../Game/UpgradeMgr"),_=e("./bullet"),f=cc._decorator,g=f.ccclass,v=f.property;(function(e){e[e.front=0]="front",e[e.area=1]="area",e[e.charge=2]="charge",e[e.range=3]="range"})(a||(a={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zombieId=0,t.bullet_prefab=null,t.sp_hongzhaquan=null,t.audio_attack1=null,t.audio_attack2=null,t.audio_hart=null,t.audio_die=null,t.isBoss=!1,t._aniLayer=null,t._spAni=null,t._divToPlayer=cc.Vec2.ZERO,t._time=-1,t._canColor=!0,t._canAtk=!0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.id=94,u.default.ZombieMess[this.zombieId]&&(this.totleHp=u.default.ZombieMess[this.zombieId].hp,this.atkNum=u.default.ZombieMess[this.zombieId].atk,this.atkRange=u.default.ZombieMess[this.zombieId].atkRange,this.MoveSpeed=u.default.ZombieMess[this.zombieId].speed,r.default.IsOPPO&&(this.MoveSpeed/=2)),this.isBoss?this.node.scale=1:this.node.scale=.8,this.rig=this.node.getComponent(cc.RigidBody),this.rig&&(this.rig.linearDamping=.2),this._aniLayer=this.node.getChildByName("aniLayer"),this._aniLayer&&(this._spAni=this._aniLayer.getChildByName("ani").getComponent(sp.Skeleton)),this._spAni&&(this._spAni.setStartListener(function(){e.startListenerCall()}),this._spAni.setCompleteListener(function(){e.endListenerCall()}))},t.prototype.onDestroy=function(){cc.game.targetOff(this)},t.prototype.start=function(){},t.prototype.initNode=function(){var e=this;if(h.gameMgr&&h.gameMgr.setMapTs.checkNode(this.node,!0),cc.game.on(l.default.E_GAME_LOGIC,this._onGameMessageHandler,this),h.gameMgr.zombieCurNum++,this.node.stopAllActions(),this.node.zIndex=l.ZindexLayer.zindex_zombie+this.zombieId,this.node.opacity=255,this.atkDir=cc.Vec2.ZERO,this.curHp=this.totleHp,this.isDeath=!1,this.isAtk=!1,this._canAtk=!0,this.canMoveDir=!0,this.canMove=!0,this._spAni&&this._spAni.isValid)if(this._spAni.node.scaleX=Math.abs(this._spAni.node.scaleX),this._spAni.node.opacity=255,this._spAni.node.color=cc.Color.WHITE,this.isBoss)this._spAni.setAnimation(0,"spawn",!1),this.scheduleOnce(function(){var t=e.node.getComponent(cc.BoxCollider);t&&(t.enabled=!0)},2);else{this._spAni.setAnimation(0,"idle",!0);var t=this.node.getComponent(cc.BoxCollider);t&&(t.enabled=!0)}this.sp_hongzhaquan&&(this.sp_hongzhaquan.node.setParent(this.node.parent),this.sp_hongzhaquan.node.zIndex=l.ZindexLayer.zinedx_floorTip,this.sp_hongzhaquan.setCompleteListener(function(){e.sp_hongzhaquan&&e.sp_hongzhaquan.isValid&&(e.sp_hongzhaquan.node.active=!1)})),this.isBoss&&(cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Commonzombie_Destory}),h.gameMgr&&h.gameMgr.showBossHp(1),this.node.getChildByName("boos")&&(this.node.getChildByName("boos").active=!0))},t.prototype.putNodePool=function(){cc.game.targetOff(this),this.isBoss&&(this.node.getChildByName("boos")&&(this.node.getChildByName("boos").active=!1),h.gameMgr&&(h.gameMgr&&h.gameMgr.showBossHp(0),h.gameMgr.boss_border&&cc.isValid(h.gameMgr.boss_border)&&(h.gameMgr.boss_border.destroy(),h.gameMgr.boss_border=null)),this.isBoss=!1),this.sp_hongzhaquan&&this.sp_hongzhaquan.isValid&&(this.sp_hongzhaquan.node.setParent(this.node),this.sp_hongzhaquan.node.active=!1),h.gameMgr.zombieCurNum--,h.gameMgr&&h.gameMgr.isValid&&h.gameMgr.nodePut(this.node.name,this.node)},t.prototype.startListenerCall=function(){var e=this;if(this._spAni.animation.includes("spawn")){this._spAni.timeScale=.4,this.scheduleOnce(function(){e._spAni.timeScale=1},1),this.canMoveDir=!1;var t=this.node.getPosition(),i=h.gameMgr.playerTs.node.getPosition().subSelf(t);this._spAni.node.scaleX=(i.x>0?1:-1)*Math.abs(this._spAni.node.scaleX)}else this._spAni.animation.includes("attack")?(this.isAtk=!0,this.canMoveDir=!1,[8,9,18].includes(this.zombieId)&&"attack2"==this._spAni.animation?(this.speedRate*=2.5,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=2.5,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.2)):[10,11,12,13].includes(this.zombieId)&&"attack2"==this._spAni.animation?(this.speedRate*=3,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=3,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.2)):[14,19].includes(this.zombieId)&&this._spAni.animation.includes("attack")?(this.speedRate*=3,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=3,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.2)):15==this.zombieId&&"attack"==this._spAni.animation?(this.speedRate*=3,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=3,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.4)):16==this.zombieId&&"attack"==this._spAni.animation?(this.speedRate*=2,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=2,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.3)):17==this.zombieId&&this._spAni.animation.includes("attack")?(this.speedRate*=2,this.udpateRBody(this.moveDir),this.scheduleOnce(function(){e.speedRate/=2,e.moveDir=cc.Vec2.ZERO,e.udpateRBody(e.moveDir)},.3)):(this.moveDir=cc.Vec2.ZERO,this.udpateRBody(this.moveDir))):this._spAni.animation.includes("jump_up")&&(this.canMoveDir=!1)},t.prototype.endListenerCall=function(){this._spAni.animation.includes("spawn")?(this._spAni.setAnimation(0,"idle",!0),this.canMoveDir=!0,this.updateMove(),this.updatePerson(),this.udpateRBody(this.moveDir)):this._spAni.animation.includes("attack")?(this._spAni.setAnimation(0,"idle",!0),this.isAtk=!1,this.canMoveDir=!0,this.updateMove(),this.updatePerson(),this.udpateRBody(this.moveDir),this.atkDir=cc.Vec2.ZERO):this._spAni.animation.includes("jump_down")&&(this._spAni.setAnimation(0,"idle",!0),this.canMoveDir=!0,this.moveDir=cc.Vec2.ZERO,this.udpateRBody(this.moveDir))},t.prototype._onGameMessageHandler=function(e){var t=this;switch(e.type){case l.default.E_Allzombie_Destory:this.hart(9999999,null,null,!0,!0,cc.Color.WHITE,!0);break;case l.default.E_Commonzombie_Destory:this.isBoss||cc.tween(this.node).to(.3,{opacity:1},{easing:"fade"}).call(function(){t.putNodePool()}).start()}},t.prototype.lateUpdate=function(){this.isDeath||c.cocosz.isPause||!h.gameMgr.isGameStart||h.gameMgr.isWin||h.gameMgr.isFail?this.udpateRBody(cc.Vec2.ZERO):(this._time++,this._time%15==0&&(this._time%30==0&&(this.updateDiv(),this.updateMove()),this.updateAtk(),this.updateAni(),this.updatePerson(),this.udpateRBody(this.moveDir)))},t.prototype.updateDiv=function(){var e=this.node.getPosition(),t=h.gameMgr.playerTs.node.getPosition();this._divToPlayer=t.subSelf(e),!this.isBoss&&this._divToPlayer.mag()>cc.winSize.height/2/h.gameMgr.mainCamera.zoomRatio&&this.putNodePool()},t.prototype.updateMove=function(){this.rig.type==cc.RigidBodyType.Dynamic&&this.canMove&&this.canMoveDir&&h.gameMgr.playerTs&&(h.gameMgr.playerTs.isDeath?this._divToPlayer.mag()<(this.isBoss?800:1500)?this.moveDir=this._divToPlayer.normalize().negSelf():this.moveDir=cc.v2(this._divToPlayer.normalize()).rotateSelf(2*Math.PI*Math.random()):3==this.zombieId&&Math.random()<.2?this._spAni.animation.includes("jump")||(this._spAni.setAnimation(0,"jump_up",!1),this._spAni.addAnimation(0,"jump_down",!1),this.moveDir=this._divToPlayer.normalize()):this._divToPlayer.mag()>=.8*this.atkRange?this.moveDir=cc.v2(this._divToPlayer.normalize()).rotateSelf(Math.PI/2*(.5-Math.random())):this.moveDir=cc.Vec2.ZERO)},t.prototype.updateAtk=function(){if(this.canAtk())if(h.gameMgr.playerTs&&!h.gameMgr.playerTs.isDeath)if(this._divToPlayer.mag()<this.atkRange)this.atkDir=this._divToPlayer.normalize(),this.atk();else switch(this.zombieId){case 8:case 9:case 10:case 11:case 12:case 13:case 18:this._divToPlayer.mag()<600&&Math.random()<.1*(this.isBoss?2:1)&&(this.atkDir=this._divToPlayer.normalize(),this.moveDir=this._divToPlayer.normalize(),this.atk("attack2"));break;case 14:case 16:case 19:case 15:this._divToPlayer.mag()<800&&Math.random()<.1*(this.isBoss?2:1)&&(this.atkDir=this._divToPlayer.normalize(),this.moveDir=this._divToPlayer.normalize(),this.atk("attack"));break;case 16:this._divToPlayer.mag()<600&&Math.random()<.1*(this.isBoss?2:1)&&(this.atkDir=this._divToPlayer.normalize(),this.moveDir=this._divToPlayer.normalize(),this.atk("attack"));break;case 17:this._divToPlayer.mag()<600&&Math.random()<.15*(this.isBoss?2:1)&&(this.atkDir=this._divToPlayer.normalize(),this.moveDir=this._divToPlayer.normalize(),this.atk());break;case 20:this._divToPlayer.mag()<600?Math.random()<.15*(this.isBoss?2:1)&&(this.atkDir=this._divToPlayer.normalize(),this.moveDir=this._divToPlayer.normalize(),this.atk("attack")):this.sp_hongzhaquan.isValid&&!this.sp_hongzhaquan.node.active&&this._divToPlayer.mag()>800&&this.atk("bullet_chui")}else this.atkDir=cc.Vec2.ZERO},t.prototype.updateAni=function(){0==this.isDeath?0==this._spAni.timeScale||this._spAni.animation.includes("spawn")||this._spAni.animation.includes("attack")||this._spAni.animation.includes("jump")||(this.moveDir&&this.moveDir.mag()?17==this.zombieId?!this._spAni.animation.includes("wing")&&this._spAni.setAnimation(0,"wing",!0):!this._spAni.animation.includes("run")&&this._spAni.setAnimation(0,"run",!0):!this._spAni.animation.includes("idle")&&this._spAni.setAnimation(0,"idle",!0)):this._spAni&&this._spAni.skeletonData&&this._spAni.skeletonData.skeletonJson.animations.die&&!this._spAni.animation.includes("die")&&this._spAni.setAnimation(0,"die",!1)},t.prototype.updatePerson=function(){var e=null;this.atkDir&&this.atkDir.mag()?e=this.atkDir:this.moveDir&&this.moveDir.mag()&&(e=this.moveDir),e&&(this._spAni.node.scaleX=Math.abs(this._spAni.node.scaleX)*(e.x>0?1:-1))},t.prototype.udpateRBody=function(e,t){void 0===t&&(t=!1),this.rig.type==cc.RigidBodyType.Dynamic&&(this.canMove||t)&&(e&&!e.equals(cc.Vec2.ZERO)?this.rig.linearVelocity=e.mul(Math.floor(this.MoveSpeed*this.speedRate*(1-.2*Math.random()))):this.rig.linearVelocity=cc.Vec2.ZERO)},t.prototype.atk=function(e){var t=this;void 0===e&&(e="");var i=a.front,o=this.atkRange,n=0,s=2,r=this.audio_attack1;switch(this.zombieId){case 0:case 1:Math.random()<.5?e="attack":(e="attack2",r=this.audio_attack2),n=.3;break;case 2:case 3:e="attack1",n=.3;break;case 4:e="attack",n=.3;break;case 5:case 6:e="attack",n=4,i=a.range,s=2,this._canAtk=!1;break;case 7:break;case 8:case 18:"attack2"==e?(e="attack2",o=300,n=.3,i=a.area,r=this.audio_attack2):(e="attack",o=350,n=.3);break;case 9:"attack2"==e?(e="attack2",o=450,n=.3,r=this.audio_attack2):(e="attack",o=350,n=.3);break;case 10:"attack2"==e?(e="attack2",o=200,n=.3,r=this.audio_attack2):(e="attack",o=200,n=.3);break;case 11:case 12:case 13:"attack2"==e?(e="attack2",o=250,n=.3,r=this.audio_attack2):(e="attack",o=250,n=.3);break;case 14:case 19:Math.random()<.6?(e="attack",o=350,n=.3,i=a.charge,r=this.audio_attack1):(e="attack2",o=350,n=.3,r=this.audio_attack2);break;case 15:"attack"==e?(e="attack",o=250,n=.3,i=a.charge):(e="attack2",o=400,n=.3);break;case 16:"attack"==e||Math.random()<.4?(e="attack",o=450,n=.3,i=a.area):(e="attack2",o=300,n=.3);break;case 17:Math.random()<.5?(e="attack",o=200,n=.3):(e="attack2",o=200,n=.3,i=a.charge);break;case 20:"bullet_chui"==e?(i=a.range,e="attack2",s=1.5):"attack"==e?(e="attack",o=500,n=.3):(e="attack2",o=300,n=.3)}e&&this._spAni.setAnimation(0,e,!1),r&&r.isValid&&h.gameMgr.playClip(r,this.node,.5);var c=function(){if(h.gameMgr.playerTs&&!h.gameMgr.playerTs.isDeath){var e=t.node.getPosition(),n=h.gameMgr.playerTs.node.getPosition().subSelf(e);n.mag()<o&&(i==a.front?(n.mag()<200||n.x*t._spAni.node.scale>0&&Math.abs(n.y/n.x)<1.4)&&h.gameMgr.playerTs.hart(1,t.node,n.normalizeSelf(),!0):i===a.charge?(h.gameMgr.playerTs.hart(1,t.node,n.normalizeSelf(),!0),t.unschedule(c)):h.gameMgr.playerTs.hart(1,t.node,n.normalizeSelf(),!0))}};if(i==a.front||i==a.area)this.scheduleOnce(c,n);else if(i==a.charge)this.schedule(c,0,15);else if(i==a.range){var u=this.node.getPosition(),d=h.gameMgr.playerTs.node.getPosition(),p=cc.v2((u.x+d.x)/2,u.y+1500);if(this.bullet_prefab){var f=cc.instantiate(this.bullet_prefab),g=f.getComponent(_.default);g.id=this.id,g.atker=this.node,g.atk=this.atkNum,g.isAngle=!0,f.setPosition(u),f.zIndex=l.ZindexLayer.zindex_bullet_sky,f.parent=this.node.parent,cc.tween(f).call(function(){t.sp_hongzhaquan&&t.sp_hongzhaquan.isValid&&(t.sp_hongzhaquan.node.active=!0,t.sp_hongzhaquan.node.setPosition(d),t.sp_hongzhaquan.setAnimation(0,"animation",!1))}).bezierTo(s,u,p,d).call(function(){if(g.boomEffect){var e=cc.instantiate(g.boomEffect);e.parent=g.node.parent,e.setPosition(g.node.getPosition());var t=e.getComponent(_.default);if(t.atk=g.atk,t.atker=g.atker,t.id=g.id,h.gameMgr.playEffect("explo",e),g.hitEffect){var i=f.getPosition(),o=cc.instantiate(g.hitEffect);o.parent=f.parent,o.setPosition(i),o.zIndex=l.ZindexLayer.zindex_effect_hit}}f.destroy()}).start(),this.scheduleOnce(function(){t._canAtk=!0},n)}}},t.prototype.hart=function(e,t,i,o,n,s,a){var r=this;if(void 0===o&&(o=!0),void 0===n&&(n=!0),void 0===a&&(a=!1),!(this.isDeath||0==a&&c.cocosz.isPause)){if(i&&i.mag()>3&&i.normalizeSelf().mulSelf(3),e=(1-this.damageReduction)*e,h.gameMgr.showRoleTip(this.node,Math.min(this.HP,e).toFixed(0),s),this.HP-=e,this.isBoss&&h.gameMgr&&h.gameMgr.showBossHp(this.HP/this.totleHp),!this.isAttackedEffect&&this._spAni&&this._spAni.node&&this._spAni.node.isValid&&(this.isAttackedEffect=!0,o&&this.audio_hart&&h.gameMgr.playClip(this.audio_hart,this.node,.5),cc.tween(this._aniLayer).to(.1,{scale:.7},{easing:"sineIn"}).to(.1,{scale:1},{easing:"sineOut"}).call(function(){r.isAttackedEffect=!1}).start(),this._canColor&&cc.tween(this._spAni.node).to(.1,{color:new cc.Color(0,0,0,255)}).to(.1,{color:cc.Color.WHITE}).start(),this.rig.type==cc.RigidBodyType.Dynamic&&i&&this.canMove&&this.canMoveDir)){this.canMove=!1,this.scheduleOnce(function(){r.canMove=!0},.1);var u=i.mulSelf(400*i.mag()).addSelf(this.rig.linearVelocity),d=this.isBoss?100:300;u.mag()>d&&u.normalizeSelf().mulSelf(d),this.rig.linearVelocity=u}this.HP<=0?(this.death(),cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Zombie_Death,node:this.node,from:t})):t&&n&&cc.game.emit(l.default.E_GAME_LOGIC,{type:l.default.E_Zombie_Hart,node:this.node})}},t.prototype.death=function(){var e=this;if(this.isAtk=!1,this.isDeath=!0,this._spAni.timeScale=1,this.node.getComponents(cc.Collider).forEach(function(e){return e.enabled=!1}),cc.tween(this._spAni.node).to(1,{opacity:0}).start(),this.audio_die&&h.gameMgr.playClip(this.audio_die,null,.2),this.updateAni(),this.zombieId<8){var t=c.cocosz.resMgr.getRes("effect_death",cc.Prefab);if(t){var i=cc.instantiate(t);i.zIndex=l.ZindexLayer.zinedx_floorSkill,i.setPosition(this.node.position),i.setParent(this.node.parent)}}this.creatItem(),this.scheduleOnce(function(){e.putNodePool()},2)},t.prototype.creatItem=function(){if(!h.gameMgr.isWin&&!h.gameMgr.isFail&&p.upgradeMgr&&p.upgradeMgr.isValid)for(var e=this.zombieId<8?1:10,t=0;t<e;t++){var i=this.node.getPosition();t>0&&i.addSelf(cc.v2(20*t,0).rotateSelf(2*Math.PI*Math.random())),p.upgradeMgr.createJingyan(i)}},t.prototype.frozenStart=function(){this._canColor=!1,this._spAni.node.stopAllActions(),this._spAni.node.color=cc.Color.BLUE,this._spAni&&(this._spAni.timeScale=0),this.isAtk=!1,this.canMoveDir=!1,this.moveDir=cc.Vec2.ZERO,this.udpateRBody(this.moveDir,!0)},t.prototype.frozenEnd=function(){this.isDeath||(this._canColor=!0,this._spAni.node.color=cc.Color.WHITE,this._spAni&&(this._spAni.timeScale=1,this._spAni.setAnimation(0,"idle",!0)),this.canMoveDir=!0,this.isAtk=!1,this.atkDir=cc.Vec2.ZERO,this.updateMove(),this.updatePerson(),this.udpateRBody(this.moveDir))},t.prototype.fire_start=function(){this._canColor=!1,this._spAni.node.stopAllActions(),this._spAni.node.color=cc.Color.RED},t.prototype.fire_end=function(){this._canColor=!0,this._spAni.node.color=cc.Color.WHITE},t.prototype.canAtk=function(){return!(!this._canAtk||this.isAtk||0==this._spAni.timeScale||this._spAni.animation.includes("spawn")||this._spAni.animation.includes("jump"))},s([v({tooltip:"\u50f5\u5c38id"})],t.prototype,"zombieId",void 0),s([v({type:cc.Prefab,tooltip:"\u5b50\u5f39\u9884\u5236\u4f53",visible:function(){return[5,6,20].includes(this.zombieId)}})],t.prototype,"bullet_prefab",void 0),s([v({type:sp.Skeleton,tooltip:"\u8b66\u544a\u5708",visible:function(){return[5,6,20].includes(this.zombieId)}})],t.prototype,"sp_hongzhaquan",void 0),s([v({type:cc.AudioClip,tooltip:"\u653b\u51fb\u97f3\u65481"})],t.prototype,"audio_attack1",void 0),s([v({type:cc.AudioClip,tooltip:"\u653b\u51fb\u97f3\u65482"})],t.prototype,"audio_attack2",void 0),s([v({type:cc.AudioClip,tooltip:"\u53d7\u4f24\u97f3\u6548"})],t.prototype,"audio_hart",void 0),s([v({type:cc.AudioClip,tooltip:"\u6b7b\u4ea1\u97f3\u6548"})],t.prototype,"audio_die",void 0),s([g],t)}(d.default);i.default=m,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Game/UpgradeMgr":"UpgradeMgr","../Game/gameDate":"gameDate","../Game/gameMgr":"gameMgr","../Game/person":"person","./bullet":"bullet"}],ani:[function(e,t,i){"use strict";cc._RF.push(t,"9dc96Ec8p5F1pk+wC5O4y90","ani");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("./gameDate"),c=e("./weapon"),l=cc._decorator,u=l.ccclass,h=l.property,d=l.executeInEditMode,p=l.playOnFocus,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.times=10,t.aniNodeArr=[],t._btnAdd=!1,t._btnStop=!1,t._btnDaiji=!1,t._btnRun=!1,t._btnAtk=!1,t._btnAtk2=!1,t._btnDeath=!1,t.handLeft=null,t.body=null,t.leg=null,t.handRight=null,t.head=null,t.weapon=null,t.aniNode=null,t._t=0,t._index=0,t._isLoop=!1,t._aniArr=[],t}return n(t,e),Object.defineProperty(t.prototype,"btnAdd",{get:function(){return this._btnAdd},set:function(){var e=this;this.aniNodeArr=[],this.node.children.forEach(function(t){e.aniNodeArr.push(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnStop",{get:function(){return this._btnStop},set:function(){this._btnStop=!1,this.stopAni(),this.aniNodeArr.forEach(function(e){e.opacity=255},null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnDaiji",{get:function(){return this._btnDaiji},set:function(){this._btnDaiji=!1,this.addAni("daiji",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnRun",{get:function(){return this._btnRun},set:function(){this._btnRun=!1,this.addAni("run",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnAtk",{get:function(){return this._btnAtk},set:function(){this._btnAtk=!1,this.addAni("atk",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnAtk2",{get:function(){return this._btnAtk2},set:function(){this._btnAtk2=!1,this.addAni("atk2",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnDeath",{get:function(){return this._btnAtk2},set:function(){this._btnDeath=!1,this.addAni("death",!1)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.handLeft=cc.find("handLeft",this.node),this.body=cc.find("body",this.node),this.leg=cc.find("leg",this.node),this.handRight=cc.find("handRight",this.node),this.head=cc.find("head",this.node),this.weapon=cc.find("weapon",this.node)},t.prototype.start=function(){},t.prototype.setAni=function(e,t){void 0===t&&(t=!1),this._aniArr=[],this.playAni(e,t)},t.prototype.addAni=function(e,t){this.aniNode?this._aniArr.push({name:e,isLoop:t}):this.playAni(e,t)},t.prototype.stopAni=function(){this._aniArr=[],this.aniNode=null},t.prototype.includeAni=function(e){var t=!1;return this.aniNodeArr.forEach(function(i){i.name==e&&(t=!0)}),t},t.prototype.isAni=function(e){return!(!this.aniNode||!(!e||e&&this.aniNode.name.includes(e)))},t.prototype.playAni=function(e,t){var i=this;void 0===t&&(t=!1),this.aniNode=null,this._index=0,this._t=0,this.aniNodeArr.forEach(function(t){t.name==e?(t.active=!0,t.opacity=255,i.aniNode=t):(t.active=!0,t.opacity=0)}),this._isLoop=t,this.aniNode||cc.log("\u52a8\u753b\u4e0d\u5b58\u5728\uff1a"+e)},t.prototype.lateUpdate=function(){var e=this;if(this.aniNode&&this.aniNode.isValid){if(this._t%this.times==0&&(this._t=0,this.aniNode.children.forEach(function(t,i){i==e._index?t.opacity=255:t.opacity=0}),this._index++,this._index>=this.aniNode.childrenCount))if(this._isLoop)this._index=0;else if(this._aniArr.length>0){var t=this._aniArr.shift();this.playAni(t.name,t.isLoop)}else this.aniNode=null,this._index=0;this._t++}},t.prototype.setSkinById=function(e){this.setSkinByName((e+1).toString()),this.setGh(e)},t.prototype.setSkinByName=function(e){this.head.children.forEach(function(t){t.name==e?(t.active=!0,t.opacity=255):(t.active=!0,t.opacity=0)})},t.prototype.setWeaponById=function(e){this.setWeaponByName(c.default.WeaponName[e]),this.setSD(e)},t.prototype.setWeaponByName=function(e){var t;if(r.default.Weapon[e].atkRange>300){if(this.weapon.active=!0,this.handLeft.active=!1,this.handRight.active=!1,t=a.cocosz.resMgr.getRes("weapon_"+e,cc.Prefab)){var i=cc.instantiate(t);i.removeComponent(c.default),this.weapon.children[0]&&this.weapon.children[0].isValid&&this.weapon.children[0].destroy(),this.weapon.addChild(i)}}else if(this.weapon.active=!1,this.handLeft.active=!0,this.handRight.active=!0,t=a.cocosz.resMgr.getRes("weapon_"+e,cc.Prefab)){var o=cc.instantiate(t);o.removeComponent(c.default),this.handRight.children[0]&&this.handRight.children[0].isValid&&this.handRight.children[0].destroy(),this.handRight.addChild(o)}},t.prototype.setGh=function(e){var t=this.node.getChildByName("gh");if(t&&t.isValid){var i=a.cocosz.dataMgr.getSkinInfo(e);if(i){var o=t.getComponent(sp.Skeleton);if(t.active=!0,o&&o.isValid){var n=i.Level;n>0?(t.color=cc.Color.WHITE,o.setSkin(["","y","p","r"][Math.ceil(n/2)]),o.setAnimation(0,"animation",!0)):(t.color=cc.Color.BLACK,o.setSkin("r"),o.setAnimation(0,"animation",!0))}}}},t.prototype.setSD=function(e){var t=a.cocosz.dataMgr.getGunInfo(e);this.node.walk(function(e){if("sd"==e.name)if(t.Level>0){e.active=!0;var i=e.getComponent(sp.Skeleton);i&&i&&i.setSkin(["","y","p","r"][t.Level])}else e.active=!1},null)},s([h({displayName:"\u95f4\u9694\u5e27\u6570"})],t.prototype,"times",void 0),s([h({type:[cc.Node],displayName:"\u52a8\u753b\u6570\u7ec4"})],t.prototype,"aniNodeArr",void 0),s([h()],t.prototype,"_btnAdd",void 0),s([h({displayName:"\u6dfb\u52a0\u52a8\u753b"})],t.prototype,"btnAdd",null),s([h({displayName:"\u505c\u6b62\u52a8\u753b"})],t.prototype,"_btnStop",void 0),s([h],t.prototype,"btnStop",null),s([h({displayName:"\u5f85\u673a\u52a8\u753b"})],t.prototype,"_btnDaiji",void 0),s([h],t.prototype,"btnDaiji",null),s([h({displayName:"\u8dd1\u6b65\u52a8\u753b"})],t.prototype,"_btnRun",void 0),s([h],t.prototype,"btnRun",null),s([h({displayName:"\u653b\u51fb\u52a8\u753b"})],t.prototype,"_btnAtk",void 0),s([h],t.prototype,"btnAtk",null),s([h({displayName:"\u653b\u51fb\u52a8\u753b2"})],t.prototype,"_btnAtk2",void 0),s([h],t.prototype,"btnAtk2",null),s([h({displayName:"\u6b7b\u4ea1\u52a8\u753b2"})],t.prototype,"_btnDeath",void 0),s([h],t.prototype,"btnDeath",null),s([u,d,p],t)}(cc.Component);i.default=_,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","./gameDate":"gameDate","./weapon":"weapon"}],bullet:[function(e,t,i){"use strict";cc._RF.push(t,"50404UIfWNMdr6ERRkIVC1x","bullet");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("../Framework/Constant"),c=e("./gameMgr"),l=e("./person"),u=cc._decorator,h=u.ccclass,d=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletId=0,t.id=1,t.atk=10,t.atker=null,t.canMove=!0,t.canBreak=!0,t.canPenetrate=!1,t.canWall=!1,t.boomEffect=null,t.hitEffect=null,t.hitAudio="",t.isHartMusic=!0,t.hitEffectType=0,t.hartInterval=0,t.isHitEffectAngle=!1,t.isAngle=!1,t.isBoom=!1,t.isRecord=!0,t.dir=null,t._lastPos=null,t.atkedArr=[],t}var i;return n(t,e),i=t,t.prototype.start=function(){if(c.gameMgr&&c.gameMgr.setMapTs.checkNode(this.node,!0),0==this.node.zIndex&&(this.isBoom?this.node.zIndex=r.ZindexLayer.zindex_bomb:"liewen"===this.node.name?this.node.zIndex=r.ZindexLayer.zinedx_floorLiewen:this.node.zIndex=r.ZindexLayer.zindex_bullet+this.bulletId),"bullet_sd"==this.node.name||"bullet_hdl"==this.node.name){var e=this.node.getComponent(cc.BoxCollider);e&&(cc.tween(e.size).to(.3,{height:550}).start(),cc.tween(e.offset).to(.3,{x:700}).start())}},t.prototype.onDisable=function(){this._lastPos=null},t.prototype.lateUpdate=function(){if(this.isAngle)if(this._lastPos){var e=this.node.getPosition().subSelf(this._lastPos);0==e.equals(cc.Vec2.ZERO)&&(this.node.angle=-cc.v2(e).signAngle(cc.v2(1,0))/Math.PI*180,this._lastPos=this.node.getPosition())}else this._lastPos=this.node.getPosition()},t.prototype.onCollisionEnter=function(e,t){var o=this;if(1==e.tag){var n=e.getComponent(l.default);if(n.id==this.id)return;if(this.canBreak&&!this.canPenetrate)this.node.destroy();else{if(this.atkedArr.includes(e.node))return;this.isRecord&&this.atkedArr.push(e.node)}if(this.hitEffect&&!a.cocosz.isPause){if((v=cc.instantiate(this.hitEffect)).zIndex=r.ZindexLayer.zindex_effect_hit,1==this.hitEffectType)v.parent=e.node,this.isHitEffectAngle&&(v.angle=-cc.v2(this.dir).signAngle(cc.v2(1,0))/Math.PI*180);else{var s=this.node.getPosition();(f=this.node.width)<5&&(g=this.node.getComponent(cc.BoxCollider))&&(f+=g.offset.x),s=s.add(cc.v2(f,0).rotate(this.node.angle/180*Math.PI)),v.parent=this.node.parent,v.setPosition(s)}this.hitAudio&&c.gameMgr.playEffect(this.hitAudio,this.node)}if(this.boomEffect)return(p=cc.instantiate(this.boomEffect)).parent=this.node.parent,p.setPosition(this.node.getPosition()),p.zIndex=r.ZindexLayer.zindex_bomb,c.gameMgr.playEffect("explo",p),(_=p.getComponent(i)).atk=this.atk,_.atker=this.atker,_.id=this.id,void(_.dir=this.dir);if(c.gameMgr.blood&&t.world&&t.world.points&&t.world.points[0]){var u=null;if((u=cc.instantiate(c.gameMgr.blood)).parent=c.gameMgr.map,u.zIndex=r.ZindexLayer.zindex_blood,s=u.parent.convertToNodeSpaceAR(cc.v2(t.world.points[0].x,t.world.points[0].y)),this.dir){var h=-cc.v2(this.dir).signAngle(cc.v2(0,1))/Math.PI*180;u.angle=h}u.setPosition(s)}if(this.isBoom){var d=e.node.getPosition().subSelf(this.node.getPosition()).normalizeSelf();d.equals(cc.Vec2.ZERO)&&(d=cc.v2(1,0).rotateSelf(2*Math.PI*Math.random())),this.dir=d.mulSelf(3)}else!this.canMove&&this.dir&&this.dir.mag()<2&&this.dir.normalizeSelf().mulSelf(2);n.hart(this.atk,this.atker,this.dir,this.isHartMusic),this.hartInterval&&this.schedule(function(){n&&n.isValid&&o.atkedArr.includes(n.node)&&n.hart(o.atk,o.atker,o.dir,o.isHartMusic)},this.hartInterval)}else if(5==e.tag){var p,_,f,g,v;if(this.boomEffect&&((p=cc.instantiate(this.boomEffect)).parent=this.node.parent,p.setPosition(this.node.getPosition()),(_=p.getComponent(i)).atk=this.atk,_.atker=this.atker,_.id=this.id,c.gameMgr.playEffect("explo",p)),this.canBreak&&!this.canWall)s=this.node.getPosition(),(f=this.node.width)<5&&(g=this.node.getComponent(cc.BoxCollider))&&(f+=g.offset.x),s=s.add(cc.v2(f,0).rotate(this.node.angle/180*Math.PI)),this.hitEffect&&1!=this.hitEffectType?((v=cc.instantiate(this.hitEffect)).parent=this.node.parent,v.setPosition(s),v.zIndex=r.ZindexLayer.zindex_effect_hit):((v=cc.instantiate(c.gameMgr.spark)).parent=this.node.parent,v.setPosition(s),v.zIndex=r.ZindexLayer.zindex_effect_spark),this.node.destroy()}},s([d()],t.prototype,"bulletId",void 0),s([d()],t.prototype,"canMove",void 0),s([d({tooltip:"\u80fd\u5426\u963b\u65ad"})],t.prototype,"canBreak",void 0),s([d({tooltip:"\u80fd\u5426\u7a7f\u900f\u654c\u4eba"})],t.prototype,"canPenetrate",void 0),s([d({tooltip:"\u80fd\u5426\u7a7f\u900f\u5899\u58c1"})],t.prototype,"canWall",void 0),s([d(cc.Prefab)],t.prototype,"boomEffect",void 0),s([d(cc.Prefab)],t.prototype,"hitEffect",void 0),s([d({type:cc.String,tooltip:"\u5b50\u5f39\u97f3\u6548"})],t.prototype,"hitAudio",void 0),s([d({tooltip:"\u654c\u4eba\u53d7\u4f24\u662f\u5426\u53d1\u51fa\u97f3\u6548"})],t.prototype,"isHartMusic",void 0),s([d()],t.prototype,"hitEffectType",void 0),s([d()],t.prototype,"hartInterval",void 0),s([d({tooltip:"\u51fb\u4e2d\u6548\u679c\u8bbe\u7f6e\u89d2\u5ea6"})],t.prototype,"isHitEffectAngle",void 0),s([d({tooltip:"\u6bcf\u5e27\u8bbe\u7f6e\u89d2\u5ea6"})],t.prototype,"isAngle",void 0),s([d({tooltip:"\u662f\u5426\u7206\u70b8\u5b50\u5f39"})],t.prototype,"isBoom",void 0),s([d({tooltip:"\u662f\u5426\u8bb0\u5f55\u53d7\u4f24\u8005"})],t.prototype,"isRecord",void 0),i=s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./gameMgr":"gameMgr","./person":"person"}],gameDate:[function(e,t,i){"use strict";cc._RF.push(t,"9716b694upCZocbSYxp8T5t","gameDate");var o=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RewardType=i.PriceType=void 0;var n,s,a=cc._decorator,r=a.ccclass;a.property,function(e){e[e.Gold=0]="Gold",e[e.Diamond=1]="Diamond",e[e.RankReward=2]="RankReward",e[e.ZhuanPanReward=3]="ZhuanPanReward",e[e.Level=4]="Level"}(n=i.PriceType||(i.PriceType={})),function(e){e[e.Gold=0]="Gold",e[e.Diamond=1]="Diamond",e[e.Skin=2]="Skin",e[e.Weapon=3]="Weapon"}(s=i.RewardType||(i.RewardType={}));var c=function(){function e(){}return e.TimeReward=[{time:60,coinNum:1e3,diamondNum:100},{time:300,coinNum:1500,diamondNum:150},{time:900,coinNum:2e3,diamondNum:200},{time:1800,coinNum:3e3,diamondNum:250},{time:3600,coinNum:5e3,diamondNum:300}],e.TurntableReward=[{type:s.Gold,num:100},{type:s.Gold,num:50},{type:s.Diamond,num:10},{type:s.Gold,num:50},{type:s.Gold,num:150},{type:s.Skin,num:11},{type:s.Gold,num:200},{type:s.Gold,num:50},{type:s.Diamond,num:20},{type:s.Gold,num:50},{type:s.Gold,num:200},{type:s.Weapon,num:14}],e.Weapon={ak:{name:"ak\u6b65\u67aa",id:0,atk:[30,33,35,40],atkRange:1e3,flySpeed:2500,atkSpeed:[1/3.5,1/3.5,.25,.25],bulletNum:30,bulletTotal:[90,90,90,120],reload:3,priceType:n.Gold,price:0},cfq:{name:"\u51b2\u950b\u67aa",id:1,atk:[20,22,25,30],atkRange:1e3,flySpeed:2500,atkSpeed:[.25,.25,1/4.5,.2],bulletNum:25,bulletTotal:[75,75,100,100],reload:2.5,priceType:n.Gold,price:1e3},dao:{name:"\u5200",id:2,atk:[60,65,72,75],atkRange:300,flySpeed:0,atkSpeed:[.5,.4,1/3,1/3],bulletNum:1,bulletTotal:[1,1,1,1],reload:3,priceType:n.Gold,price:2e3},gj:{name:"\u5149\u5251",id:3,atk:[55,66,72,80],atkRange:300,flySpeed:0,atkSpeed:[.5,.4,1/3,1/3],bulletNum:1,bulletTotal:[1,1,1,1],reload:3,priceType:n.Gold,price:3500},jgb:{name:"\u91d1\u7b8d\u68d2",id:4,atk:[100,150,200,250],atkRange:300,flySpeed:0,atkSpeed:[1,1,1/1.5,1/1.5],bulletNum:1,bulletTotal:[1,1,1,1],reload:3,priceType:n.Diamond,price:500},sd:{name:"\u6563\u5f39\u67aa",id:5,atk:[140,160,180,200],atkRange:1e3,flySpeed:2e3,atkSpeed:[.5,.5,.5,.5],bulletNum:2,bulletTotal:[10,12,14,16],reload:3,priceType:n.Gold,price:1500},hdl:{name:"HDL",id:6,atk:[40,45,48,50],atkRange:1e3,flySpeed:2e3,atkSpeed:[1/3,.25,.2,.2],bulletNum:20,bulletTotal:[60,80,100,120],reload:2.5,priceType:n.Gold,price:2e3},sq:{name:"\u624b\u67aa",id:7,atk:[40,45,50,60],atkRange:1e3,flySpeed:2e3,atkSpeed:[.5,.4,.4,.25],bulletNum:8,bulletTotal:[24,32,40,48],reload:2,priceType:n.Gold,price:500},ju:{name:"\u72d9\u51fb\u67aa",id:8,atk:[200,250,300,400],atkRange:1500,flySpeed:2500,atkSpeed:[1,1,.5,.5],bulletNum:2,bulletTotal:[8,10,12,14],reload:3,priceType:n.Gold,price:5e3},ld:{name:"\u69b4\u5f39\u67aa",id:9,atk:[100,120,130,140],atkRange:800,flySpeed:2e3,atkSpeed:[.5,.4,.25,.25],bulletNum:3,bulletTotal:[15,18,21,24],reload:3,priceType:n.Diamond,price:500},nnp:{name:"\u9e1f\u9e1f\u67aa",id:10,atk:[75,80,90,100],atkRange:1e3,flySpeed:2e3,atkSpeed:[.5,.5,1/3,.25],bulletNum:5,bulletTotal:[20,25,30,35],reload:3,priceType:n.ZhuanPanReward,price:0,videoCount:5},gtst:{name:"\u94a2\u94c1\u624b\u5957",id:11,atk:[30,40,45,60],atkRange:1e3,flySpeed:2e3,atkSpeed:[.2,.2,.2,.2],bulletNum:10,bulletTotal:[40,50,60,70],reload:3,priceType:n.Diamond,price:300},tb:{name:"\u94c1\u68d2",id:12,atk:[40,50,55,60],atkRange:300,flySpeed:0,atkSpeed:[.5,.4,1/3,1/3],bulletNum:1,bulletTotal:[1,1,1,1],reload:3,priceType:n.Gold,price:1e3},mb:{name:"\u6728\u68d2",id:13,atk:[30,35,40,50],atkRange:300,flySpeed:0,atkSpeed:[.5,.4,1/3,1/3],bulletNum:1,bulletTotal:[1,1,1,1],reload:3,priceType:n.Gold,price:500},mq:{name:"\u55b5\u67aa",id:14,atk:[40,44,46,50],atkRange:1e3,flySpeed:2e3,atkSpeed:[.2,.2,.2,.2],bulletNum:30,bulletTotal:[60,70,80,90],reload:3,priceType:n.ZhuanPanReward,price:0,videoCount:1},szg:{name:"\u5f29\u7bad",id:15,atk:[110,150,200,250],atkRange:2e3,flySpeed:3e3,atkSpeed:[1,1,1,.5],bulletNum:1,bulletTotal:[11,12,13,15],reload:3,priceType:n.Diamond,price:500},rsq:{name:"\u956d\u5c04\u67aa",id:16,atk:[35,40,45,50],atkRange:1e3,flySpeed:2e3,atkSpeed:[.2,.2,.2,.2],bulletNum:15,bulletTotal:[45,50,75,90],reload:3,priceType:n.Gold,price:3e3},cjj:{name:"\u5c16\u53eb\u9e21",id:17,atk:[50,54,63,72],atkRange:600,flySpeed:0,atkSpeed:[.5,.5,1/3,1/3],bulletNum:5,bulletTotal:[30,35,40,45],reload:3,priceType:n.Diamond,price:300,videoCount:1},jtl:{name:"\u52a0\u7279\u6797",id:18,atk:[30,35,40,45],atkRange:1e3,flySpeed:2500,atkSpeed:[1/9,1/9,1/9,1/9],bulletNum:50,bulletTotal:[150,150,200,250],reload:3,priceType:n.Diamond,price:1e3,videoCount:2},sq2:{name:"\u53cc\u67aa",music:"sq",id:19,atk:[40,45,50,60],atkRange:1e3,flySpeed:2e3,atkSpeed:[.25,.25,.25,.25],bulletNum:12,bulletTotal:[48,48,60,60],reload:2,priceType:n.Gold,price:2e3},tj:{name:"\u7a81\u51fb\u6b65\u67aa",music:"ak",id:20,atk:[30,35,40,50],atkRange:1e3,flySpeed:2500,atkSpeed:[1/7,1/7,1/7,1/7],bulletNum:15,bulletTotal:[90,90,90,105],reload:3,priceType:n.Gold,price:2e3},fs:{name:"\u8f90\u5c04",music:"rsq",id:21,atk:[35,40,45,50],atkRange:1e3,flySpeed:2e3,atkSpeed:[.2,.2,.2,.2],bulletNum:15,bulletTotal:[45,45,60,60],reload:3,priceType:n.Gold,price:2e3}},e.SkinMess={1:{name:"\u5c0f\u9ed1\u4eba",xuedi:3,hp:[330,350,360,370,380,400,450],atk:[1,2,4,6,8,9,10],speed:[520,530,540,550,560,570,580],priceType:n.Gold,price:0},2:{name:"\u87ba\u4e1d\u8111",xuedi:3,hp:[350,370,380,390,420,430,440],atk:[2,4,5,6,8,10,12],speed:[525,535,545,555,565,575,600],priceType:n.Gold,price:1e3},3:{name:"\u8759\u8760\u5934",xuedi:4,hp:[360,370,380,390,400,420,450],atk:[4,6,8,10,12,14,18],speed:[523,534,556,576,587,602,624],priceType:n.Gold,price:2500},4:{name:"\u94c1\u76d4\u5934",xuedi:6,hp:[400,420,440,460,480,500,520],atk:[1,2,4,6,8,10,12],speed:[502,513,523,533,543,553,563],priceType:n.Diamond,price:1e3,videoCount:2},5:{name:"\u725b\u5934",xuedi:5,hp:[366,374,382,396,420,450,480],atk:[3,5,7,11,14,15,18],speed:[525,534,556,566,573,584,600],priceType:n.Diamond,price:500,videoCount:1},6:{name:"\u9ab7\u9ac5\u5934",xuedi:4,hp:[363,372,384,397,420,444,453],atk:[1,3,7,9,11,14,16],speed:[500,510,520,530,540,550,560],priceType:n.Diamond,price:300},7:{name:"\u6d77\u5175\u5934",xuedi:4,hp:[363,372,386,393,424,452,463],atk:[2,3,6,8,11,13,14],speed:[515,534,555,572,584,603,610],priceType:n.Gold,price:2e3},8:{name:"\u5c0f\u5973\u5b69",xuedi:4,hp:[362,377,386,393,429,444,458],atk:[1,2,4,6,8,10,12],speed:[521,530,550,570,580,600,606],priceType:n.Gold,price:2e3},9:{name:"\u5c0f\u76d2\u5b50",xuedi:4,hp:[364,376,387,392,421,447,463],atk:[1,3,6,9,12,15,16],speed:[525,535,545,555,565,575,600],priceType:n.Diamond,price:250},10:{name:"\u5c0f\u7ea2\u5e3d",xuedi:3,hp:[362,373,385,396,421,456,480],atk:[2,5,8,12,14,15,16],speed:[523,544,554,573,585,509,606],priceType:n.Gold,price:1500},11:{name:"\u62f3\u7687",xuedi:5,hp:[368,376,384,396,425,458,468],atk:[1,5,8,10,15,17,20],speed:[524,533,544,556,571,582,605],priceType:n.ZhuanPanReward,price:0,videoCount:1},12:{name:"\u7070\u80e1\u5b50",xuedi:4,hp:[353,372,385,403,421,444,459],atk:[1,2,3,5,6,9,11],speed:[502,513,534,543,558,563,584],priceType:n.Gold,price:2e3}},e.EnemyMess={0:{name:"\u53f2\u83b1\u59c6",hp:95,atk:34,atkSpeed:2,atkRange:300,speed:330},1:{name:"\u5c0f\u7ea2\u4eba",hp:130,atk:0,atkSpeed:1,atkRange:800,speed:450},2:{name:"\u62f3\u51fb\u624b",hp:400,atk:50,atkSpeed:2,atkRange:400,speed:400},3:{name:"\u673a\u67aa\u624b",hp:250,atk:0,atkSpeed:1,atkRange:1e3,speed:400},4:{name:"\u96ea\u4eba",hp:600,atk:40,atkSpeed:2,atkRange:300,speed:400},5:{name:"\u53cc\u67aa",hp:1e3,atk:0,atkSpeed:1,atkRange:1e3,speed:450},6:{name:"\u5821\u5792",hp:500,atk:50,atkSpeed:1,atkRange:1e3,speed:0},7:{name:"\u6d77\u8c79\u7a81\u51fb",hp:400,atk:0,atkSpeed:1,atkRange:1e3,speed:450},8:{name:"\u8f90\u5c04\u8005",hp:400,atk:0,atkSpeed:1,atkRange:1e3,speed:420},9:{name:"\u5766\u514b\u70ae",hp:800,atk:200,atkSpeed:2,atkRange:1e3,speed:440},10:{name:"\u6811\u4eba",hp:500,atk:50,atkSpeed:2,atkRange:300,speed:200},11:{name:"\u91ce\u732a",hp:400,atk:50,atkSpeed:2,atkRange:400,speed:300},12:{name:"\u6811\u7cbe",hp:1e3,atk:50,atkSpeed:2,atkRange:500,speed:250},13:{name:"\u8725\u8734",hp:1e3,atk:60,atkSpeed:1,atkRange:500,speed:450}},e.SkillMess={1:{name:"\u81ea\u6108",cd:10,num:30,introduce_zh:"\u6062\u590d\u8840\u91cf",introduce_en:"Restore HP",level:[{num:"150%",introduce_zh:"\u56de\u590d\u91cf\u63d0\u534750%",introduce_en:"Increase the number of replies by 50%"},{num:"150%",cd:"80%",introduce_zh:"\u56de\u590d\u91cf\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",introduce_en:"Recovery increased by 50%, cooling time reduced by 20%"},{num:"150%",cd:"50%",introduce_zh:"\u56de\u590d\u91cf\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",introduce_en:"Recovery increased by 50%, cooling time reduced by 50%"}]},2:{name:"\u8840\u8760",cd:10,num:50,target:"enemy",introduce_zh:"\u53ec\u5524\u8840\u8760\u653b\u51fb\u654c\u4eba",introduce_en:"Summon blood bats to attack enemies",level:[{num:"125%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534725%",introduce_en:"Damage increased by 25%"},{num:"125%",cd:"70%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",introduce_en:"Damage increased by 25%, cooling time reduced by 30%"},{num:"145%",cd:"50%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534745%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",introduce_en:"Damage increased by 45%, cooling time reduced by 50%"}]},3:{name:"\u94c1\u7532",cd:10,num:2,introduce_zh:"\u751f\u6210\u62a4\u76fe\u62b5\u6321\u4f24\u5bb3",introduce_en:"Generate shield to resist damage",level:[{num:"150%",cd:"80%",scale:"1.2",introduce_zh:"\u6301\u7eed3\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",introduce_en:"Lasts for 3 seconds, cooling time reduced by 20%"},{num:"200%",cd:"70%",scale:"1.4",introduce_zh:"\u6301\u7eed4\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",introduce_en:"Lasts for 4 seconds, cooling time reduced by 30%"},{num:"250%",cd:"60%",scale:"1.6",introduce_zh:"\u6301\u7eed5\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",introduce_en:"Lasts for 5 seconds, cooling time reduced by 40%"}]},4:{name:"\u6124\u6012",cd:10,num:40,introduce_zh:"\u589e\u52a0\u653b\u51fb\u529b",introduce_en:"Increase attack power",level:[{num:"120%",introduce_zh:"\u653b\u51fb\u529b\u63d0\u534720%",introduce_en:"Attack power increased by 20%"},{num:"130%",cd:"90%",introduce_zh:"\u653b\u51fb\u529b\u63d0\u534730%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1110%",introduce_en:"Attack power increased by 30%, cooling time reduced by 10%"},{num:"140%",cd:"70%",introduce_zh:"\u653b\u51fb\u529b\u63d0\u534740%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",introduce_en:"Attack power increased by 40%, cooling time reduced by 30%"}]},5:{name:"\u51a5\u706b",cd:10,num:100,target:"enemy",introduce_zh:"\u53ec\u5524\u706b\u7130\u653b\u51fb\u654c\u4eba",introduce_en:"Summon fire to attack enemies",level:[{num:"120%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534720%",introduce_en:"Attack power increased by 20%"},{num:"150%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534750%",introduce_en:"Attack power increased by 50%"},{num:"150%",cd:"50%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",introduce_en:"Damage increased by 50%, cooling time reduced by 50%"}]},6:{name:"\u6c34\u76fe",cd:10,num:.5,introduce_zh:"\u53ec\u5524\u6c34\u7403\u62a4\u76fe",introduce_en:"Summon water polo shield",level:[{num:"120%",introduce_zh:"\u62a4\u76fe\u589e\u52a020%",introduce_en:"Shield increased by 20%"},{num:"130%",cd:"80%",introduce_zh:"\u62a4\u76fe\u589e\u52a030%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",introduce_en:"Shield increased by 30%, cooling time reduced by 20%"},{num:"130%",cd:"60%",introduce_zh:"\u62a4\u76fe\u589e\u52a030%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",introduce_en:"Shield increased by 30%, cooling time reduced by 40%"}]},7:{name:"\u98ce\u5203",cd:10,num:40,target:"enemy",introduce_zh:"\u91ca\u653e\u98ce\u5203\u653b\u51fb\u654c\u4eba",introduce_en:"Release the wind to attack the enemy",level:[{num:"120%",cd:"80%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534720%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",introduce_en:"Damage increased by 20%, cooling time reduced by 20%"},{num:"150%",cd:"70%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",introduce_en:"Damage increased by 50%, cooling time reduced by 30%"},{num:"150%",cd:"50%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",introduce_en:"Damage increased by 50%, cooling time reduced by 50%"}]},8:{name:"\u76f2\u76d2",cd:20,num:1,introduce_zh:"\u968f\u673a\u6389\u843d\u9053\u5177",introduce_en:"Random dropping items",level:[{num:"200%",introduce_zh:"\u6389\u843d\u9053\u5177+1",introduce_en:"Drop item+1"},{num:"300%",introduce_zh:"\u6389\u843d\u9053\u5177+2",introduce_en:"Drop item+2"},{num:"300%",cd:"80%",introduce_zh:"\u6389\u843d\u9053\u5177+2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",introduce_en:"Drop item+2, cooling time reduced by 20%"}]},9:{name:"\u6bd2\u57df",cd:15,num:4,target:"enemy",introduce_zh:"\u53ec\u5524\u6bd2\u9635",introduce_en:"Random dropping items",level:[{num:"125%",scale:"1.2",introduce_zh:"\u6301\u7eed5\u79d2,\u8303\u56f4\u6269\u592720%",introduce_en:"Lasts for 5 seconds, the range expands by 20%"},{num:"150%",scale:"1.5",introduce_zh:"\u6301\u7eed6\u79d2,\u8303\u56f4\u6269\u592750%",introduce_en:"Lasts for 6 seconds, the range expands by 50%"},{num:"150%",scale:"1.5",cd:"60%",introduce_zh:"\u6301\u7eed6\u79d2,\u8303\u56f4\u6269\u592750,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",introduce_en:"Lasts for 6 seconds, the range is expanded by 50%"}]},10:{name:"\u81f3\u9ad8\u4e4b\u62f3",cd:10,num:140,target:"enemy",introduce_zh:"\u53ec\u5524\u62f3\u5934\u653b\u51fb",introduce_en:"Summon fist attack",level:[{num:"120%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534725%",introduce_en:"Damage increased by 25%"},{num:"130%",cd:"60%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",introduce_en:"Damage increased by 25%, cooling time reduced by 40%"},{num:"140%",cd:"40%",scale:"1.5",introduce_zh:"\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1160%",introduce_en:"Damage increased by 25%, cooling time reduced by 60%"}]},11:{name:"\u77ac\u95ea",cd:2,num:300,introduce_zh:"\u95ea\u73b0\u4e00\u6bb5\u8ddd\u79bb",introduce_en:"Flash a distance",level:[{num:"120%",introduce_zh:"\u95ea\u73b0\u8303\u56f4+20%",introduce_en:"Flash range+20%"},{num:"150%",introduce_zh:"\u95ea\u73b0\u8303\u56f4+50%",introduce_en:"Flash range+50%"},{num:"150%",cd:"50%",introduce_zh:"\u95ea\u73b0\u8303\u56f4+50%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",introduce_en:"Flash range+50%, cooling time reduced by 50%"}]},12:{name:"\u4e16\u754c\u7f29\u5c0f\u5668",cd:0,num:1,introduce_zh:"\u8840\u91cf\u589e\u52a0,\u4eba\u7269\u53d8\u5927",introduce_en:"The life increases and the character becomes larger",level:[{num:"120%",scale:"1",introduce_zh:"\u8840\u91cf\u589e\u52a020%,\u4eba\u7269\u53d8\u5927",introduce_en:"HP increased by 20%, and the character became larger"},{num:"140%",scale:"1.1",introduce_zh:"\u8840\u91cf\u589e\u52a040%,\u4eba\u7269\u53d8\u5927",introduce_en:"HP increased by 40%, and the character became larger"},{num:"150%",scale:"1.2",introduce_zh:"\u8840\u91cf\u589e\u52a050%,\u4eba\u7269\u53d8\u5927",introduce_en:"HP increased by 50%, and the character became larger"}]},13:{name:"\u4e16\u754c\u6269\u5927\u4eea",cd:0,num:1,introduce_zh:"\u901f\u5ea6\u589e\u52a0,\u4eba\u7269\u53d8\u5c0f",introduce_en:"The speed increases and the characters become smaller",level:[{num:"120%",scale:"0.6",introduce_zh:"\u901f\u5ea6\u589e\u52a020%,\u4eba\u7269\u53d8\u5c0f",introduce_en:"Speed increases by 20%, and the characters become smaller"},{num:"135%",scale:"0.55",introduce_zh:"\u901f\u5ea6\u589e\u52a035%,\u4eba\u7269\u53d8\u5c0f",introduce_en:"Speed increases by 35%, and the characters become smaller"},{num:"150%",scale:"0.5",introduce_zh:"\u901f\u5ea6\u589e\u52a050%,\u4eba\u7269\u53d8\u5c0f",introduce_en:"Speed increases by 50%, and the characters become smaller"}]},14:{name:"\u66b4\u8d70\u836f\u5242",cd:0,num:1,introduce_zh:"\u5c04\u901f\u63d0\u5347,\u6362\u5f39\u52a0\u5feb",introduce_en:"Increase the firing speed and speed up the cartridge change",level:[{num:"80%",introduce_zh:"\u5c04\u901f\u589e\u52a020%",introduce_en:"Fire speed increased by 20%"},{num:"70%",reload:"60%",introduce_zh:"\u5c04\u901f\u589e\u52a030%,\u6362\u5f39\u63d0\u534740%",introduce_en:"The firing speed is increased by 30%, cartridge change is increased by 40%"},{num:"60%",reload:"40%",introduce_zh:"\u5c04\u901f\u589e\u52a040%,\u6362\u5f39\u63d0\u534760%",introduce_en:"The firing speed is increased by 40%, cartridge change is increased by 60%"}]},15:{name:"\u5b50\u5f39\u80cc\u5305",cd:0,num:1,introduce_zh:"\u589e\u52a0\u5b50\u5f39",introduce_en:"Add bullets",level:[{num:"120%",introduce_zh:"\u5b50\u5f39\u6570\u91cf\u589e\u52a020%",introduce_en:"Number of bullets increased by 20%"},{num:"140%",introduce_zh:"\u5b50\u5f39\u6570\u91cf\u589e\u52a040%",introduce_en:"Number of bullets increased by 40%"},{num:"160%",introduce_zh:"\u5b50\u5f39\u6570\u91cf\u589e\u52a060%",introduce_en:"Number of bullets increased by 60%"}]},16:{name:"\u5200\u5ba2",cd:0,num:1,introduce_zh:"\u8fd1\u6218\u6b66\u5668\u4f24\u5bb3\u63d0\u5347",introduce_en:"Melee weapon damage increased",level:[{num:"120%",introduce_zh:"\u8fd1\u6218\u4f24\u5bb3\u589e\u52a020%",introduce_en:"Melee damage increased by 20%"},{num:"140%",introduce_zh:"\u8fd1\u6218\u4f24\u5bb3\u589e\u52a040%",introduce_en:"Melee damage increased by 40%"},{num:"180%",introduce_zh:"\u8fd1\u6218\u4f24\u5bb3\u589e\u52a080%",introduce_en:"Melee damage increased by 80%"}]}},e.PathMess={path:{mapWidth:6e3,mapHeight:5e3,gridWidth:200,gridHeight:200,pathArr:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,0,0,1,1,1,0,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}},e.ZombieMess={0:{name:"\u5c0f\u50f5",hp:90,atk:1,atkRange:200,speed:420},1:{name:"\u94c1\u901a\u50f5",hp:200,atk:1,atkRange:200,speed:400},2:{name:"\u8dd1\u6b65\u50f5",hp:120,atk:1,atkRange:220,speed:450},3:{name:"\u8df3\u8dc3\u50f5",hp:150,atk:1,atkRange:220,speed:440},4:{name:"\u83dc\u5200\u50f5",hp:300,atk:1,atkRange:220,speed:400},5:{name:"\u70b8\u5f39\u50f5",hp:150,atk:1,atkRange:1e3,speed:400},6:{name:"\u6bd2\u836f\u50f5",hp:250,atk:1,atkRange:1e3,speed:400},7:{name:"\u91d1\u5e01\u50f5",hp:250,atk:1,atkRange:200,speed:400},8:{name:"boss1",hp:1500,atk:1,atkRange:300,speed:500},9:{name:"boss2",hp:2e3,atk:1,atkRange:350,speed:500},10:{name:"boss3",hp:2500,atk:1,atkRange:200,speed:500},11:{name:"boss4",hp:3e3,atk:1,atkRange:250,speed:500},12:{name:"boss5",hp:3500,atk:1,atkRange:250,speed:500},13:{name:"boss6",hp:4e3,atk:1,atkRange:250,speed:500},14:{name:"boss7",hp:4500,atk:1,atkRange:450,speed:500},15:{name:"boss8",hp:5e3,atk:1,atkRange:400,speed:500},16:{name:"boss9",hp:5500,atk:1,atkRange:300,speed:500},17:{name:"boss10",hp:6e3,atk:1,atkRange:200,speed:500},18:{name:"boss11",hp:6600,atk:1,atkRange:300,speed:500},19:{name:"boss12",hp:7200,atk:1,atkRange:450,speed:500},20:{name:"boss13",hp:8e3,atk:1,atkRange:300,speed:500}},o([r],e)}();i.default=c,cc._RF.pop()},{}],gameMgr:[function(e,t,i){"use strict";cc._RF.push(t,"ba7855a2NtE/b6oGliHwfNV","gameMgr");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.gameMgr=void 0;var a=e("../Framework/CocosZ"),r=e("../../common-plugin/Scripts/Utils"),c=e("../Framework/Constant"),l=e("./UpgradeMgr"),u=e("../../common-plugin/Scripts/YZ_Constant"),h=e("./ZombieBase"),d=cc._decorator,p=d.ccclass,_=d.property;i.gameMgr=null;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodePoolObj={},t.canSHowGameBanner=!0,t.tipLayer=null,t.setMapTs=null,t.playerTs=null,t.uiGamePage=null,t.moveArea=null,t.yaogan=null,t.BtnBullet=null,t.posObj={},t.dmmArr=[],t.red=null,t.hpTip=null,t.effect_fire=null,t.effect_hit=null,t.itemList=[],t.itemEffect=[],t.spark=null,t.blood=null,t.testPoint=null,t.player=null,t.jiaoyin=null,t.fj=null,t.fjTip=null,t.mainCamereRootNode=null,t.mainCamera=null,t.atk=null,t.safeCenter=cc.v2(0,0),t.redCircle=null,t.redCircle2=null,t.mapSize=cc.winSize,t.miniMapSize=null,t.btnSkill=null,t.btnSkillAd=null,t.rangedWeaponMess=null,t.rangedWeaponAdMess=null,t.ammo=null,t.ammoAd=null,t.kt=null,t.model6_touxiang=null,t.model6_btnShuxing=null,t.model6_shuxing=null,t.model6_jingyanBar=null,t.model6_levelLabel=null,t.model6_skillScrollView=null,t.model6_skillScrollView_content=null,t.model6_skillScrollView_item=null,t.model6_timeLabel=null,t.model6_ts=null,t.model6_bossBar=null,t.timeStr="",t.totalNum=0,t.deathNum=0,t.playerRank=1,t.passCondition=1,t.bossName="",t.map=null,t.startPoint=null,t.atkRange=null,t.curTime=0,t.timeLabel=null,t.snow=null,t.qlzc=null,t.GameTime=0,t.isGameStart=!1,t.posList=[],t.boss_border=null,t.zombieTime=0,t.zombieCurNum=0,t.zombieMaxNum=0,t.zombieLength=2,t.zombieArr=["zombie_basic","zombie_run","zombie_drum","zombie_jump","zombie_bomb","zombie_tank","zombie_poison"],t.bossArr=["boss1","boss2","boss3","boss4","boss11","boss5","boss12","boss6","boss7","boss8","boss9","boss10","boss13"],t.boss2Arr=[],t._recursionCount=0,t.lastTime=0,t.safeTime=40,t.startPos=null,t.isUp=!1,t.isDown=!1,t.isLeft=!1,t.isRight=!1,t.isPre=!0,t.clipNameArr={},t.isFail=!1,t.isWin=!1,t.isRevive=!1,t._timeArr=[0,.04,.05,.06,.07],t._disArr=[0,3,10,20,30],t._vibrateTime=0,t}return n(t,e),t.prototype.nodeGet=function(e,t){var i=null;return this.nodePoolObj[e]||(this.nodePoolObj[e]=new cc.NodePool),this.nodePoolObj[e].size()?i=this.nodePoolObj[e].get():t&&t.isValid&&(i=cc.instantiate(t)),i&&(i.name=e),i},t.prototype.nodePut=function(e,t){this.nodePoolObj[e]&&t&&t.isValid?this.nodePoolObj[e].put(t):cc.log("\u56de\u6536\u51fa\u9519: ",e)},t.prototype.onLoad=function(){i.gameMgr=this,i.gameMgr.mainCamera.zoomRatio=.65,a.cocosz.pauseCount=0},t.prototype.start=function(){this.mainCamereRootNode.setContentSize(cc.winSize),this.mainCamereRootNode.width+=500,this.mainCamereRootNode.height+=500,this.fjTip&&([5,7].includes(a.cocosz.gameMode)?this.fjTip.active=!1:(this.fjTip.active=!0,this.fjTip.zIndex=c.ZindexLayer.zindex_max))},t.prototype.lateUpdate=function(){a.cocosz.isPause||i.gameMgr.isWin||i.gameMgr.isFail||this.cameraFollow()},t.prototype.initPos=function(){var e=this;if(7==a.cocosz.gameMode){var t=cc.find("posLayer/bluePos",i.gameMgr.map);t&&(this.posObj.bluePos=t.getPosition());var o=cc.find("posLayer/redPos",i.gameMgr.map);o&&(this.posObj.redPos=o.getPosition()),this.posObj.pathPos0=[];var n=cc.find("posLayer/pathPos0",i.gameMgr.map);n&&n.children.forEach(function(t){e.posObj.pathPos0.push(t.getPosition())}),this.posObj.pathPos1=[];var s=cc.find("posLayer/pathPos1",i.gameMgr.map);s&&s.children.forEach(function(t){e.posObj.pathPos1.push(t.getPosition())}),this.posObj.pathPos2=[];var r=cc.find("posLayer/pathPos2",i.gameMgr.map);r&&r.children.forEach(function(t){e.posObj.pathPos2.push(t.getPosition())})}},t.prototype.startGame=function(){var e=this;this.tipLayer=new cc.Node,this.tipLayer.name="tipLayer",this.tipLayer.zIndex=c.ZindexLayer.zindex_roleLabel,this.tipLayer.setPosition(cc.Vec2.ZERO),this.tipLayer.setParent(i.gameMgr.map),6==a.cocosz.gameMode&&this.schedule(function(){e.update_model6_shuxing()},1),this.initPlayer()},t.prototype.initPlayer=function(){if(6==a.cocosz.gameMode){var e=cc.instantiate(this.player);e.scale=.6,e.setPosition(cc.v2(2e3,0).rotateSelf(2*Math.PI*Math.random())),e.setParent(this.map),this.totalNum++,this.fjEffect()}},t.prototype.fjEffect=function(){var e=this;if(this.fj&&this.playerTs){this.uiGamePage.active=!1,this.scheduleOnce(function(){e.playerTs.node.opacity=0,e.playerTs.playerMess.opacity=1,e.playerTs.ghAniNode.opacity=1}),this.followNode=this.fj,this.fj.active=!0,this.fj.setParent(i.gameMgr.map),this.scheduleOnce(function(){e.fj.zIndex=c.ZindexLayer.zindex_max});var t=cc.v2(this.playerTs.node.x,this.playerTs.node.y+500),o=t.sub(this.fj.getPosition());this.fj.scaleX=o.x<0?-1:1;var n=this.fj.getComponent(sp.Skeleton);n.addAnimation(0,"animation0",!0),a.cocosz.audioMgr.playEffect("fj",!0,1);var s=o.mag()/800;cc.tween(this.fj).to(s,{x:t.x,y:t.y}).call(function(){n.setAnimation(0,"animation1",!1),n.addAnimation(0,"animation2",!1),n.addAnimation(0,"animation4",!1),n.addAnimation(0,"animation5",!0)}).delay(2).call(function(){e.fjTip&&(e.fjTip.active=!1),e.fj.zIndex=c.ZindexLayer.zindex_max-1,e.playerTs.node.zIndex=c.ZindexLayer.zindex_max,e.playerTs.node.opacity=255,e.playerTs.rig.active=!1,e.followNode=e.playerTs.node,e.playerTs.node.y+=600,cc.tween(e.playerTs.node).delay(.5).to(1,{y:e.playerTs.node.y-600}).call(function(){e.uiGamePage.active=!0,e.playerTs.node.zIndex=c.ZindexLayer.zindex_player,e.playerTs.rig.active=!0,e.playerTs.playerMess.opacity=255,e.playerTs.ghAniNode.opacity=255,e.playerTs.updateAni("daiji_body",!0),e.initGame(),6==a.cocosz.gameMode?e.schedule(e.createZombieCount,1):cc.log("\u6a21\u5f0f\u6709\u95ee\u9898")}).start()}).delay(2).call(function(){e.fj.zIndex=c.ZindexLayer.zindex_max,n.setAnimation(0,"animation6",!1),n.addAnimation(0,"animation7",!1),n.addAnimation(0,"animation9",!1),n.addAnimation(0,"animation0",!0)}).delay(2).to(2,{position:cc.v3(o.normalize().mulSelf(2e3).add(o))}).call(function(){a.cocosz.audioMgr.stopEffect("fj"),e.fj.destroy()}).start()}},t.prototype.showGameTime=function(){if(this.model6_timeLabel&&this.model6_timeLabel.isValid){var e=this.GameTime,t=0,i=0;e>60&&(t=Math.floor(e/60),e=Math.floor(e%60),t>60&&(i=Math.floor(t/60),t=Math.floor(t%60)));var o="";o+=0==i?"":i+":",o+=t>=10?""+t:"0"+t,o+=e>=10?":"+e:":0"+e,this.timeStr=o,this.model6_timeLabel.string=o}},t.prototype.update_model6_xuedi=function(){i.gameMgr.playerTs&&i.gameMgr.playerTs.hpNumNode&&i.gameMgr.playerTs.hpNumNode.isValid&&(i.gameMgr.playerTs.hpNumNode.active=!0,i.gameMgr.playerTs.hpNumNode.width=Math.min(250,50*i.gameMgr.playerTs.totleHp),i.gameMgr.playerTs.hpNumNode.children.forEach(function(e,t){t<i.gameMgr.playerTs.totleHp?(e.active=!0,t<i.gameMgr.playerTs.HP?e.children[1].opacity=255:e.children[1].opacity=0):e.active=!1}))},t.prototype.update_model6_shuxing=function(){l.upgradeMgr&&i.gameMgr&&i.gameMgr.model6_shuxing&&i.gameMgr.model6_shuxing.isValid&&i.gameMgr.model6_shuxing.active&&(this.model6_shuxing.children[0].getComponent(cc.Label).string=l.upgradeMgr.curLevel.toString(),this.model6_shuxing.children[1].getComponent(cc.Label).string=(i.gameMgr.playerTs.atkNum*i.gameMgr.playerTs.atkRate).toFixed(0),this.model6_shuxing.children[2].getComponent(cc.Label).string=(i.gameMgr.playerTs.atkSpeed*i.gameMgr.playerTs.atkSpeedRate).toFixed(1),this.model6_shuxing.children[3].getComponent(cc.Label).string=(i.gameMgr.playerTs.reloadSpeed*i.gameMgr.playerTs.reloadRate).toFixed(1),this.model6_shuxing.children[4].getComponent(cc.Label).string=i.gameMgr.playerTs.curWeapon.bulletNum.toString(),this.model6_shuxing.children[5].getComponent(cc.Label).string=(i.gameMgr.playerTs.MoveSpeed*i.gameMgr.playerTs.speedRate).toFixed(0),this.model6_shuxing.children[6].getComponent(cc.Label).string=l.upgradeMgr.jingyanRange.toString())},t.prototype.showBossHp=function(e){e>0?(this.model6_bossBar&&cc.isValid(this.model6_bossBar)&&(this.model6_bossBar.node.active=!0,this.model6_bossBar.progress=e),this.model6_jingyanBar&&cc.isValid(this.model6_jingyanBar)&&(this.model6_jingyanBar.node.active=!1),this.model6_levelLabel&&cc.isValid(this.model6_levelLabel)&&(this.model6_levelLabel.node.active=!1)):(this.model6_bossBar&&cc.isValid(this.model6_bossBar)&&(this.model6_bossBar.node.active=!1,this.model6_bossBar.progress=e),this.model6_jingyanBar&&cc.isValid(this.model6_jingyanBar)&&(this.model6_jingyanBar.node.active=!0),this.model6_levelLabel&&cc.isValid(this.model6_levelLabel)&&(this.model6_levelLabel.node.active=!0))},t.prototype.createZombieCount=function(){var e=this;if(!(a.cocosz.isPause||i.gameMgr.isWin||i.gameMgr.isFail||(this.GameTime++,this.showGameTime(),this.boss_border))){this.zombieTime++;var t=1;if(0==this.zombieTime%100)this.createBossZombie(),this.zombieLength<this.zombieArr.length&&this.zombieLength++;else if(0==this.zombieTime%50){if(this.model6_ts){this.model6_ts.active=!0,this.scheduleOnce(function(){e.model6_ts.active=!1},3);var o=this.model6_ts.getComponent(sp.Skeleton);o.setSkin("sclx_"+a.cocosz.curLanguage),o.setAnimation(0,"animation",!0)}if(this.zombieMaxNum=20+10*Math.floor(this.zombieTime/40),this.zombieMaxNum>40&&(this.zombieMaxNum=40),this.zombieCurNum<this.zombieMaxNum){t=this.zombieMaxNum-this.zombieCurNum;for(var n=Math.ceil(t/10),s=0,r=0;r<n;r++)this.schedule(function(){s+=36,e.createCommonZombie(cc.winSize.height/2.5/e.mainCamera.zoomRatio,s)},.1,Math.ceil(t/n),r)}for(r=this.boss2Arr.length-1;r>=0&&r>=this.boss2Arr.length-2;r--){var c=this.boss2Arr[r];cc.log("\u521b\u5efa\u5c38\u6f6eboss: ",c),c&&this.createZombie(c,i.gameMgr.playerTs.node.getPosition(),cc.winSize.width/2/this.mainCamera.zoomRatio)}}else 0==this.zombieTime%51||0==this.zombieTime%52||0==this.zombieTime%53||0==this.zombieTime%54||0==this.zombieTime%55||(this.zombieMaxNum=5+5*Math.floor(this.zombieTime/20),this.zombieMaxNum>20&&(this.zombieMaxNum=20),this.zombieCurNum<this.zombieMaxNum&&(t=Math.ceil(4*Math.random()),this.schedule(function(){e.createCommonZombie(cc.winSize.height/2.5/e.mainCamera.zoomRatio)},.1,t)))}},t.prototype.createCommonZombie=function(e,t){var o=Math.floor(Math.random()*this.zombieLength),n=this.zombieArr[o];n&&this.createZombie(n,i.gameMgr.playerTs.node.getPosition(),e,t)},t.prototype.createBossZombie=function(){var e=this;if(this.bossArr.length){if(this.createBossBorder(),this.model6_ts){this.model6_ts.active=!0,this.scheduleOnce(function(){e.model6_ts.active=!1},3);var t=this.model6_ts.getComponent(sp.Skeleton);t.setSkin("bosslx_"+a.cocosz.curLanguage),t.setAnimation(0,"animation",!0)}var o=this.bossArr.shift(),n=i.gameMgr.playerTs.node.getPosition();this.boss_border&&(n=this.boss_border.getPosition()),o&&(this.boss2Arr.push(o),this.createZombie(o,n,300,null,!0))}},t.prototype.createBossBorder=function(){var e=a.cocosz.resMgr.getRes("boss_border",cc.Prefab);e&&(this.boss_border=cc.instantiate(e),this.boss_border.setPosition(i.gameMgr.playerTs.node.getPosition()),this.boss_border.x-this.boss_border.width/2<-i.gameMgr.mapSize.width/2?this.boss_border.x=-i.gameMgr.mapSize.width/2+this.boss_border.width/2+100:this.boss_border.x+this.boss_border.width/2>i.gameMgr.mapSize.width/2&&(this.boss_border.x=i.gameMgr.mapSize.width/2-this.boss_border.width/2-100),this.boss_border.y-this.boss_border.height/2<-i.gameMgr.mapSize.height/2?this.boss_border.y=-i.gameMgr.mapSize.height/2+this.boss_border.height/2+100:this.boss_border.y+this.boss_border.height/2>i.gameMgr.mapSize.height/2&&(this.boss_border.y=i.gameMgr.mapSize.height/2-this.boss_border.height/2-300),this.boss_border.setParent(this.map))},t.prototype.createZombie=function(e,t,o,n,s){var r=this;void 0===s&&(s=!1);var c=a.cocosz.resMgr.getRes(e,cc.Prefab);if(c){this._recursionCount=0;var l=this.getZombieBirthPos(t,o,n);if(l){var u=this.nodeGet(e,c);if(u){var d=u.getComponent(h.default);d&&s&&(d.isBoss=!0),u.setPosition(l),u.setParent(i.gameMgr.map),d&&d.initNode()}}}else a.cocosz.resMgr.loadAndCacheRes("prefab_zombie/"+e,cc.Prefab,null,function(i){i||r.createZombie(e,t,o,n,s)})},t.prototype.getZombieBirthPos=function(e,t,o){if(++this._recursionCount>100)return null;var n;n=null==o||null==o?2*Math.PI*Math.random():cc.misc.degreesToRadians(o);var s=cc.v2(t+Math.floor(200*Math.random()),0).rotateSelf(n),a=e.add(s);return a.x>-i.gameMgr.mapSize.width/2+400&&a.x<i.gameMgr.mapSize.width/2-400&&a.y<i.gameMgr.mapSize.height/2-400&&a.y>-i.gameMgr.mapSize.height/2+400?a:this.getZombieBirthPos(e,t)},t.prototype.initGame=function(){var e=this;this.startPos=this.yaogan.getPosition(),this.isGameStart=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this),this.moveArea.on(cc.Node.EventType.TOUCH_START,function(t){var i=t.getLocation();i=e.node.convertToNodeSpaceAR(i),e.yaogan.setPosition(i)},this),this.moveArea.on(cc.Node.EventType.TOUCH_MOVE,function(t){var o=t.getLocation().sub(t.getStartLocation());o.mag()>160&&(o=o.mul(160/o.mag())),e.yaogan.children[0].setPosition(o),i.gameMgr.playerTs.moveDir=o.normalize()},this),this.moveArea.on(cc.Node.EventType.TOUCH_END,function(){e.yaogan.setPosition(e.startPos),e.yaogan.children[0].setPosition(cc.v2(0,0)),i.gameMgr.playerTs.moveDir=cc.v2(0,0)},this),this.moveArea.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.yaogan.setPosition(e.startPos),e.yaogan.children[0].setPosition(cc.v2(0,0)),i.gameMgr.playerTs.moveDir=cc.v2(0,0)},this)},t.prototype.keyDown=function(e){switch(e.keyCode){case 87:this.isUp||(this.isUp=!0,this.setDir());break;case 83:this.isDown||(this.isDown=!0,this.setDir());break;case 65:this.isLeft||(this.isLeft=!0,this.setDir());break;case 68:this.isRight||(this.isRight=!0,this.setDir())}},t.prototype.keyUp=function(e){switch(e.keyCode){case 87:this.isUp=!1,this.setDir();break;case 83:this.isDown=!1,this.setDir();break;case 65:this.isLeft=!1,this.setDir();break;case 68:this.isRight=!1,this.setDir()}},t.prototype.cameraFollow=function(){var e=null,t=.1;if(this.followNode&&this.followNode.isValid&&(e=this.followNode.getPosition(),t=.1),e){var o=this.mainCamereRootNode.getPosition(),n=cc.Vec2.ZERO,s=this.mainCamera.zoomRatio,r=new cc.Size(cc.winSize.width/s,cc.winSize.height/s);7==a.cocosz.gameMode||(e.x+r.width/2>i.gameMgr.mapSize.width/2?e.x=i.gameMgr.mapSize.width/2-r.width/2:e.x-r.width/2<-i.gameMgr.mapSize.width/2&&(e.x=-i.gameMgr.mapSize.width/2+r.width/2),e.y+r.height/2>i.gameMgr.mapSize.height/2?e.y=i.gameMgr.mapSize.height/2-r.height/2:e.y-r.height/2<-i.gameMgr.mapSize.height/2&&(e.y=-i.gameMgr.mapSize.height/2+r.height/2)),e.sub(o).mag()<1e3?(cc.Vec2.lerp(n,o,e,t),this.mainCamereRootNode.setPosition(n)):(this.mainCamereRootNode.setPosition(e),i.gameMgr.setMapTs&&i.gameMgr.setMapTs.checkAllNode())}},t.prototype.setDir=function(){var e=cc.v2(0,0);this.isUp&&e.y++,this.isLeft&&e.x--,this.isRight&&e.x++,this.isDown&&e.y--,this.playerTs.moveDir=e.normalize()},t.prototype.restart=function(){},t.prototype.useMeleeWeapon=function(){},t.prototype.useRangedWeapon=function(){this.playerTs.changeCurWeapon(this.playerTs.rangedWeapon)},t.prototype.useRangedWeaponAd=function(){this.playerTs.changeCurWeapon(this.playerTs.rangedWeaponAd)},t.prototype.getNewWeapon=function(){a.cocosz.audioMgr.playEffect("changeWeapon"),this.playerTs.setNewWeapon()},t.prototype.playEffect=function(e,t,o){var n=this;if(void 0===o&&(o=.2),!(i.gameMgr.isWin||i.gameMgr.isFail||a.cocosz.isPause||this.clipNameArr[e])){if(t&&t.isValid&&t.parent&&t.parent.isValid){var s=t.getPosition();s=t.parent.convertToWorldSpaceAR(s);var r=this.playerTs.node.getPosition();if(r=this.playerTs.node.parent.convertToWorldSpaceAR(r),s.sub(r).mag()>2e3)return}a.cocosz.audioMgr.playEffect(e,!1,1),o>0&&(this.clipNameArr[e]=1,this.scheduleOnce(function(){n.clipNameArr[e]=0},o))}},t.prototype.playClip=function(e,t,o){var n=this;if(void 0===o&&(o=.2),!(i.gameMgr.isWin||i.gameMgr.isFail||a.cocosz.isPause||this.clipNameArr[e.name])){if(t&&t.isValid&&t.parent&&t.parent.isValid){var s=t.getPosition();s=t.parent.convertToWorldSpaceAR(s);var r=this.playerTs.node.getPosition();if(r=this.playerTs.node.parent.convertToWorldSpaceAR(r),s.sub(r).mag()>2e3)return}a.cocosz.audioMgr.playClip(e,!1,1),o>0&&(this.clipNameArr[e.name]=1,this.scheduleOnce(function(){n.clipNameArr[e.name]=0},o))}},t.prototype.showRoleTip=function(e,t,o){var n=this;if(void 0===o&&(o=cc.Color.WHITE),e&&e.isValid&&this.hpTip&&this.hpTip.isValid&&i.gameMgr.tipLayer){var s=this.nodeGet("hpTip",this.hpTip);if(s){s.setParent(i.gameMgr.tipLayer),s.setPosition(e.x+200*(Math.random()-.5),e.y+e.height/2),s.opacity=255,s.color=o,s.scale=o==cc.Color.WHITE?1:1.2;var a=s.getComponent(cc.Label);a&&(a.string=t),s.stopAllActions(),cc.tween(s).by(.5,{y:20,scale:1}).by(.3,{y:10,scale:-1,opacity:-255}).call(function(){n.nodePut("hpTip",s)}).start()}}},t.prototype.fail=function(){var e=this;this.isWin||this.isFail||(a.cocosz.pauseCount++,this.isFail=!0,this.unscheduleAllCallbacks(),l.upgradeMgr&&l.upgradeMgr.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.qlzc.active=!0,cc.tween(e.qlzc).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[0].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[1].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[2].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[0].active=!1,e.qlzc.getChildByName("dian").children[1].active=!1,e.qlzc.getChildByName("dian").children[2].active=!1}).union().repeatForever().start()},2),this.scheduleOnce(function(){a.cocosz.gameMgr.gameFailed()},4))},t.prototype.win=function(){var e=this;this.isWin||this.isFail||(a.cocosz.pauseCount++,this.isWin=!0,this.unscheduleAllCallbacks(),l.upgradeMgr&&l.upgradeMgr.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.qlzc.active=!0,cc.tween(e.qlzc).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[0].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[1].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[2].active=!0}).delay(.3).call(function(){e.qlzc.getChildByName("dian").children[0].active=!1,e.qlzc.getChildByName("dian").children[1].active=!1,e.qlzc.getChildByName("dian").children[2].active=!1}).union().repeatForever().start()},2),this.scheduleOnce(function(){a.cocosz.gameMgr.gameSuccess()},4))},t.prototype.revive=function(){this.isRevive=!0,this.playerTs.revive()},t.prototype.shakeEffect=function(e,t,i,o){void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=!0),void 0===o&&(o=u.VibrateType.Short);var n=this._timeArr[e],s=this._disArr[e];if(e>0&&t>0&&(this.mainCamera.node.stopAllActions(),this.mainCamera.node.setPosition(0,0,0),cc.tween(this.mainCamera.node).to(n,{position:cc.v3(s,s)}).to(n,{position:cc.v3(0,-s)}).to(n,{position:cc.v3(-s,s)}).to(n,{position:cc.v3(-s,-s)}).to(n,{position:cc.v3(0,s)}).to(n,{position:cc.v3(0,0)}).union().repeat(t).start()),a.cocosz.dataMgr.ShakeOn){var c=(new Date).getTime();c-this._vibrateTime>500&&(this._vibrateTime=c,i&&r.utils.vibrate(o))}},t.prototype.guideSkip=function(){},s([_(cc.Node)],t.prototype,"red",void 0),s([_(cc.Prefab)],t.prototype,"hpTip",void 0),s([_(cc.Prefab)],t.prototype,"effect_fire",void 0),s([_(cc.Prefab)],t.prototype,"effect_hit",void 0),s([_(cc.Prefab)],t.prototype,"itemList",void 0),s([_(cc.Prefab)],t.prototype,"itemEffect",void 0),s([_(cc.Prefab)],t.prototype,"spark",void 0),s([_(cc.Prefab)],t.prototype,"blood",void 0),s([_(cc.Prefab)],t.prototype,"testPoint",void 0),s([_(cc.Prefab)],t.prototype,"player",void 0),s([_(cc.SpriteFrame)],t.prototype,"jiaoyin",void 0),s([_(cc.Node)],t.prototype,"fj",void 0),s([_(cc.Node)],t.prototype,"fjTip",void 0),s([_(cc.Node)],t.prototype,"mainCamereRootNode",void 0),s([_(cc.Camera)],t.prototype,"mainCamera",void 0),s([p],t)}(cc.Component);i.default=f,cc._RF.pop()},{"../../common-plugin/Scripts/Utils":"Utils","../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./UpgradeMgr":"UpgradeMgr","./ZombieBase":"ZombieBase"}],jingyan:[function(e,t,i){"use strict";cc._RF.push(t,"14607c2NPFLXrODbf9T8Km8","jingyan");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../../common-plugin/Scripts/YZ_Constant"),r=e("../Framework/CocosZ"),c=e("../Framework/Constant"),l=e("./gameMgr"),u=e("./UpgradeMgr"),h=cc._decorator,d=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRun=!1,t.moveSpeed=1e3,t._time=-1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.init=function(){var e=this;this.isRun=!1,cc.game.on(c.default.E_Skill_Citie,function(){e.isRun=!0},this)},t.prototype.finish=function(){u.upgradeMgr.curJingyan+=1,cc.game.emit(c.default.E_GAME_LOGIC,{type:c.default.E_Jingyan_Finish}),r.cocosz.isPause||(l.gameMgr.playEffect("jingyan"),l.gameMgr.shakeEffect(0,0,!0,a.VibrateType.Long)),cc.game.targetOff(this),l.gameMgr&&l.gameMgr.isValid&&l.gameMgr.nodePut("jingyan",this.node)},t.prototype.update=function(e){0==this.isRun?++this._time%10==0&&this.activating():this.followTo(e)},t.prototype.activating=function(){if(u.upgradeMgr&&u.upgradeMgr.isValid&&l.gameMgr&&l.gameMgr.playerTs&&l.gameMgr.playerTs.isValid){var e=this.node.getPosition(),t=l.gameMgr.playerTs.node.getPosition();e.sub(t).mag()<u.upgradeMgr.jingyanRange&&(this.isRun=!0)}},t.prototype.followTo=function(e){if(u.upgradeMgr&&u.upgradeMgr.isValid&&l.gameMgr&&l.gameMgr.playerTs&&l.gameMgr.playerTs.isValid){var t=this.node.getPosition(),i=l.gameMgr.playerTs.node.getPosition().subSelf(t),o=this.moveSpeed*e;i.mag()<o?this.finish():this.node.setPosition(t.addSelf(i.normalizeSelf().mulSelf(o)))}},s([d],t)}(cc.Component));i.default=p,cc._RF.pop()},{"../../common-plugin/Scripts/YZ_Constant":"YZ_Constant","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./UpgradeMgr":"UpgradeMgr","./gameMgr":"gameMgr"}],mb:[function(e,t,i){"use strict";cc._RF.push(t,"bbc16OLUIxBPILLHZnxIsqr","mb");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("../Framework/Constant"),c=e("./gameMgr"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clip=null,t._spAni=null,t.time=-1,t.isAtk=!1,t.isHart=!1,t.canChangeState=!0,t}return n(t,e),t.prototype.onLoad=function(){this._spAni=this.node.getChildByName("ani").getComponent(sp.Skeleton)},t.prototype.start=function(){this.node.zIndex=r.ZindexLayer.zindex_mb,this._spAni.setAnimation(0,"daiji",!1)},t.prototype.update=function(){if(!a.cocosz.isPause&&c.gameMgr.isGameStart&&!c.gameMgr.isWin&&!c.gameMgr.isFail&&++this.time%15==0)if(c.gameMgr&&c.gameMgr.playerTs&&0==c.gameMgr.playerTs.isDeath){var e=this.node.getPosition(),t=c.gameMgr.playerTs.node.getPosition(),i=e.subSelf(t).mag();i<400?(this.atkStart(),i<300&&this.atkEnemy()):this.atkEnd()}else this.atkEnd()},t.prototype.atkEnemy=function(){this.isHart&&c.gameMgr&&c.gameMgr.playerTs&&c.gameMgr.playerTs.hart(1,null)},t.prototype.atkStart=function(){var e=this;this.canChangeState&&0==this.isAtk&&(this.canChangeState=!1,this.isAtk=!0,this.node.stopAllActions(),cc.tween(this.node).call(function(){e._spAni.setAnimation(0,"doudong",!0)}).delay(.5).call(function(){e.clip&&e.clip.isValid&&c.gameMgr.playClip(e.clip,e.node),e._spAni.setAnimation(0,"zheng",!1),e._spAni.addAnimation(0,"zheng2",!0),e.isHart=!0}).delay(3).call(function(){e.canChangeState=!0}).start())},t.prototype.atkEnd=function(){this.canChangeState&&1==this.isAtk&&(this.isAtk=!1,this.isHart=!1,this._spAni.setAnimation(0,"daiji",!1))},s([h({type:cc.AudioClip,tooltip:"\u97f3\u6548"})],t.prototype,"clip",void 0),s([u],t)}(cc.Component);i.default=d,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./gameMgr":"gameMgr"}],md5:[function(e,t){"use strict";cc._RF.push(t,"0b965WRCqFIyY4NKEn02s5R","md5");var i=0,o=8;function n(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,o=-271733879,n=-1732584194,s=271733878,h=0;h<e.length;h+=16){var d=i,p=o,_=n,f=s;i=a(i,o,n,s,e[h+0],7,-680876936),s=a(s,i,o,n,e[h+1],12,-389564586),n=a(n,s,i,o,e[h+2],17,606105819),o=a(o,n,s,i,e[h+3],22,-1044525330),i=a(i,o,n,s,e[h+4],7,-176418897),s=a(s,i,o,n,e[h+5],12,1200080426),n=a(n,s,i,o,e[h+6],17,-1473231341),o=a(o,n,s,i,e[h+7],22,-45705983),i=a(i,o,n,s,e[h+8],7,1770035416),s=a(s,i,o,n,e[h+9],12,-1958414417),n=a(n,s,i,o,e[h+10],17,-42063),o=a(o,n,s,i,e[h+11],22,-1990404162),i=a(i,o,n,s,e[h+12],7,1804603682),s=a(s,i,o,n,e[h+13],12,-40341101),n=a(n,s,i,o,e[h+14],17,-1502002290),i=r(i,o=a(o,n,s,i,e[h+15],22,1236535329),n,s,e[h+1],5,-165796510),s=r(s,i,o,n,e[h+6],9,-1069501632),n=r(n,s,i,o,e[h+11],14,643717713),o=r(o,n,s,i,e[h+0],20,-373897302),i=r(i,o,n,s,e[h+5],5,-701558691),s=r(s,i,o,n,e[h+10],9,38016083),n=r(n,s,i,o,e[h+15],14,-660478335),o=r(o,n,s,i,e[h+4],20,-405537848),i=r(i,o,n,s,e[h+9],5,568446438),s=r(s,i,o,n,e[h+14],9,-1019803690),n=r(n,s,i,o,e[h+3],14,-187363961),o=r(o,n,s,i,e[h+8],20,1163531501),i=r(i,o,n,s,e[h+13],5,-1444681467),s=r(s,i,o,n,e[h+2],9,-51403784),n=r(n,s,i,o,e[h+7],14,1735328473),i=c(i,o=r(o,n,s,i,e[h+12],20,-1926607734),n,s,e[h+5],4,-378558),s=c(s,i,o,n,e[h+8],11,-2022574463),n=c(n,s,i,o,e[h+11],16,1839030562),o=c(o,n,s,i,e[h+14],23,-35309556),i=c(i,o,n,s,e[h+1],4,-1530992060),s=c(s,i,o,n,e[h+4],11,1272893353),n=c(n,s,i,o,e[h+7],16,-155497632),o=c(o,n,s,i,e[h+10],23,-1094730640),i=c(i,o,n,s,e[h+13],4,681279174),s=c(s,i,o,n,e[h+0],11,-358537222),n=c(n,s,i,o,e[h+3],16,-722521979),o=c(o,n,s,i,e[h+6],23,76029189),i=c(i,o,n,s,e[h+9],4,-640364487),s=c(s,i,o,n,e[h+12],11,-421815835),n=c(n,s,i,o,e[h+15],16,530742520),i=l(i,o=c(o,n,s,i,e[h+2],23,-995338651),n,s,e[h+0],6,-198630844),s=l(s,i,o,n,e[h+7],10,1126891415),n=l(n,s,i,o,e[h+14],15,-1416354905),o=l(o,n,s,i,e[h+5],21,-57434055),i=l(i,o,n,s,e[h+12],6,1700485571),s=l(s,i,o,n,e[h+3],10,-1894986606),n=l(n,s,i,o,e[h+10],15,-1051523),o=l(o,n,s,i,e[h+1],21,-2054922799),i=l(i,o,n,s,e[h+8],6,1873313359),s=l(s,i,o,n,e[h+15],10,-30611744),n=l(n,s,i,o,e[h+6],15,-1560198380),o=l(o,n,s,i,e[h+13],21,1309151649),i=l(i,o,n,s,e[h+4],6,-145523070),s=l(s,i,o,n,e[h+11],10,-1120210379),n=l(n,s,i,o,e[h+2],15,718787259),o=l(o,n,s,i,e[h+9],21,-343485551),i=u(i,d),o=u(o,p),n=u(n,_),s=u(s,f)}return Array(i,o,n,s)}function s(e,t,i,o,n,s){return u((a=u(u(t,e),u(o,s)))<<(r=n)|a>>>32-r,i);var a,r}function a(e,t,i,o,n,a,r){return s(t&i|~t&o,e,t,n,a,r)}function r(e,t,i,o,n,a,r){return s(t&o|i&~o,e,t,n,a,r)}function c(e,t,i,o,n,a,r){return s(t^i^o,e,t,n,a,r)}function l(e,t,i,o,n,a,r){return s(i^(t|~o),e,t,n,a,r)}function u(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function h(e){for(var t=Array(),i=(1<<o)-1,n=0;n<e.length*o;n+=o)t[n>>5]|=(e.charCodeAt(n/o)&i)<<n%32;return t}function d(e){for(var t=i?"0123456789ABCDEF":"0123456789abcdef",o="",n=0;n<4*e.length;n++)o+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return o}t.exports=function(e){return d(n(h(e),e.length*o))},cc._RF.pop()},{}],person:[function(e,t,i){"use strict";cc._RF.push(t,"9c57aW3ydVKJ6Xst8KQr8d9","person");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../../common-plugin/Scripts/PlatUtils"),r=e("../Framework/CocosZ"),c=e("../Framework/Constant"),l=e("./gameDate"),u=e("./gameMgr"),h=e("./weapon"),d=e("LanguageData"),p=cc._decorator,_=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ghAniNode=null,t.ycAniNode=null,t.personAtk=0,t.playerName="",t.personLevel=0,t.atkNum=40,t.atkRange=800,t.atkSpeed=4,t.reloadSpeed=2,t.totleHp=300,t.curHp=300,t.atkRate=1,t.speedRate=1,t.atkSpeedRate=1,t.reloadRate=1,t.bulletRate=1,t.meleeAtkRate=1,t.damageReduction=0,t.recoverItemNum=0,t.killNum=0,t.curKillNum=0,t.MoveSpeed=600,t.moveDir=cc.v2(0,0),t.atkDir=cc.v2(0,0),t.footNum=0,t.lastPos=cc.v2(0,0),t.canMove=!0,t.canMoveDir=!0,t.detectRange=1e3,t.mat_common=null,t.mat_attacked=null,t.body=null,t.leg=null,t.leg_back=null,t.head=null,t.hpBar=null,t.hpSpr=null,t.shieldBar=null,t.atkBar=null,t.head_atk=null,t.head_hart=null,t.head_death=null,t.playerMess=null,t.ani=null,t.id=0,t.isPlayer=!1,t.atkTarget=null,t.weapon=null,t.weapon_dao=null,t.hpNumNode=null,t._shield=0,t.maxShield=100,t.rig=null,t.curTime=0,t._playerMessY=200,t.isReady=!1,t.curSkin=0,t.weaponAdArr=[9,10,14,17,18],t.weaponAdIndex=Math.floor(Math.random()*t.weaponAdArr.length),t.meleeWeaponNum=3,t.rangedWeaponNum=1,t.rangedWeaponAdNum=1,t.meleeWeapon=null,t.rangedWeapon=null,t.rangedWeaponAd=null,t.curWeapon=null,t.startPosNode=null,t.lastTime=0,t._aniName="",t.isAtk=!1,t.atkList=[],t.curItem=0,t.curItemEffect=null,t.itemTarget=null,t.grassID=0,t.houseID=0,t.isInHouse=!1,t.newWeapon=-1,t.newWeaponItem=null,t.poisonCount=0,t.isDeath=!1,t.isAttackedEffect=!1,t.maxNum=0,t.isAvoidInjury=0,t.killer=null,t.revivePos=cc.v2(0,0),t}var i;return n(t,e),i=t,Object.defineProperty(t.prototype,"HP",{get:function(){return this.curHp},set:function(e){(e=Math.floor(e))<0?e=0:e>this.totleHp&&(e=this.totleHp),this.curHp=e,this.hpBar&&this.hpBar.isValid&&(this.hpBar.progress=this.curHp/this.totleHp),this.isPlayer&&6==r.cocosz.gameMode&&u.gameMgr.update_model6_xuedi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Shiled",{get:function(){return this._shield},set:function(e){cc.Tween.stopAllByTarget(this.shieldBar),this._shield=e,this._shield<0?(this._shield=0,this.shieldBar.node.opacity=0,this.body.getChildByName("body").children[0].active=!1):this.shieldBar.node.opacity=255,cc.tween(this.shieldBar).to(.3,{progress:this._shield/this.maxShield}).start()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.start=function(){this.playerMess&&this.playerMess.isValid?(this._playerMessY=this.playerMess.y,this.playerMess.setParent(this.node.parent),this.playerMess.zIndex=c.ZindexLayer.zindex_hp,this.updateMess()):this.hpBar&&this.hpBar.isValid&&(this._playerMessY=this.hpBar.node.y,this.hpBar.node.setParent(this.node.parent),this.hpBar.node.zIndex=c.ZindexLayer.zindex_hp,this.updateMess())},t.prototype.update=function(){},t.prototype.lateUpdate=function(){},t.prototype.updateMess=function(){this.playerMess&&this.playerMess.isValid?this.node&&this.node.isValid&&this.node.active&&this.node.opacity&&this.HP?(this.playerMess.active=!0,this.playerMess.setPosition(this.node.x,this.node.y+this._playerMessY)):this.playerMess.active=!1:this.hpBar&&this.hpBar.isValid&&this.hpBar.node&&this.hpBar.node.isValid&&(this.node&&this.node.isValid&&this.node.active&&this.node.opacity&&this.HP?(this.hpBar.node.active=!0,this.hpBar.node.setPosition(this.node.x,this.node.y+this._playerMessY)):this.hpBar.node.active=!1)},t.prototype.updateGhAni=function(){this.ghAniNode&&this.ghAniNode.isValid&&(this.node&&this.node.isValid&&this.node.active&&this.node.opacity&&this.HP?(this.ghAniNode.active=!0,this.ghAniNode.angle=this.node.angle,this.ghAniNode.setPosition(this.node.x,this.node.y-90)):this.ghAniNode.active=!1)},t.prototype.updateYcAni=function(){this.ycAniNode&&this.ycAniNode.isValid&&(this.node&&this.node.isValid&&this.node.active&&this.node.opacity&&this.HP&&!this.moveDir.equals(cc.Vec2.ZERO)?(this.ycAniNode.active=!0,this.ycAniNode.setPosition(this.node.x,this.node.y-50),this.ycAniNode.scaleX=this.moveDir.x>0?1:-1):this.ycAniNode.active=!1)},t.prototype.setProperty=function(){var e=this;this.ani=this.body.getComponent(cc.Animation),this.node.getComponent(cc.CircleCollider).radius=this.detectRange,this.isPlayer&&(this.atkRange=1e3),this.personLevel=Math.floor(6*Math.random());var t,i=h.default.meleeWaapon[Math.floor(Math.random()*h.default.meleeWaapon.length)],o=h.default.rangeWeapon[Math.floor(13*Math.random())];if(this.isPlayer){i=r.cocosz.dataMgr.CurMelee+1,o=r.cocosz.dataMgr.CurRange+1,r.cocosz.gameMgr.gameCtr.curUseSkinId<0?this.curSkin=r.cocosz.dataMgr.CurSkinId:this.curSkin=r.cocosz.gameMgr.gameCtr.curUseSkinId,this.head.children[0].children[this.curSkin].active=!0;var n=this.head.children[0].children[this.curSkin];this.head.children[1].children[this.curSkin].active=!0;for(var s=this.head.children[1].children[this.curSkin],c=this.head.children[0].childrenCount-1;c>=0;c--)this.head.children[0].children[c].uuid!=n.uuid&&this.head.children[0].children[c].destroy();for(c=this.head.children[1].childrenCount-1;c>=0;c--)this.head.children[1].children[c].uuid!=s.uuid&&this.head.children[1].children[c].destroy();this.head_atk=this.head.children[2].children[this.curSkin],this.head_atk.active=!0,this.head_atk.opacity=0,this.head_hart=this.head.children[3].children[this.curSkin],this.head_hart.active=!0,this.head_hart.opacity=0,this.head_death=this.head.children[4].children[this.curSkin],this.head_death.active=!0,this.head_death.opacity=0,this.head_atk.setParent(this.head.children[0]),this.head_hart.setParent(this.head.children[0]),this.head_death.setParent(this.head.children[0]),this.head_atk.zIndex=1,this.head_hart.zIndex=2,this.head_death.zIndex=3,this.head.children[2].destroy(),this.head.children[3].destroy(),this.head.children[4].destroy(),this.personLevel=r.cocosz.dataMgr.getSkinInfo(this.curSkin).Level,this.personAtk=l.default.SkinMess[""+(this.curSkin+1)].atk[this.personLevel],6==r.cocosz.gameMode?this.totleHp=l.default.SkinMess[""+(this.curSkin+1)].xuedi:this.totleHp=l.default.SkinMess[""+(this.curSkin+1)].hp[this.personLevel],[1,2,4].includes(r.cocosz.gameMode)?this.totleHp*=4:3==r.cocosz.gameMode?r.cocosz.curLevel>=15?this.totleHp*=9:r.cocosz.curLevel>=10?this.totleHp*=8:r.cocosz.curLevel>=5?this.totleHp*=6:this.totleHp*=4:5==r.cocosz.gameMode?this.totleHp*=6:7==r.cocosz.gameMode&&(this.totleHp*=3),this.HP=this.totleHp}(4==r.cocosz.gameMode?(this.isPlayer?this.setNewWeapon(13):this.setNewWeapon(i-1),this.changeCurWeapon(this.meleeWeapon,!1)):(7===r.cocosz.gameMode?this.setNewWeapon(o-1):(this.setNewWeapon(i-1),this.setNewWeapon(o-1)),this.changeCurWeapon(this.rangedWeapon,!1),this.isPlayer&&cc.tween(u.gameMgr.rangedWeaponAdMess).call(function(){e.refreshWeaponAd()}).delay(10).union().repeatForever().start()),6==r.cocosz.gameMode&&(this.hpBar.node.active=!1,this.atkBar.node.active=!1),this.MoveSpeed=200+l.default.SkinMess[""+(this.curSkin+1)].speed[this.personLevel],a.default.IsOPPO&&(this.MoveSpeed/=2),this.personLevel>0)?(this.ghAniNode.color=cc.Color.WHITE,(t=this.ghAniNode.getComponent(sp.Skeleton))&&t.setSkin(["","y","p","r"][Math.ceil(this.personLevel/2)])):(this.ghAniNode.color=cc.Color.BLACK,(t=this.ghAniNode.getComponent(sp.Skeleton)).setSkin("r"),t.setAnimation(0,"animation",!0));this.playerName||(this.playerName=d.t("game.player")+this.id);var p=this.playerMess.getChildByName("nameLabel");p&&(p.active=!1),this.lastPos=this.node.getPosition(),this.isReady=!0},t.prototype.refreshWeaponAd=function(){if(!r.cocosz.isPause&&this.isPlayer){++this.weaponAdIndex>=this.weaponAdArr.length&&(this.weaponAdIndex=0);var e=this.weaponAdArr[this.weaponAdIndex],t=h.default.WeaponName[e],i=r.cocosz.resMgr.getRes("weapon_"+t,cc.Prefab),o=cc.instantiate(i),n=o.getComponent(h.default);n.person=this,this.body.addChild(o),o.active=!1,n.weaponType=h.WeaponType.weapon_rangeAd,this.rangedWeaponAd&&this.rangedWeaponAd.destroy(),this.rangedWeaponAd=o,this.rangedWeaponAdNum=n.weaponNum;var s="w_"+h.default.WeaponName[this.rangedWeaponAdNum-1],a=r.cocosz.resMgr.getRes(s,cc.SpriteFrame);u.gameMgr.rangedWeaponAdMess.children[3].getComponent(cc.Sprite).spriteFrame=a,u.gameMgr.rangedWeaponAdMess.children[4].getComponent(cc.Sprite).spriteFrame=r.cocosz.resMgr.getRes("w_"+(e+1),cc.SpriteFrame),u.gameMgr.rangedWeaponAdMess.children[5].getComponent(cc.Label).string=n.atkNum.toString(),n.setBulletUI()}},t.prototype.setNewWeapon=function(e){if(void 0===e&&(e=this.newWeapon),!(e<0)){var t=h.default.WeaponName[e],i=r.cocosz.resMgr.getRes("weapon_"+t,cc.Prefab),o=cc.instantiate(i),n=o.getComponent(h.default);if(n.person=this,this.body.addChild(o),o.active=!1,n.isRangeWeapon)if(this.curWeapon&&this.curWeapon.weaponType==h.WeaponType.weapon_rangeAd){if(n.weaponType=h.WeaponType.weapon_rangeAd,this.rangedWeaponAd&&this.rangedWeaponAd.destroy(),this.rangedWeaponAd=o,this.rangedWeaponAdNum=n.weaponNum,this.isPlayer){var s="w_"+h.default.WeaponName[this.rangedWeaponAdNum-1],a=r.cocosz.resMgr.getRes(s,cc.SpriteFrame);u.gameMgr.rangedWeaponAdMess.children[3].getComponent(cc.Sprite).spriteFrame=a,u.gameMgr.rangedWeaponAdMess.children[4].getComponent(cc.Sprite).spriteFrame=r.cocosz.resMgr.getRes("w_"+(e+1),cc.SpriteFrame),u.gameMgr.rangedWeaponAdMess.children[5].getComponent(cc.Label).string=n.atkNum.toString(),n.setBulletUI()}}else n.weaponType=h.WeaponType.weapon_range,this.rangedWeapon&&this.rangedWeapon.destroy(),this.rangedWeapon=o,this.rangedWeaponNum=n.weaponNum,this.isPlayer&&(s="w_"+h.default.WeaponName[this.rangedWeaponNum-1],a=r.cocosz.resMgr.getRes(s,cc.SpriteFrame),u.gameMgr.rangedWeaponMess.children[3].getComponent(cc.Sprite).spriteFrame=a,u.gameMgr.rangedWeaponMess.children[4].getComponent(cc.Sprite).spriteFrame=r.cocosz.resMgr.getRes("w_"+(e+1),cc.SpriteFrame),u.gameMgr.rangedWeaponMess.children[5].getComponent(cc.Label).string=n.atkNum.toString(),n.setBulletUI());else n.weaponType=h.WeaponType.weapon_melee,this.meleeWeapon&&this.meleeWeapon.destroy(),this.meleeWeapon=o,this.meleeWeaponNum=n.weaponNum;this.curWeapon&&this.curWeapon.isRangeWeapon===n.isRangeWeapon&&this.changeCurWeapon(o,!1),this.newWeapon=-1,this.newWeaponItem&&this.newWeaponItem.isValid&&this.newWeaponItem.destroy(),this.newWeaponItem=null}},t.prototype.changeCurWeapon=function(e,t){if(void 0===t&&(t=!0),e&&e.isValid&&(!this.curWeapon||!this.curWeapon.isValid||e!=this.curWeapon.node)){var i=Number(new Date);if(!(t&&i-this.lastTime<1e3)){this.lastTime=i,this.curWeapon&&cc.isValid(this.curWeapon)&&(this.curWeapon.node.active=!1),e.active=!0;var o=e.getComponent(h.default);if(o){if(this.isPlayer){var n=null;if(o.weaponType==h.WeaponType.weapon_melee?u.gameMgr.BtnBullet.active=!1:o.weaponType==h.WeaponType.weapon_range?n=u.gameMgr.rangedWeaponMess:o.weaponType==h.WeaponType.weapon_rangeAd&&(n=u.gameMgr.rangedWeaponAdMess),n.children[0].active=!0,this.curWeapon&&this.curWeapon.isValid){r.cocosz.audioMgr.playEffect("changeWeapon");var s=null;this.curWeapon.weaponType==h.WeaponType.weapon_melee||(this.curWeapon.weaponType==h.WeaponType.weapon_range?s=u.gameMgr.rangedWeaponMess:this.curWeapon.weaponType==h.WeaponType.weapon_rangeAd&&(s=u.gameMgr.rangedWeaponAdMess)),s!==n&&(s.children[0].active=!1,s.children[1].active=!0,cc.tween(s.children[1].getComponent(cc.Sprite)).set({fillRange:-1}).to(1,{fillRange:0}).call(function(){s.isValid&&(s.children[1].active=!1)}).start())}}o.isRangeWeapon&&(this.startPosNode=e.getChildByName("startPos")),this.curWeapon=o,this.atkNum=this.curWeapon.atkNum*(this.curWeapon.isRangeWeapon?1:this.meleeAtkRate),this.atkSpeed=this.curWeapon.atkSpeed,this.reloadSpeed=this.curWeapon.reload}}}},t.prototype.atkStart=function(){},t.prototype.atkEnemy=function(){},t.prototype.atkComplete=function(){},t.prototype.setWeaponAngle=function(e){this.curWeapon&&this.curWeapon.isValid&&this.curWeapon.isRangeWeapon&&(e.equals(cc.Vec2.ZERO)?this.curWeapon.node.angle=0:(e.x<0?this.curWeapon.node.angle=cc.v2(e).signAngle(cc.v2(-1,0))/Math.PI*180:this.curWeapon.node.angle=-cc.v2(e).signAngle(cc.v2(1,0))/Math.PI*180,e.y>0?this.curWeapon.node&&(this.rangedWeapon.zIndex=-1):this.curWeapon.node&&(this.rangedWeapon.zIndex=1)))},t.prototype.updateAni=function(e,t){void 0===t&&(t=!1),t?this._playAni(e):u.gameMgr.isGameStart&&(e=this.isDeath?"die":this.moveDir.equals(cc.Vec2.ZERO)?"daiji_body":"run_body",this._playAni(e))},t.prototype._playAni=function(e){e&&e!=this._aniName&&(this.ani.play(e),this._aniName=e)},t.prototype.getCurSpeed=function(){var e=this.MoveSpeed*this.speedRate*(this.curWeapon&&this.curWeapon.isRangeWeapon?1:1.2);return e>1e3&&(e=1e3),e},t.prototype.udpateRBody=function(e){this.rig.type==cc.RigidBodyType.Dynamic&&this.canMove&&(e.equals(cc.Vec2.ZERO)?this.rig.linearVelocity=cc.Vec2.ZERO:this.rig.linearVelocity=e.mul(this.getCurSpeed()))},t.prototype.updatePerson=function(){var e=null;if(this.atkDir&&!this.atkDir.equals(cc.Vec2.ZERO))e=this.atkDir;else{if(!this.moveDir||this.moveDir.equals(cc.Vec2.ZERO))return;e=this.moveDir}e.x<0?this.body.scaleX=-Math.abs(this.body.scaleX):this.body.scaleX=Math.abs(this.body.scaleX),e.y>0?(this.leg_back.opacity=255,this.leg.opacity=0,this.head.children[1].opacity=255,this.head.children[0].opacity=0):(this.leg_back.opacity=0,this.leg.opacity=255,this.head.children[0].opacity=255,this.head.children[1].opacity=0),this.setWeaponAngle(e)},t.prototype.updateAtk=function(){if(this.atkList.length>0){for(var e=1e3,t=-1,o=0;o<this.atkList.length;o++){this.atkList[o].getComponent(i);var n=this.atkList[o].getPosition().sub(this.node.getPosition()).mag();n<e&&(e=n,t=o)}t>=0?(this.atkDir=cc.v2(this.atkList[t].getPosition().sub(this.node.getPosition()).normalize()),this.atkTarget=this.atkList[t]):this.atkDir=0==this.moveDir.mag()?this.atkDir:cc.v2(this.moveDir)}else this.atkDir=0==this.moveDir.mag()?this.atkDir:cc.v2(this.moveDir)},t.prototype.onCollisionEnter=function(){},t.prototype.onCollisionExit=function(){},t.prototype.hart=function(e,t,i,o,n){void 0===i&&(i=null),void 0===o&&(o=!0),void 0===n&&(n=!0)},t.prototype.avoidInjury=function(e){var t=this;this.isAvoidInjury++,this.scheduleOnce(function(){t.isAvoidInjury--},e)},t.prototype.death=function(){if(this.isDeath=!0,this.ghAniNode&&this.ghAniNode.isValid&&(this.ghAniNode.active=!1),this.playerMess&&this.playerMess.isValid&&(this.playerMess.active=!1),this.head_death.opacity=255,u.gameMgr.playEffect("death",this.node),this.unscheduleAllCallbacks(),this.updateAni("die"),this.meleeWeapon){var e=this.meleeWeapon.getComponent(cc.Animation);e&&e.stop()}this.leg.opacity=255,this.leg_back.opacity=0,this.head.children[0].opacity=255,this.head.children[1].opacity=0,this.curWeapon&&this.curWeapon.isValid&&(this.curWeapon.node.active=!1),this.rig&&(this.rig.active=!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.node.getComponent(cc.CircleCollider).enabled=!1,u.gameMgr.deathNum++,this.isPlayer&&(cc.director.getScheduler().setTimeScale(.3),setTimeout(function(){cc.director.getScheduler().setTimeScale(1)},900)),6==r.cocosz.gameMode&&this.isPlayer&&(u.gameMgr.isWin||u.gameMgr.isFail||(this.revivePos=this.node.getPosition(),this.scheduleOnce(function(){r.cocosz.uiMgr.openPanel(c.PanelName.UIRevivePanel)},2)))},t.prototype.revive=function(){if(u.gameMgr&&!u.gameMgr.isWin&&!u.gameMgr.isFail){if(u.gameMgr.deathNum--,this.ghAniNode&&this.ghAniNode.isValid&&(this.ghAniNode.active=!0),this.playerMess&&this.playerMess.isValid&&(this.playerMess.active=!0),this.rangedWeapon&&this.rangedWeapon.getComponent(h.default).reset(),this.rangedWeaponAd&&this.rangedWeaponAd.getComponent(h.default).reset(),this.meleeWeapon){var e=this.meleeWeapon.getComponent(cc.Animation);e&&e.play()}this.curWeapon&&this.curWeapon.isValid&&(this.curWeapon.node.active=!0),this.head_death.opacity=0;var t=this.revivePos;this.node.setPosition(t),this.HP=this.totleHp,this.body.setPosition(cc.v2(0,0)),this.body.angle=0,this.leg.opacity=255,this.leg_back.opacity=0,this.head.children[0].opacity=255,this.head.children[1].opacity=0,this.node.scaleX<0&&(this.node.scaleX*=-1),this.rig&&(this.rig.active=!0),this.node.getComponent(cc.BoxCollider).enabled=!0,this.node.getComponent(cc.CircleCollider).enabled=!0,this.isDeath=!1,this.canMove=!0}},t.prototype.creatItem=function(){},s([f(cc.Material)],t.prototype,"mat_common",void 0),s([f(cc.Material)],t.prototype,"mat_attacked",void 0),s([f(cc.Node)],t.prototype,"body",void 0),s([f(cc.Node)],t.prototype,"leg",void 0),s([f(cc.Node)],t.prototype,"leg_back",void 0),s([f(cc.Node)],t.prototype,"head",void 0),s([f(cc.ProgressBar)],t.prototype,"hpBar",void 0),s([f(cc.Node)],t.prototype,"hpSpr",void 0),s([f(cc.ProgressBar)],t.prototype,"shieldBar",void 0),s([f(cc.ProgressBar)],t.prototype,"atkBar",void 0),i=s([_],t)}(cc.Component);i.default=g,cc._RF.pop()},{"../../common-plugin/Scripts/PlatUtils":"PlatUtils","../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./gameDate":"gameDate","./gameMgr":"gameMgr","./weapon":"weapon",LanguageData:"LanguageData"}],player:[function(e,t,i){"use strict";cc._RF.push(t,"be2012PJ+xL2Y4UzVB0obJ4","player");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("../Framework/Constant"),c=e("./bullet"),l=e("./gameDate"),u=e("./gameMgr"),h=e("./person"),d=e("./UpgradeMgr"),p=e("./weapon"),_=(e("LanguageData"),cc._decorator),f=_.ccclass,g=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastTime=0,t.lastAtkTime=0,t.atkBulletNum=1,t}return n(t,e),t.prototype.onLoad=function(){this.isPlayer=!0,this.id=1,u.gameMgr.playerTs=this,this.hpSpr&&(this.hpSpr.color=cc.Color.GREEN),this.atkBar&&(this.atkBar.node.children[1].color=cc.Color.YELLOW),this.rig=this.node.getComponent(cc.RigidBody),this.rig&&(this.rig.linearDamping=.2),this.playerMess=this.node.getChildByName("playerMess"),this.hpNumNode=this.playerMess.getChildByName("hpNum"),this.ghAniNode=this.node.getChildByName("gh"),this.ycAniNode=this.node.getChildByName("yc"),u.gameMgr.followNode=this.node,6==a.cocosz.gameMode&&this.rig&&this.rig.isValid&&(this.rig.enabledContactListener=!0)},t.prototype.start=function(){e.prototype.start.call(this),this.setProperty(),this.node.zIndex=r.ZindexLayer.zindex_player,this.ghAniNode&&this.ghAniNode.isValid&&(this.ghAniNode.setParent(this.node.parent),this.ghAniNode.zIndex=r.ZindexLayer.zinedx_gh,this.updateGhAni()),this.ycAniNode&&this.ycAniNode.isValid&&(this.ycAniNode.setParent(this.node.parent),this.ycAniNode.zIndex=r.ZindexLayer.zinedx_footYc,this.updateYcAni()),this.hpSpr&&(this.hpSpr.color=cc.Color.GREEN)},t.prototype.lateUpdate=function(){this.curTime++,a.cocosz.isPause||this.isDeath||u.gameMgr.isWin||u.gameMgr.isFail?this.rig.linearVelocity=cc.v2(0,0):(this.curTime%15==0&&(this.updateAni(),this.creatFootPrint()),this.updateAtk(),this.updatePerson(),this.udpateRBody(this.moveDir),this.updateMess(),this.updateGhAni(),this.updateYcAni(),this.atkTarget&&this.atkTarget.isValid&&this.atkEnemy())},t.prototype.recoverEffect=function(){cc.instantiate(u.gameMgr.itemEffect[0]).parent=this.node},t.prototype.checkTarget=function(){if(!(Number(new Date)-this.lastTime<500)){this.lastTime=Number(new Date);var e=this.atkList.indexOf(this.atkTarget);e>=0?(e==this.atkList.length-1?e=0:e+=1,this.atkTarget=this.atkList[e]):this.atkTarget=this.atkList[0]}},t.prototype.atkEnemy=function(){var e=this;if(this.curWeapon&&this.curWeapon.isValid&&!this.isAtk){if(this.curWeapon&&this.curWeapon.isRangeWeapon){if(this.curWeapon._isReload||this.curWeapon.curBullet<=0)return;6==a.cocosz.gameMode&&1==this.curWeapon.curBullet&&cc.game.emit(r.default.E_GAME_LOGIC,{type:r.default.E_Bullet_Last,node:this.node}),this.curWeapon.curBullet--;var t=(this.atkSpeed>.1?.1:this.atkSpeed)/3;cc.tween(this.rangedWeapon.children[0]).by(t,{x:-20,angle:20}).by(t,{x:20,angle:-20}).start();var i=this.startPosNode.getPosition();if(this.curWeapon.atkEffect){var o=cc.instantiate(this.curWeapon.atkEffect);9==this.curWeapon.weaponNum||15==this.curWeapon.weaponNum?(this.node.parent.addChild(o,r.ZindexLayer.zindex_effect_fire,"effect"),o.setPosition(this.startPosNode.parent.convertToWorldSpaceAR(i).sub(cc.v2(cc.winSize.width/2,cc.winSize.height/2))),this.body.scaleX>0?o.angle=this.rangedWeapon.angle:o.angle=180-this.rangedWeapon.angle):(this.curWeapon.node.addChild(o,1,"effect"),o.setPosition(i))}}else{u.gameMgr.shakeEffect(2,1,!1);var n=this.meleeWeapon.getComponent(cc.Animation);n&&n.isValid&&n.play("atk_dao"),this.scheduleOnce(function(){n&&n.isValid&&n.play("daiji_dao")},.18)}var s;if(s=this.atkDir&&!this.atkDir.equals(cc.Vec2.ZERO)?this.atkDir:this.moveDir&&!this.moveDir.equals(cc.Vec2.ZERO)?this.moveDir:this.body.scaleX>0?cc.Vec2.RIGHT:cc.Vec2.RIGHT.negSelf(),this.atkBulletNum>1)for(var c=0;c<this.atkBulletNum;c++){var h=15*((this.atkBulletNum-1)/2-c),d=s.rotate(cc.misc.degreesToRadians(h));this.createBullet(d)}else this.createBullet(s);var _=this.atkSpeed>.1?.1:this.atkSpeed;cc.tween(this.head_atk).set({opacity:255}).delay(_).set({opacity:0}).start(),this.isAtk=!0,this.curWeapon.isRangeWeapon&&this.curWeapon.curBullet<=0?cc.tween(this.node).delay(this.curWeapon.reload).call(function(){e.isAtk=!1}).start():cc.tween(this.node).delay(this.atkSpeed).call(function(){e.isAtk=!1}).start();var f=p.default.WeaponName[this.curWeapon.weaponNum-1];l.default.Weapon[f]&&l.default.Weapon[f].music?u.gameMgr.playEffect("shot_"+l.default.Weapon[f].music,this.node):u.gameMgr.playEffect("shot_"+p.default.WeaponName[this.curWeapon.weaponNum-1],this.node)}},t.prototype.createBullet=function(e){var t=cc.instantiate(this.curWeapon.bullet);if(this.curWeapon.isRangeWeapon){t.parent=this.node.parent;var i=t.parent.convertToNodeSpaceAR(this.startPosNode.convertToWorldSpaceAR(cc.Vec2.ZERO));if(t.setPosition(i),t.angle=-cc.v2(e).signAngle(cc.v2(1,0))/Math.PI*180,2==this.curWeapon.weaponNum&&(t.angle+=5-10*Math.random()),this.curWeapon.flySpeed>0){var o=t.getPosition(),n=o.add(e.mul(this.curWeapon.atkRangeNum));if(cc.tween(t).to(n.sub(o).mag()/this.curWeapon.flySpeed,{position:cc.v3(n)}).call(function(){var e=t.getComponent(c.default);if(e.boomEffect){var i=cc.instantiate(e.boomEffect);i.parent=e.node.parent,i.setPosition(e.node.getPosition());var o=i.getComponent(c.default);if(o.atk=e.atk,o.atker=e.atker,o.id=e.id,u.gameMgr.playEffect("explo",i),e.hitEffect){var n=t.getPosition(),s=cc.instantiate(e.hitEffect);s.parent=t.parent,s.setPosition(n),s.zIndex=r.ZindexLayer.zindex_effect_hit}}t.destroy()}).start(),this.curWeapon.shellCall){var s=cc.instantiate(this.curWeapon.shellCall);s.setParent(u.gameMgr.map),s.setPosition(this.node.position),s.scaleX=this.body.scale}}else cc.tween(t).delay(.4).call(function(){t.destroy()}).start();(a=t.getComponent(c.default)).id=this.id,a.atker=this.node,a.atk=(this.atkNum+this.personAtk)*this.atkRate,a.dir=e}else{var a;this.node.addChild(t,-1),t.color=this.curWeapon.bulletCollor,this.atkDir.x<0?t.scaleX*=-1/this.node.scaleX:t.scaleX/=this.node.scaleX,t.scaleY/=this.node.scaleY,cc.tween(t).delay(.2).call(function(){t.destroy()}).start(),(a=t.getComponent(c.default)).id=this.id,a.atker=this.node,a.atk=(this.atkNum+this.personAtk)*this.atkRate,a.dir=e}},t.prototype.hart=function(e,t,i,o){var n=this;if(void 0===i&&(i=null),void 0===o&&(o=!0),!(a.cocosz.isPause||this.isDeath||this.isAvoidInjury)){if(6==a.cocosz.gameMode&&d.upgradeMgr){if(d.upgradeMgr.isHaveSkill(d.SkillType.\u62a4\u7532\u9774\u5b50)&&this.moveDir.mag()>0&&Math.random()<.4)return;if(d.upgradeMgr.isHaveSkill(d.SkillType.\u795e\u5723\u5b88\u62a4)&&d.upgradeMgr.hudun&&d.upgradeMgr.hudun.active)return void d.upgradeMgr.updateHudun()}if(i&&i.mag()>3&&i.normalizeSelf().mulSelf(3),e=(1-this.damageReduction)*e,this.Shiled>0){if(this.Shiled-=e,!(this.Shiled<0))return;e=-this.Shiled,this.Shiled=0}if(6!=a.cocosz.gameMode&&u.gameMgr.showRoleTip(this.node,Math.min(this.HP,e).toFixed(0)),this.HP-=e,o&&(t?(s=t.getComponent(h.default))&&s.curWeapon&&s.curWeapon.isRangeWeapon?u.gameMgr.playEffect("hurt_range",this.node):u.gameMgr.playEffect("hurt_melee",this.node):u.gameMgr.playEffect("hurt",this.node)),6==a.cocosz.gameMode&&cc.tween(u.gameMgr.red).to(.5,{opacity:255},{easing:"sineOut"}).to(.5,{opacity:0},{easing:"sineIn"}).start(),a.cocosz.vibrate("long"),this.HP<=0){var s;if(6==a.cocosz.gameMode&&a.cocosz.audioMgr.playEffect("GameOver"),this.death(),t&&((s=t.getComponent(h.default)).killNum++,s.curKillNum++,s.curKillNum>s.maxNum&&(s.maxNum=s.curKillNum),this.killer=s,this.curKillNum=0),i){var c=this.node.getPosition(),l=c.add(i.normalizeSelf().mulSelf(200)),p=cc.v2((c.x+l.x)/2,c.y+200);cc.tween(this.node).bezierTo(.3,c,p,l).start()}6==a.cocosz.gameMode&&cc.game.emit(r.default.E_GAME_LOGIC,{type:r.default.E_Player_Death})}else if(6==a.cocosz.gameMode&&(this.avoidInjury(2),cc.game.emit(r.default.E_GAME_LOGIC,{type:r.default.E_Player_Hart})),!this.isAttackedEffect){if(this.isAttackedEffect=!0,this.rig.type==cc.RigidBodyType.Dynamic&&i){this.canMove=!1,this.scheduleOnce(function(){n.canMove=!0},.1);var _=i.mulSelf(400*i.mag()).addSelf(this.rig.linearVelocity);_.mag()>500&&_.normalizeSelf().mulSelf(500),this.rig.linearVelocity=_}cc.tween(this.head).call(function(){n.head_hart.opacity=255}).to(.05,{angle:15}).to(.05,{angle:-15}).to(.05,{angle:15}).to(.05,{angle:0}).call(function(){n.head_hart.opacity=0}).start();var f=this.body.getComponentsInChildren(cc.Sprite);cc.tween(this.body).call(function(){f.forEach(function(e){e.isValid&&e.setMaterial(0,n.mat_attacked)})}).delay(.1).call(function(){f.forEach(function(e){e.isValid&&e.setMaterial(0,n.mat_common)})}).delay(.1).union().repeat(6==a.cocosz.gameMode?5:2).call(function(){n.isAttackedEffect=!1}).start()}}},t.prototype.creatFootPrint=function(){if(0!=this.node.opacity){var e=this.node.getPosition();if(!(e.sub(this.lastPos).mag()<5)&&(this.lastPos=cc.v2(e),this.footNum++,this.isPlayer&&this.footNum%3==0&&u.gameMgr.playEffect("footsteps",this.node),"map2"==u.gameMgr.map.name)){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=u.gameMgr.jiaoyin,cc.tween(t).delay(.5).to(.5,{opacity:0}).call(function(){t.destroy()}).start(),t.parent=this.node.parent,t.zIndex=r.ZindexLayer.zinedx_footPrint,this.moveDir.mag()>0&&(t.angle=360-cc.v2(this.moveDir).signAngle(cc.v2(1,0))/Math.PI*180),e.y-=100*this.node.scale;var i=cc.v2(20,0).rotate(t.angle/180*Math.PI).rotate(this.footNum%2==0?Math.PI/2:-Math.PI/2);e.addSelf(i),t.setPosition(e)}}},t.prototype.onCollisionEnter=function(e,t){if(0==t.tag&&1==e.tag){var i=e.node.getComponent(h.default);i&&i.id!=this.id&&(this.atkList.push(e.node),!cc.isValid(this.atkTarget)&&e.node.isValid&&(this.atkTarget=e.node))}},t.prototype.onCollisionExit=function(e,t){if(0==t.tag){var i=this.atkList.indexOf(e.node);1==e.tag&&i>=0&&(this.atkList.splice(i,1),0==this.atkList.length?this.atkTarget=null:cc.isValid(this.atkTarget)&&e.node.uuid!=this.atkTarget.uuid||(this.atkTarget=this.atkList[0]))}},t.prototype.onPreSolve=function(e,t,i){"zombie"==i.node.group&&(e.disabled=!0)},s([f],t)}(h.default));i.default=g,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","./UpgradeMgr":"UpgradeMgr","./bullet":"bullet","./gameDate":"gameDate","./gameMgr":"gameMgr","./person":"person","./weapon":"weapon",LanguageData:"LanguageData"}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min"),function(e,o){"function"==typeof define&&define.amd?define([],function(){return o(e)}):"object"==typeof i?t.exports=o(e):e.Polyglot=o(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function i(e){var t,i,o,n={};for(t in e)if(e.hasOwnProperty(t))for(o in i=e[t])n[i[o]]=t;return n}function o(e){return e.replace(/^\s+|\s+$/g,"")}function n(e,t,i){var n;return null!=i&&e?o((n=e.split(u))[a(t,i)]||n[0]):e}function s(e){var t=i(d);return t[e]||t.en}function a(e,t){return h[s(e)](t)}function r(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],t&&(o=t+"."+o),"object"==typeof i?this.extend(i,o):this.phrases[o]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,o;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),o=e),"string"==typeof i&&(t=l(t),o=r(o=n(i,this.currentLocale,t.smart_count),t)),o},t.prototype.has=function(e){return e in this.phrases};var u="||||",h={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],redPoint:[function(e,t,i){"use strict";cc._RF.push(t,"7a7b3Y69OtMNbE1nJjYg0PX","redPoint");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a,r=e("../Framework/CocosZ"),c=e("../Framework/Constant"),l=e("../Game/gameDate"),u=cc._decorator,h=u.ccclass,d=u.property;(function(e){e[e.none=0]="none",e[e.sign=1]="sign",e[e.turntable=2]="turntable",e[e.online=3]="online"})(a||(a={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.none,t.refreshOnClick=!0,t.isRefresh=!1,t.isTweenAngle=!1,t.isTweenScale=!1,t.isListen=!1,t}return n(t,e),t.prototype.start=function(){var e=this;this.node.opacity=0,this.setRedPoint(),this.isRefresh&&cc.tween(this.node).delay(1).call(function(){e.setRedPoint()}).union().repeatForever().start(),this.isTweenAngle&&cc.tween(this.node).by(.25,{angle:15}).by(.5,{angle:-30}).by(.25,{angle:15}).delay(1).union().repeatForever().start(),this.isTweenScale&&cc.tween(this.node).by(.25,{scale:.1}).by(.5,{scale:-.2}).by(.25,{scale:.1}).delay(1).union().repeatForever().start(),this.isListen&&cc.game.on(c.default.E_GAME_LOGIC,this._onGameMessageHandler,this)},t.prototype.onDestroy=function(){cc.game.targetOff(this)},t.prototype._onGameMessageHandler=function(e){e.type},t.prototype.onClick=function(){this.type,this.refreshOnClick&&this.setRedPoint()},t.prototype.show=function(){this.node.opacity=255,this.node.parent&&this.node.parent.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},t.prototype.hide=function(){this.node.opacity=0,this.node.parent&&this.node.parent.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},t.prototype.setRedPoint=function(){switch(this.type){case a.sign:(new Date).toDateString()!=r.cocosz.dataMgr.LastDailyBonusTime?this.show():this.hide();break;case a.turntable:r.cocosz.useCJTimes<c.default.commonCJTimes?this.show():this.hide();break;case a.online:for(var e=r.cocosz.dataMgr.receiveToday,t=0;t<e.length;t++)if(!e[t]&&r.cocosz.dataMgr.OnlineToday>l.default.TimeReward[t].time)return void this.show();this.hide()}},s([d({type:cc.Enum(a),tooltip:"\u7ea2\u70b9\u7c7b\u578b"})],t.prototype,"type",void 0),s([d({tooltip:"\u70b9\u51fb\u7236\u8282\u70b9\u5237\u65b0\u7ea2\u70b9"})],t.prototype,"refreshOnClick",void 0),s([d({tooltip:"\u662f\u5426\u5237\u65b0"})],t.prototype,"isRefresh",void 0),s([d({tooltip:"\u662f\u5426\u7f13\u52a8\u89d2\u5ea6"})],t.prototype,"isTweenAngle",void 0),s([d({tooltip:"\u662f\u5426\u7f13\u52a8\u7f29\u653e"})],t.prototype,"isTweenScale",void 0),s([d({tooltip:"\u662f\u5426\u76d1\u542c"})],t.prototype,"isListen",void 0),s([h],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Game/gameDate":"gameDate"}],setMap:[function(e,t,i){"use strict";cc._RF.push(t,"09313S8CXZCU4lptDwQuJIg","setMap");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Framework/CocosZ"),r=e("./gameMgr"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dmmArr=[],t.dikuai=null,t.time=-1,t.mainCameraPos=cc.Vec2.ZERO,t.distanceX=2500,t.distanceY=1500,t}return n(t,e),t.prototype.onLoad=function(){if(r.gameMgr.setMapTs=this,r.gameMgr.dmmArr=this.dmmArr,this.dikuai=this.node.getChildByName("dikuai"),this.dikuai&&(this.dikuai.zIndex=cc.macro.MIN_ZINDEX),[1,2,4].includes(a.cocosz.gameMode)&&this.node.getChildByName("point"))for(var e=this.node.getChildByName("point"),t=0;t<e.childrenCount;t++)r.gameMgr.posList[t]=t},t.prototype.onDestroy=function(){r.gameMgr.setMapTs=null},t.prototype.start=function(){for(var e=0;e<this.node.children.length;e++)this.node.children[e]},t.prototype.lateUpdate=function(){a.cocosz.isPause||r.gameMgr.isWin||r.gameMgr.isFail||this.time++%30==0&&this.checkAllNode()},t.prototype.checkAllNode=function(){r.gameMgr&&r.gameMgr.mainCamereRootNode&&(this.mainCameraPos=r.gameMgr.mainCamereRootNode.getPosition(),this.distanceX=cc.winSize.width/2/r.gameMgr.mainCamera.zoomRatio+500,this.distanceY=cc.winSize.height/2/r.gameMgr.mainCamera.zoomRatio+500);for(var e=["guide","guidePath","player","colllider","dikuai","point","itemPoint","tree","tipLayer","jingyanLayer","posLayer"],t=0;t<this.node.childrenCount;t++){var i=this.node.children[t];0==e.includes(i.name)&&this.checkNode(i)}var o=this.node.getChildByName("dikuai");if(o)for(t=0;t<o.childrenCount;t++)i=o.children[t],this.checkNode(i)},t.prototype.checkNode=function(e,t){if(void 0===t&&(t=!1),t&&r.gameMgr&&r.gameMgr.mainCamereRootNode&&(this.mainCameraPos=r.gameMgr.mainCamereRootNode.getPosition(),this.distanceX=cc.winSize.width/2/r.gameMgr.mainCamera.zoomRatio+500,this.distanceY=cc.winSize.height/2/r.gameMgr.mainCamera.zoomRatio+500),e&&e.isValid&&e.activeInHierarchy&&!(e.parent.name!=this.node.name&&"dikuai"!=e.parent.name||0!=e.opacity&&255!=e.opacity))return e.x+e.width*Math.abs(e.scaleX)/2<this.mainCameraPos.x-this.distanceX||e.x-e.width*Math.abs(e.scaleX)/2>this.mainCameraPos.x+this.distanceX||e.y+e.height*Math.abs(e.scaleY)/2<this.mainCameraPos.y-this.distanceY||e.y-e.height*Math.abs(e.scaleY)/2>this.mainCameraPos.y+this.distanceY?(e.opacity=0,!1):(e.opacity=255,!0)},t.prototype.release=function(e){var t=this;if(this.dikuai&&this.dikuai.isValid&&this.dikuai.childrenCount){for(var i=0;i<2;i++)(o=this.dikuai.children[i])&&o.isValid&&o.destroy();setTimeout(function(){t.release(e)})}else if(this.node.childrenCount){for(i=0;i<10;i++){var o;(o=this.node.children[i])&&o.isValid&&o.destroy()}setTimeout(function(){t.release(e)})}else e&&e()},s([u([cc.SpriteFrame])],t.prototype,"dmmArr",void 0),s([l],t)}(cc.Component);i.default=h,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","./gameMgr":"gameMgr"}],showEffect:[function(e,t,i){"use strict";cc._RF.push(t,"1b984pSECdBZZxcU1QfL4H3","showEffect");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./gameMgr"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.texMess=new cc.Vec4(0,0,0,0),t.intervalTime=.05,t.effectType=0,t}return n(t,e),t.prototype.start=function(){var e=this;if(a.gameMgr&&a.gameMgr.setMapTs.checkNode(this.node,!0),this.node.name.includes("bullet_boom")&&a.gameMgr.mainCamereRootNode.getBoundingBoxToWorld().intersects(this.node.getBoundingBoxToWorld())&&a.gameMgr.shakeEffect(3,1,!0),0==this.effectType)if(this.getComponent(cc.Sprite)&&"fire"==this.getComponent(cc.Sprite).getMaterial(0).name){var t=this.getComponent(cc.Sprite).getMaterial(0);t.setProperty("totalTex",this.texMess);var i=1;this.schedule(function(){a.gameMgr.mainCamera.containsNode(e.node)?e.node.opacity=255:e.node.opacity=0,t.setProperty("curTex",i),++i>e.texMess.x&&cc.tween(e.node).to(.2,{opacity:0}).call(function(){e.node.destroy()}).start()},this.intervalTime,this.texMess.x)}else this.node.destroy();else if(1==this.effectType)this.scheduleOnce(function(){e.node.destroy()},2);else if(3==this.effectType)cc.tween(this.node).set({scale:3}).to(.5,{scale:1}).to(.5,{opacity:0}).call(function(){e.node.destroy()}).start();else if(4==this.effectType)cc.tween(this.node).to(1.5,{angle:720,scale:.5}).to(.3,{opacity:0}).call(function(){e.node.destroy()}).start();else if(5==this.effectType)this.node.children[0].getComponent(sp.Skeleton).setCompleteListener(function(){cc.isValid(e.node.isValid)&&e.node.destroy()}),this.scheduleOnce(function(){cc.isValid(e.node.isValid)&&e.node.destroy()},2);else if(6==this.effectType)cc.tween(this.node).delay(.5).to(.2,{opacity:0}).call(function(){e.node.destroy()}).start();else if(7==this.effectType){var o=this.node.children[0];cc.tween(o).bezierTo(.6,cc.Vec2.ZERO,cc.v2(-50,50),cc.v2(-50-50*Math.random(),-150)).to(1,{opacity:0},{easing:"fade"}).call(function(){e.node.destroy()}).start()}else 8==this.effectType&&cc.tween(this.node).to(.5,{opacity:0}).call(function(){e.node.destroy()}).start()},s([l()],t.prototype,"texMess",void 0),s([l()],t.prototype,"intervalTime",void 0),s([l()],t.prototype,"effectType",void 0),s([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{"./gameMgr":"gameMgr"}],testPoint:[function(e,t,i){"use strict";cc._RF.push(t,"98d22b+T6BOQ6T4Pl6sHEL6","testPoint");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContact=!1,t}return n(t,e),t.prototype.start=function(){},t.prototype.onBeginContact=function(){this.isContact=!0},t.prototype.getContact=function(){return this.node.destroy(),this.isContact},s([r],t)}(cc.Component));i.default=c,cc._RF.pop()},{}],"uma.min":[function(e,t,i){"use strict";cc._RF.push(t,"8af0dO1mnVP/IJMdnyMO4/j","uma.min"),i.__esModule=!0,i.default=void 0;var o="[UMENG] -- ",n=function(){var e=null,t=!1;function i(){this.setDebug=function(e){t=e},this.d=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.i=function(){try{if(t)try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}}catch(o){}},this.e=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.w=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.v=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.t=function(){if(t)try{console.log.apply(console,arguments)}catch(o){}},this.tip=function(){try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.tip_w=function(e){try{console.log("%c [UMENG] -- "+e,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(e){}},this.err=function(){try{"string"==typeof arguments[0]&&(arguments[0]=o+arguments[0]),console.log.apply(console,arguments)}catch(o){}},this.repeat=function(e){for(var t=e;t.length<86;)t+=e;return t}}return function(){return null===e&&(e=new i),e}}(),s=function(){var e=null;function t(){var e={};this.useOpenid=function(){return!!e.useOpenid},this.useSwanid=function(){return!!e.useSwanid},this.autoGetOpenid=function(){return!!e.autoGetOpenid},this.appKey=function(){return e.appKey},this.uploadUserInfo=function(){return e.uploadUserInfo},this.enableVerify=function(){return e.enableVerify},this.set=function(t){e=t},this.get=function(){return e},this.setItem=function(t,i){e[t]=i},this.getItem=function(t){return e[t]}}return function(){return e||(e=new t),e}}();function a(){}a.prototype={on:function(e,t,i){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var o=this;function n(){o.off(e,n),t.apply(i,arguments)}return n._=t,this.on(e,n,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),o=0,n=i.length;o<n;o++)i[o].fn.apply(i[o].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),o=i[e],n=[];if(o&&t)for(var s=0,a=o.length;s<a;s++)o[s].fn!==t&&o[s].fn._!==t&&n.push(o[s]);return n.length?i[e]=n:delete i[e],this}};var r=new a;function c(){return cc?cc.sys&&cc.sys.platform&&cc.sys.platform<=111&&cc.sys.platform>=108?qg||hbs:void 0:qg||hbs}r.messageType={CONFIG_LOADED:0,UMA_LIB_INITED:1};var l=c(),u=new(function(){function e(){}return e.prototype.setStorage=function(e,t,i){l.setStorage?l.setStorage({key:e,value:t,success:function(){"function"==typeof i&&i(!0)},fail:function(){"function"==typeof i&&i(!1)}}):(localStorage.setItem(e,t),"function"==typeof i&&i(!0))},e.prototype.getStorage=function(e,t){if(l.getStorage)l.getStorage({key:e,success:function(e){"function"==typeof t&&t(e)},fail:function(i,o){n().w(e+"code = : "+o),"function"==typeof t&&t()}});else if(localStorage){var i=localStorage.getItem(e);"function"==typeof t&&t(i)}},e.prototype.removeStorage=function(e,t){l.deleteStorage?l.deleteStorage({key:e,success:function(){"function"==typeof t&&t(!0)},fail:function(){"function"==typeof t&&t(!1)}}):localStorage&&(localStorage.removeItem(e),"function"==typeof t&&t(!0))},e.prototype.getSystemInfo=function(e){l.getSystemInfo({success:function(t){var i={model:t.model,brand:t.brand,screenWidth:t.screenWidth,screenHeight:t.screenHeight,platform:t.osType,pixelRatio:t.pixelRatio,platformVersion:t.platformVersionCode,language:t.language,deviceName:t.model,OSVersion:t.osVersionName,resolution:"",statusBarHeight:t.statusBarHeight};if(t.system){var o=t.system.split(" ");Array.isArray(o)&&(!i.platform&&(i.platform=o[0]),!i.OSVersion&&(i.OSVersion=o[1]))}var n=Math.round(t.screenWidth*t.pixelRatio),s=Math.round(t.screenHeight*t.pixelRatio);i.resolution=n>s?n+"*"+s:s+"*"+n,"function"==typeof e&&e(i)},fail:function(){"function"==typeof e&&e()}})},e.prototype.getDeviceInfo=function(e){"function"==typeof e&&e("")},e.prototype.getNetworkInfo=function(e){l.getNetworkType({success:function(t){"function"==typeof e&&e({networkAvailable:"none"!==t.networkType,networkType:t.networkType})},fail:function(){"function"==typeof e&&e()}})},e.prototype.request=function(e){var t=e.success,i=e.fail,o=!1,n=null;e.success=function(e){o||(n&&clearTimeout(n),"function"==typeof t&&t(e))},e.fail=function(){o||(n&&clearTimeout(n),"function"==typeof i&&i(!1))},l.request?l.request(e):XMLHttpRequest&&function(e,t){void 0===t&&(t=!0),(e=e||{}).method=e.method||"GET",e.url=e.url||"",e.success=e.success||function(){},e.fail=e.fail||function(){};var i,o,n=new XMLHttpRequest,s=[];if("object"==typeof e.data){for(var a in e.data)s.push(a+"="+encodeURIComponent(e.data[a]));i=JSON.stringify(e.data||{}),o=s.join("&")}else"string"==typeof e.data&&(i=e.data,o=e.data);if("POST"===e.method?n.open(e.method,e.url,t):n.open(e.method,e.url+"?"+o||"",t),e.header&&"object"==typeof e.header){for(var r in e.header)n.setRequestHeader(r,e.header[r]);e.header["content-type"]||e.header["Content-Type"]||n.setRequestHeader("content-type","text/plain")}t&&(n.timeout=e.timeout||3e4),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t={};try{t=JSON.parse(n.responseText)}catch(e){}e.success({data:t,status:n.status})}else 4==n.readyState&&e.fail({data:null,status:n.status})},"POST"===e.method?n.send(i||""):n.send()}(e,!0),n=setTimeout(function(){n&&clearTimeout(n),o=!0,"function"==typeof i&&i(o)},e.timeout||3e4)},e.prototype.getSdkType=function(){return this.getPlatform()+"mp"},e.prototype.getPlatform=function(){return"quickgame"},e.prototype.getUserInfo=function(e){e&&e()},e.prototype.getAppInfoSync=function(){return{}},e.prototype.onShareAppMessage=function(){},e.prototype.shareAppMessage=function(){},e.prototype.getContext=function(){return c()},e.prototype.getLaunchOptionsSync=function(){var e=null;if(e)return e;if(!l.getLaunchOptionsSync)return{};try{e=l.getLaunchOptionsSync()}catch(n){e=null}return e||{}},e}()),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function d(e,t){function i(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var p,_={SESSION_INTERVAL:3e4,LOG_URL:"/quickgamem_logs",GET_OPENID_URL:"",USERINFO_URL:"/uminiprogram_logs/comm/uif",ENDPOINT:"https://umini.shujupie.com",ENDPOINTB:"https://ulogs.umeng.com",DEVICE_INFO_KEY:"device_info",ADVERTISING_ID:"mobile_ad_id",ANDROID_ID:"android_id",CURRENT_SESSION:"current_session",SESSION_PAUSE_TIME:"session_pause_time",EVENT_SEND_DEFAULT_INTERVAL:15e3,EVENT_LAST_SEND_TIME:"last_send_time",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,REPORT_POLICY:"report_policy",REPORT_INTERVAL_TIME:"report_interval_time",REPORT_POLICY_START_SEND:"1",REPORT_POLICY_INTERVAL:"6",IMPRINT:"imprint",SEED_VERSION:"1.0.0",IMPL_VERSION:"2.7.2-beta.17928427",ALIPAY_AVAILABLE_VERSION:"10.1.52",SHARE_PATH:"um_share_path",SHARES:"shares",REQUESTS:"requests",UUID:"um_uuid",UUID_SUFFIX:"ud",OPENID:"um_od",UNIONID:"um_unid",ALIPAYID:"um_alipayid",USERID:"um_userid",PROVIDER:"um_provider",SWANID:"um_swanid",ANONYMOUSID:"um_anonymousid",LAUNCH_OPTIONS:"LAUNCH_OPTIONS",UM_SSRC:"_um_ssrc",USER_INFO:"user_info",IS_ALIYUN:!1},f={isNumber:function(e){return!Number.isNaN(parseInt(e,10))},compareVersion:function(e,t){for(var i=String(e).split("."),o=String(t).split("."),n=0;n<Math.max(i.length,o.length);n++){var s=parseInt(i[n]||0,10),a=parseInt(o[n]||0,10);if(s>a)return 1;if(s<a)return-1}return 0},getRandomStr:function(e){for(var t="",i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o=0;o<Number(e);o++)t+=i[Math.round(Math.random()*(i.length-1))];return t},clone:function(e){return JSON.parse(JSON.stringify(e))},startsWith:function(e,t){return!(!e||!t||0===t.length||t.length>e.length)&&e.substr(0,t.length)===t},endsWith:function(e,t){return!(!t||0===e.length||t.length>e.length)&&e.substring(e.length-t.length)===t},assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},deepEqual:function e(t,i){if(t===i)return!0;if(t&&"object"==typeof t&&i&&"object"==typeof i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(var o in t){if(Object.prototype.hasOwnProperty.call(i,o))return!1;if(!e(t[o],i[o]))return!1}return!0}return!1},trimStart:function(e,t){if(!e)return"";if("string"==typeof t&&t.length){var i=new RegExp("^"+t+"*");e=e.replace(i,"")}else e=e.replace(/^s*/,"");return e},trimEnd:function(e,t){if(!e)return"";var i,o;if("string"==typeof t&&t.length){for(i=new RegExp(t),o=e.length;i.test(e.charAt(o));)o-=1;return e.slice(0,o+1)}for(i=/s/,o=e.length-1;i.test(e.charAt(o));)o-=1;return e.slice(0,o+1)},isFunction:function(e){return"function"==typeof e}},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._openid="",t._unionid="",t._useOpenid=!1,t}return d(t,e),t.prototype.initID=function(e){var t=this;t._idType=t._useOpenid?"openid":"uuid",n().v("id type: ",t._idType),u.getStorage(_.UNIONID,function(e){t._unionid=e}),this._useOpenid?u.getStorage(_.OPENID,function(i){t._openid=i,e&&e()}):e&&e()},t.prototype.setUseOpenid=function(e){this._useOpenid=e},t.prototype.setOpenid=function(e){!this._openid&&e&&(this._openid=e,u.setStorage(_.OPENID,e))},t.prototype.setUnionid=function(e){!this._unionid&&e&&(this._unionid=e,u.setStorage(_.UNIONID,e))},t.prototype.getIdTracking=function(){var t=e.prototype.getIdTracking.call(this);return this._openid&&(t.openid=this._openid),this._unionid&&(t.unionid=this._unionid),this._userid&&(t.userid=this._userid),t},t.prototype.getId=function(){return this._useOpenid?this._openid:this._uuid},t}(function(){function e(){this._uuid="",this._userid="",this._provider="",this._idType=""}return e.prototype.createUUID=function(){return f.getRandomStr(10)+Date.now()+f.getRandomStr(7)+_.UUID_SUFFIX},e.prototype.initUUID=function(e){var t=this;u.getStorage(_.UUID,function(i){i?t._uuid=i:(t._uuid=t.createUUID(),u.setStorage(_.UUID,t._uuid)),e&&e(i)})},e.prototype.initUserid=function(){var e=this;u.getStorage(_.USERID,function(t){!e._userid&&t&&(e._userid=t,n().v("userId is ",t))}),u.getStorage(_.PROVIDER,function(t){!e._provider&&t&&(e._provider=t,n().v("provider is ",t))})},e.prototype.init=function(e){var t=this;t.initUUID(function(){t.initUserid(),t.initID(e)})},e.prototype.setUserid=function(e,t){!this._userid&&e&&(this._userid=e,this._provider=t,u.setStorage(_.USERID,e),u.setStorage(_.PROVIDER,t))},e.prototype.getUserId=function(){return this._userid},e.prototype.getProvider=function(){return this._provider},e.prototype.getIdType=function(){return this._idType},e.prototype.getIdTracking=function(){var e={};return this._uuid&&(e.uuid=this._uuid),this._userid&&(e.userid=this._userid),e},e}()),v=c(),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getOpenIdAsync=function(e,t){var i=this;v.login({success:function(o){o.code?u.request({url:_.ENDPOINT+_.GET_OPENID_URL,method:"GET",data:{key:e,code:o.code},success:function(e){if(e&&200===e.statusCode&&e.data&&e.data.data){var o=e.data.data;return i.setOpenid(o.oid),i.setUnionid(o.uid),t&&t(!0)}t&&t()},fail:function(e){n().v("wx request failed...",e),t&&t()}}):t&&t()},fail:function(){t&&t()}})},t}(g),y=(p=null,function(){return p||(p=new m),p}),w=function(){var e=null;function t(){var e=!1,t=null,i=[];this.addPageStart=function(i){i&&!e&&(t={ts:Date.now(),path:i,page_name:i},e=!0)},this.addPageEnd=function(o){if(e&&o&&t&&o===t.page_name){var n=Date.now()-t.ts;t.duration=Math.abs(n),i.push(t),t=null,e=!1}},this.get=function(){return i},this.getCurrentPage=function(){return t},this.clear=function(){i.length=0}}return function(){return e||(e=new t),e}}(),b={},I=function(){var e=null,t=[],i="";function o(){return{add:function(e,o){n().v("share origin: %o",e);var s={title:e&&e.title,path:e&&e.path&&e.path.split("?")[0],_um_sts:Date.now()};s.path&&s.path.length>1&&f.startsWith(s.path,"/")&&(s.path=f.trimStart(s.path,"/"));var a=e.path||"",r=y().getId();if(r){var c=i.split(","),l=(c=c.filter(function(e){return e.length>0})).indexOf(r);l>=0&&(c=c.slice(0,l)),c.length<3&&c.push(r);var u=c.join(",");-1!==a.indexOf("?")?a+="&_um_ssrc="+u:a+="?_um_ssrc="+u;var h=Date.now();if(a+="&_um_sts="+h,o){var d=function(e){var t=[];for(var i in e)"_um_ssrc"!==i&&"_um_sts"!==i&&t.push(i+"="+e[i]);return t.join("&")}(b),p=d?d+"&_um_ssrc="+u+"&_um_sts="+h:"_um_ssrc="+u+"&_um_sts="+h;e.query=e.query?e.query+"&_um_ssrc="+u+"&_um_sts="+h:p}else e.path=a;s._um_ssrc=u,s._um_sts=h}return t.push(s),n().v("share: %o",e),e},setShareSource:function(e){i=e},clear:function(){t.length=0},get:function(){return t}}}return function(){return e||(e=new o),e}}(),S=function(e){if(e)try{return JSON.stringify(e)}catch(e){}return""},C=function(e){if(e)try{return JSON.parse(e)}catch(e){}return null},A=function(){var e=null,t="",i=null,o=!1;function n(){this.load=function(e){i?(u.removeStorage(t),e()):(t="um_cache_"+s().appKey(),u.getStorage(t,function(n){i=C(n)||{},o=!0,u.removeStorage(t),e()}))},this.save=function(){i&&u.setStorage(t,S(i))},this.set=function(e,t){i&&(i[e]=t)},this.get=function(e){return(i||{})[e]},this.remove=function(e){i&&i[e]&&delete i[e]},this.getAll=function(){return i},this.clear=function(){i=null},this.has=function(e){return!!this.get(e)},this.isLoaded=function(){return o}}return function(){return e||(e=new n),e}}(),L=function(){var e,t,i=[],o=[];function s(){if(i.length){var e=A().get("ekvs");(function(e){var t=0;for(var i in e)Array.isArray(e[i])&&(t+=e[i].length);return t})(e)+i.length<=1e4&&(e=a(e,i),A().set("ekvs",e))}}function a(e,i){var o=(e=e||{})[t];return Array.isArray(o)&&o.length?e[t]=o.concat(i):e[t]=[].concat(i),e}return function(){return e||(e={addEvent:function(e){t?(i.unshift(e),i.length>1&&(s(),i.length=0)):(n().w("session id is null: ",t),o.unshift(e))},setSessionId:function(e){if(t=e,n().v("setSessionId: ",t),Array.isArray(o)&&o.length&&t){for(var i=0;i<o.length;i++)this.addEvent(o[i]);o.length=0}},getEkvs:function(){var e=A().get("ekvs");return i&&i.length&&(e=a(e,i)),e},clear:function(){A().remove("ekvs"),i.length=0}}),e}}(),T="2g",B="3g",P="4g",O="half_session",N="close_session",k="ekv",R=["access","access_subtype"],M=function(){var e=null;function t(){var e=!1,t={};function i(e){var i=A().get(_.IMPRINT);i&&(t.imprint=i),t.device_type="Phone",t.sdk_version=_.IMPL_VERSION,t.appkey=s().appKey(),u.getDeviceInfo(function(e){t.device_info=e||""});var o=u.getAppInfoSync();t.appid=o.appId,t.app_env=o.appEnv,t.app_version=o.appVersion,u.getSystemInfo(function(i){u.getNetworkInfo(function(o){var n=function(e,t){var i={};(e=e||{}).safeArea=e.safeArea||{};var o=(t=t||{}).networkType;"none"===o&&(o="unknown");var n=e.model||"",s=e.platform||"",a=e.brand||"",r=a.toLowerCase();switch(i.sdk_type=u.getSdkType(),i.platform=u.getPlatform(),i.platform_sdk_version=e.platformSDKVersion,i.platform_version=e.platformVersion,i.resolution=e.resolution,i.pixel_ratio=e.pixelRatio,i.os=s,i.font_size_setting=e.fontSizeSetting,i.device_model=n,i.device_brand=a,i.device_manufacturer=r,i.device_manuid=n,i.device_name=n,i.os_version=e.OSVersion,i.language=e.language,i.theme=e.theme,i.benchmark_level=e.benchmarkLevel,i.status_bar_height=e.statusBarHeight,i.safe_area_top=e.safeArea.top,i.safe_area_left=e.safeArea.left,i.safe_area_right=e.safeArea.right,i.safe_area_bottom=e.safeArea.bottom,i.safe_area_height=e.safeArea.height,i.safe_area_width=e.safeArea.width,i.storage=e.storage,i.screen_width=e.screenWidth,i.screen_height=e.screenHeight,i.host=e.host,o=o?o.toLowerCase():""){case P:i.access_subtype="LTE",i.access="4G";break;case B:i.access_subtype="CDMA",i.access="3G";break;case T:i.access_subtype="GRPS",i.access="2G";break;default:i.access=o,delete i.access_subtype}return i}(i,o);f.assign(t,n),e&&e()})})}return{init:function(){i(function(){e=!0})},isLoaded:function(){return e},get:function(){return t},getRealtimeFields:function(){var e={};return R.forEach(function(i){e[i]=t[i]}),e},setIdTracking:function(e){this.setItem("id_tracking",e)},setIdType:function(e){this.setItem("id_type",e)},setAppVersion:function(e){this.setItem("app_version",e)},setSuperProperty:function(e){t.sp||(t.sp={}),t.sp.isv=e},getSuperProperty:function(){return t&&t.sp?t.sp.isv:""},setItem:function(e,i){t[e]=i},getItem:function(e){return t[e]}}}return{instance:function(){return e||(e=t()),e}}}(),D=function(){var e=null,t=null,i=null;return function(){return e||(e={resume:function(e){var o=!1;i||(i=A().get(_.CURRENT_SESSION));var s=new Date;return t=s.getTime(),!i||!i.end_time||t-i.end_time>_.SESSION_INTERVAL?(o=!0,function(e){try{var t=(i||{}).options||{},o=f.assign({},function(e){var t={};for(var i in e)0===i.indexOf("_um_")&&(t[i]=e[i]);return n().v("query: ",e),n().v("_um_params: ",t),t}(e.query));o.path=e.path||t.path,o.scene=e.scene?u.getPlatform()+"_"+e.scene:t.scene;var s=e.referrerInfo;s&&(o.referrerAppId=s.appId),n().v("session options: ",o);var a=o[_.UM_SSRC];a&&I().setShareSource(a);var r=Date.now();i={id:f.getRandomStr(10)+r,start_time:r,options:o}}catch(e){n().e("\u751f\u6210\u65b0session\u5931\u8d25: ",e)}}(e),n().v("\u5f00\u59cb\u65b0\u7684session(%s): ",i.id,i)):n().v("\u5ef6\u7eed\u4e0a\u4e00\u6b21session(%s): %s ",i.id,s.toLocaleTimeString(),i),o},pause:function(){!function(){if(i){var e=new Date;i.end_time=e.getTime(),"number"!=typeof i.duration&&(i.duration=0),i.duration=i.end_time-t,A().set(_.CURRENT_SESSION,i),n().v("\u9000\u51fa\u4f1a\u8bdd(%s): %s ",i.id,e.toLocaleTimeString(),i)}}()},getCurrentSessionId:function(){return(i||{}).id},getCurrentSession:function(){return i},cloneCurrentSession:function(){return f.clone(i)}}),e}}();function E(e){var t=null;switch(e){case O:t=function(){var e=null,t=D().cloneCurrentSession();return t&&(e={header:{st:"1"},analytics:{sessions:[t]}}),e}();break;case N:t=function(){var e=null,t={},i=D().cloneCurrentSession();if(i){var o=w().get(),n=I().get();Array.isArray(o)&&o.length&&(i.pages=f.clone(o)),Array.isArray(n)&&n.length&&(i.shares=f.clone(n)),w().clear(),I().clear(),t.sessions=[i]}var s=L().getEkvs();return s&&(t.ekvs=f.clone(s),L().clear()),(t.sessions||t.ekvs)&&(e={analytics:t}),e}();break;case k:t=function(){var e=null,t=L().getEkvs();return t&&(e={analytics:{ekvs:f.clone(t)}},L().clear()),e}()}return t}var x={sessions:"sn",ekvs:"e",active_user:"active_user"},j={sdk_type:"sdt",access:"ac",access_subtype:"acs",device_model:"dm",language:"lang",device_type:"dt",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",id_type:"it",font_size_setting:"fss",os_version:"ov",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db",appkey:"ak",_id:"id",id_tracking:"itr",imprint:"imp",sdk_version:"sv",resolution:"rl",testToken:"ttn",theme:"t5",benchmark_level:"bml",screen_width:"sw",screen_height:"sh",status_bar_height:"sbh",safe_area_top:"sat",safe_area_left:"sal",safe_area_right:"sar",safe_area_bottom:"sab",safe_area_height:"sah",safe_area_width:"saw",pixel_ratio:"pr",storage:"s7",host:"hs"},z={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"};function G(e,t){var i=U(e,t);return e&&e.id_tracking&&(i[t.id_tracking||"id_tracking"]=U(e.id_tracking,z)),i}function U(e,t){var i={};for(var o in e)t[o]?i[t[o]]=e[o]:i[o]=e[o];return i}function V(e,t){var i={};if(e)for(var o in e)e[o]&&(i[t[o]]=e[o]);return i}var W="";function F(){return W}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=function(e){for(var t={},i=0,o=e.length;i<o;i++)t[e.charAt(i)]=i;return t}(H),Z=String.fromCharCode,q=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Z(192|t>>>6)+Z(128|63&t):Z(224|t>>>12&15)+Z(128|t>>>6&63)+Z(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Z(240|t>>>18&7)+Z(128|t>>>12&63)+Z(128|t>>>6&63)+Z(128|63&t)},J=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Q=function(e){var t=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[H.charAt(i>>>18),H.charAt(i>>>12&63),t>=2?"=":H.charAt(i>>>6&63),t>=1?"=":H.charAt(63&i)].join("")},K=function(e){return function(e){return e.replace(J,q)}(e).replace(/[\s\S]{1,3}/g,Q)},X=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),$=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Z(55296+(t>>>10))+Z(56320+(1023&t));case 3:return Z((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Z((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ee=function(e){var t=e.length,i=t%4,o=(t>0?Y[e.charAt(0)]<<18:0)|(t>1?Y[e.charAt(1)]<<12:0)|(t>2?Y[e.charAt(2)]<<6:0)|(t>3?Y[e.charAt(3)]:0),n=[Z(o>>>16),Z(o>>>8&255),Z(255&o)];return n.length-=[0,0,2,1][i],n.join("")},te=function(e){return function(e){return e.replace(/[\s\S]{1,4}/g,ee)}(e).replace(X,$)},ie=function(e,t){return t?K(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):K(String(e))},oe=function(e){return te(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},ne=new function(){var e="",t=this;this.set=function(t){e=t},this.get=function(){return e},this.getImpObj=function(){return C(oe(e))},this.getItem=function(e){var i=t.getImpObj();return i&&i[e]||""},this.load=function(){e=A().get(_.IMPRINT)},this.save=function(){e&&A().set(_.IMPRINT,e)}};function se(e,t,i,o){M.instance().setIdType(y().getIdType()),M.instance().setIdTracking(y().getIdTracking());var s=y().getUserId();s&&e.analytics&&(e.analytics.active_user={puid:s,provider:y().getProvider()});var a=f.clone(M.instance().get());e.header=f.assign(a,e.header,{ts:Date.now(),testToken:F(),traceId:f.getRandomStr(10)+Date.now()+f.getRandomStr(9)});var r=function(e){return{h:G(e.header,j),a:V(e.analytics,x)}}(e),c=S(r),l={url:_.ENDPOINT+_.LOG_URL,method:"POST",data:ie(c),success:function(o){var s=o.code||o.status||o.statusCode;200===s||413===s?(n().i("\u6570\u636e\u53d1\u9001\u6210\u529f: ",e,c),function(e){e&&(M.instance().setItem(_.IMPRINT,e),ne.set(e),ne.save(),n().v("imprint: ",ne.getImpObj()),ne.getItem("ttn_invalid")&&(W=""))}((o.data||{}).imprint),"function"==typeof t&&t(o)):(n().w("\u6570\u636e\u53d1\u9001\u5931\u8d25: ",c),"function"==typeof i&&i())},fail:function(){n().w("\u8d85\u65f6: ",c),"function"==typeof i&&i()},complete:function(){"function"==typeof o&&o()}};u.request(f.assign(l,{header:{"content-type":"text/plain","Msg-Type":u.getSdkType()+"/json"}}))}function ae(e){var t=e,i=[];this.enqueue=function(e){"number"==typeof t&&this.size()>=t&&this.dequeue(),i.push(e)},this.dequeue=function(){return i.shift()},this.front=function(){return i[0]},this.isEmpty=function(){return 0===i.length},this.clear=function(){i.length=0},this.size=function(){return i.length},this.items=function(){return i},this.print=function(){console.log(i.toString())}}var re=function(){var e=null,t=!1,i=[],o=new ae(50);function s(e,t,i){if(M.instance().isLoaded()){t=t||{};var n=E(e);if(n){var a=M.instance().getRealtimeFields();n.header=f.assign({},n.header,a),n.noCache=t.noCache,o.enqueue(n)}"function"==typeof i&&i()}else setTimeout(function(){s(e,t,i)},100)}function a(e){var t=o.front();t?se(t,function(){o.dequeue(),a(e)},function(){var t=o.dequeue();t&&!t.noCache&&i.push(t),a(e)}):(i.forEach(function(e){o.enqueue(e)}),i.length=0,e())}function r(e){y().getId()?t?n().i("\u961f\u5217\u6b63\u5728\u53d1\u9001\u4e2d"):(t=!0,a(function(){t=!1,"function"==typeof e&&e()})):(n().i("\u83b7\u53d6id\u6807\u8bc6\u5931\u8d25\uff0c\u6682\u7f13\u53d1\u9001"),"function"==typeof e&&e())}function c(){this.send=function(e,t,i){e?this.add(e,t,function(){r(i)}):r(i)},this.add=function(e,t,i){s(e,t,i)},this.load=function(){var e=A().get(_.REQUESTS);e&&e.length&&e.forEach(function(e){o.enqueue(e)}),A().remove(_.REQUESTS)},this.save=function(){A().set(_.REQUESTS,f.clone(o.items())),o.clear()}}return function(){return e||(e=new c),e}}(),ce=function(){var e=null,t=null;function i(){function e(e){if(e&&"object"==typeof e){var t=A().get(_.USER_INFO);return t&&f.deepEqual(e,t)||function(e,t){var i=s().appKey(),o=u.getSdkType(),a=y().getId(),r=y().getIdType();if(i&&o&&a&&r){var c={ak:s().appKey(),sdt:u.getSdkType(),uin:e.nickName,uia:e.avatar||e.avatarUrl,uig:e.gender,uit:e.country,uip:e.province,uic:e.city,uil:e.language,id:y().getId(),it:y().getIdType(),age:e.age,cln:e.constellation},l=JSON.stringify(c);l=ie(l),u.request({url:_.ENDPOINT+_.USERINFO_URL,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:"ui="+l,success:function(i){n().v("\u7528\u6237\u4fe1\u606f\u4e0a\u4f20\u6210\u529f: ",e),t&&t(i&&i.data&&200===i.data.code)},fail:function(){n().e("\u7528\u6237\u4fe1\u606f\u4e0a\u4f20\u5931\u8d25: ",e),t&&t(!1)}})}}(e,function(t){t&&A().set(_.USER_INFO,e)}),!0}return!1}this.setUserInfo=function(e){t=e},this.update=function(){e(t)||u.getUserInfo(function(t){e(t)})}}return function(){return e||(e=new i),e}}();function le(e,t){this.id=e,this.ts=Date.now();var i=typeof t;if("string"===i&&t)this[e]=t;else if("object"===i)for(var o in t)({}).hasOwnProperty.call(t,o)&&(this[o]=t[o])}function ue(){var e=!1,t=!1,i=0;this.init=function(t){n().v("sdk version: "+_.IMPL_VERSION),e?n().v("Lib\u91cd\u590d\u5b9e\u4f8b\u5316"):A().load(function(){n().v("cache\u521d\u59cb\u5316\u6210\u529f: ",A().getAll()),y().setUseOpenid&&y().setUseOpenid(s().useOpenid()),y().init(function(){M.instance().init(),n().v("Header\u521d\u59cb\u5316\u6210\u529f")}),e=!0,"function"==typeof t&&t(),n().tip("SDK\u96c6\u6210\u6210\u529f")})},this.resume=function(i){var o;e&&!t&&(n().v("showOptions: ",i),t=!0,s().enableVerify()&&i&&i.query&&(o=i.query._ttn,W=o||W),this._resume(i))},this._resume=function(e){re().load();var t=D().resume(e),i=D().getCurrentSessionId();function o(e,t){y().getId()||e<=0||y().getOpenIdAsync(s().appKey(),function(i){i?(n().v("\u83b7\u53d6id\u6210\u529f"),re().send()):(n().v("\u83b7\u53d6openid\u5931\u8d25,\u542f\u52a8\u91cd\u8bd5,\u5269\u4f59\u53ef\u7528\u6b21\u6570",e-1),setTimeout(function(){o(e-1,t)},t))})}L().setSessionId(i),t&&re().add(O,{},function(){y().setUseOpenid&&y().setUseOpenid(s().useOpenid()),s().useOpenid()&&s().autoGetOpenid()&&!y().getId()?(n().v("get id async"),o(10,3e3)):(n().v("session auto send"),re().send())})},this.pause=function(o){e&&(t=!1,i=0,D().pause(),s().uploadUserInfo()&&ce().update(),re().send(N,{},function(){re().save(),A().save(),n().v("cache save success"),"function"==typeof o&&o()}))},this.setOpenid=function(e){n().v("setOpenId: %s",e),y().setOpenid(e),re().send()},this.setUnionid=function(e){n().v("setUnionid: %s",e),y().setUnionid(e)},this.setUserid=function(e,t){n().v("setUserid: %s",e,t),y().setUserid(e,t)},this.setUserInfo=function(e){n().v("setUserInfo: %s",e),ce().setUserInfo(e)},this.setAnonymousid=function(e){n().v("setAnonymousId: %s",e),y().setAnonymousid(e),re().send()},this.setAppVersion=function(e){e&&"string"!=typeof e?n().w("setAppVersion\u65b9\u6cd5\u53ea\u63a5\u53d7\u5b57\u7b26\u4e32\u7c7b\u578b\u53c2\u6570"):M.instance().setAppVersion(e)},this.setAlipayUserid=function(e){e&&"string"!=typeof e?n().w("setAlipayUserid\u65b9\u6cd5\u53ea\u63a5\u53d7\u5b57\u7b26\u4e32\u7c7b\u578b\u53c2\u6570"):(n().v("setAlipayUserid: %s",e),y().setAlipayUserid(e))},this.setDeviceId=function(e){if("string"==typeof e)return y().setDeviceId(e),e},this.setSuperProperty=function(e){if(e&&"string"!=typeof e)n().w("\u8d85\u7ea7\u5c5e\u6027\u53ea\u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b");else{var t=this;M.instance().getSuperProperty()!==e&&(M.instance().setSuperProperty(e),t.pause(function(){t.resume()}))}},this.trackEvent=function(t,o){if(e&&(n().v("event: ",t,o),function(e,t){if(!e||"string"!=typeof e)return n().e('please check trackEvent id. id should be "string" and not null'),!1;var i=["id","ts","du"],o={};if(i.forEach(function(e){o[e]=1}),o[e])return n().e("eventId\u4e0d\u80fd\u4e0e\u4ee5\u4e0b\u4fdd\u7559\u5b57\u51b2\u7a81: "+i.join(",")),!1;if(e.length>_.MAX_EVENTID_LENGTH)return n().e("The maximum length of event id shall not exceed "+_.MAX_EVENTID_LENGTH),!1;if(t&&("object"!=typeof t||Array.isArray(t))&&"string"!=typeof t)return n().e("please check trackEvent properties. properties should be string or object(not include Array)"),!1;if("object"==typeof t){var s=0;for(var a in t)if({}.hasOwnProperty.call(t,a)){if(a.length>_.MAX_PROPERTY_KEY_LENGTH)return n().e("The maximum length of property key shall not exceed "+_.MAX_PROPERTY_KEY_LENGTH),!1;if(s>=_.MAX_PROPERTY_KEYS_COUNT)return n().e("The maximum count of properties shall not exceed "+_.MAX_PROPERTY_KEYS_COUNT),!1;if(o[a])return n().e("\u5c5e\u6027\u4e2d\u7684key\u4e0d\u80fd\u4e0e\u4ee5\u4e0b\u4fdd\u7559\u5b57\u51b2\u7a81: "+i.join(",")),!1;s+=1}}return!0}(t,o))){var s=new le(t,o);L().addEvent(s);var a=!!F(),r=a?0:_.EVENT_SEND_DEFAULT_INTERVAL,c=Date.now();("number"!=typeof i||"number"!=typeof r||i<=0||c-i>r)&&(i=c,re().send(k,{noCache:a},function(){}))}},this.trackShare=function(t){if(e)try{u.getSdkType().indexOf("game")>-1?(t=I().add(t,!0),n().v("shareQuery: ",t)):(t=I().add(t,!1),n().v("sharePath: ",t.path))}catch(e){n().v("shareAppMessage: ",e)}return t},this.trackPageStart=function(t){e&&w().addPageStart(t)},this.trackPageEnd=function(t){e&&w().addPageEnd(t)},this.onShareAppMessage=function(e){var t=this;u.onShareAppMessage(function(){return t.trackShare(e())})},this.shareAppMessage=function(e){this.trackShare(e),u.shareAppMessage(e)}}var he=[];function de(){}de.prototype={createMethod:function(e,t,i){try{e[t]=i&&i[t]?function(){return i[t].apply(i,arguments)}:function(){he.push([t,[].slice.call(arguments)])}}catch(e){n().v("create method errror: ",e)}},installApi:function(e,t){try{var i,o,s="resume,pause,trackEvent,trackPageStart,trackPageEnd,trackShare,setUserid,setOpenid,setUnionid,onShareAppMessage,shareAppMessage,setUserInfo".split(",");for(i=0,o=s.length;i<o;i++)this.createMethod(e,s[i],t);if(t)for(i=0,o=he.length;i<o;i++){var a=he[i];try{t[a[0]].apply(t,a[1])}catch(e){n().v("impl[v[0]].apply error: ",a[0],e)}}}catch(e){n().v("install api errror: ",e)}}};var pe=[_.ENDPOINT,_.ENDPOINTB];function _e(e,t){var i,o;if(0===e||1===e&&t?i=_.ENDPOINT:2===e&&t?i=_.ENDPOINTB:t&&(i=pe[e]),e>=pe.length||t)return t&&(o=i,_.ENDPOINT=o),t&&n().v("\u547d\u4e2d\u53ef\u7528\u670d\u52a1",i),!t&&n().tip_w("\u672a\u547d\u4e2d\u53ef\u7528\u670d\u52a1"),!1;u.request({url:_.ENDPOINT+"/uminiprogram_logs/ckdh",success:function(t){200===(t.code||t.status||t.statusCode)&&t.data&&200===t.data.code?_e(e+1,!0):_e(e+1,!1)},fail:function(){_e(e+1,!1)}})}var fe=function(e){_.ENDPOINTB&&setTimeout(function(){_e(0,!1)},e)},ge=new de,ve={_inited:!1,_log:n(),preinit:function(e){if(e&&"object"==typeof e)for(var t in e)_[t]=e[t];return _},use:function(e,t){return e&&f.isFunction(e.install)?e.install(ve,t):f.isFunction(e)&&e(ve,t),ve},messager:r,init:function(e){if(this._inited)n().v("\u5df2\u7ecf\u5b9e\u4f8b\u8fc7\uff0c\u8bf7\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316");else if(e)if(e.appKey){"boolean"!=typeof e.useOpenid&&(e.useOpenid=!0),s().set(e),n().setDebug(e.debug),this._inited=!0;var t=this;r.emit(r.messageType.CONFIG_LOADED,e);try{var i=new ue;if(n().v("\u6210\u529f\u521b\u5efaLib\u5bf9\u8c61"),!u.getContext())return;i.init(function(){n().v("Lib\u5bf9\u8c61\u521d\u59cb\u5316\u6210\u529f"),ge.installApi(t,i),n().v("\u5b89\u88c5Lib\u63a5\u53e3\u6210\u529f"),r.emit(r.messageType.UMA_LIB_INITED,e)}),fe(3e3)}catch(e){n().w("\u521b\u5efaLib\u5bf9\u8c61\u5f02\u5e38: "+e)}}else n().err("\u8bf7\u786e\u4fdd\u4f20\u5165\u6b63\u786e\u7684appkey");else n().err("\u8bf7\u6b63\u786e\u8bbe\u7f6e\u76f8\u5173\u4fe1\u606f\uff01")}};try{ge.installApi(ve,null)}catch(o){n().w("uma\u8d4b\u503c\u5f02\u5e38: ",o)}var me="2.7.2-beta.17928427",ye="none",we={},be=Array.isArray;we.isArray=be||function(e){return"[object Array]"===toString.call(e)},we.isObject=function(e){return e===Object(e)&&!we.isArray(e)},we.isEmptyObject=function(e){if(we.isObject(e)){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}return!1},we.isUndefined=function(e){return void 0===e},we.isString=function(e){return"[object String]"===toString.call(e)},we.isDate=function(e){return"[object Date]"===toString.call(e)},we.isNumber=function(e){return"[object Number]"===toString.call(e)},we.each=function(e,t,i){if(null!=e){var o={},n=Array.prototype.forEach;if(n&&e.forEach===n)e.forEach(t,i);else if(e.length===+e.length){for(var s=0,a=e.length;s<a;s++)if(s in e&&t.call(i,e[s],s,e)===o)return}else for(var r in e)if(hasOwnProperty.call(e,r)&&t.call(i,e[r],r,e)===o)return}},we.buildQuery=function(e,t){var i,o,n=[];return void 0===t&&(t="&"),we.each(e,function(e,t){i=encodeURIComponent(e.toString()),o=encodeURIComponent(t),n[n.length]=o+"="+i}),n.join(t)},we.JSONDecode=function(e){if(e){try{return JSON.parse(e)}catch(e){console.error("JSONDecode error",e)}return null}},we.JSONEncode=function(e){try{return JSON.stringify(e)}catch(e){console.error("JSONEncode error",e)}};var Ie=Object.create(null);function Se(e){n().v("\u5f00\u59cb\u6784\u5efa fetch body"),u.getSystemInfo(function(t){u.getNetworkInfo(function(i){var o=(i=i||{}).networkType;o=o===ye?"unknown":o.toUpperCase(),Ie.access=o,function(e,t){var i=e.brand||"";if(Ie.deviceType="Phone",Ie.sdkVersion=me,Ie.appkey=s().appKey(),Ie.sdkType=u.getSdkType(),Ie.umid=y().getId(),e){Ie.language=e.language||"",Ie.os=e.OS,Ie.osVersion=e.OSVersion,Ie.deviceName=e.deviceName,Ie.platformVersion=e.platformVersion,Ie.platformSdkVersion=e.platformSDKVersion,Ie.deviceBrand=i;var o=e.resolution.split("*");we.isArray(o)&&(Ie.resolutionHeight=Number(o[0]),Ie.resolutionWidth=Number(o[1]))}!function(e){e&&(Ie.installTime=e.install_datetime&&Date.parse(e.install_datetime),Ie.scene=e.install_scene,Ie.channel=e.install_channel,Ie.campaign=e.install_campaign)}(ne.getImpObj()),t&&t(Ie)}(t,e)})})}var Ce=Object.create(null),Ae=null,Le=!1,Te={minFetchIntervalSeconds:43200};function Be(e){e&&we.each(e,function(e){Ce[e.k]=e})}function Pe(){var e=this;this.STORAGE_NAME=null,r.once(r.messageType.CONFIG_LOADED,function(t){n().v("\u4e91\u914d\u521d\u59cb\u5316\u5f00\u59cb..."),e.init(t)})}Pe.prototype={setDefaultValues:function(e){Le&&we.isObject(e)&&we.each(e,function(e,t){Ce[t]&&Ce[t].v||(Ce[t]={v:e})})},getValue:function(e){n().v("\u4ece\u914d\u7f6e\u9879\u4e2d\u8bfb\u53d6 value, \u5f53\u524d\u914d\u7f6e\u4e3a: ",Ce),n().v("\u5f85\u8bfb\u53d6\u7684 key : ",e);try{if(!Le)return;var t=Ce[e]||{};return n().v("\u8bfb\u53d6\u76f8\u5e94\u914d\u7f6eing..., \u7ed3\u679c\u4e3a: ",t),we.isNumber(t.e)&&we.isNumber(t.g)&&(n().v("\u8bfb\u53d6\u5230\u76f8\u5e94\u914d\u7f6e, \u5f00\u59cb\u6570\u636e\u4e0a\u62a5..."),function(e){var t={appkey:s().appKey(),sdkType:u.getSdkType(),expId:e&&e.e,groupId:e&&e.g,clientTs:Date.now(),key:e&&e.k,value:e&&e.v,umid:y().getId()};try{u.request({url:"https://pslog.umeng.com/mini_ablog",method:"POST",data:[t],success:function(e){e&&200===e.statusCode?n().v("\u4e0a\u4f20\u6570\u636e\u6210\u529f",t):n().w("ablog \u8bf7\u6c42\u6210\u529f, \u8fd4\u56de\u7ed3\u679c\u5f02\u5e38 ",e)},fail:function(e){n().w("ablog \u8bf7\u6c42\u6570\u636e\u9519\u8bef ",t,e)}})}catch(e){n().w("urequest \u8c03\u7528\u9519\u8bef",e)}}(t)),t.v}catch(s){n().w("getValue error, key: ",e)}},active:function(e){try{if(!Le)return;var t,i;e&&e.params&&(t=e.params),e&&e.callback&&(i=e.callback),n().v("\u6fc0\u6d3b\u914d\u7f6e\u9879: ",t),t?(n().v("\u672c\u5730\u5df2\u7f13\u5b58\u7684\u914d\u7f6e\u9879: ",Ce),Be(t),n().v("\u5408\u5e76\u540e\u7684\u914d\u7f6e\u9879: ",Ce),i&&i(Ce),n().v("active \u7ed3\u675f")):(n().v("\u914d\u7f6e\u9879\u4e3a\u7a7a!! \u8bfb\u53d6\u672c\u5730\u914d\u7f6e..."),u.getStorage(this.STORAGE_NAME,function(e){e?(Be((e=we.JSONDecode(e)||{}).params),n().v("\u5f53\u524d\u672c\u5730\u914d\u7f6e\u9879\u4e3a: ",Ce),i&&i(Ce),n().v("active \u7ed3\u675f")):n().v("\u5f53\u524d\u672c\u5730\u914d\u7f6e\u9879\u4e3a\u7a7a, \u9000\u51fa\u6fc0\u6d3b")}))}catch(e){n().w("SDK active \u9519\u8bef",e)}},init:function(e){e.appKey&&(Ae=e.appKey,this.STORAGE_NAME="um_remote_config_{{"+Ae+"}}"),Ae?Le?n().w("SDK \u5df2\u7ecf\u521d\u59cb\u5316, \u8bf7\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316"):(Le=!0,this.setOptions(e),this.active()):n().err("\u8bf7\u68c0\u67e5\u60a8\u7684\u5c0f\u7a0b\u5e8f appKey, appKey \u4e0d\u80fd\u4e3a\u7a7a")},setOptions:function(e){if(we.isObject(e)){var t=e.minFetchIntervalSeconds;we.isNumber(t)&&(Te.minFetchIntervalSeconds=Math.max(t,5))}},fetch:function(e){if(Le&&this.STORAGE_NAME){var t,i;e&&e.active&&(t=e.active),e&&e.callback&&(i=e.callback);var o=this;u.getStorage(this.STORAGE_NAME,function(e){n().v("\u5f00\u59cb\u8bfb\u7f13\u5b58 data is ",e),(e=we.JSONDecode(e)||{}).params&&e.ts&&Date.now()-e.ts<1e3*Te.minFetchIntervalSeconds?(n().v("\u7f13\u5b58\u6570\u636e\u5b58\u5728, \u5e76\u4e14\u672c\u6b21\u89e6\u53d1\u65f6\u95f4\u8ddd\u79bb\u4e0a\u6b21fetch\u89e6\u53d1\u65f6\u95f4\u672a\u8d85\u8fc7 fetch \u65f6\u95f4\u95f4\u9694, \u65e0\u9700 fetch"),i&&i(e.params)):Se(function(e){n().v("\u7f13\u5b58\u6570\u636e\u4e0d\u5b58\u5728, \u6784\u5efa fetch body :",e);try{u.request({url:"https://ucc.umeng.com/v1/mini/fetch",method:"POST",data:e,success:function(e){if(e&&200===e.statusCode&&e.data&&e.data.cc){n().v("fetch \u8bf7\u6c42\u6210\u529f, \u54cd\u5e94\u6570\u636e: ",e.data);var s=Object.create(null);we.each(e.data.cc,function(e){s[e.k]=e});var a={ts:Date.now(),params:s};n().v("\u5f00\u59cb\u7f13\u5b58 fetch \u8bf7\u6c42\u7684\u4e91\u914d\u7f6e\u7ed3\u679c..."),u.setStorage(o.STORAGE_NAME,we.JSONEncode(a),function(e){n().v("\u7f13\u5b58\u4e91\u914d\u7f6e\u6210\u529f, \u7f13\u5b58\u6570\u636e\u4e3a: ",a),n().v("\u7f13\u5b58\u4e91\u914d\u7f6e\u6210\u529f, \u6210\u529f\u6d88\u606f\u4e3a: ",e),n().v("\u4e91\u914d\u62c9\u53d6\u6570\u636e\u662f\u5426\u81ea\u52a8\u6fc0\u6d3b: ",t),e&&t&&(n().v("\u6fc0\u6d3b\u4e91\u914d\u7f6e..."),o.active({params:s,callback:i}))})}else n().w("fetch \u8bf7\u6c42\u6210\u529f,\u8fd4\u56de\u7ed3\u679c\u5f02\u5e38 ",e.data),i&&i()},fail:function(t){n().w("fetch\u8bf7\u6c42\u6570\u636e\u9519\u8bef ",e,t),i&&i()}})}catch(e){n().w("urequest\u8c03\u7528\u9519\u8bef",e)}})})}}};var Oe={install:function(e){return e.rc||(e.rc=new Pe),e.messager.once(e.messager.messageType.CONFIG_LOADED,function(){e._log.v("plugin rc installed")}),e.rc}},Ne="_um",ke="revenue",Re="stage",Me="level",De="running",Ee="end",xe="init",je="set",ze=[Ne,Re,"start"].join(".");function Ge(e){var t={};for(var i in e){var o=e[i];if("object"==typeof o)for(var n in o)t[i+"."+n]=o[n];else t[i]=o}return t}var Ue={install:function(e){e.revenue=function(t){e.trackEvent([Ne,ke,t.group].join("."),Ge(t))};var t=0;return e.stage={onStart:function(i){t=Date.now(),e.trackEvent(ze,Ge(i))},onEnd:function(i){"number"!=typeof i._um_sdu&&(i._um_sdu=0!==t?Date.now()-t:0),e.trackEvent([Ne,Re,Ee,i.event].join("."),Ge(i))},onRunning:function(t){e.trackEvent([Ne,Re,De,t.event].join("."),Ge(t))}},e.level={onInitLevel:function(t){e.trackEvent([Ne,Me,xe].join("."),Ge(t))},onSetLevel:function(t){e.trackEvent([Ne,Me,je].join("."),Ge(t))}},e.messager.once(e.messager.messageType.CONFIG_LOADED,function(){e._log.v("plugin game-ext installed")}),e}},Ve=u.getContext();void 0!==Ve&&(Ve.onShow(function(e){var t;n().v("game onShow: ",e),t=e.query,b=t,ve.resume(e,!0)}),Ve.onHide(function(){n().v("game onHide"),ve.pause()}));var We=ve.init;ve.init=function(e){e&&e.useOpenid&&(n().tip_w(n().repeat("!")),n().tip_w("\u60a8\u9009\u62e9\u4e86\u4f7f\u7528openid\u8fdb\u884c\u7edf\u8ba1\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528setOpenid\u56de\u4f20openid\u6216\u901a\u8fc7\u8bbe\u7f6eautoGetOpenid\u4e3atrue\uff0c\u5e76\u5728\u53cb\u76df\u540e\u53f0\u8bbe\u7f6esecret\u7531\u53cb\u76df\u5e2e\u60a8\u83b7\u53d6"),n().tip_w(n().repeat("!"))),ve.resume({}),We.call(ve,e)},ve.use(Oe),ve.use(Ue),Ve&&(Ve.uma=ve);var Fe=ve;i.default=Fe,t.exports=i.default,cc._RF.pop()},{}],weapon:[function(e,t,i){"use strict";cc._RF.push(t,"76f86dlCpdKv7l4KtsVUJq2","weapon");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.WeaponType=void 0;var a,r=e("../Framework/CocosZ"),c=e("../Framework/Constant"),l=e("../Framework/Msg"),u=e("./gameDate"),h=e("./gameMgr"),d=e("LanguageData"),p=cc._decorator,_=p.ccclass,f=p.property;(function(e){e[e.weapon_melee=0]="weapon_melee",e[e.weapon_range=1]="weapon_range",e[e.weapon_rangeAd=2]="weapon_rangeAd"})(a=i.WeaponType||(i.WeaponType={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.can_effect_hit=!1,t.hand_effect=null,t.hand_2=null,t.weaponNum=1,t.bullet=null,t.bulletCollor=cc.Color.WHITE,t.shellCall=null,t.atkEffect=null,t.atkNum=10,t.atkRangeNum=1e3,t.flySpeed=2e3,t.atkSpeed=.4,t.bulletNum=5,t.bulletTotal=5,t.reload=3,t.audioName="read",t.weaponLevel=0,t.weaponType=a.weapon_melee,t.person=null,t._curBullet=0,t._arrName=["","y","p","r"],t._isReload=!1,t}var i;return n(t,e),i=t,Object.defineProperty(t.prototype,"isRangeWeapon",{get:function(){return i.rangeWeapon.includes(this.weaponNum)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curBullet",{get:function(){return this._curBullet},set:function(e){e>this.bulletNum?e=this.bulletNum:e<0&&(e=0),this.isRangeWeapon&&(this._curBullet=e,this._curBullet<=0&&this.reloadBullet(),this.setBulletUI())},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){!this.person||this.person.isPlayer?this.weaponLevel=r.cocosz.dataMgr.getGunInfo(this.weaponNum-1).Level:[1,2,3,4,5].includes(r.cocosz.gameMode)&&(this.weaponLevel=Math.floor(4*Math.random())),this.atkNum=u.default.Weapon[i.WeaponName[this.weaponNum-1]].atk[this.weaponLevel],this.atkSpeed=u.default.Weapon[i.WeaponName[this.weaponNum-1]].atkSpeed[this.weaponLevel],this.bulletNum=u.default.Weapon[i.WeaponName[this.weaponNum-1]].bulletNum,this.bulletTotal=u.default.Weapon[i.WeaponName[this.weaponNum-1]].bulletTotal[this.weaponLevel],this.reload=u.default.Weapon[i.WeaponName[this.weaponNum-1]].reload,this.atkRangeNum=u.default.Weapon[i.WeaponName[this.weaponNum-1]].atkRange,this.person&&(this.bulletTotal=Math.ceil(this.bulletTotal*this.person.bulletRate)),this._curBullet=0,this.addBullet(),this.setSD()},t.prototype.start=function(){},t.prototype.setBulletUI=function(){this.person&&this.person.isPlayer&&(this.weaponType==a.weapon_range?h.gameMgr.ammo&&h.gameMgr.ammo.isValid&&(h.gameMgr.ammo.string=this._curBullet+"/"+([6,7].includes(r.cocosz.gameMode)?"\u267e":this.bulletTotal)):this.weaponType==a.weapon_rangeAd&&h.gameMgr.ammoAd&&h.gameMgr.ammoAd.isValid&&(h.gameMgr.ammoAd.string=this._curBullet+"/"+([6,7].includes(r.cocosz.gameMode)?"\u267e":this.bulletTotal)))},t.prototype.setSD=function(){var e=this;this.person&&this.node.walk(function(t){if("sd"==t.name)if(e.weaponLevel>0){t.active=!0;var i=t.getComponent(sp.Skeleton);i&&i.setSkin(e._arrName[e.weaponLevel])}else t.active=!1},null)},t.prototype.reset=function(){this.bulletTotal=u.default.Weapon[i.WeaponName[this.weaponNum-1]].bulletTotal[this.weaponLevel],this.person&&(this.bulletTotal=Math.ceil(this.bulletTotal*this.person.bulletRate)),this._curBullet=0,this.addBullet()},t.prototype.addBullet=function(){if(this.isRangeWeapon)if(this.person&&this.person.isPlayer){if(this.curBullet<this.bulletNum&&this.bulletTotal>0)if([6,7].includes(r.cocosz.gameMode))this.curBullet=this.bulletNum,cc.game.emit(c.default.E_GAME_LOGIC,{type:c.default.E_Bullet_Reload});else{var e=this.bulletNum-this.curBullet;this.bulletTotal>=e?(this.bulletTotal-=e,this.curBullet+=e):(this.bulletTotal=0,this.curBullet+=this.bulletTotal)}}else this.curBullet=this.bulletNum},t.prototype.reloadBullet=function(){var e=this;if(this.isRangeWeapon&&0==this._isReload)if(this._isReload=!0,this.person&&this.person.isPlayer)if(this.bulletTotal>0){r.cocosz.audioMgr.playEffect("reload");var t=0;if(this.hand_effect&&(t=this.hand_effect.y,cc.tween(this.hand_effect).by(.5,{y:50}).by(.5,{y:-50}).union().repeat(this.reload).start()),cc.tween(h.gameMgr.rangedWeaponMess.children[0]).to(.2,{color:cc.Color.RED}).to(.2,{color:cc.Color.WHITE}).start(),r.cocosz.scheduleOnce(function(){e&&e.isValid&&(e._isReload=!1,e.addBullet(),e.hand_effect&&(e.hand_effect.stopAllActions(),e.hand_effect.y=t),cc.tween(h.gameMgr.rangedWeaponMess.children[0]).to(.2,{color:cc.Color.GREEN}).to(.2,{color:cc.Color.WHITE}).start())},this.reload*this.person.reloadRate),h.gameMgr.BtnBullet.active&&h.gameMgr.BtnBullet.children[3]&&h.gameMgr.BtnBullet.children[3].active){h.gameMgr.BtnBullet.children[3].active=!1,h.gameMgr.BtnBullet.children[0].active=!0;var i=h.gameMgr.playerTs.curWeapon.reload*h.gameMgr.playerTs.reloadRate;h.gameMgr.BtnBullet.children[1].active=!0;var o=h.gameMgr.BtnBullet.children[1].getComponent(cc.Sprite);cc.tween(o).set({fillRange:0}).to(i,{fillRange:-1}).call(function(){h.gameMgr.BtnBullet.children[0].active=!1,h.gameMgr.BtnBullet.children[1].active=!1,h.gameMgr.BtnBullet.children[2].active=!1,h.gameMgr.BtnBullet.children[3].active=!0}).start(),h.gameMgr.BtnBullet.children[2].active=!0;var n=h.gameMgr.BtnBullet.children[2].getComponent(cc.Label);cc.tween(n).call(function(){n.string=(i*(1+o.fillRange)).toFixed(1)}).delay(.1).union().repeat(i/.1).start()}}else this._isReload=!1,l.default.Show(d.t("msg.myzd")),r.cocosz.audioMgr.playEffect("bag",!1,1);else r.cocosz.scheduleOnce(function(){e&&e.isValid&&(e._isReload=!1,e.addBullet())},this.reload)},t.WeaponName=["ak","cfq","dao","gj","jgb","sd","hdl","sq","ju","ld","nnp","gtst","tb","mb","mq","szg","rsq","cjj","jtl","sq2","tj","fs"],t.meleeWaapon=[3,4,5,13,14],t.rangeWeapon=[1,2,6,7,8,9,10,11,12,15,16,17,18,19,20,21,22],s([f({tooltip:"\u662f\u5426\u64ad\u653e\u5f00\u706b\u5347\u7ea7\u6548\u679c"})],t.prototype,"can_effect_hit",void 0),s([f(cc.Node)],t.prototype,"hand_effect",void 0),s([f(cc.Node)],t.prototype,"hand_2",void 0),s([f],t.prototype,"weaponNum",void 0),s([f(cc.Prefab)],t.prototype,"bullet",void 0),s([f(cc.Color)],t.prototype,"bulletCollor",void 0),s([f(cc.Prefab)],t.prototype,"shellCall",void 0),s([f(cc.Prefab)],t.prototype,"atkEffect",void 0),s([f],t.prototype,"atkNum",void 0),s([f],t.prototype,"atkRangeNum",void 0),s([f],t.prototype,"flySpeed",void 0),s([f({tooltip:"\u5f00\u706b\u65f6\u95f4"}),f],t.prototype,"atkSpeed",void 0),s([f({tooltip:"\u5f39\u5939\u5f39\u836f\u6570\u91cf"})],t.prototype,"bulletNum",void 0),s([f({tooltip:"\u603b\u5f39\u836f\u6570\u91cf"})],t.prototype,"bulletTotal",void 0),s([f({tooltip:"\u88c5\u5f39\u65f6\u95f4"})],t.prototype,"reload",void 0),s([f({tooltip:"\u88c5\u5f39\u97f3\u6548"})],t.prototype,"audioName",void 0),i=s([_],t)}(cc.Component);i.default=g,cc._RF.pop()},{"../Framework/CocosZ":"CocosZ","../Framework/Constant":"Constant","../Framework/Msg":"Msg","./gameDate":"gameDate","./gameMgr":"gameMgr",LanguageData:"LanguageData"}]},{},["AdAgent","AdAgent4399","AdAgentBaidu","AdAgentBili","AdAgentBroser","AdAgentCocosplay","AdAgentDouyin","AdAgentFaceBook","AdAgentGoogleWeb","AdAgentHago","AdAgentHuaWei","AdAgentIOS","AdAgentKwai","AdAgentNative","AdAgentOPPO","AdAgentQQ","AdAgentQTT","AdAgentUC","AdAgentVIVO","AdAgentWechat","AdAgentWiFi","AdAgentXiaomi","AdManager","AdSDK","AldUtils","BeforGameOverRecGamesPanel","CheckIsShowIcon","CommonConfig","CompatibleTool","CryptoJS","FBAdManager","FBSdk","GameBox","GameBoxListGameItem","GameBoxListItem","GameBoxSlideItem","GameItem","GamePage","GameSDK","HandAction","List","ListItem","LogOutView","LuckBoxPannel","MoreGamesPanel","MoreGamesPanel1","MoreGamesWidget","NativeTryGameNode","NativeTryGamesWidget","OpenRedBagPanel","PlatUtils","QCrossWidget6","QCrossWidgetItem","RecommendGamesNode","RecommendGamesWidget","RedBagProgressNode","RedBagProgressWidget","RewardBoxPanel","RewardInsert","RewardRedBagPanel","RewardShortCutPanel","ShareRecordPanel","TryGameNode","TryGamesWidget","uma.min","Utils","VerticalRecommentPanel","WechatTool","WithdrawalNode","WithdrawalPanel","WithdrawalWidget","YZ_ActionScale","YZ_BaiduRecommendWidget","YZ_Constant","YZ_EventManager","YZ_GameExitDialog","YZ_ListView","YZ_LocalStorage","YZ_NativeAdObject","YZ_NativeBanner","YZ_NativeInsert","YZ_NativeItem","YZ_NativeSplashView","YZ_RecommendGamesBanner","YZ_RecordWidget","YZ_ShakeNode","YZ_ShortcutWidget","YZ_StatementRecommentAd","YZ_Tool_4399","YZ_Tool_Baidu","YZ_Tool_Bili","YZ_Tool_Broswer","YZ_Tool_Cocosplay","YZ_Tool_Douyin","YZ_Tool_FaceBook","YZ_Tool_GoogleWeb","YZ_Tool_Hago","YZ_Tool_HuaWei","YZ_Tool_IOS","YZ_Tool_Kwai","YZ_Tool_Native","YZ_Tool_Oppo","YZ_Tool_QQ","YZ_Tool_QTT","YZ_Tool_UC","YZ_Tool_Vivo","YZ_Tool_Wifi","YZ_Tool_Xiaomi","YZ_Turntable","EventAdInfo","YouWanAnalytics","YzCustomAdPanel","YzLoginPanel","YzRealNameAuthPanel","YzUserPrivacyPanel","md5","BgScroll","AudioMgr","CocosZ","Constant","DataMgr","FlyCoin","GameCtr","GameMgr","Msg","QEasing","QMoveAction","QRotation","QScaleAction","QTween","ResMgr","SceneMgr","ShowDate","StartScene","TweenEffect","UIMgr","UIPage","UpgradeMgr","ZombieBase","ani","bullet","gameDate","gameMgr","jingyan","mb","person","player","setMap","showEffect","testPoint","weapon","CoinBord","GuideLayer","ShareOrVideo","UIADPanel","UIGameLoadingPage","UIGamePage","UIHomePage","UILoadingPage","UIOverPage","UIPausePanel","UIRevivePanel","UISignPage","UITimePage","UITrySkinPanel","UITurntablePage","UIUpgradePanel","UIWeaponLevelPanel","redPoint","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);